// Automatically generated file.  Do not edit!
var g;function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function ba(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];if(b)return b.call(a);if("number"==typeof a.length)return{next:aa(a)};throw Error(String(a)+" is not an iterable or ArrayLike");}
var ca="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},da="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
function ea(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");}var fa=ea(this);function ha(a,b){if(b)a:{var c=fa;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))break a;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&da(c,a,{configurable:!0,writable:!0,value:b})}}var ia;
if("function"==typeof Object.setPrototypeOf)ia=Object.setPrototypeOf;else{var ja;a:{var la={a:!0},ma={};try{ma.__proto__=la;ja=ma.a;break a}catch(a){}ja=!1}ia=ja?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var na=ia;
ha("Symbol",function(a){function b(f){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new c(d+(f||"")+"_"+e++,f)}function c(f,h){this.Xr=f;da(this,"description",{configurable:!0,writable:!0,value:h})}if(a)return a;c.prototype.toString=function(){return this.Xr};var d="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",e=0;return b});
ha("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=fa[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&da(d.prototype,a,{configurable:!0,writable:!0,value:function(){return oa(aa(this))}})}return a});function oa(a){a={next:a};a[Symbol.iterator]=function(){return this};return a}
function pa(a,b){a instanceof String&&(a+="");var c=0,d=!1,e={next:function(){if(!d&&c<a.length){var f=c++;return{value:b(f,a[f]),done:!1}}d=!0;return{done:!0,value:void 0}}};e[Symbol.iterator]=function(){return e};return e}ha("Array.prototype.keys",function(a){return a?a:function(){return pa(this,function(b){return b})}});ha("Array.prototype.values",function(a){return a?a:function(){return pa(this,function(b,c){return c})}});
ha("Object.is",function(a){return a?a:function(b,c){return b===c?0!==b||1/b===1/c:b!==b&&c!==c}});ha("Array.prototype.includes",function(a){return a?a:function(b,c){var d=this;d instanceof String&&(d=String(d));var e=d.length;c=c||0;for(0>c&&(c=Math.max(c+e,0));c<e;c++){var f=d[c];if(f===b||Object.is(f,b))return!0}return!1}});
ha("String.prototype.includes",function(a){return a?a:function(b,c){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==(this+"").indexOf(b,c||0)}});function qa(a,b){return Object.prototype.hasOwnProperty.call(a,b)}
ha("WeakMap",function(a){function b(m){this.re=(l+=Math.random()+1).toString();if(m){m=ba(m);for(var n;!(n=m.next()).done;)n=n.value,this.set(n[0],n[1])}}function c(){}function d(m){var n=typeof m;return"object"===n&&null!==m||"function"===n}function e(m){if(!qa(m,h)){var n=new c;da(m,h,{value:n})}}function f(m){var n=Object[m];n&&(Object[m]=function(q){if(q instanceof c)return q;Object.isExtensible(q)&&e(q);return n(q)})}if(function(){if(!a||!Object.seal)return!1;try{var m=Object.seal({}),n=Object.seal({}),
q=new a([[m,2],[n,3]]);if(2!=q.get(m)||3!=q.get(n))return!1;q.delete(m);q.set(n,4);return!q.has(m)&&4==q.get(n)}catch(t){return!1}}())return a;var h="$jscomp_hidden_"+Math.random();f("freeze");f("preventExtensions");f("seal");var l=0;b.prototype.set=function(m,n){if(!d(m))throw Error("Invalid WeakMap key");e(m);if(!qa(m,h))throw Error("WeakMap key fail: "+m);m[h][this.re]=n;return this};b.prototype.get=function(m){return d(m)&&qa(m,h)?m[h][this.re]:void 0};b.prototype.has=function(m){return d(m)&&
qa(m,h)&&qa(m[h],this.re)};b.prototype.delete=function(m){return d(m)&&qa(m,h)&&qa(m[h],this.re)?delete m[h][this.re]:!1};return b});
ha("Map",function(a){function b(){var l={};return l.De=l.next=l.head=l}function c(l,m){var n=l[1];return oa(function(){if(n){for(;n.head!=l[1];)n=n.De;for(;n.next!=n.head;)return n=n.next,{done:!1,value:m(n)};n=null}return{done:!0,value:void 0}})}function d(l,m){var n=m&&typeof m;"object"==n||"function"==n?f.has(m)?n=f.get(m):(n=""+ ++h,f.set(m,n)):n="p_"+m;var q=l[0][n];if(q&&qa(l[0],n))for(l=0;l<q.length;l++){var t=q[l];if(m!==m&&t.key!==t.key||m===t.key)return{id:n,list:q,index:l,Ub:t}}return{id:n,
list:q,index:-1,Ub:void 0}}function e(l){this[0]={};this[1]=b();this.size=0;if(l){l=ba(l);for(var m;!(m=l.next()).done;)m=m.value,this.set(m[0],m[1])}}if(function(){if(!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var l=Object.seal({x:4}),m=new a(ba([[l,"s"]]));if("s"!=m.get(l)||1!=m.size||m.get({x:4})||m.set({x:4},"t")!=m||2!=m.size)return!1;var n=m.entries(),q=n.next();if(q.done||q.value[0]!=l||"s"!=q.value[1])return!1;q=n.next();return q.done||4!=q.value[0].x||
"t"!=q.value[1]||!n.next().done?!1:!0}catch(t){return!1}}())return a;var f=new WeakMap;e.prototype.set=function(l,m){l=0===l?0:l;var n=d(this,l);n.list||(n.list=this[0][n.id]=[]);n.Ub?n.Ub.value=m:(n.Ub={next:this[1],De:this[1].De,head:this[1],key:l,value:m},n.list.push(n.Ub),this[1].De.next=n.Ub,this[1].De=n.Ub,this.size++);return this};e.prototype.delete=function(l){l=d(this,l);return l.Ub&&l.list?(l.list.splice(l.index,1),l.list.length||delete this[0][l.id],l.Ub.De.next=l.Ub.next,l.Ub.next.De=
l.Ub.De,l.Ub.head=null,this.size--,!0):!1};e.prototype.clear=function(){this[0]={};this[1]=this[1].De=b();this.size=0};e.prototype.has=function(l){return!!d(this,l).Ub};e.prototype.get=function(l){return(l=d(this,l).Ub)&&l.value};e.prototype.entries=function(){return c(this,function(l){return[l.key,l.value]})};e.prototype.keys=function(){return c(this,function(l){return l.key})};e.prototype.values=function(){return c(this,function(l){return l.value})};e.prototype.forEach=function(l,m){for(var n=this.entries(),
q;!(q=n.next()).done;)q=q.value,l.call(m,q[1],q[0],this)};e.prototype[Symbol.iterator]=e.prototype.entries;var h=0;return e});
ha("Set",function(a){function b(c){this.Ld=new Map;if(c){c=ba(c);for(var d;!(d=c.next()).done;)this.add(d.value)}this.size=this.Ld.size}if(function(){if(!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var c=Object.seal({x:4}),d=new a(ba([c]));if(!d.has(c)||1!=d.size||d.add(c)!=d||1!=d.size||d.add({x:4})!=d||2!=d.size)return!1;var e=d.entries(),f=e.next();if(f.done||f.value[0]!=c||f.value[1]!=c)return!1;f=e.next();return f.done||f.value[0]==c||4!=f.value[0].x||
f.value[1]!=f.value[0]?!1:e.next().done}catch(h){return!1}}())return a;b.prototype.add=function(c){c=0===c?0:c;this.Ld.set(c,c);this.size=this.Ld.size;return this};b.prototype.delete=function(c){c=this.Ld.delete(c);this.size=this.Ld.size;return c};b.prototype.clear=function(){this.Ld.clear();this.size=0};b.prototype.has=function(c){return this.Ld.has(c)};b.prototype.entries=function(){return this.Ld.entries()};b.prototype.values=function(){return this.Ld.values()};b.prototype.keys=b.prototype.values;
b.prototype[Symbol.iterator]=b.prototype.values;b.prototype.forEach=function(c,d){var e=this;this.Ld.forEach(function(f){return c.call(d,f,f,e)})};return b});
var ra={},sa;
var ta=[,2,1,4,3];
var ua=function(){return"object"===typeof self?self:"object"===typeof window?window:"object"===typeof global?global:this}();
var k={};ua.Blockly||(ua.Blockly={});ua.Blockly.Msg||(ua.Blockly.Msg=k);
function va(a){a=String(a).toLowerCase().trim();var b=wa[a];if(b)return b;b="0x"==a.substring(0,2)?"#"+a.substring(2):a;b="#"==b[0]?b:"#"+b;if(/^#[0-9a-f]{6}$/.test(b))return b;if(/^#[0-9a-f]{3}$/.test(b))return["#",b[1],b[1],b[2],b[2],b[3],b[3]].join("");var c=a.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return c&&(a=Number(c[1]),b=Number(c[2]),c=Number(c[3]),0<=a&&256>a&&0<=b&&256>b&&0<=c&&256>c)?xa(a,b,c):null}
function xa(a,b,c){b=a<<16|b<<8|c;return 16>a?"#"+(16777216|b).toString(16).substr(1):"#"+b.toString(16)}function ya(a){a=va(a);if(!a)return[0,0,0];a=parseInt(a.substr(1),16);return[a>>16,a>>8&255,a&255]}
function za(a){var b=0,c=0,d=0,e=Math.floor(a/60),f=a/60-e;a=165.75*.55;var h=165.75*(1-.45*f);f=165.75*(1-.45*(1-f));switch(e){case 1:b=h;c=165.75;d=a;break;case 2:b=a;c=165.75;d=f;break;case 3:b=a;c=h;d=165.75;break;case 4:b=f;c=a;d=165.75;break;case 5:b=165.75;c=a;d=h;break;case 6:case 0:b=165.75,c=f,d=a}return xa(Math.floor(b),Math.floor(c),Math.floor(d))}
function Aa(a,b,c){a=va(a);if(!a)return null;b=va(b);if(!b)return null;a=ya(a);b=ya(b);return xa(Math.round(b[0]+c*(a[0]-b[0])),Math.round(b[1]+c*(a[1]-b[1])),Math.round(b[2]+c*(a[2]-b[2])))}var wa={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"};function p(a,b){this.x=a;this.y=b}function Ba(a,b){return a==b?!0:a&&b?a.x==b.x&&a.y==b.y:!1}function Ca(a,b){var c=a.x-b.x;a=a.y-b.y;return Math.sqrt(c*c+a*a)}function Da(a,b){return new p(a.x-b.x,a.y-b.y)}function Ea(a,b){return new p(a.x+b.x,a.y+b.y)}p.prototype.clone=function(){return new p(this.x,this.y)};p.prototype.scale=function(a){this.x*=a;this.y*=a;return this};p.prototype.translate=function(a,b){this.x+=a;this.y+=b;return this};function Fa(a,b,c,d){this.top=a;this.bottom=b;this.left=c;this.right=d}Fa.prototype.contains=function(a,b){return a>=this.left&&a<=this.right&&b>=this.top&&b<=this.bottom};function Ga(a){return a.length?a.reduce(function(b,c){return b.length<c.length?b:c}).length:0}function Ha(a,b){if(!a.length)return 0;if(1==a.length)return a[0].length;var c=0;b=b||Ga(a);for(var d=0;d<b;d++){for(var e=a[0][d],f=1;f<a.length;f++)if(e!=a[f][d])return c;" "==e&&(c=d+1)}for(f=1;f<a.length;f++)if((e=a[f][d])&&" "!=e)return c;return b}
function Ia(a,b){if(!a.length)return 0;if(1==a.length)return a[0].length;var c=0;b=b||Ga(a);for(var d=0;d<b;d++){for(var e=a[0].substr(-d-1,1),f=1;f<a.length;f++)if(e!=a[f].substr(-d-1,1))return c;" "==e&&(c=d+1)}for(f=1;f<a.length;f++)if((e=a[f].charAt(a[f].length-d-1))&&" "!=e)return c;return b}
function Ja(a,b){a=a.split("\n");for(var c=0;c<a.length;c++){var d=c;var e=a[c],f=b;if(e.length<=f)var h=e;else{for(var l=e.trim().split(/\s+/),m=0;m<l.length;m++)l[m].length>f&&(f=l[m].length);m=-Infinity;var n=1;do{var q=m;h=e;e=[];var t=l.length/n,y=1;for(m=0;m<l.length-1;m++)y<(m+1.5)/t?(y++,e[m]=!0):e[m]=!1;e=Ka(l,e,f);m=La(l,e,f);t=l;y=[];for(var O=0;O<t.length;O++)y.push(t[O]),void 0!==e[O]&&y.push(e[O]?"\n":" ");e=y.join("");n++}while(m>q)}a[d]=h}return a.join("\n")}
function La(a,b,c){for(var d=[0],e=[],f=0;f<a.length;f++)d[d.length-1]+=a[f].length,!0===b[f]?(d.push(0),e.push(a[f].charAt(a[f].length-1))):!1===b[f]&&d[d.length-1]++;a=Math.max.apply(Math,d);for(f=b=0;f<d.length;f++)b-=2*Math.pow(Math.abs(c-d[f]),1.5),b-=Math.pow(a-d[f],1.5),-1!=".?!".indexOf(e[f])?b+=c/3:-1!=",;)]}".indexOf(e[f])&&(b+=c/4);1<d.length&&d[d.length-1]<=d[d.length-2]&&(b+=.5);return b}
function Ka(a,b,c){for(var d=La(a,b,c),e,f=0;f<b.length-1;f++)if(b[f]!=b[f+1]){var h=[].concat(b);h[f]=!h[f];h[f+1]=!h[f+1];var l=La(a,h,c);l>d&&(d=l,e=h)}return e?Ka(a,e,c):b};function Ma(a,b){this.width=a;this.height=b};function Oa(a){var b;(b=Pa(a,"display"))||(b=a.currentStyle?a.currentStyle.display:null);if("none"!=(b||a.style&&a.style.display))return new Ma(a.offsetWidth,a.offsetHeight);b=a.style;var c=b.display,d=b.visibility,e=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";var f=a.offsetWidth;a=a.offsetHeight;b.display=c;b.position=e;b.visibility=d;return new Ma(f,a)}
function Pa(a,b){return document.defaultView&&document.defaultView.getComputedStyle&&(a=document.defaultView.getComputedStyle(a,null))?a[b]||a.getPropertyValue(b)||"":""}function Qa(a){var b=new p(0,0);a=a.getBoundingClientRect();var c=document.documentElement;c=new p(window.pageXOffset||c.scrollLeft,window.pageYOffset||c.scrollTop);b.x=a.left+c.x;b.y=a.top+c.y;return b};var Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,cb;
(function(a){function b(d){return-1!=c.indexOf(d.toUpperCase())}cb=a;var c=cb.toUpperCase();Ra=b("Trident")||b("MSIE");Sa=b("Edge");Ta=b("JavaFX");!b("Chrome")&&b("CriOS");Ua=b("WebKit")&&!Sa;Va=b("Gecko")&&!Ua&&!Ra&&!Sa;Wa=b("Android");a=ua.navigator&&ua.navigator.maxTouchPoints;Xa=b("iPad")||b("Macintosh")&&0<a;Ya=b("iPod");Za=b("iPhone")&&!Xa&&!Ya;$a=b("Macintosh");ab=Xa||Wa&&!b("Mobile")||b("Silk");bb=!ab&&(Ya||Za||Wa||b("IEMobile"))})(ua.navigator&&ua.navigator.userAgent||"");function db(a){a.preventDefault();a.stopPropagation()}function eb(a){return"textarea"==a.target.type||"text"==a.target.type||"number"==a.target.type||"email"==a.target.type||"password"==a.target.type||"search"==a.target.type||"tel"==a.target.type||"url"==a.target.type||a.target.isContentEditable||a.target.dataset&&"true"==a.target.dataset.kv}
function fb(a){var b=new p(0,0),c=a.getAttribute("x");c&&(b.x=parseInt(c,10));if(c=a.getAttribute("y"))b.y=parseInt(c,10);if(c=(c=a.getAttribute("transform"))&&c.match(gb))b.x+=Number(c[1]),c[3]&&(b.y+=Number(c[3]));(a=a.getAttribute("style"))&&-1<a.indexOf("translate")&&(a=a.match(hb))&&(b.x+=Number(a[1]),a[3]&&(b.y+=Number(a[3])));return b}
function jb(a){for(var b=0,c=0;a;){var d=fb(a);b+=d.x;c+=d.y;if(-1!=(" "+(a.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;a=a.parentNode}return new p(b,c)}var gb=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/,hb=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/;function kb(a){return a.ctrlKey&&$a?!0:2==a.button}function lb(a,b,c){var d=b.createSVGPoint();d.x=a.clientX;d.y=a.clientY;c||(c=b.getScreenCTM().inverse());return d.matrixTransform(c)}
function mb(a){switch(a.deltaMode){default:return{x:a.deltaX,y:a.deltaY};case 1:return{x:40*a.deltaX,y:40*a.deltaY};case 2:return{x:125*a.deltaX,y:125*a.deltaY}}}function nb(a){if("string"!=typeof a)return a;a=ob(a,!1);return a.length?String(a[0]):""}function pb(a){for(var b=k,c=a.match(/%{BKY_[A-Z]\w*}/ig),d=0;d<c.length;d++)void 0==b[c[d].toUpperCase().slice(6,-1)]&&console.warn("No message string for "+c[d]+" in "+a)}
function ob(a,b){var c=[],d=a.split("");d.push("");var e=0;a=[];for(var f=null,h=0;h<d.length;h++){var l=d[h];0==e?"%"==l?((l=a.join(""))&&c.push(l),a.length=0,e=1):a.push(l):1==e?"%"==l?(a.push(l),e=0):b&&"0"<=l&&"9">=l?(e=2,f=l,(l=a.join(""))&&c.push(l),a.length=0):"{"==l?e=3:(a.push("%",l),e=0):2==e?"0"<=l&&"9">=l?f+=l:(c.push(parseInt(f,10)),h--,e=0):3==e&&(""==l?(a.splice(0,0,"%{"),h--,e=0):"}"!=l?a.push(l):(e=a.join(""),/[A-Z]\w*/i.test(e)?(l=e.toUpperCase(),(l=0==l.lastIndexOf("BKY_",0)?l.substring(4):
null)&&l in k?(e=k[l],"string"==typeof e?Array.prototype.push.apply(c,ob(e,b)):b?c.push(String(e)):c.push(e)):c.push("%{"+e+"}")):c.push("%{"+e+"}"),e=a.length=0))}(l=a.join(""))&&c.push(l);b=[];for(h=a.length=0;h<c.length;++h)"string"==typeof c[h]?a.push(c[h]):((l=a.join(""))&&b.push(l),a.length=0,b.push(c[h]));(l=a.join(""))&&b.push(l);a.length=0;return b}function qb(){for(var a=rb.length,b=[],c=0;20>c;c++)b[c]=rb.charAt(Math.random()*a);return b.join("")}var rb="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
function sb(){if(void 0!==tb)return tb;if(!ua.getComputedStyle)return!1;var a=document.createElement("p"),b="none",c={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(a,null);for(var d in c)if(void 0!==a.style[d]){a.style[d]="translate3d(1px,1px,1px)";b=ua.getComputedStyle(a);if(!b)return document.body.removeChild(a),!1;b=b.getPropertyValue(c[d])}document.body.removeChild(a);return tb=
"none"!==b}var tb;function ub(a){if("object"!=typeof document)throw Error("Blockly.utils.runAfterPageLoad() requires browser document.");if("complete"==document.readyState)a();else var b=setInterval(function(){"complete"==document.readyState&&(clearInterval(b),a())},10)}function vb(a,b){b=a.indexOf(b);if(-1==b)return!1;a.splice(b,1);return!0}
function wb(a,b){var c=Object.create(null),d=xb(a,!0);b&&(a=yb(a))&&(a=d.indexOf(a),d.splice(a,d.length-a));for(a=0;b=d[a];a++)c[b.type]?c[b.type]++:c[b.type]=1;return c}function zb(a){var b="string"==typeof a?nb(a):a,c=Number(b);if(!isNaN(c)&&0<=c&&360>=c)return{Et:c,Bi:za(c)};if(c=va(b))return{Et:null,Bi:c};c='Invalid colour: "'+b+'"';a!=b&&(c+=' (from "'+a+'")');throw Error(c);};var Ab="ontouchstart"in ua||!!(ua.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!ua.navigator||!ua.navigator.maxTouchPoints&&!ua.navigator.msMaxTouchPoints),Bb=null,Cb={};
ua.PointerEvent?Cb={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]}:Ab&&(Cb={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]});var Db=0;
function Eb(a,b){Fb();a.changedTouches&&1!=a.changedTouches.length||(Db=setTimeout(function(){a.changedTouches&&(a.button=2,a.clientX=a.changedTouches[0].clientX,a.clientY=a.changedTouches[0].clientY);b&&Gb(b,a)},750))}function Fb(){Db&&(clearTimeout(Db),Db=0)}function Hb(a){return void 0!=a.pointerId?a.pointerId:a.changedTouches&&a.changedTouches[0]&&void 0!==a.changedTouches[0].identifier&&null!==a.changedTouches[0].identifier?a.changedTouches[0].identifier:"mouse"}
function Ib(a){var b=Hb(a);return void 0!==Bb&&null!==Bb?Bb==b:"mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type?(Bb=b,!0):!1}function Jb(a){return 0==a.type.lastIndexOf("touch",0)||0==a.type.lastIndexOf("mouse",0)||0==a.type.lastIndexOf("pointer",0)}function Kb(a){return 0==a.type.lastIndexOf("touch",0)||0==a.type.lastIndexOf("pointer",0)}
function Lb(a){var b=[];if(a.changedTouches)for(var c=0;c<a.changedTouches.length;c++)b[c]={type:a.type,changedTouches:[a.changedTouches[c]],target:a.target,stopPropagation:function(){a.stopPropagation()},preventDefault:function(){a.preventDefault()}};else b.push(a);return b};function r(a,b,c,d,e,f){function h(y){var O=!e;y=Lb(y);for(var Na=0,ka;ka=y[Na];Na++)if(!O||!Jb(ka)||Ib(ka)){var ib=ka;if(0==ib.type.lastIndexOf("touch",0)){var Te=ib.changedTouches[0];ib.clientX=Te.clientX;ib.clientY=Te.clientY}c?d.call(c,ka):d(ka);l=!0}}var l=!1,m=[];if(ua.PointerEvent&&b in Cb)for(var n=0,q;q=Cb[b][n];n++)a.addEventListener(q,h,!1),m.push([a,q,h]);else if(a.addEventListener(b,h,!1),m.push([a,b,h]),b in Cb){var t=function(y){h(y);var O=!f;l&&O&&y.preventDefault()};for(n=0;q=Cb[b][n];n++)a.addEventListener(q,
t,!1),m.push([a,q,t])}return m}function Mb(a,b,c,d){function e(n){c?d.call(c,n):d(n)}var f=[];if(ua.PointerEvent&&b in Cb)for(var h=0,l;l=Cb[b][h];h++)a.addEventListener(l,e,!1),f.push([a,l,e]);else if(a.addEventListener(b,e,!1),f.push([a,b,e]),b in Cb){var m=function(n){if(n.changedTouches&&1==n.changedTouches.length){var q=n.changedTouches[0];n.clientX=q.clientX;n.clientY=q.clientY}e(n);n.preventDefault()};for(h=0;l=Cb[b][h];h++)a.addEventListener(l,m,!1),f.push([a,l,m])}return f}
function u(a){for(;a.length;){var b=a.pop();b[0].removeEventListener(b[1],b[2],!1)}};
var Nb=Object.create(null);function Ob(a){this.ze=a}Ob.prototype.toString=function(){return this.ze};var Pb=new Ob("connectionChecker"),Qb=new Ob("cursor"),Rb=new Ob("event"),Sb=new Ob("field"),Tb=new Ob("renderer"),Ub=new Ob("toolbox"),Vb=new Ob("theme"),Wb=new Ob("toolboxItem"),Xb=new Ob("flyoutsVerticalToolbox"),Yb=new Ob("metricsManager"),Zb=new Ob("blockDragger");
function v(a,b,c){if(!(a instanceof Ob)&&"string"!=typeof a||""==String(a).trim())throw Error('Invalid type "'+a+'". The type must be a non-empty string or a Blockly.registry.Type.');a=String(a).toLowerCase();if("string"!=typeof b||""==b.trim())throw Error('Invalid name "'+b+'". The name must be a non-empty string.');b=b.toLowerCase();if(!c)throw Error("Can not register a null value");var d=Nb[a];d||(d=Nb[a]=Object.create(null));switch(a){case String(Sb):if("function"!=typeof c.N)throw Error('Type "'+
a+'" must have a fromJson function');}if(d[b])throw Error('Name "'+b+'" with type "'+a+'" already registered.');d[b]=c}function $b(a,b,c){a=String(a).toLowerCase();b=b.toLowerCase();var d=Nb[a];if(!d||!d[b]){b="Unable to find ["+b+"]["+a+"] in the registry.";if(c)throw Error(b+" You must require or register a "+a+" plugin.");console.warn(b);return null}return d[b]}function ac(a,b,c){b=b.plugins[a.toString()]||"default";return"function"==typeof b?b:$b(a,b,c)};var bc="",cc=!0,w=0,dc=["create","move"],ec=[];function x(a){0==w&&(ec.length||setTimeout(fc,0),ec.push(a))}function fc(){for(var a=gc(ec,!0),b=ec.length=0,c;c=a[b];b++)if(c.Jb){var d=hc[c.Jb]||null;if(d){var e=c;if(e.Eb)for(d.vg.push(e),d.Wi.length=0;d.vg.length>d.lp&&0<=d.lp;)d.vg.shift();for(var f=0;c=d.jb[f];f++)c(e)}}}
function gc(a,b){a=a.slice();b||a.reverse();for(var c=[],d=Object.create(null),e=0,f;f=a[e];e++)if(!f.Nk()){var h=[f.Ok?"ui":f.type,f.ga,f.Jb].join(" "),l=d[h],m=l?l.event:null;if(!l)d[h]={event:f,index:e},c.push(f);else if("move"==f.type&&l.index==e-1)m.jg=f.jg,m.hg=f.hg,m.hf=f.hf,l.index=e;else if("change"==f.type&&f.element==m.element&&f.name==m.name)m.newValue=f.newValue;else if("viewport_change"==f.type)m.ad=f.ad,m.$c=f.$c,m.scale=f.scale,m.Qi=f.Qi;else if("click"!=f.type||"bubble_open"!=m.type)d[h]=
{event:f,index:e},c.push(f)}a=c.filter(function(n){return!n.Nk()});b||a.reverse();for(e=1;f=a[e];e++)"change"==f.type&&"mutation"==f.element&&a.unshift(a.splice(e,1)[0]);return a}function z(a){bc="boolean"==typeof a?a?qb():"":a}function ic(a){var b=[];a=xb(a,!1);for(var c=0,d;d=a[c];c++)b[c]=d.id;return b}function A(a){return $b(Rb,a)}
function jc(a){if(("move"==a.type||"create"==a.type)&&a.Jb){var b=hc[a.Jb]||null,c=b.hc(a.ga);if(c){a=cc;try{cc=!1;var d=c.getParent();if(d&&d.isEnabled()){var e=xb(c,!1);b=0;for(var f;f=e[b];b++)f.Fb(!0)}else if((c.v||c.H)&&!b.$a()){do c.Fb(!1),c=yb(c);while(c)}}finally{cc=a}}}};function kc(a){this.wu=a}kc.prototype.toString=function(){return this.wu};var lc=new kc("animate"),mc=new kc("circle"),nc=new kc("clipPath"),oc=new kc("defs"),pc=new kc("feComposite"),qc=new kc("feGaussianBlur"),rc=new kc("fePointLight"),sc=new kc("feSpecularLighting"),tc=new kc("filter"),uc=new kc("foreignObject"),vc=new kc("g"),wc=new kc("image"),xc=new kc("line"),yc=new kc("path"),zc=new kc("pattern"),Ac=new kc("polygon"),Bc=new kc("rect"),Cc=new kc("svg"),Dc=new kc("text"),Ec=new kc("tspan");var Fc=null,Gc=0,Hc=null;function B(a,b,c){a=document.createElementNS("http://www.w3.org/2000/svg",String(a));for(var d in b)a.setAttribute(d,b[d]);document.body.runtimeStyle&&(a.runtimeStyle=a.currentStyle=a.style);c&&c.appendChild(a);return a}function C(a,b){var c=a.getAttribute("class")||"";a.setAttribute("class",c+" "+b)}
function Ic(a,b){for(var c=(a.getAttribute("class")||"").split(/\s+/),d=0;d<c.length;d++)c[d]&&c[d]!=b||(c.splice(d,1),d--);c.length?a.setAttribute("class",c.join(" ")):a.removeAttribute("class")}function Jc(a,b){return-1!=(" "+(a.getAttribute("class")||"")+" ").indexOf(" "+b+" ")}function D(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function Kc(a,b){var c=b.nextSibling;b=b.parentNode;if(!b)throw Error("Reference node has no parent.");c?b.insertBefore(a,c):b.appendChild(a)}
function Lc(a,b){a.style.transform=b;a.style["-webkit-transform"]=b}function Mc(){Gc++;Fc||(Fc=Object.create(null))}function Nc(){Gc--;Gc||(Fc=null)}function Oc(a,b,c,d){var e=a.textContent;a=e+"\n"+a.className.baseVal;var f;if(Fc&&(f=Fc[a]))return f;Hc||(f=document.createElement("canvas"),f.className="blocklyComputeCanvas",document.body.appendChild(f),Hc=f.getContext("2d"));Hc.font=c+" "+b+" "+d;f=Hc.measureText(e).width;Fc&&(Fc[a]=f);return f}
function Pc(a,b,c,d){var e=document.createElement("span");e.style.font=c+" "+b+" "+d;e.textContent=a;a=document.createElement("div");a.style.width="1px";a.style.height=0;b=document.createElement("div");b.style.display="flex";b.style.position="fixed";b.style.top=0;b.style.left=0;b.appendChild(e);b.appendChild(a);document.body.appendChild(b);try{c={},b.style.alignItems="baseline",c.Hc=a.offsetTop-e.offsetTop,b.style.alignItems="flex-end",c.height=a.offsetTop-e.offsetTop}finally{document.body.removeChild(b)}return c}
;

function Qc(a,b,c,d,e){this.g=a;b=void 0===b?!0:b;c=void 0===c?!0:c;var f=b&&c;b&&(this.ua=new Rc(a,!0,f,d,e));c&&(this.na=new Rc(a,!1,f,d,e));f&&(this.ii=B(Bc,{height:Sc,width:Sc,"class":"blocklyScrollbarBackground"},null),Kc(this.ii,a.rd));this.oa=null}g=Qc.prototype;g.m=function(){D(this.ii);this.oa=this.g=this.ii=null;this.ua&&(this.ua.m(),this.ua=null);this.na&&(this.na.m(),this.na=null)};
g.resize=function(){var a=this.g.Vb();if(a){var b=!1,c=!1;this.oa&&this.oa.pb==a.pb&&this.oa.ob==a.ob&&this.oa.Qb==a.Qb&&this.oa.Kb==a.Kb?(this.oa&&this.oa.scrollWidth==a.scrollWidth&&this.oa.$c==a.$c&&this.oa.scrollLeft==a.scrollLeft||(b=!0),this.oa&&this.oa.scrollHeight==a.scrollHeight&&this.oa.ad==a.ad&&this.oa.scrollTop==a.scrollTop||(c=!0)):c=b=!0;if(b||c){try{w++,this.ua&&b&&this.ua.resize(a),this.na&&c&&this.na.resize(a)}finally{w--}Tc(this.g)}this.ua&&this.na&&(this.oa&&this.oa.pb==a.pb&&
this.oa.Kb==a.Kb||this.ii.setAttribute("x",this.na.position.x),this.oa&&this.oa.ob==a.ob&&this.oa.Qb==a.Qb||this.ii.setAttribute("y",this.ua.position.y));this.oa=a}};g.yl=function(a,b){this.ua&&this.ua.yl(a,b);this.na&&this.na.yl(a,b)};g.set=function(a,b,c){this.ua&&this.ua.set(a,!1);this.na&&this.na.set(b,!1);if(c||void 0===c)a={},this.ua&&(a.x=Uc(this.ua)),this.na&&(a.y=Uc(this.na)),this.g.fj(a)};g.pg=function(a){this.ua&&this.ua.pg(a);this.na&&this.na.pg(a)};
g.isVisible=function(){var a=!1;this.ua&&(a=this.ua.isVisible());this.na&&(a=a||this.na.isVisible());return a};
function Rc(a,b,c,d,e){this.g=a;this.mf=c||!1;this.Wf=b;this.dg=void 0!==e?e:.5;this.ratio=this.oa=null;this.ee(d);this.position=new p(0,0);a=Sc;b?(this.Hb.setAttribute("height",a),this.Md.setAttribute("height",a),this.Cc.setAttribute("height",a-5),this.Cc.setAttribute("y",2.5),this.Qk="width",this.ir="x"):(this.Hb.setAttribute("width",a),this.Md.setAttribute("width",a),this.Cc.setAttribute("width",a-5),this.Cc.setAttribute("x",2.5),this.Qk="height",this.ir="y");this.$q=r(this.Hb,"mousedown",this,
this.Wt);this.cr=r(this.Cc,"mousedown",this,this.Xt)}var Vc,Wc;g=Rc.prototype;g.io=new p(0,0);g.Ar=0;g.Wc=0;g.Ze=0;g.Ai=0;g.zc=!0;g.Of=!0;var Sc=15;Ab&&(Sc=25);g=Rc.prototype;g.m=function(){Xc();u(this.$q);this.$q=null;u(this.cr);this.cr=null;D(this.Md);this.Hb=this.u=this.Md=null;this.Cc&&(this.g.eb.unsubscribe(this.Cc),this.Cc=null);this.g=null};function Yc(a,b){return b=0>=b||isNaN(b)?0:Math.min(b,a.Wc)}function Zc(a,b){a.Ze=b;a.Cc.setAttribute(a.Qk,a.Ze)}
function $c(a,b){return b=0>=b||isNaN(b)?0:Math.min(b,a.Wc-a.Ze)}function ad(a,b){a.Ai=b;a.Cc.setAttribute(a.ir,a.Ai)}function bd(a,b){a.Wc=b;a.Md.setAttribute(a.Qk,a.Wc);a.Hb.setAttribute(a.Qk,a.Wc)}g.setPosition=function(a,b){this.position.x=a;this.position.y=b;Lc(this.Md,"translate("+(this.position.x+this.io.x)+"px,"+(this.position.y+this.io.y)+"px)")};
g.resize=function(a){if(!a&&(a=this.g.Vb(),!a))return;var b;(b=!this.oa)||(b=this.oa,b=!(a.pb==b.pb&&a.ob==b.ob&&a.$c==b.$c&&a.ad==b.ad&&a.Qb==b.Qb&&a.Kb==b.Kb&&a.scrollWidth==b.scrollWidth&&a.scrollHeight==b.scrollHeight&&a.scrollLeft==b.scrollLeft&&a.scrollTop==b.scrollTop));b&&(this.Wf?(b=a,cd(this,b)?dd(this,b):ed(this,b)):(b=a,cd(this,b)?fd(this,b):gd(this,b)),this.oa=a,hd(this))};function cd(a,b){return a.oa?a.oa.pb!==b.pb||a.oa.ob!==b.ob||a.oa.Kb!==b.Kb||a.oa.Qb!==b.Qb:!0}
function dd(a,b){var c=b.pb-2*a.dg;a.mf&&(c-=Sc);bd(a,Math.max(0,c));c=b.Kb+a.dg;a.mf&&a.g.s&&(c+=Sc);a.setPosition(c,b.Qb+b.ob-Sc-a.dg);ed(a,b)}function ed(a,b){if(b.pb>=b.scrollWidth)Zc(a,a.Wc),ad(a,0),a.mf||a.ma(!1);else{a.mf||a.ma(!0);var c=a.Wc*b.pb/b.scrollWidth;c=Yc(a,c);Zc(a,c);c=b.scrollWidth-b.pb;var d=a.Wc-a.Ze;b=(b.$c-b.scrollLeft)/c*d;b=$c(a,b);ad(a,b);a.ratio=d/c}}
function fd(a,b){var c=b.ob-2*a.dg;a.mf&&(c-=Sc);bd(a,Math.max(0,c));a.setPosition(a.g.s?b.Kb+a.dg:b.Kb+b.pb-Sc-a.dg,b.Qb+a.dg);gd(a,b)}function gd(a,b){if(b.ob>=b.scrollHeight)Zc(a,a.Wc),ad(a,0),a.mf||a.ma(!1);else{a.mf||a.ma(!0);var c=a.Wc*b.ob/b.scrollHeight;c=Yc(a,c);Zc(a,c);c=b.scrollHeight-b.ob;var d=a.Wc-a.Ze;b=(b.ad-b.scrollTop)/c*d;b=$c(a,b);ad(a,b);a.ratio=d/c}}
g.ee=function(a){var b="blocklyScrollbar"+(this.Wf?"Horizontal":"Vertical");a&&(b+=" "+a);this.Md=B(Cc,{"class":b},null);this.u=B(vc,{},this.Md);this.Hb=B(Bc,{"class":"blocklyScrollbarBackground"},this.u);a=Math.floor((Sc-5)/2);this.Cc=B(Bc,{"class":"blocklyScrollbarHandle",rx:a,ry:a},this.u);this.g.eb.subscribe(this.Cc,"scrollbarColour","fill");this.g.eb.subscribe(this.Cc,"scrollbarOpacity","fill-opacity");Kc(this.Md,E(this.g))};g.isVisible=function(){return this.zc};
g.pg=function(a){var b=a!=this.Of;this.Of=a;b&&this.xj()};g.ma=function(a){var b=a!=this.isVisible();if(this.mf)throw Error("Unable to toggle visibility of paired scrollbars.");this.zc=a;b&&this.xj()};g.xj=function(){this.Of&&this.isVisible()?this.Md.setAttribute("display","block"):this.Md.setAttribute("display","none")};
g.Wt=function(a){id(this.g);Bb=null;Xc();if(kb(a))a.stopPropagation();else{var b=lb(a,E(this.g),jd(this.g));b=this.Wf?b.x:b.y;var c=jb(this.Cc);c=this.Wf?c.x:c.y;var d=this.Ai,e=.95*this.Ze;b<=c?d-=e:b>=c+this.Ze&&(d+=e);ad(this,$c(this,d));hd(this);a.stopPropagation();a.preventDefault()}};
g.Xt=function(a){id(this.g);Xc();kb(a)?a.stopPropagation():(this.qu=this.Ai,kd(this.g),this.Ar=this.Wf?a.clientX:a.clientY,Vc=r(document,"mouseup",this,this.$t),Wc=r(document,"mousemove",this,this.Zt),a.stopPropagation(),a.preventDefault())};g.Zt=function(a){ad(this,$c(this,this.qu+((this.Wf?a.clientX:a.clientY)-this.Ar)));hd(this)};g.$t=function(){ld(this.g);Bb=null;Xc()};function Xc(){md(!0);Vc&&(u(Vc),Vc=null);Wc&&(u(Wc),Wc=null)}function Uc(a){a=a.Ai/(a.Wc-a.Ze);isNaN(a)&&(a=0);return a}
function hd(a){var b=Uc(a),c={};a.Wf?c.x=b:c.y=b;a.g.fj(c)}g.set=function(a,b){ad(this,$c(this,a*this.ratio));(b||void 0===b)&&hd(this)};g.yl=function(a,b){this.io=new p(a,b)};function nd(a,b,c){if(c<a){var d=c;c=a;a=d}return Math.max(a,Math.min(b,c))};
function od(){this.Hd=null;this.Jb=void 0;this.group=bc;this.Eb=cc}g=od.prototype;g.Ok=!1;g.R=function(){var a={type:this.type};this.group&&(a.group=this.group);return a};g.N=function(a){this.Hd=!1;this.group=a.group};g.Nk=function(){return!1};g.run=function(){};function pd(a){if(a.Jb)var b=hc[a.Jb]||null;if(!b)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return b};function F(a,b){a.j=b.prototype;a.prototype=Object.create(b.prototype);a.prototype.constructor=a}function qd(a,b){for(var c in b)a[c]=b[c]}function rd(a){return Object.values?Object.values(a):Object.keys(a).map(function(b){return a[b]})};function G(a){return document.createElementNS("https://developers.google.com/blockly/xml",a)};function sd(a,b){if(a.Bb()&&(a=td(a,!1)[0],!a))return new DocumentFragment;var c;a.h.s&&(c=a.h.qe());b=ud(a,b);var d=a.ea();b.setAttribute("x",Math.round(a.h.s?c-d.x:d.x));b.setAttribute("y",Math.round(d.y));return b}
function ud(a,b){if(a.Bb())return(a=td(a,!1)[0])?ud(a):new DocumentFragment;var c=G(a.W?"shadow":"block");c.setAttribute("type",a.type);b||c.setAttribute("id",a.id);if(a.qa){var d=a.qa();d&&(d.hasChildNodes()||d.hasAttributes())&&c.appendChild(d)}d=0;for(var e;e=a.B[d];d++)for(var f=0,h;h=e.ba[f];f++){var l=!1;h.name&&(h.Ng?l=!0:h.Jh&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),
l=!0));l?(l=G("field"),l.setAttribute("name",h.name||""),h=h.Hr(l)):h=null;h&&c.appendChild(h)}if(d=a.qc.text)e=a.qc.size,f=a.qc.so,h=G("comment"),h.appendChild(document.createTextNode(d)),h.setAttribute("pinned",f),h.setAttribute("h",e.height),h.setAttribute("w",e.width),c.appendChild(h);a.data&&(d=G("data"),d.appendChild(document.createTextNode(a.data)),c.appendChild(d));for(d=0;e=a.B[d];d++){var m;f=!0;5!=e.type&&(l=e.connection.I(),1==e.type?m=G("value"):3==e.type&&(m=G("statement")),h=e.connection.dh(),
!h||l&&l.W||m.appendChild(vd(h,b)),l&&(h=ud(l,b),h.nodeType==Node.ELEMENT_NODE&&(m.appendChild(h),f=!1)),m.setAttribute("name",e.name),f||c.appendChild(m))}void 0!=a.te&&a.te!=a.Gt&&c.setAttribute("inline",a.te);a.isCollapsed()&&c.setAttribute("collapsed",!0);a.isEnabled()||c.setAttribute("disabled",!0);a.Qc()||a.W||c.setAttribute("deletable",!1);a.ib()||a.W||c.setAttribute("movable",!1);a.Zb()||c.setAttribute("editable",!1);if(d=yb(a))h=ud(d,b),h.nodeType==Node.ELEMENT_NODE&&(m=G("next"),m.appendChild(h),
c.appendChild(m));h=a.C&&a.C.dh();!h||d&&d.W||m.appendChild(vd(h,b));return c}function vd(a,b){for(var c=a=a.cloneNode(!0),d;c;)if(b&&"shadow"==c.nodeName&&c.removeAttribute("id"),c.firstChild)c=c.firstChild;else{for(;c&&!c.nextSibling;)d=c,c=c.parentNode,d.nodeType==Node.TEXT_NODE&&""==d.data.trim()&&c.firstChild!=d&&D(d);c&&(d=c,c=c.nextSibling,d.nodeType==Node.TEXT_NODE&&""==d.data.trim()&&D(d))}return a}
function wd(a){return(new XMLSerializer).serializeToString(a).replace(/<(\w+)([^<]*)\/>/g,"<$1$2></$1>")}function xd(a){var b=(new DOMParser).parseFromString(a,"text/xml");if(!b||!b.documentElement||b.getElementsByTagName("parsererror").length)throw Error("textToDom was unable to parse: "+a);return b.documentElement}
function yd(a,b){var c;b.s&&(c=b.qe());var d=[];Mc();var e=bc;e||z(!0);b.Nb&&b.Nb(!1);var f=!0;try{for(var h=0,l;l=a.childNodes[h];h++){var m=l.nodeName.toLowerCase(),n=l;if("block"==m||"shadow"==m&&!cc){var q=zd(n,b);d.push(q.id);var t=n.hasAttribute("x")?parseInt(n.getAttribute("x"),10):10,y=n.hasAttribute("y")?parseInt(n.getAttribute("y"),10):10;isNaN(t)||isNaN(y)||q.moveBy(b.s?c-t:t,y);f=!1}else{if("shadow"==m)throw TypeError("Shadow block cannot be a top-level block.");if("variables"==m){if(f)for(var O=
void 0,Na=b,ka=0;O=n.childNodes[ka];ka++){if(O.nodeType==Node.ELEMENT_NODE){var ib=O.getAttribute("type"),Te=O.getAttribute("id");Na.bd(O.textContent,ib,Te)}}else throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");f=!1}}}}finally{e||z(!1),Nc()}b.Nb&&b.Nb(!0);x(new (A("finished_loading"))(b))}
function zd(a,b){if(a instanceof Ad){var c=a;a=b;b=c;console.warn("Deprecated call to Blockly.Xml.domToBlock, swap the arguments.")}w++;c=b.Rf();try{var d=Bd(a,b),e=xb(d,!1);if(b.K){Cd(d,!1);for(var f=e.length-1;0<=f;f--)e[f].kd();for(f=e.length-1;0<=f;f--)e[f].P(!1);setTimeout(function(){d.Lc||Cd(d,!0)},1);Dd(d);Ed(b)}else for(f=e.length-1;0<=f;f--)e[f].Xf()}finally{w--}if(0==w){a=Fd(b,c);for(f=0;f<a.length;f++)b=a[f],x(new (A("var_create"))(b));x(new (A("create"))(d))}return d}
function Gd(a,b){for(var c=0,d;d=a[c];c++){var e=d.textContent,f="true"==d.getAttribute("pinned"),h=parseInt(d.getAttribute("w"),10);d=parseInt(d.getAttribute("h"),10);b.xf(e);b.qc.so=f;isNaN(h)||isNaN(d)||(b.qc.size=new Ma(h,d));f&&b.qt&&!b.Ga&&setTimeout(function(){b.Jc.ma(!0)},1)}}function Hd(a){for(var b={Yh:null,Zh:null},c=0,d;d=a.childNodes[c];c++)d.nodeType==Node.ELEMENT_NODE&&("block"==d.nodeName.toLowerCase()?b.Yh=d:"shadow"==d.nodeName.toLowerCase()&&(b.Zh=d));return b}
function Bd(a,b,c,d){var e=a.getAttribute("type");if(!e)throw TypeError("Block type unspecified: "+a.outerHTML);var f=a.getAttribute("id");f=b.gf(e,f);for(var h=[],l=[],m=[],n=[],q=[],t=[],y=0,O;O=a.childNodes[y];y++)if(O.nodeType!=Node.TEXT_NODE)switch(O.nodeName.toLowerCase()){case "mutation":h.push(O);break;case "comment":if(!Id){console.warn("Missing require for Blockly.Comment, ignoring block comment.");break}l.push(O);break;case "data":m.push(O);break;case "title":case "field":n.push(O);break;
case "value":case "statement":q.push(O);break;case "next":t.push(O);break;default:console.warn("Ignoring unknown tag: "+O.nodeName)}y=!1;O=0;for(var Na;Na=h[O];O++)f.Ka&&(f.Ka(Na),f.kd&&(y=!0));h=y;Gd(l,f);for(l=0;y=m[l];l++)f.data=y.textContent;if(c)if(d)if(f.H)c.connect(f.H);else throw TypeError("Next block does not have previous statement.");else if(f.v)c.connect(f.v);else if(f.H)c.connect(f.H);else throw TypeError("Child block does not have output or previous statement.");for(c=0;l=n[c];c++)m=
l.getAttribute("name"),d=f,(y=Jd(d,m))?y.Ak(l):console.warn("Ignoring non-existent field "+m+" in block "+d.type);for(n=0;d=q[n];n++){m=d.getAttribute("name");c=H(f,m);if(!c){console.warn("Ignoring non-existent input "+m+" in block "+e);break}d=Hd(d);if(d.Yh){if(!c.connection)throw TypeError("Input connection does not exist.");Bd(d.Yh,b,c.connection,!1)}d.Zh&&c.connection.ij(d.Zh)}for(e=0;q=t[e];e++){q=Hd(q);if(q.Yh){if(!f.C)throw TypeError("Next statement does not exist.");if(f.C.isConnected())throw TypeError("Next statement is already connected.");
Bd(q.Yh,b,f.C,!0)}q.Zh&&f.C&&f.C.ij(q.Zh)}h&&f.kd();(b=a.getAttribute("inline"))&&f.Xc("true"==b);(b=a.getAttribute("disabled"))&&f.Fb("true"!=b&&"disabled"!=b);if(b=a.getAttribute("deletable"))f.lk="true"==b;(b=a.getAttribute("movable"))&&f.xl("true"==b);(b=a.getAttribute("editable"))&&f.Go("true"==b);(b=a.getAttribute("collapsed"))&&f.wf("true"==b);if("shadow"==a.nodeName.toLowerCase()){a=td(f,!1);for(b=0;t=a[b];b++)if(!t.W)throw TypeError("Shadow block not allowed non-shadow child.");if(f.oe().length)throw TypeError("Shadow blocks cannot have variable references.");
f.Jo(!0)}return f};function Kd(a){Kd.j.constructor.call(this);this.ga=(this.Hd="undefined"==typeof a)?"":a.id;this.Jb=this.Hd?"":a.h.id}F(Kd,od);Kd.prototype.R=function(){var a=Kd.j.R.call(this);a.blockId=this.ga;return a};Kd.prototype.N=function(a){Kd.j.N.call(this,a);this.ga=a.blockId};function Ld(a,b,c,d,e){Ld.j.constructor.call(this,a);a&&(this.element="undefined"==typeof b?"":b,this.name="undefined"==typeof c?"":c,this.oldValue="undefined"==typeof d?"":d,this.newValue="undefined"==typeof e?"":e)}F(Ld,Kd);g=Ld.prototype;
g.type="change";g.R=function(){var a=Ld.j.R.call(this);a.element=this.element;this.name&&(a.name=this.name);a.oldValue=this.oldValue;a.newValue=this.newValue;return a};g.N=function(a){Ld.j.N.call(this,a);this.element=a.element;this.name=a.name;this.oldValue=a.oldValue;this.newValue=a.newValue};g.Nk=function(){return this.oldValue==this.newValue};
g.run=function(a){var b=pd(this).hc(this.ga);if(b)switch(b.Db&&b.Db.ma(!1),a=a?this.newValue:this.oldValue,this.element){case "field":(b=Jd(b,this.name))?b.Ua(a):console.warn("Can't set non-existent field: "+this.name);break;case "comment":b.xf(a||null);break;case "collapsed":b.wf(!!a);break;case "disabled":b.Fb(!a);break;case "inline":b.Xc(!!a);break;case "mutation":var c="";b.qa&&(c=(c=b.qa())&&wd(c));if(b.Ka){var d=xd(a||"<mutation/>");b.Ka(d)}x(new Ld(b,"mutation",null,c,a));break;default:console.warn("Unknown change type: "+
this.element)}else console.warn("Can't change non-existent block: "+this.ga)};function Md(a){Md.j.constructor.call(this,a);a&&(a.W&&(this.Eb=!1),this.xml=a.h.K?sd(a):ud(a),this.se=ic(a))}F(Md,Kd);Md.prototype.type="create";Md.prototype.R=function(){var a=Md.j.R.call(this);a.xml=wd(this.xml);a.ids=this.se;this.Eb||(a.recordUndo=this.Eb);return a};Md.prototype.N=function(a){Md.j.N.call(this,a);this.xml=xd(a.xml);this.se=a.ids;void 0!==a.recordUndo&&(this.Eb=a.recordUndo)};
Md.prototype.run=function(a){var b=pd(this);if(a)a=G("xml"),a.appendChild(this.xml),yd(a,b);else{a=0;for(var c;c=this.se[a];a++){var d=b.hc(c);d?d.m(!1):c==this.ga&&console.warn("Can't uncreate non-existent block: "+c)}}};function Nd(a){Nd.j.constructor.call(this,a);if(a){if(a.getParent())throw Error("Connected blocks cannot be deleted.");a.W&&(this.Eb=!1);this.rh=a.h.K?sd(a):ud(a);this.se=ic(a)}}F(Nd,Kd);Nd.prototype.type="delete";
Nd.prototype.R=function(){var a=Nd.j.R.call(this);a.oldXml=wd(this.rh);a.ids=this.se;this.Eb||(a.recordUndo=this.Eb);return a};Nd.prototype.N=function(a){Nd.j.N.call(this,a);this.rh=xd(a.oldXml);this.se=a.ids;void 0!==a.recordUndo&&(this.Eb=a.recordUndo)};Nd.prototype.run=function(a){var b=pd(this);if(a){a=0;for(var c;c=this.se[a];a++){var d=b.hc(c);d?d.m(!1):c==this.ga&&console.warn("Can't delete non-existent block: "+c)}}else a=G("xml"),a.appendChild(this.rh),yd(a,b)};
function Od(a){Od.j.constructor.call(this,a);a&&(a.W&&(this.Eb=!1),a=Pd(this),this.Vq=a.dr,this.Rq=a.pq,this.Qn=a.Jp)}F(Od,Kd);g=Od.prototype;g.type="move";g.R=function(){var a=Od.j.R.call(this);this.jg&&(a.newParentId=this.jg);this.hg&&(a.newInputName=this.hg);this.hf&&(a.newCoordinate=Math.round(this.hf.x)+","+Math.round(this.hf.y));this.Eb||(a.recordUndo=this.Eb);return a};
g.N=function(a){Od.j.N.call(this,a);this.jg=a.newParentId;this.hg=a.newInputName;if(a.newCoordinate){var b=a.newCoordinate.split(",");this.hf=new p(Number(b[0]),Number(b[1]))}void 0!==a.recordUndo&&(this.Eb=a.recordUndo)};function Qd(a){var b=Pd(a);a.jg=b.dr;a.hg=b.pq;a.hf=b.Jp}function Pd(a){var b=pd(a).hc(a.ga);a={};var c=b.getParent();if(c){if(a.dr=c.id,b=Rd(c,b))a.pq=b.name}else a.Jp=b.ea();return a}g.Nk=function(){return this.Vq==this.jg&&this.Rq==this.hg&&Ba(this.Qn,this.hf)};
g.run=function(a){var b=pd(this),c=b.hc(this.ga);if(c){var d=a?this.jg:this.Vq,e=a?this.hg:this.Rq,f=a?this.hf:this.Qn;a=null;if(d&&(a=b.hc(d),!a)){console.warn("Can't connect to non-existent block: "+d);return}c.getParent()&&Sd(c);if(f)e=c.ea(),c.moveBy(f.x-e.x,f.y-e.y);else{c=c.v||c.H;b=c.type;if(e){if(a=H(a,e))var h=a.connection}else 4==b&&(h=a.C);h?c.connect(h):console.warn("Can't connect to non-existent input: "+e)}}else console.warn("Can't move non-existent block: "+this.ga)};
v(Rb,"create",Md);v(Rb,"delete",Nd);v(Rb,"change",Ld);v(Rb,"move",Od);function Td(a,b){this.o=a;this.type=b}g=Td.prototype;g.L=null;g.Lc=!1;g.Ug=null;g.Al=null;g.x=0;g.y=0;g.gk=function(a){var b=this.D(),c=a.D();a.isConnected()&&a.disconnect();if(this.isConnected()){var d=this.dh(!0);this.Al=null;var e=this.I();if(e.W)e.m(!1);else{this.disconnect();var f=e}this.Al=d}var h;0==w&&(h=new (A("move"))(c));if(!this||!a)throw Error("Cannot connect null connections.");this.L=a;a.L=this;c.zl(b);h&&(Qd(h),x(h));f&&(a=1===this.type?f.v:f.H,(c=Ud(c,a))?a.connect(c):a.Vn(this))};
g.m=function(){if(this.isConnected()){this.ij(null);var a=this.I();a&&Sd(a)}this.Lc=!0};g.D=function(){return this.o};function Vd(a){return 1==a.type||3==a.type}g.isConnected=function(){return!!this.L};g.Vn=function(){};g.connect=function(a){if(this.L!=a&&0==Wd(this,a,!1)){var b=bc;b||z(!0);Vd(this)?this.gk(a):a.gk(this);b||z(!1)}};function Xd(a,b){var c=null;b=b.v;for(var d=0,e;e=a.B[d];d++)if((e=e.connection)&&0==Wd(b,e,!1)){if(c)return null;c=e}return c}
function Ud(a,b){if(2===b.type){a:{b=b.D();for(var c;c=Xd(a,b);)if(a=c.I(),!a||a.W){b=c;break a}b=null}return b}return(a=a.Pk(!0))&&0==Wd(b,a,!1)?a:null}g.disconnect=function(){var a=this.L;if(!a)throw Error("Source connection not connected.");if(a.L!=this)throw Error("Target connection not connected to source connection.");if(Vd(this)){var b=this.o;var c=a.D();a=this}else b=a.D(),c=this.o;var d=bc;d||z(!0);this.zm(b,c);c.W||a.aj();d||z(!1)};
g.zm=function(a,b){var c;0==w&&(c=new (A("move"))(b));this.L=this.L.L=null;b.zl(null);c&&(Qd(c),x(c))};g.aj=function(){var a=this.D(),b=this.dh();if(a.h&&b)if(a=zd(b,a.h),a.v)this.connect(a.v);else if(a.H)this.connect(a.H);else throw Error("Child block does not have output or previous statement.");};g.I=function(){return this.isConnected()?this.L.D():null};g.Yq=function(){!this.isConnected()||this.L&&0==Wd(this,this.L,!1)||Sd(Vd(this)?this.I():this.o)};
g.sb=function(a){a?(Array.isArray(a)||(a=[a]),this.Ug=a,this.Yq()):this.Ug=null;return this};g.ij=function(a){this.Al=a;a=this.I();a?a.W&&(a.m(!1),this.aj()):this.aj()};g.dh=function(a){return a&&this.I().W?ud(this.I()):this.Al};g.Mq=function(){return[]};g.Ed=function(){for(var a=null,b=this.o.B,c=0;c<b.length;c++)if(b[c].connection===this){a=b[c];break}return a};function Wd(a,b,c,d){if(a&&b){if(Vd(a)){var e=a.D();var f=b.D()}else f=a.D(),e=b.D();e=e==f?1:b.type!=ta[a.type]?2:e.h!==f.h?5:e.W&&!f.W?6:0}else e=3;return 0!=e?e:Yd(a,b)?c&&!Zd(a,b,d||0)?7:0:4}function Yd(a,b){a=a.Ug;b=b.Ug;if(!a||!b)return!0;for(var c=0;c<a.length;c++)if(-1!=b.indexOf(a[c]))return!0;return!1}
function Zd(a,b,c){if($d(a,b)>c||b.D().Bb())return!1;switch(b.type){case 4:return a.L||-1!=ae.indexOf(b)?a=!1:b.L?(a=b.I(),a=a.Bb()?!(a.H&&a.H.I()):!1):a=!0,a;case 2:if(b.isConnected()&&!b.I().Bb()||a.isConnected())return!1;break;case 1:if(b.isConnected()&&!b.I().ib()&&!b.I().W)return!1;break;case 3:if(b.isConnected()&&!a.D().C&&!b.I().W&&b.I().C)return!1;break;default:return!1}return-1!=ae.indexOf(b)?!1:!0}v(Pb,"default",function(){});function be(){this.name="classic";v(Vb,"classic",this)}be.prototype.fd=function(){return this.name+"-theme"};var ce={};ce=new be;function de(a){if(!a)return null;if(a instanceof Element||"string"==typeof a){if(a){if("string"!=typeof a&&(Ra&&a.outerHTML?a=a.outerHTML:a instanceof Element||(a=null)),"string"==typeof a&&(a=xd(a),"xml"!=a.nodeName.toLowerCase()))throw TypeError("Toolbox should be an <xml> document.");}else a=null;var b={contents:ee(a)};a instanceof Node&&fe(a,b);a=b}b=a.kind;var c=a.contents;if(b&&"flyoutToolbox"!=b&&"categoryToolbox"!=b)throw Error("Invalid toolbox kind "+b+". Please supply either flyoutToolbox or categoryToolbox");
if(!c)throw Error("Toolbox must have a contents attribute.");return a}function ge(a){return a?a.contents?a.contents:Array.isArray(a)&&0<a.length&&!a[0].nodeType?a:ee(a):[]}function he(a){if(!a)return!1;var b=a.kind;return b?"categoryToolbox"==b:!!a.contents.filter(function(c){return"CATEGORY"==c.kind.toUpperCase()}).length}
function ee(a){var b=[],c=a.childNodes;c||(c=a);a=0;for(var d;d=c[a];a++)if(d.tagName){var e={},f=d.tagName.toUpperCase();e.kind=f;"BLOCK"==f?e.blockxml=d:d.childNodes&&0<d.childNodes.length&&(e.contents=ee(d));fe(d,e);b.push(e)}return b}function fe(a,b){for(var c=0;c<a.attributes.length;c++){var d=a.attributes[c];-1<d.nodeName.indexOf("css-")?(b.cssconfig=b.cssconfig||{},b.cssconfig[d.nodeName.replace("css-","")]=d.value):b[d.nodeName]=d.value}};function ie(a){var b=!!a.readOnly;if(b)var c=null,d=!1,e=!1,f=!1,h=!1,l=!1,m=!1;else{c=de(a.toolbox);d=he(c);e=a.trashcan;void 0===e&&(e=d);var n=a.maxTrashcanContents;e?void 0===n&&(n=32):n=0;f=a.collapse;void 0===f&&(f=d);h=a.comments;void 0===h&&(h=d);l=a.disable;void 0===l&&(l=d);m=a.sounds;void 0===m&&(m=!0)}var q=!!a.rtl;var t="end"!==a.toolboxPosition==q?3:2;var y=a.css;void 0===y&&(y=!0);var O="https://blockly-demo.appspot.com/static/media/";a.media?O=a.media:a.path&&(O=a.path+"media/");var Na=
void 0===a.oneBasedIndex?!0:!!a.oneBasedIndex,ka=a.renderer||"geras",ib=a.plugins||{};this.s=q;this.Ae=Na;this.collapse=f;this.ai=h;this.disable=l;this.readOnly=b;this.In=a.maxBlocks||Infinity;this.Tk=a.maxInstances;this.pf=O;this.gq=d;b=a.move||{};f={};void 0===b.scrollbars&&void 0===a.scrollbars?f.scrollbars=d:"object"==typeof b.scrollbars?(f.scrollbars={},f.scrollbars.Di=!!b.scrollbars.horizontal,f.scrollbars.vertical=!!b.scrollbars.vertical,f.scrollbars.Di&&f.scrollbars.vertical?f.scrollbars=
!0:f.scrollbars.Di||f.scrollbars.vertical||(f.scrollbars=!1)):f.scrollbars=!!b.scrollbars||!!a.scrollbars;f.Fh=f.scrollbars&&void 0!==b.wheel?!!b.wheel:"object"==typeof f.scrollbars;f.le=f.scrollbars?void 0===b.drag?!0:!!b.drag:!1;this.Mb=f;this.jq=e;this.Uk=n;this.Ct=m;this.At=y;this.Kd=c;c=a.grid||{};d={};d.spacing=Number(c.spacing)||0;d.pm=c.colour||"#888";d.length=void 0===c.length?1:Number(c.length);d.rv=0<d.spacing&&!!c.snap;this.fq=d;c=a.zoom||{};d={};d.controls=void 0===c.controls?!1:!!c.controls;
d.Fh=void 0===c.wheel?!1:!!c.wheel;d.Br=void 0===c.startScale?1:Number(c.startScale);d.Mi=void 0===c.maxScale?3:Number(c.maxScale);d.Oi=void 0===c.minScale?.3:Number(c.minScale);d.wr=void 0===c.scaleSpeed?1.2:Number(c.scaleSpeed);d.gr=void 0===c.pinch?d.Fh||d.controls:!!c.pinch;this.Da=d;this.fb=t;this.Zi=ka;this.$i=a.rendererOverrides;this.gn=null;this.Sa=a.parentWorkspace;this.plugins=ib};function je(a){je.j.constructor.call(this);this.Ff=(this.Hd="undefined"==typeof a)?"":a.S();this.Jb=this.Hd?"":a.h.id}F(je,od);je.prototype.R=function(){var a=je.j.R.call(this);a.varId=this.Ff;return a};je.prototype.N=function(a){je.j.R.call(this);this.Ff=a.varId};function ke(a){ke.j.constructor.call(this,a);a&&(this.yg=a.type,this.xg=a.name)}F(ke,je);ke.prototype.type="var_create";ke.prototype.R=function(){var a=ke.j.R.call(this);a.varType=this.yg;a.varName=this.xg;return a};
ke.prototype.N=function(a){ke.j.N.call(this,a);this.yg=a.varType;this.xg=a.varName};ke.prototype.run=function(a){var b=pd(this);a?b.bd(this.xg,this.yg,this.Ff):b.je(this.Ff)};function le(a){le.j.constructor.call(this,a);a&&(this.yg=a.type,this.xg=a.name)}F(le,je);le.prototype.type="var_delete";le.prototype.R=function(){var a=le.j.R.call(this);a.varType=this.yg;a.varName=this.xg;return a};le.prototype.N=function(a){le.j.N.call(this,a);this.yg=a.varType;this.xg=a.varName};
le.prototype.run=function(a){var b=pd(this);a?b.je(this.Ff):b.bd(this.xg,this.yg,this.Ff)};function me(a,b){me.j.constructor.call(this,a);a&&(this.Rn=a.name,this.On="undefined"==typeof b?"":b)}F(me,je);me.prototype.type="var_rename";me.prototype.R=function(){var a=me.j.R.call(this);a.oldName=this.Rn;a.newName=this.On;return a};me.prototype.N=function(a){me.j.N.call(this,a);this.Rn=a.oldName;this.On=a.newName};me.prototype.run=function(a){var b=pd(this);a?b.tf(this.Ff,this.On):b.tf(this.Ff,this.Rn)};
v(Rb,"var_create",ke);v(Rb,"var_delete",le);v(Rb,"var_rename",me);
function ne(a){this.X=Object.create(null);this.h=a}g=ne.prototype;g.clear=function(){this.X=Object.create(null)};g.tf=function(a,b){var c=this.jd(a);if(!c)throw Error("Tried to rename a variable that didn't exist. ID: "+a);a=this.Oc(b,c.type);var d=oe(this.h);z(!0);try{if(a&&a.S()!=c.S()){var e=c.type;b!=a.name&&pe(a,b,d);for(b=0;b<d.length;b++)d[b].rl(c.S(),a.S());x(new (A("var_delete"))(c));this.X[e].splice(this.zi(e).indexOf(c),1)}else pe(c,b,d)}finally{z(!1)}};
function pe(a,b,c){x(new (A("var_rename"))(a,b));a.name=b;for(b=0;b<c.length;b++)c[b].Jl(a)}g.bd=function(a,b,c){var d=this.Oc(a,b);if(d){if(c&&d.S()!=c)throw Error('Variable "'+a+'" is already in use and its id is "'+d.S()+'" which conflicts with the passed in id, "'+c+'".');return d}if(c&&this.jd(c))throw Error('Variable id, "'+c+'", is already in use.');b=b||"";d=new qe(this.h,a,b,c||qb());a=this.X[b]||[];a.push(d);delete this.X[b];this.X[b]=a;return d};
g.je=function(a){var b=this.jd(a);if(b){var c=b.name,d=this.fn(a);a=0;for(var e;e=d[a];a++)if("procedures_defnoreturn"==e.type||"procedures_defreturn"==e.type){a=I(e,"NAME");c=k.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",c).replace("%2",a);re(c);return}var f=this;1<d.length?(c=k.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(d.length)).replace("%2",c),se(c,function(h){h&&b&&te(f,b,d)})):te(f,b,d)}else console.warn("Can't delete non-existent variable: "+a)};
function te(a,b,c){var d=bc;d||z(!0);try{for(var e=0;e<c.length;e++)c[e].m(!0);var f=a.X[b.type];a=0;for(var h;h=f[a];a++)if(h.S()==b.S()){f.splice(a,1);x(new (A("var_delete"))(b));break}}finally{d||z(!1)}}g.Oc=function(a,b){if(b=this.X[b||""])for(var c=0,d;d=b[c];c++)if(ue(d.name,a))return d;return null};g.jd=function(a){for(var b=Object.keys(this.X),c=0;c<b.length;c++)for(var d=b[c],e=0,f;f=this.X[d][e];e++)if(f.S()==a)return f;return null};g.zi=function(a){return(a=this.X[a||""])?a.slice():[]};
g.dn=function(a){var b={};qd(b,this.X);a&&a.qf&&qd(b,a.qf.X);a=Object.keys(b);b=!1;for(var c=0;c<a.length;c++)""==a[c]&&(b=!0);b||a.push("");return a};g.Rf=function(){var a=[],b;for(b in this.X)a=a.concat(this.X[b]);return a};g.Tm=function(){var a=[],b;for(b in this.X)for(var c=this.X[b],d=0,e;e=c[d];d++)a.push(e.name);return a};g.fn=function(a){for(var b=[],c=oe(this.h),d=0;d<c.length;d++){var e=c[d].oe();if(e)for(var f=0;f<e.length;f++)e[f].S()==a&&b.push(c[d])}return b};function Ad(a){this.id=qb();hc[this.id]=this;this.options=a||new ie({});this.s=!!this.options.s;this.fb=this.options.fb;new (ac(Pb,this.options,!0))(this);this.tj=[];this.Il=[];Object.create(null);this.jb=[];this.vg=[];this.Wi=[];this.gm=Object.create(null);this.Me=Object.create(null);this.X=new ne(this);this.qf=null}g=Ad.prototype;g.K=!1;g.sn=!1;g.lp=1024;g.ik=null;g.m=function(){this.jb.length=0;this.clear();delete hc[this.id]};
g.Ud=function(a,b){a=a.ea();b=b.ea();return a.y+Ad.prototype.Ud.offset*a.x-(b.y+Ad.prototype.Ud.offset*b.x)};g.Wj=function(a){this.tj.push(a)};g.ql=function(a){if(!vb(this.tj,a))throw Error("Block not present in workspace's list of top-most blocks.");};g.La=function(a){var b=[].concat(this.tj);a&&1<b.length&&(this.Ud.offset=Math.sin(3*Math.PI/180),this.s&&(this.Ud.offset*=-1),b.sort(this.Ud));return b};function ve(a,b){return a.Me[b]?a.Me[b].slice(0):[]}
function oe(a){var b=a.La(!1);for(a=0;a<b.length;a++)b.push.apply(b,td(b[a],!1));return b.filter(function(c){return!c.Bb()})}g.clear=function(){this.sn=!0;try{var a=bc;for(a||z(!0);this.tj.length;)this.tj[0].m(!1);for(;this.Il.length;)this.Il[this.Il.length-1].m(!1);a||z(!1);this.X.clear();this.qf&&this.qf.clear()}finally{this.sn=!1}};g.tf=function(a,b){this.X.tf(a,b)};g.bd=function(a,b,c){return this.X.bd(a,b,c)};g.fn=function(a){return this.X.fn(a)};g.je=function(a){this.X.je(a)};
g.Oc=function(a,b){return this.X.Oc(a,b)};g.jd=function(a){return this.X.jd(a)};g.zi=function(a){return this.X.zi(a)};g.dn=function(){return this.X.dn(this)};g.Rf=function(){return this.X.Rf()};g.Tm=function(){return this.X.Tm()};g.qe=function(){return 0};g.gf=function(a,b){return new we(this,a,b)};function xe(a){return isNaN(a.options.In)?Infinity:a.options.In-oe(a).length}
function ye(a,b){if(!ze(a))return!0;var c=0,d;for(d in b){if(b[d]>(a.options.Tk?(void 0!==a.options.Tk[d]?a.options.Tk[d]:Infinity)-ve(a,d).length:Infinity))return!1;c+=b[d]}return c>xe(a)?!1:!0}function ze(a){return Infinity!=a.options.In||!!a.options.Tk}function Ae(a,b){var c=b?a.Wi:a.vg;a=b?a.vg:a.Wi;var d=c.pop();if(d){for(var e=[d];c.length&&d.group&&d.group==c[c.length-1].group;)e.push(c.pop());for(c=0;d=e[c];c++)a.push(d);e=gc(e,b);cc=!1;try{for(c=0;d=e[c];c++)d.run(b)}finally{cc=!0}}}
function Be(a,b){a.jb.push(b)}g.hc=function(a){return this.gm[a]||null};g.Lo=function(a){this.X=a};var hc=Object.create(null);function Ce(){var a=[],b;for(b in hc)a.push(hc[b]);return a};function De(a,b,c,d,e,f){this.g=a;this.gi=b;this.ou=c;this.Zn=this.Yn=this.Ln=this.Bo=null;this.Lc=!1;c=Ee;this.g.s&&(c=-c);this.Us=c*Math.PI/180;a.rd.appendChild(this.ee(b,!(!e||!f)));this.Oa=d;this.tl&&Fe(this);e&&f||(a=this.gi.getBBox(),e=a.width+2*Ge,f=a.height+2*Ge);this.ej(e,f);Fe(this);He(this);this.tl=!0}var Ge=6,Ee=20,Ie=null,Je=null;function Ke(){Ie&&(u(Ie),Ie=null);Je&&(u(Je),Je=null)}function Le(){Bb=null;Ke()}g=De.prototype;g.tl=!1;g.Oa=null;g.Pd=0;g.sf=0;g.pa=0;g.zb=0;g.fm=!0;
g.ee=function(a,b){this.Ic=B(vc,{},null);var c={filter:"url(#"+this.g.Ba.F().xk+")"};Ta&&(c={});c=B(vc,c,this.Ic);this.Bp=B(yc,{},c);this.$j=B(Bc,{"class":"blocklyDraggable",x:0,y:0,rx:Ge,ry:Ge},c);b?(this.Ee=B(vc,{"class":this.g.s?"blocklyResizeSW":"blocklyResizeSE"},this.Ic),b=2*Ge,B(Ac,{points:"0,x x,x x,0".replace(/x/g,b.toString())},this.Ee),B(xc,{"class":"blocklyResizeLine",x1:b/3,y1:b-1,x2:b-1,y2:b/3},this.Ee),B(xc,{"class":"blocklyResizeLine",x1:2*b/3,y1:b-1,x2:b-1,y2:2*b/3},this.Ee)):this.Ee=
null;this.g.options.readOnly||(this.Yn=r(this.$j,"mousedown",this,this.Xs),this.Ee&&(this.Zn=r(this.Ee,"mousedown",this,this.ju)));this.Ic.appendChild(a);return this.Ic};g.T=function(){return this.Ic};function Me(a,b){a.Ic.dataset&&(a.Ic.dataset.blockId=b)}g.Xs=function(a){var b=this.g.me(a);if(b){if(b.Uf)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");b.Bc||(b.Bc=this);b.Rc=a}};g.kj=function(){};g.Qc=function(){return!1};g.Fo=function(){};
g.ju=function(a){Ne(this);Ke();kb(a)||(this.g.nj(a,new p(this.g.s?-this.pa:this.pa,this.zb)),Ie=r(document,"mouseup",this,Le),Je=r(document,"mousemove",this,this.ku),md());a.stopPropagation()};g.ku=function(a){this.fm=!1;var b=this.g;a=lb(a,E(b),jd(b));a.x/=b.scale;a.y/=b.scale;b=Ea(b.Tp,a);this.ej(this.g.s?-b.x:b.x,b.y);this.g.s&&Fe(this)};function Ne(a){var b=a.Ic.parentNode;return b.lastChild!==a.Ic?(b.appendChild(a.Ic),!0):!1}
function Oe(a,b,c){var d=a.g.s?a.Oa.x-b.x-a.pa:b.x+a.Oa.x;b=b.y+a.Oa.y;return Math.max(0,Math.min(1,(Math.min(d+a.pa,c.left+c.width)-Math.max(d,c.left))*(Math.min(b+a.zb,c.top+c.height)-Math.max(b,c.top))/(a.pa*a.zb)))}function Fe(a){var b=a.Oa.x;b=a.g.s?b-(a.Pd+a.pa):b+a.Pd;a.moveTo(b,a.sf+a.Oa.y)}g.moveTo=function(a,b){this.Ic.setAttribute("transform","translate("+a+","+b+")")};g.yf=function(a){!a&&this.Ln&&this.Ln()};g.Um=function(){return new Ma(this.pa,this.zb)};
g.ej=function(a,b){var c=2*Ge;a=Math.max(a,c+45);b=Math.max(b,c+20);this.pa=a;this.zb=b;this.$j.setAttribute("width",a);this.$j.setAttribute("height",b);this.Ee&&(this.g.s?this.Ee.setAttribute("transform","translate("+2*Ge+","+(b-c)+") scale(-1 1)"):this.Ee.setAttribute("transform","translate("+(a-c)+","+(b-c)+")"));if(this.fm){a=Pe(this.g.bc,!0);b=-this.pa/4;if(!(this.pa>a.width)){if(this.g.s){c=this.Oa.x-b;var d=c-this.pa;var e=a.left+a.width,f=a.left+Sc/this.g.scale}else d=b+this.Oa.x,c=d+this.pa,
f=a.left,e=a.left+a.width-Sc/this.g.scale;this.g.s?d<f?b=-(f-this.Oa.x+this.pa):c>e&&(b=-(e-this.Oa.x)):d<f?b=f-this.Oa.x:c>e&&(b=e-this.Oa.x-this.pa)}d=b;b=-this.zb/4;if(!(this.zb>a.height)){c=this.Oa.y+b;e=c+this.zb;f=a.top;var h=a.top+a.height-Sc/this.g.scale,l=this.Oa.y;c<f?b=f-l:e>h&&(b=h-l-this.zb)}f=b;e=this.ou.getBBox();b={x:d,y:-this.zb-this.g.Ba.F().Mh};c={x:-this.pa-30,y:f};f={x:e.width,y:f};h={x:d,y:e.height};d=e.width<e.height?f:h;e=e.width<e.height?h:f;f=Oe(this,b,a);h=Oe(this,c,a);
l=Oe(this,d,a);a=Math.max(f,h,l,Oe(this,e,a));f==a?(this.Pd=b.x,this.sf=b.y):h==a?(this.Pd=c.x,this.sf=c.y):l==a?(this.Pd=d.x,this.sf=d.y):(this.Pd=e.x,this.sf=e.y)}Fe(this);He(this);this.Bo&&this.Bo()};
function He(a){var b=[],c=a.pa/2,d=a.zb/2,e=-a.Pd,f=-a.sf;if(c==e&&d==f)b.push("M "+c+","+d);else{f-=d;e-=c;a.g.s&&(e*=-1);var h=Math.sqrt(f*f+e*e),l=Math.acos(e/h);0>f&&(l=2*Math.PI-l);var m=l+Math.PI/2;m>2*Math.PI&&(m-=2*Math.PI);var n=Math.sin(m),q=Math.cos(m),t=a.Um();m=(t.width+t.height)/5;m=Math.min(m,t.width,t.height)/4;t=1-8/h;e=c+t*e;f=d+t*f;t=c+m*q;var y=d+m*n;c-=m*q;d-=m*n;n=l+a.Us;n>2*Math.PI&&(n-=2*Math.PI);l=Math.sin(n)*h/4;h=Math.cos(n)*h/4;b.push("M"+t+","+y);b.push("C"+(t+h)+","+
(y+l)+" "+e+","+f+" "+e+","+f);b.push("C"+e+","+f+" "+(c+h)+","+(d+l)+" "+c+","+d)}b.push("z");a.Bp.setAttribute("d",b.join(" "))}g.bb=function(a){this.$j.setAttribute("fill",a);this.Bp.setAttribute("fill",a)};g.m=function(){this.Yn&&u(this.Yn);this.Zn&&u(this.Zn);Ke();D(this.Ic);this.Lc=!0};g.Mn=function(a,b){a?a.ug(b.x,b.y):this.moveTo(b.x,b.y);this.Pd=this.g.s?this.Oa.x-b.x-this.pa:b.x-this.Oa.x;this.sf=b.y-this.Oa.y;He(this)};
g.ea=function(){return new p(this.g.s?-this.Pd+this.Oa.x-this.pa:this.Oa.x+this.Pd,this.Oa.y+this.sf)};function Qe(a){var b=B(Dc,{"class":"blocklyText blocklyBubbleText blocklyNoPointerEvents",y:Ge},null);a=a.split("\n");for(var c=0;c<a.length;c++)B(Ec,{dy:"1em",x:Ge},b).appendChild(document.createTextNode(a[c]));return b}
function Re(a,b,c){c=new De(b.h,a,b.Aa.Ha,c,null,null);Me(c,b.id);if(b.s){b=a.getBBox().width;for(var d=0,e;e=a.childNodes[d];d++)e.setAttribute("text-anchor","end"),e.setAttribute("x",b+Ge)}return c};var Se=!1;function Ue(a){if(Se)throw Error("CSS already injected");Array.prototype.push.apply(Ve,a);a.length=0}
var Ve=[".blocklySvg {","background-color: #fff;","outline: none;","overflow: hidden;","position: absolute;","display: block;","}",".blocklyWidgetDiv {","display: none;","position: absolute;","z-index: 99999;","}",".injectionDiv {","height: 100%;","position: relative;","overflow: hidden;","touch-action: none;","}",".blocklyNonSelectable {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","}",".blocklyWsDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;",
"}",".blocklyWsDragSurface.blocklyOverflowVisible {","overflow: visible;","}",".blocklyBlockDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","right: 0;","bottom: 0;","overflow: visible !important;","z-index: 50;","}",".blocklyBlockCanvas.blocklyCanvasTransitioning,",".blocklyBubbleCanvas.blocklyCanvasTransitioning {","transition: transform .5s;","}",".blocklyTooltipDiv {","background-color: #ffffc7;","border: 1px solid #ddc;","box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);",
"color: #000;","display: none;","font: 9pt sans-serif;","opacity: .9;","padding: 2px;","position: absolute;","z-index: 100000;","}",".blocklyDropDownDiv {","position: absolute;","left: 0;","top: 0;","z-index: 1000;","display: none;","border: 1px solid;","border-color: #dadce0;","background-color: #fff;","border-radius: 2px;","padding: 4px;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv.blocklyFocused {","box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownContent {",
"max-height: 300px;","overflow: auto;","overflow-x: hidden;","position: relative;","}",".blocklyDropDownArrow {","position: absolute;","left: 0;","top: 0;","width: 16px;","height: 16px;","z-index: -1;","background-color: inherit;","border-color: inherit;","}",".blocklyDropDownButton {","display: inline-block;","float: left;","padding: 0;","margin: 4px;","border-radius: 4px;","outline: none;","border: 1px solid;","transition: box-shadow .1s;","cursor: pointer;","}",".blocklyArrowTop {","border-top: 1px solid;",
"border-left: 1px solid;","border-top-left-radius: 4px;","border-color: inherit;","}",".blocklyArrowBottom {","border-bottom: 1px solid;","border-right: 1px solid;","border-bottom-right-radius: 4px;","border-color: inherit;","}",".blocklyResizeSE {","cursor: se-resize;","fill: #aaa;","}",".blocklyResizeSW {","cursor: sw-resize;","fill: #aaa;","}",".blocklyResizeLine {","stroke: #515A5A;","stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","fill: none;","stroke: #fc3;","stroke-width: 4px;",
"}",".blocklyPathLight {","fill: none;","stroke-linecap: round;","stroke-width: 1;","}",".blocklySelected>.blocklyPathLight {","display: none;","}",".blocklyDraggable {",'cursor: url("<<<PATH>>>/handopen.cur"), auto;',"cursor: grab;","cursor: -webkit-grab;","}",".blocklyDragging {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDraggable:active {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;",
"}",".blocklyBlockDragSurface .blocklyDraggable {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging.blocklyDraggingDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {","fill-opacity: .8;","stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {","display: none;","}",".blocklyDisabled>.blocklyPath {","fill-opacity: .5;","stroke-opacity: .5;",
"}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {","display: none;","}",".blocklyInsertionMarker>.blocklyPath,",".blocklyInsertionMarker>.blocklyPathLight,",".blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: .2;","stroke: none;","}",".blocklyMultilineText {","font-family: monospace;","}",".blocklyNonEditableText>text {","pointer-events: none;","}",".blocklyFlyout {","position: absolute;","z-index: 20;","}",".blocklyText text {","cursor: default;","}",".blocklySvg text,",
".blocklyBlockDragSurface text {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","cursor: inherit;","}",".blocklyHidden {","display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","display: block;","}",".blocklyIconGroup {","cursor: default;","}",".blocklyIconGroup:not(:hover),",".blocklyIconGroupReadonly {","opacity: .6;","}",".blocklyIconShape {","fill: #00f;","stroke: #fff;","stroke-width: 1px;","}",".blocklyIconSymbol {","fill: #fff;","}",".blocklyMinimalBody {",
"margin: 0;","padding: 0;","}",".blocklyHtmlInput {","border: none;","border-radius: 4px;","height: 100%;","margin: 0;","outline: none;","padding: 0;","width: 100%;","text-align: center;","display: block;","box-sizing: border-box;","}",".blocklyHtmlInput::-ms-clear {","display: none;","}",".blocklyMainBackground {","stroke-width: 1;","stroke: #c6c6c6;","}",".blocklyMutatorBackground {","fill: #fff;","stroke: #ddd;","stroke-width: 1;","}",".blocklyFlyoutBackground {","fill: #ddd;","fill-opacity: .8;",
"}",".blocklyMainWorkspaceScrollbar {","z-index: 20;","}",".blocklyFlyoutScrollbar {","z-index: 30;","}",".blocklyScrollbarHorizontal,",".blocklyScrollbarVertical {","position: absolute;","outline: none;","}",".blocklyScrollbarBackground {","opacity: 0;","}",".blocklyScrollbarHandle {","fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyScrollbarHandle:hover {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarHandle {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",
".blocklyFlyout .blocklyScrollbarHandle:hover {","fill: #aaa;","}",".blocklyInvalidInput {","background: #faa;","}",".blocklyVerticalMarker {","stroke-width: 3px;","fill: rgba(255,255,255,.5);","pointer-events: none;","}",".blocklyComputeCanvas {","position: absolute;","width: 0;","height: 0;","}",".blocklyNoPointerEvents {","pointer-events: none;","}",".blocklyContextMenu {","border-radius: 4px;","max-height: 100%;","}",".blocklyDropdownMenu {","border-radius: 2px;","padding: 0 !important;","}",
".blocklyDropdownMenu .blocklyMenuItem {","padding-left: 28px;","}",".blocklyDropdownMenu .blocklyMenuItemRtl {","padding-left: 5px;","padding-right: 28px;","}",".blocklyWidgetDiv .blocklyMenu {","background: #fff;","border: 1px solid transparent;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","font: normal 13px Arial, sans-serif;","margin: 0;","outline: none;","padding: 4px 0;","position: absolute;","overflow-y: auto;","overflow-x: hidden;","max-height: 100%;","z-index: 20000;","}",".blocklyWidgetDiv .blocklyMenu.blocklyFocused {",
"box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv .blocklyMenu {","background: inherit;","border: inherit;",'font: normal 13px "Helvetica Neue", Helvetica, sans-serif;',"outline: none;","position: relative;","z-index: 20000;","}",".blocklyMenuItem {","border: none;","color: #000;","cursor: pointer;","list-style: none;","margin: 0;","min-width: 7em;","padding: 6px 15px;","white-space: nowrap;","}",".blocklyMenuItemDisabled {","color: #ccc;","cursor: inherit;","}",".blocklyMenuItemHighlight {",
"background-color: rgba(0,0,0,.1);","}",".blocklyMenuItemCheckbox {","height: 16px;","position: absolute;","width: 16px;","}",".blocklyMenuItemSelected .blocklyMenuItemCheckbox {","background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;","float: left;","margin-left: -24px;","position: static;","}",".blocklyMenuItemRtl .blocklyMenuItemCheckbox {","float: right;","margin-right: -24px;","}"];function We(a){We.j.constructor.call(this);this.Hd="undefined"==typeof a;this.Jb=a?a:"";this.Eb=!1}F(We,od);We.prototype.Ok=!0;function Xe(a,b,c,d){Xe.j.constructor.call(this,a?a.h.id:void 0);this.ga=a?a.id:null;this.element="undefined"==typeof b?"":b;this.oldValue="undefined"==typeof c?"":c;this.newValue="undefined"==typeof d?"":d}F(Xe,We);Xe.prototype.type="ui";
Xe.prototype.R=function(){var a=Xe.j.R.call(this);a.element=this.element;void 0!==this.newValue&&(a.newValue=this.newValue);this.ga&&(a.blockId=this.ga);return a};Xe.prototype.N=function(a){Xe.j.N.call(this,a);this.element=a.element;this.newValue=a.newValue;this.ga=a.blockId};v(Rb,"ui",Xe);function Ye(a,b,c){Ye.j.constructor.call(this,a?a.h.id:void 0);this.ga=a?a.id:null;this.nh=b;this.im=c}F(Ye,We);Ye.prototype.type="bubble_open";Ye.prototype.R=function(){var a=Ye.j.R.call(this);a.isOpen=this.nh;a.bubbleType=this.im;a.blockId=this.ga;return a};Ye.prototype.N=function(a){Ye.j.N.call(this,a);this.nh=a.isOpen;this.im=a.bubbleType;this.ga=a.blockId};v(Rb,"bubble_open",Ye);function Ze(a){this.A=a;this.Yb=null}g=Ze.prototype;g.Hp=!0;g.Rj=17;g.Ia=null;g.bf=null;function $e(a){a.Yb||(a.Yb=B(vc,{"class":"blocklyIconGroup"},null),a.A.Ga&&C(a.Yb,"blocklyIconGroupReadonly"),a.Dm(a.Yb),a.A.T().appendChild(a.Yb),r(a.Yb,"mouseup",a,a.mn),a.Ne())}g.m=function(){D(this.Yb);this.Yb=null;this.ma(!1);this.A=null};g.Ne=function(){};g.isVisible=function(){return!!this.Ia};g.mn=function(a){this.A.h.$a()||this.A.Ga||kb(a)||this.ma(!this.isVisible())};
g.Pa=function(){this.isVisible()&&this.Ia.bb(this.A.style.ae)};function af(a){var b=a.A.ea(),c=fb(a.Yb);b=new p(b.x+c.x+a.Rj/2,b.y+c.y+a.Rj/2);Ba(a.bf,b)||(a.bf=b,a.isVisible()&&(a=a.Ia,a.Oa=b,a.tl&&Fe(a)))};function bf(a){bf.j.constructor.call(this,a);$e(this);this.Je=Object.create(null)}F(bf,Ze);g=bf.prototype;g.Hp=!1;g.Dm=function(a){B(yc,{"class":"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},a);B(yc,{"class":"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},a);B(Bc,{"class":"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},a)};g.ma=function(a){a!=this.isVisible()&&(x(new (A("bubble_open"))(this.A,a,"warning")),a?this.jk():this.vk())};
g.jk=function(){this.lg=Qe(this.ic());this.Ia=Re(this.lg,this.A,this.bf);this.Pa()};g.vk=function(){this.Ia.m();this.lg=this.Ia=null};function cf(a,b,c){a.Je[c]!=b&&(b?a.Je[c]=b:delete a.Je[c],a.isVisible()&&(a.ma(!1),a.ma(!0)))}g.ic=function(){var a=[],b;for(b in this.Je)a.push(this.Je[b]);return a.join("\n")};g.m=function(){this.A.Fc=null;Ze.prototype.m.call(this)};function Id(a){Id.j.constructor.call(this,a);this.Cb=a.qc;this.Cb.text=this.Cb.text||"";this.lm="";this.bl=this.Zk=this.jl=this.kf=null;$e(this)}F(Id,Ze);g=Id.prototype;
g.Dm=function(a){B(mc,{"class":"blocklyIconShape",r:"8",cx:"8",cy:"8"},a);B(yc,{"class":"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},a);B(Bc,{"class":"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},a)};
g.tm=function(){this.wi=B(uc,{x:Ge,y:Ge},null);var a=document.createElementNS("http://www.w3.org/1999/xhtml","body");a.setAttribute("xmlns","http://www.w3.org/1999/xhtml");a.className="blocklyMinimalBody";var b=this.tg=document.createElementNS("http://www.w3.org/1999/xhtml","textarea");b.className="blocklyCommentTextarea";b.setAttribute("dir",this.A.s?"RTL":"LTR");b.value=this.Cb.text;df(this);a.appendChild(b);this.wi.appendChild(a);this.kf=r(b,"mouseup",this,this.su,!0,!0);this.jl=r(b,"wheel",this,
function(c){c.stopPropagation()});this.Zk=r(b,"change",this,function(){this.lm!=this.Cb.text&&x(new (A("change"))(this.A,"comment",null,this.lm,this.Cb.text))});this.bl=r(b,"input",this,function(){this.Cb.text=b.value});setTimeout(b.focus.bind(b),0);return this.wi};g.Ne=function(){Id.j.Ne.call(this);this.isVisible()&&(this.vk(),this.jk())};g.Qt=function(){this.isVisible()&&(this.Cb.size=this.Ia.Um(),df(this))};
function df(a){var b=a.Cb.size,c=2*Ge,d=b.width-c;b=b.height-c;a.wi.setAttribute("width",d);a.wi.setAttribute("height",b);a.tg.style.width=d-4+"px";a.tg.style.height=b-4+"px"}g.ma=function(a){a!=this.isVisible()&&(x(new (A("bubble_open"))(this.A,a,"comment")),(this.Cb.so=a)?this.jk():this.vk())};
g.jk=function(){!this.A.Zb()||Ra?(this.lg=Qe(this.A.qc.text),this.Ia=Re(this.lg,this.A,this.bf)):(this.Ia=new De(this.A.h,this.tm(),this.A.Aa.Ha,this.bf,this.Cb.size.width,this.Cb.size.height),Me(this.Ia,this.A.id),this.Ia.Bo=this.Qt.bind(this));this.Pa()};g.vk=function(){this.kf&&(u(this.kf),this.kf=null);this.jl&&(u(this.jl),this.jl=null);this.Zk&&(u(this.Zk),this.Zk=null);this.bl&&(u(this.bl),this.bl=null);this.Ia.m();this.lg=this.wi=this.tg=this.Ia=null};
g.su=function(){Ne(this.Ia)&&this.tg.focus();this.lm=this.Cb.text};g.Um=function(){return this.Cb.size};g.ej=function(a,b){this.Ia?this.Ia.ej(a,b):(this.Cb.size.width=a,this.Cb.size.height=b)};g.m=function(){this.A.$h=null;Ze.prototype.m.call(this)};Ue(".blocklyCommentTextarea {,background-color: #fef49c;,border: 0;,outline: 0;,margin: 0;,padding: 3px;,resize: none;,display: block;,text-overflow: hidden;,}".split(","));function ef(a,b,c,d){this.g=a;this.Hl=b;this.Je=c.text;this.mg=new p(0,0);this.ue=d;this.bk=c.callbackKey||c.callbackkey;this.Kp=c["web-class"]||null;this.kf=null;this.info=c}g=ef.prototype;g.width=0;g.height=0;
g.xa=function(){var a=this.ue?"blocklyFlyoutLabel":"blocklyFlyoutButton";this.Kp&&(a+=" "+this.Kp);this.u=B(vc,{"class":a},this.g.ra);if(!this.ue)var b=B(Bc,{"class":"blocklyFlyoutButtonShadow",rx:4,ry:4,x:1,y:1},this.u);a=B(Bc,{"class":this.ue?"blocklyFlyoutLabelBackground":"blocklyFlyoutButtonBackground",rx:4,ry:4},this.u);var c=B(Dc,{"class":this.ue?"blocklyFlyoutLabelText":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.u),d=nb(this.Je);this.g.s&&(d+="\u200f");c.textContent=d;this.ue&&(this.Ro=
c,this.g.eb.subscribe(this.Ro,"flyoutForegroundColour","fill"));var e=Pa(c,"fontSize"),f=Pa(c,"fontWeight"),h=Pa(c,"fontFamily");this.width=Oc(c,e,f,h);d=Pc(d,e,f,h);this.height=d.height;this.ue||(this.width+=10,this.height+=4,b.setAttribute("width",this.width),b.setAttribute("height",this.height));a.setAttribute("width",this.width);a.setAttribute("height",this.height);c.setAttribute("x",this.width/2);c.setAttribute("y",this.height/2-d.height/2+d.Hc);ff(this);this.kf=r(this.u,"mouseup",this,this.au);
return this.u};g.show=function(){ff(this);this.u.setAttribute("display","block")};function ff(a){a.u.setAttribute("transform","translate("+a.mg.x+","+a.mg.y+")")}g.moveTo=function(a,b){this.mg.x=a;this.mg.y=b;ff(this)};g.m=function(){this.kf&&u(this.kf);this.u&&D(this.u);this.Ro&&this.g.eb.unsubscribe(this.Ro)};
g.au=function(a){(a=this.Hl.me(a))&&a.cancel();this.ue&&this.bk?console.warn("Labels should not have callbacks. Label text: "+this.Je):this.ue||this.bk&&gf(this.Hl,this.bk)?this.ue||gf(this.Hl,this.bk)(this):console.warn("Buttons should have callbacks. Button text: "+this.Je)};Ue(".blocklyFlyoutButton {,fill: #888;,cursor: default;,},.blocklyFlyoutButtonShadow {,fill: #666;,},.blocklyFlyoutButton:hover {,fill: #aaa;,},.blocklyFlyoutLabel {,cursor: default;,},.blocklyFlyoutLabelBackground {,opacity: 0;,}".split(","));function hf(a,b,c){if(!b)throw Error("Cannot create a node without a location.");this.wj=a;this.U=b;this.Ur=null;(a=c||null)&&a.Tr&&(this.Ur=a.Tr)}var jf=!1;function kf(a){return a?new hf("field",a):null}function lf(a){if(!a)return null;var b=a.type;return 1==b||3==b&&a.Ed()?mf(a.Ed()):3==b?new hf("next",a):2==b?new hf("output",a):4==b?new hf("previous",a):null}function mf(a){return a&&a.connection?new hf("input",a.connection):null}function nf(a){return a?new hf("block",a):null}
function of(a){return a?new hf("stack",a):null}g=hf.prototype;g.getType=function(){return this.wj};function pf(a,b){a=a.U;a instanceof we||(a=a.D());if(!a||!a.h)return null;var c=a.hd();a=c.h.La(!0);for(var d=0,e;e=a[d];d++)if(c.id==e.id)return b=d+(b?1:-1),-1==b||b==a.length?null:of(a[b]);throw Error("Couldn't find "+(b?"next":"previous")+" stack?!");}function qf(a){if(!a)return null;do var b=a.H&&a.H.I();while(b&&yb(b)==a&&(a=b));return(b=a.H||a.v)&&b.L&&b.L.Ed()?mf(b.L.Ed()):of(a)}
g.D=function(){return"block"===this.getType()?this.U:"stack"===this.getType()?this.U:"workspace"===this.getType()?null:this.U.D()};
g.next=function(){switch(this.wj){case "stack":return pf(this,!0);case "output":var a=this.U;return nf(a.D());case "field":a:{var b=this.U,c=b.Ed();a=b.D();b=c.ba.indexOf(b)+1;c=a.B.indexOf(c);for(var d;d=a.B[c];c++){for(var e=d.ba;b<e.length;){if(rf(e[b])||jf){a=kf(e[b]);break a}b++}b=0;if(d.connection){a=mf(d);break a}}a=null}return a;case "input":a:{b=this.U.Ed();a=b.D();for(b=a.B.indexOf(b)+1;c=a.B[b];b++){d=c.ba;e=0;for(var f;f=d[e];e++)if(rf(f)||jf){a=kf(f);break a}if(c.connection){a=mf(c);
break a}}a=null}return a;case "block":return lf(this.U.C);case "previous":return a=this.U,nf(a.D());case "next":return a=this.U,lf(a.L)}return null};g.cf=function(){switch(this.wj){case "workspace":var a=this.U.La(!0);if(0<a.length)return of(a[0]);break;case "stack":a=this.U;var b=a.H||a.v;return b?lf(b):nf(a);case "block":a=this.U;a:{a=a.B;b=0;for(var c;c=a[b];b++){for(var d=c.ba,e=0,f;f=d[e];e++)if(rf(f)||jf){a=kf(f);break a}if(c.connection){a=mf(c);break a}}a=null}return a;case "input":return lf(this.U.L)}return null};
g.Ce=function(){switch(this.wj){case "stack":return pf(this,!1);case "field":a:{var a=this.U;var b=a.Ed();var c=a.D();a=b.ba.indexOf(a)-1;for(var d=c.B.indexOf(b),e;e=c.B[d];d--){if(e.connection&&e!==b){b=mf(e);break a}for(e=e.ba;-1<a;){if(rf(e[a])||jf){b=kf(e[a]);break a}a--}0<=d-1&&(a=c.B[d-1].ba.length-1)}b=null}return b;case "input":a:{b=this.U.Ed();c=b.D();for(a=c.B.indexOf(b);d=c.B[a];a--){if(d.connection&&d!==b){b=mf(d);break a}d=d.ba;e=d.length-1;for(var f;f=d[e];e--)if(rf(f)||jf){b=kf(f);
break a}}b=null}return b;case "block":return b=this.U,lf(b.H||b.v);case "previous":b=this.U;if((b=b.L)&&!b.Ed())return lf(b);break;case "next":return b=this.U,nf(b.D())}return null};
g.lf=function(){switch(this.wj){case "stack":var a=this.U,b=a.ea();a=a.h;return(b=new p(b.x,b.y+-20),a)?new hf("workspace",a,{Tr:b}):null;case "output":return b=this.U,(a=b.L)?lf(a):of(b.D());case "field":return nf(this.U.D());case "input":return b=this.U,nf(b.D());case "block":return a=this.U,qf(a);case "previous":return b=this.U,qf(b.D());case "next":return b=this.U,qf(b.D())}return null};var J=Object.create(null);var sf=Object.create(null);function tf(a,b){if("string"!=typeof a||""==a.trim())throw Error('Error: Invalid extension name "'+a+'"');if(sf[a])throw Error('Error: Extension "'+a+'" is already registered.');if("function"!=typeof b)throw Error('Error: Extension "'+a+'" must be a function');sf[a]=b}function uf(a,b){if(!b||"object"!=typeof b)throw Error('Error: Mixin "'+a+'" must be a object');tf(a,function(){vf(this,b)})}
function wf(a,b,c,d){var e='Error when registering mutator "'+a+'": ';xf(e,b.Ka,"domToMutation");xf(e,b.qa,"mutationToDom");var f=yf(b,e);if(c&&"function"!=typeof c)throw Error('Extension "'+a+'" is not a function');tf(a,function(){if(f){if(!zf)throw Error(e+"Missing require for Blockly.Mutator");this.gj(new zf(d||[]))}vf(this,b);c&&c.apply(this)})}
function Af(a,b,c){var d=sf[a];if("function"!=typeof d)throw Error('Error: Extension "'+a+'" not found.');if(c){if(Bf(b).length)throw Error('Error: tried to apply mutation "'+a+'" to a block that already has mutator functions.  Block id: '+b.id);}else var e=Bf(b);d.apply(b);if(c){a='Error after applying mutator "'+a+'": ';if("function"!=typeof b.Ka)throw Error(a+'Applying a mutator didn\'t add "domToMutation"');if("function"!=typeof b.qa)throw Error(a+'Applying a mutator didn\'t add "mutationToDom"');
yf(b,a)}else{a:if(c=e,b=Bf(b),b.length!=c.length)b=!1;else{for(d=0;d<b.length;d++)if(c[d]!=b[d]){b=!1;break a}b=!0}if(!b)throw Error('Error when applying extension "'+a+'": mutation properties changed when applying a non-mutator extension.');}}function xf(a,b,c){if(!b)throw Error(a+'missing required property "'+c+'"');if("function"!=typeof b)throw Error(a+'" required property "'+c+'" must be a function');}
function yf(a,b){var c=void 0!==a.ce,d=void 0!==a.ie;if(c&&d){if("function"!=typeof a.ce)throw Error(b+"compose must be a function.");if("function"!=typeof a.ie)throw Error(b+"decompose must be a function.");return!0}if(!c&&!d)return!1;throw Error(b+'Must have both or neither of "compose" and "decompose"');}function Bf(a){var b=[];void 0!==a.Ka&&b.push(a.Ka);void 0!==a.qa&&b.push(a.qa);void 0!==a.ce&&b.push(a.ce);void 0!==a.ie&&b.push(a.ie);return b}
function Cf(a,b){var c=[];"object"==typeof document&&ub(function(){for(var d in b)pb(b[d])});return function(){this.type&&-1==c.indexOf(this.type)&&(Df(this,a,b),c.push(this.type));this.Ma(function(){var d=String(I(this,a)),e=b[d];null==e?-1==c.indexOf(this.type)&&(d="No tooltip mapping for value "+d+" of field "+a,null!=this.type&&(d+=" of block type "+this.type),console.warn(d+".")):e=nb(e);return e}.bind(this))}}
function Df(a,b,c){var d=Jd(a,b);if(!Ef(d)){d=Ff(d);for(var e=0;e<d.length;++e){var f=d[e][1];null==c[f]&&console.warn("No tooltip mapping for value "+f+" of field "+b+" of block type "+a.type)}}}function Gf(a){"object"==typeof document&&ub(function(){pb(a)});return function(){this.Ma(function(){var b=Jd(this,"VAR");return nb(a).replace("%1",b?b.ic():"")}.bind(this))}}tf("parent_tooltip_when_inline",function(){this.yu=this.Zc;this.Ma(function(){var a=this.getParent();return a&&Hf(a)&&a.Zc||this.yu}.bind(this))});function If(a){var b=$b(Sb,a.type);return b?b.N(a):(console.warn("Blockly could not create a field of type "+a.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null)};
var Jf,Kf,Lf,Mf=null,Nf=null,Of=null,Pf=null,Qf="",Rf="";
function Sf(){if(!Jf){var a=document.createElement("div");a.className="blocklyDropDownDiv";(Tf||document.body).appendChild(a);Jf=a;var b=document.createElement("div");b.className="blocklyDropDownContent";a.appendChild(b);Kf=b;b=document.createElement("div");b.className="blocklyDropDownArrow";a.appendChild(b);Lf=b;Jf.style.opacity=0;Jf.style.transition="transform 0.25s, opacity 0.25s";a.addEventListener("focusin",function(){C(a,"blocklyFocused")});a.addEventListener("focusout",function(){Ic(a,"blocklyFocused")})}}
function Uf(a,b){var c=Vf(a);var d=new Fa(c.top,c.bottom,c.left,c.right);c=d.left+(d.right-d.left)/2;var e=d.bottom;d=d.top;for(var f=a.D(),h=f.h;h.options.Sa;)h=h.options.Sa;Mf=E(h).parentNode;f=f.s;Nf=a;Pf=b||null;a=Jf;a.style.direction=f?"rtl":"ltr";b=Wf;Qf=b.Ba.fd();Rf=b.ne().fd();C(a,Qf);C(a,Rf);a=Qa(Mf);b=Oa(Mf);a={left:a.x,right:a.x+b.width,top:a.y,bottom:a.y+b.height,width:b.width,height:b.height};b=Oa(Jf);e+b.height<a.bottom?c=Xf(c,e,a,b):d-b.height>a.top?c=Yf(c,d,a,b):e+b.height<document.documentElement.clientHeight?
c=Xf(c,e,a,b):d-b.height>document.documentElement.clientTop?c=Yf(c,d,a,b):(c=Zf(c,a.left,a.right,b.width),c={on:c.Yg,pn:0,Om:c.Yg,Pm:0,cm:null,Qg:null,em:null,dm:!1});a=c;a.dm?(Lf.style.display="",Lf.style.transform="translate("+a.Qg+"px,"+a.em+"px) rotate(45deg)",Lf.setAttribute("class",a.cm?"blocklyDropDownArrow blocklyArrowTop":"blocklyDropDownArrow blocklyArrowBottom")):Lf.style.display="none";c=Math.floor(a.on);e=Math.floor(a.pn);d=Math.floor(a.Om);a=Math.floor(a.Pm);b=Jf;b.style.left=c+"px";
b.style.top=e+"px";b.style.display="block";b.style.opacity=1;b.style.transform="translate("+(d-c)+"px,"+(a-e)+"px)"}function Xf(a,b,c,d){a=Zf(a,c.left,c.right,d.width);return{on:a.Yg,pn:b,Om:a.Yg,Pm:b+16,Qg:a.Qg,em:-9,cm:!0,dm:!0}}function Yf(a,b,c,d){a=Zf(a,c.left,c.right,d.width);return{on:a.Yg,pn:b-d.height,Om:a.Yg,Pm:b-d.height-16,Qg:a.Qg,em:d.height-2-8,cm:!1,dm:!0}}function Zf(a,b,c,d){var e=a;a=nd(b,a-d/2,c-d);b=nd(12,e-8-a,d-12-16);return{Qg:b,Yg:a}}
function $f(){var a=Jf;a.style.transform="translate(0, 0)";a.style.opacity=0;Of=setTimeout(function(){ag()},250);Pf&&(Pf(),Pf=null)}function ag(){if(Nf){Of&&clearTimeout(Of);var a=Jf;a.style.transform="";a.style.left="";a.style.top="";a.style.opacity=0;a.style.display="none";a.style.backgroundColor="";a.style.borderColor="";Pf&&(Pf(),Pf=null);Kf.textContent="";Kf.style.width="";Nf=null;Qf&&(Ic(a,Qf),Qf="");Rf&&(Ic(a,Rf),Rf="");id(Wf)}};var bg=0,cg=null;function dg(a,b,c,d){var e=(new Date-c)/150;1<e?D(a):(a.setAttribute("transform","translate("+(a.Bu+(b?-1:1)*a.yp.width*d/2*e)+","+(a.Cu+a.yp.height*d*e)+") scale("+(1-e)*d+")"),setTimeout(dg,10,a,b,c,d))}function eg(a,b,c){var d=(new Date-b)/150;1<d?D(a):(a.setAttribute("r",25*d*c),a.style.opacity=1-d,bg=setTimeout(eg,10,a,b,c))}
function fg(a,b,c){var d=(new Date-c)/200;1<d?a.lj="":(a.lj="skewX("+Math.round(Math.sin(d*Math.PI*3)*(1-d)*b)+")",cg=a,bg=setTimeout(fg,10,a,b,c));a.setAttribute("transform",a.vj+a.lj)}function gg(){if(cg){clearTimeout(bg);var a=cg;a.lj="";a.setAttribute("transform",a.vj);cg=null}};function hg(a,b,c){hg.j.constructor.call(this,a?a.h.id:void 0);this.ga=a?a.id:null;this.wq=b;this.Ap=c}F(hg,We);hg.prototype.type="drag";hg.prototype.R=function(){var a=hg.j.R.call(this);a.isStart=this.wq;a.blockId=this.ga;a.blocks=this.Ap;return a};hg.prototype.N=function(a){hg.j.N.call(this,a);this.wq=a.isStart;this.ga=a.blockId;this.Ap=a.blocks};v(Rb,"drag",hg);function ig(){this.Ue=Object.create(null);this.Sg=Object.create(null)}function jg(a,b){var c=b.component.id;if(a.Ue[c])throw Error('Plugin "'+c+'" with capabilities "'+a.Ue[c].wd+'" already added.');a.Ue[c]=b;for(var d=[],e=0;e<b.wd.length;e++){var f=String(b.wd[e]).toLowerCase();d.push(f);void 0===a.Sg[f]?a.Sg[f]=[c]:a.Sg[f].push(c)}a.Ue[c].wd=d}
function kg(a,b){var c=a.Ue[b];if(c){for(var d=0;d<c.wd.length;d++){var e=String(c.wd[d]).toLowerCase();a.Sg[e].splice(a.Sg[e].indexOf(b),1)}delete a.Ue[b]}}function lg(a,b){var c=mg;c=String(c).toLowerCase();return-1!==a.Ue[b].wd.indexOf(c)}function ng(a,b){b=String(b).toLowerCase();b=a.Sg[b];if(!b)return[];var c=[],d=[],e=a.Ue;b.forEach(function(f){d.push(e[f])});d.sort(function(f,h){return f.weight-h.weight});d.forEach(function(f){c.push(f.component)});return c}function og(a){this.ze=a}
og.prototype.toString=function(){return this.ze};var pg=new og("positionable"),qg=new og("drag_target"),mg=new og("delete_area"),rg=new og("autohideable");function sg(a){this.Ef=K=a;this.g=a.h;this.df=this.wn=null;this.si=tg(this,this.Ef);this.$b=this.Xa=null;this.td=!1;this.ri=this.ln=this.eg=null;this.Yj=ug(this)}sg.prototype.m=function(){this.Yj.length=0;w++;try{this.si&&this.si.m(),this.df&&this.df.m()}finally{w--}};
sg.prototype.update=function(a,b){var c=28;for(var d=null,e=null,f=0;f<this.Yj.length;f++){var h=this.Yj[f],l=h.closest(c,a);l.connection&&(d=l.connection,e=h,c=l.ml)}c={closest:d,local:e,ml:c};if((this.td=this.No(c,b))||vg(this,c,a)){w++;c.closest?(a=this.Xa!=c.closest,b=this.$b!=c.local,this.Xa&&this.$b&&(a||b||this.td)&&wg(this)):wg(this);this.$b=this.Xa=this.eg=null;if(!this.td&&(a=c.closest,b=c.local,a))if(a==this.Xa||a.D().Bb())console.log("Trying to connect to an insertion marker");else{this.Xa=
a;this.$b=b;a=this.Xa;b=this.$b;c=this.Ef;2==b.type||4==b.type?((d=!a.isConnected())||(d=a.I(),d=!!Ud(c,2===b.type?d.v:d.H)),b=d?0:2):b=0;switch(b){case 1:this.ln=this.Xa.D();break;case 0:d=this.$b;b=this.Xa;c=this.wn&&d==this.wn?this.df:this.si;d=c.$m(d.D(),d);if(d==this.eg)throw Error("Made it to showInsertionMarker_ even though the marker isn't changing");c.P();c.K=!0;c.T().setAttribute("visibility","visible");d&&b&&(3!=d.type&&1!=d.type||c.moveBy(b.x-d.x,b.y-d.y));b&&d.connect(b);this.eg=d;break;
case 2:this.ri=this.Xa.I(),xg(this.ri.Aa,"blocklyReplaceable",!0)}a&&(c=a.o.h.Ba.F(),b=yg(c,a),1==a.type||2==a.type?(c=c.Pg,b=L(0,-c)+M("v",c)+b.Tc+M("v",c)):(c=c.Nh-c.va,b=L(-c,0)+M("h",c)+b.nf+M("h",c)),c=a.o.ea(),Td.nq=B(yc,{"class":"blocklyHighlightedConnectionPath",d:b,transform:"translate("+(a.x-c.x)+","+(a.y-c.y)+")"+(a.o.s?" scale(-1 1)":"")},a.o.T()))}w--}};
function tg(a,b){var c=b.type;w++;try{var d=a.g.gf(c);d.yr(!0);if(b.qa){var e=b.qa();e&&d.Ka(e)}for(a=0;a<b.B.length;a++){var f=b.B[a];if("_TEMP_COLLAPSED_INPUT"!=f.name){var h=d.B[a];if(!h)throw Error("The insertion marker manager tried to create a marker but the result is missing an input. If you are using a mutator, make sure your domToMutation method is properly defined.");for(c=0;c<f.ba.length;c++){var l=f.ba[c],m=h.ba[c];if(!m)throw Error("The insertion marker manager tried to create a marker but the result is missing a field. If you are using a mutator, make sure your domToMutation method is properly defined.");
m.Ua(l.Za())}}}d.wf(b.isCollapsed());d.Xc(Hf(b));d.kd();d.T().setAttribute("visibility","hidden")}finally{w--}return d}function ug(a){var b=a.Ef.gd(!1),c=a.Ef.Pk(!0);if(c&&c!=a.Ef.C){b.push(c);a.wn=c;if(a.df){w++;try{a.df.m()}finally{w--}}a.df=tg(a,c.D())}return b}
function vg(a,b,c){var d=b.local,e=b.closest;b=b.ml;if(d&&e){if(a.$b&&a.Xa){if(a.Xa==e&&a.$b==d)return!1;d=a.$b.x+c.x-a.Xa.x;a=a.$b.y+c.y-a.Xa.y;a=Math.sqrt(d*d+a*a);return!(e&&b>a-8)}if(a.$b||a.Xa)console.error("Only one of localConnection_ and closestConnection_ was set.");else return!0}else return!(!a.$b||!a.Xa);console.error("Returning true from shouldUpdatePreviews, but it's not clear why.");return!0}sg.prototype.No=function(a,b){return b&&lg(this.g.rc,b.id)?b.$o(this.Ef,a&&!!a.closest):!1};
function wg(a){a.Xa&&a.Xa.I()&&(D(Td.nq),delete Td.nq);if(a.ri)xg(a.ri.Aa,"blocklyReplaceable",!1),a.ri=null;else if(a.ln)a.ln=null;else if(a.eg)if(a.eg){var b=a.eg,c=b.D(),d=c.C,e=c.H,f=c.v;f=1==b.type&&!(f&&f.L);!(b!=d||e&&e.L)||f?Sd(b.I(),!1):3==b.type&&b!=d?(d=b.L,Sd(d.D(),!1),e=e?e.L:null,Sd(c,!0),e&&e.connect(d)):Sd(c,!0);if(b.L)throw Error("markerConnection_ still connected at the end of disconnectInsertionMarker");a.eg=null;(a=c.T())&&a.setAttribute("visibility","hidden")}else console.log("No insertion marker connection to disconnect")}
sg.prototype.bh=function(){var a=[];this.si&&a.push(this.si);this.df&&a.push(this.df);return a};function zg(a,b){this.ya=a;this.g=b;this.Cd=new sg(this.ya);this.Ya=null;this.td=!1;this.He=this.ya.ea();b=[];a=xb(a,!1);for(var c=0,d;d=a[c];c++){d=Ag(d);for(var e=0;e<d.length;e++)b.push({location:d[e].bf,icon:d[e]})}this.wk=b}g=zg.prototype;g.m=function(){this.wk.length=0;this.Cd&&this.Cd.m()};
g.nj=function(a,b){bc||z(!0);var c=new (A("drag"))(this.ya,!0,xb(this.ya,!1));x(c);this.g.Ii&&Bg(this.ya);Mc();this.g.Nb(!1);gg();if(this.ya.getParent()||b&&this.ya.C&&this.ya.C.I())Sd(this.ya,b),a=this.sh(a),a=Ea(this.He,a),this.ya.translate(a.x,a.y),a=this.ya,a.h.Qe.play("disconnect"),1>a.h.scale||(b=Cg(a).height,b=Math.atan(10/b)/Math.PI*180,a.s||(b*=-1),fg(a.T(),b,new Date)),a=this.Cd,a.Yj=ug(a);this.ya.yf(!0);a=this.ya;a.Bj&&(b=a.ea(),a.T().removeAttribute("transform"),a.h.oc.ug(b.x,b.y),(b=
a.T())&&Dg(a.h.oc,b))};g.le=function(a,b){b=this.sh(b);this.ya.Mn(Ea(this.He,b));for(var c=0;c<this.wk.length;c++){var d=this.wk[c],e=d.icon;d=Ea(d.location,b);e.bf=d;e.isVisible()&&(e=e.Ia,e.Oa=d,e.tl&&Fe(e))}c=this.Ya;this.Ya=Eg(this.g,a);this.Cd.update(b,this.Ya);a=this.td;this.td=this.Cd.td;a!=this.td&&this.ya.Fo(this.td);this.Ya!==c&&(c&&c.$k(),this.Ya&&this.Ya.Tn());this.Ya&&this.Ya.Un()};
g.oi=function(a,b){this.le(a,b);this.wk=[];a=new (A("drag"))(this.ya,!1,xb(this.ya,!1));x(a);Nc();gg();b=this.sh(b);a=Ea(this.He,b);var c=this.ya;c.Bj&&(c.translate(a.x,a.y),c.h.oc.dk(c.h.ra));this.Ya&&this.Ya.al();this.td?(Fg(this),this.ya.m(!1,!0),ae=[],a=!0):a=!1;if(!a)if(this.ya.yf(!1),b){Gg(this.ya,b.x,b.y);Fg(this);if(this.Cd.Xa){if(b=this.Cd,b.Xa&&(w++,wg(b),w--,b.$b.connect(b.Xa),b.Ef.K)){c=(Vd(b.$b)?b.Xa:b.$b).D();var d=c.h;a=d.scale;d.Qe.play("click");if(!(1>a)){var e=Hg(d,c.T());c.v?(e.x+=
(c.s?3:-3)*a,e.y+=13*a):c.H&&(e.x+=(c.s?-23:23)*a,e.y+=3*a);c=B(mc,{cx:e.x,cy:e.y,r:0,fill:"none",stroke:"#888","stroke-width":10},E(d));eg(c,new Date,a)}Bg(b.Ef.hd())}}else this.ya.P();Ig(this.ya)}else Jg(this.ya.h,this.g.bc.Ye(!0),this.ya);this.g.Nb(!0);z(!1)};function Fg(a){var b=new (A("move"))(a.ya);b.Qn=a.He;Qd(b);x(b)}g.sh=function(a){a=new p(a.x/this.g.scale,a.y/this.g.scale);this.g.Ii&&a.scale(1/this.g.options.Sa.scale);return a};g.bh=function(){return this.Cd&&this.Cd.bh?this.Cd.bh():[]};
v(Zb,"default",zg);function Kg(a,b){this.ec=a;this.g=b;this.Ya=null;this.Dj=!1;this.He=this.ec.ea();this.Qf=sb()&&b.oc?b.oc:null}Kg.prototype.m=function(){this.Qf=this.g=this.ec=null};function Lg(a,b,c){c=a.sh(c);a.ec.Mn(a.Qf,Ea(a.He,c));c=a.Ya;a.Ya=Eg(a.g,b);b=a.Dj;a.Dj=a.No(a.Ya);b!=a.Dj&&a.ec.Fo(a.Dj);a.Ya!==c&&(c&&c.$k(),a.Ya&&a.Ya.Tn());a.Ya&&a.Ya.Un()}Kg.prototype.No=function(a){return a&&lg(this.g.rc,a.id)?a.$o(this.ec,!1):!1};
function Mg(a,b,c){Lg(a,b,c);b=a.sh(c);b=Ea(a.He,b);a.ec.moveTo(b.x,b.y);a.Ya&&a.Ya.al();a.Dj?a.ec.m(!1,!0):(a.Qf&&a.Qf.dk(a.g.rd),a.ec.yf&&a.ec.yf(!1));a.g.Nb(!0);z(!1)}Kg.prototype.sh=function(a){a=new p(a.x/this.g.scale,a.y/this.g.scale);this.g.Ii&&a.scale(1/this.g.options.Sa.scale);return a};function Ng(a,b,c){Ng.j.constructor.call(this,a?a.h.id:b);this.ga=a?a.id:null;this.Fr=c}F(Ng,We);Ng.prototype.type="click";Ng.prototype.R=function(){var a=Ng.j.R.call(this);a.targetType=this.Fr;this.ga&&(a.blockId=this.ga);return a};Ng.prototype.N=function(a){Ng.j.N.call(this,a);this.Fr=a.targetType;this.ga=a.blockId};v(Rb,"click",Ng);var Og=!1,Pg=!1,Qg=0,Rg=0,Sg=0,Tg=0,Ug=null,Vg=null,Wg=null;function Xg(a){for(;a&&a.Zc;){if("string"==typeof a.Zc||"function"==typeof a.Zc)return a;a=a.Zc}return null}function Yg(a){a.Lt=Mb(a,"mouseover",null,Zg);a.Jt=Mb(a,"mouseout",null,$g);a.addEventListener("mousemove",ah,!1)}function bh(a){a&&(u(a.Lt),u(a.Jt),a.removeEventListener("mousemove",ah))}function Zg(a){Pg||(a=Xg(a.currentTarget),Ug!=a&&(ch(),Vg=null,Ug=a),clearTimeout(Qg))}
function $g(){Pg||(Qg=setTimeout(function(){Vg=Ug=null;ch()},1),clearTimeout(Rg))}function ah(a){if(Ug&&Ug.Zc&&!Pg)if(Og){var b=Sg-a.pageX;a=Tg-a.pageY;10<Math.sqrt(b*b+a*a)&&ch()}else Vg!=Ug&&(clearTimeout(Rg),Sg=a.pageX,Tg=a.pageY,Rg=setTimeout(dh,750))}function ch(){Og&&(Og=!1,Wg&&(Wg.style.display="none"));Rg&&clearTimeout(Rg)}
function dh(){if(!Pg&&(Vg=Ug,Wg)){Wg.textContent="";var a;if(a=Xg(Ug)){for(a=a.Zc;"function"==typeof a;)a=a();if("string"!=typeof a)throw Error("Tooltip function must return a string.");}else a="";a=Ja(a,50);a=a.split("\n");for(var b=0;b<a.length;b++){var c=document.createElement("div");c.appendChild(document.createTextNode(a[b]));Wg.appendChild(c)}a=Ug.s;b=document.documentElement.clientWidth;c=document.documentElement.clientHeight;Wg.style.direction=a?"rtl":"ltr";Wg.style.display="block";Og=!0;
var d=Sg;d=a?d-(0+Wg.offsetWidth):d+0;var e=Tg+10;e+Wg.offsetHeight>c+window.scrollY&&(e-=Wg.offsetHeight+20);a?d=Math.max(5-window.scrollX,d):d+Wg.offsetWidth>b+window.scrollX-10&&(d=b-Wg.offsetWidth-10);Wg.style.top=e+"px";Wg.style.left=d+"px"}};function eh(a){this.g=a;this.oq=fh(this.g);this.Rr=gh(this.g);this.uu=new p(a.scrollX,a.scrollY)}eh.prototype.m=function(){this.g=null};eh.prototype.nj=function(){K&&hh(K);kd(this.g)};eh.prototype.oi=function(a){this.le(a);ld(this.g)};eh.prototype.le=function(a){a=Ea(this.uu,a);if(this.oq&&this.Rr)this.g.scroll(a.x,a.y);else if(this.oq)this.g.scroll(a.x,this.g.scrollY);else if(this.Rr)this.g.scroll(this.g.scrollX,a.y);else throw new TypeError("Invalid state.");};function ih(a,b){this.Kq=null;this.Sb=new p(0,0);this.cb=this.Ib=this.Ah=this.Bh=this.Bc=null;this.um=b;this.Gi=this.ag=this.Hi=this.Tf=!1;this.Rc=a;this.J=this.Ag=this.vd=this.Se=this.il=this.hl=null;this.kq=this.Jk=this.Uf=this.Dp=!1}g=ih.prototype;g.m=function(){Bb=null;Pg=!1;this.um.Lb=null;this.hl&&u(this.hl);this.il&&u(this.il);this.vd&&this.vd.m();this.Ag&&this.Ag.m();this.Se&&this.Se.m()};
function jh(a,b){a.Sb=Da(new p(b.clientX,b.clientY),a.Kq);if(a.Tf)var c=!1;else c=a.Sb,a.Tf=Math.sqrt(c.x*c.x+c.y*c.y)>(a.J?10:5),c=a.Tf;if(c){if(a.Dp)throw Error("updateIsDragging_ should only be called once per gesture.");a.Dp=!0;a.Bc?(a.Gi=!0,a.Se=new Kg(a.Bc,a.cb),c=a.Se,bc||z(!0),c.g.Nb(!1),c.ec.fm=!1,c.Qf&&(c.ec.moveTo(0,0),c.Qf.ug(c.He.x,c.He.y),Dg(c.Qf,c.ec.T())),c.ec.yf&&c.ec.yf(!0),Lg(a.Se,a.Rc,a.Sb),c=!0):c=!1;if(!c){if(a.Ib){if(a.J){if(a.Ib&&a.Ib.isEnabled()){if(!(c=!kh(a.J))){c=a.Sb;
c=Math.atan2(c.y,c.x)/Math.PI*180;var d=a.J.ht;c=c<d&&c>-d||c<-180+d||c>180-d?!0:!1}c?(a.cb=a.J.V,lh(a.cb),bc||z(!0),a.Ah=null,a.Ib=mh(a.J,a.Ib),a.Ib.select(),c=!0):c=!1}else c=!1;a.ag=c}else a.Ib.ib()&&(a.ag=!0);a.ag?(a.vd=new (ac(Zb,a.um.options,!0))(a.Ib,a.cb),a.vd.nj(a.Sb,a.kq),a.vd.le(a.Rc,a.Sb),c=!0):c=!1}else c=!1;if(c=!c)if(a.J)c=kh(a.J);else if(c=a.cb)c=a.cb,c=c.options.Mb&&c.options.Mb.le;c&&(a.Ag=new eh(a.cb),a.Hi=!0,a.Ag.nj())}Fb()}a.Rc=b}
g.Am=function(a){eb(a)?this.cancel():(this.Uf=!0,gg(),lh(this.cb),this.cb.Ii&&this.cb.resize(),md(!!this.J),id(this.cb),this.Rc=a,ch(),Pg=!0,this.Ib&&this.Ib.select(),kb(a)?Gb(this,a):("touchstart"!=a.type.toLowerCase()&&"pointerdown"!=a.type.toLowerCase()||"mouse"==a.pointerType||Eb(a,this),this.Kq=new p(a.clientX,a.clientY),this.kq=a.altKey||a.ctrlKey||a.metaKey,this.zp(a)))};
g.zp=function(a){this.hl=r(document,"mousemove",null,this.gh.bind(this));this.il=r(document,"mouseup",null,this.Fk.bind(this));a.preventDefault();a.stopPropagation()};g.gh=function(a){jh(this,a);this.Hi?this.Ag.le(this.Sb):this.ag?this.vd.le(this.Rc,this.Sb):this.Gi&&Lg(this.Se,this.Rc,this.Sb);a.preventDefault();a.stopPropagation()};
g.Fk=function(a){jh(this,a);Fb();if(this.Jk)console.log("Trying to end a gesture recursively.");else{this.Jk=!0;if(this.Gi)Mg(this.Se,a,this.Sb);else if(this.ag)this.vd.oi(a,this.Sb);else if(this.Hi)this.Ag.oi(this.Sb);else if(this.Bc&&!this.Tf)this.Bc.mu&&this.Bc.mu(),this.Bc.select&&this.Bc.select();else if(nh(this)){var b=this.Bh,c=this.Rc;rf(b)&&b.qd(c);oh(this)}else!this.Ah||this.Tf||nh(this)?this.Ah||this.Bc||this.Bh||this.Tf||(b=this.um,K&&hh(K),b=this.cb||b,x(new (A("click"))(null,b.id,"workspace"))):
(this.J&&this.J.Re?this.Ib.isEnabled()&&(bc||z(!0),Ig(mh(this.J,this.Ib))):(b=new (A("click"))(this.Ah,this.cb.id,"block"),x(b)),oh(this),z(!1));a.preventDefault();a.stopPropagation();this.m()}};g.cancel=function(){this.Jk||(Fb(),this.Gi?Mg(this.Se,this.Rc,this.Sb):this.ag?this.vd.oi(this.Rc,this.Sb):this.Hi&&this.Ag.oi(this.Sb),this.m())};function Gb(a,b){a.Ib?(oh(a),md(!!a.J),a.Ib.kj(b)):a.Bc?a.Bc.kj(b):a.cb&&!a.J&&(md(),a.cb.kj(b));b.preventDefault();b.stopPropagation();a.m()}
function ph(a,b,c){if(a.Uf)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");a.cb||(a.cb=c);a.Rc=b;a.Am(b)}function qh(a,b,c){if(a.Uf)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");a.J||(a.J=c);ph(a,b,c.g)}function oh(a){a.Ib&&!a.J&&Bg(a.Ib)}function rh(a,b){a.Ah||a.Bc||(a.Ah=b,b.Ga&&b!=b.hd()?sh(a,b.hd()):sh(a,b))}function sh(a,b){b.W?sh(a,b.getParent()):a.Ib=b}
function nh(a){return(a.Bh?rf(a.Bh):!1)&&!a.Tf&&(!a.J||!a.J.Re)}g.$a=function(){return this.Hi||this.ag||this.Gi};g.bh=function(){return this.vd?this.vd.bh():[]};function th(){for(var a=Ce(),b=0,c;c=a[b];b++)if(c.Lb)return!0;return!1};function uh(){this.Mc=this.uc=this.pm=null;this.type="marker"}function vh(a,b){var c=a.uc;a.uc=b;a.Mc&&a.Mc.dd(c,a.uc)}uh.prototype.dd=function(){this.Mc&&this.Mc.dd(this.uc,this.uc)};uh.prototype.rb=function(){this.Mc&&this.Mc.rb()};uh.prototype.m=function(){this.Mc&&this.Mc.m()};function wh(){wh.j.constructor.call(this);this.type="cursor"}F(wh,uh);wh.prototype.next=function(){var a=this.uc;if(!a)return null;for(a=a.next();a&&a.next()&&("next"==a.getType()||"block"==a.getType());)a=a.next();a&&vh(this,a);return a};wh.prototype.cf=function(){var a=this.uc;if(!a)return null;if("previous"==a.getType()||"output"==a.getType())a=a.next();(a=a.cf())&&vh(this,a);return a};
wh.prototype.Ce=function(){var a=this.uc;if(!a)return null;for(a=a.Ce();a&&a.Ce()&&("next"==a.getType()||"block"==a.getType());)a=a.Ce();a&&vh(this,a);return a};wh.prototype.lf=function(){var a=this.uc;if(!a)return null;(a=a.lf())&&"block"==a.getType()&&(a=a.Ce()||a);a&&vh(this,a);return a};v(Qb,"default",wh);function xh(a){this.fe=this.Kc=null;this.Li=Object.create(null);this.g=a}g=xh.prototype;g.ah=function(){return this.Kc};g.yi=function(a){return this.Li[a]||null};g.Fe=function(a){a?(this.g.ra.appendChild(a),this.fe=a):this.fe=null};g.zf=function(a){a?this.g.ra&&(this.fe?this.g.ra.insertBefore(a,this.fe):this.g.ra.appendChild(a)):this.ye=null};
g.m=function(){for(var a=Object.keys(this.Li),b=0,c;c=a[b];b++){var d=this.Li[c];if(d)d.m(),delete this.Li[c];else throw Error("Marker with ID "+c+" does not exist. Can only unregister markers that exist.");}this.Li=null;this.Kc&&(this.Kc.m(),this.Kc=null)};var yh,zh=null,Ah=null,Bh="",Ch="";function Dh(a,b,c){Eh();zh=a;Ah=c;a=yh;a.style.direction=b?"rtl":"ltr";a.style.display="block";b=Wf;Bh=b.Ba.fd();Ch=b.ne().fd();C(a,Bh);C(a,Ch)}function Eh(){if(zh){zh=null;var a=yh;a.style.display="none";a.style.left="";a.style.top="";Ah&&Ah();Ah=null;a.textContent="";Bh&&(Ic(a,Bh),Bh="");Ch&&(Ic(a,Ch),Ch="");id(Wf)}}function Fh(a,b,c){yh.style.left=a+"px";yh.style.top=b+"px";yh.style.height=c+"px"};function Gh(a,b,c){this.sa=this.Cg;this.Kr=this.wg=null;this.Gb=new Ma(0,0);this.i=this.Kn=this.Ie=this.kb=this.Qa=this.fc=this.ye=this.fe=null;c&&this.dc(c);this.Ua(a);b&&(this.wg=b)}g=Gh.prototype;g.Cg=null;g.name=void 0;g.Lc=!1;g.Jq=50;g.o=null;g.Jd=!0;g.Gf=!0;g.om=null;g.Jh=!0;g.Ng=!1;g.dc=function(a){var b=a.tooltip;"string"==typeof b&&(b=nb(a.tooltip));b&&this.Ma(b)};g.Ko=function(a){if(this.o)throw Error("Field already bound to a block.");this.o=a};
g.F=function(){!this.i&&this.o&&this.o.h&&this.o.h.K&&(this.i=this.o.h.Ba.F());return this.i};g.D=function(){return this.o};g.G=function(){this.fc||(this.fc=B(vc,{},null),this.isVisible()||(this.fc.style.display="none"),this.o.T().appendChild(this.fc),this.Yf(),this.Ne(),this.Ma(this.Kr),Yg(Hh(this)),this.Kn=r(Hh(this),"mousedown",this,this.jf),this.Xf())};g.Yf=function(){Ih(this);Jh(this)};g.Xf=function(){};
function Ih(a){a.Qa=B(Bc,{rx:a.F().Jj,ry:a.F().Jj,x:0,y:0,height:a.Gb.height,width:a.Gb.width,"class":"blocklyFieldRect"},a.fc)}function Jh(a){a.kb=B(Dc,{"class":"blocklyText"},a.fc);a.F().Nl&&a.kb.setAttribute("dominant-baseline","central");a.Ie=document.createTextNode("");a.kb.appendChild(a.Ie)}g.Ak=function(a){this.Ua(a.textContent)};g.Hr=function(a){a.textContent=this.Za();return a};g.m=function(){Nf===this&&$f();zh==this&&Eh();bh(Hh(this));this.Kn&&u(this.Kn);D(this.fc);this.Lc=!0};
g.Ne=function(){var a=this.fc;this.Jh&&a&&(this.o.Zb()?(C(a,"blocklyEditableText"),Ic(a,"blocklyNonEditableText"),a.style.cursor=this.Ll):(C(a,"blocklyNonEditableText"),Ic(a,"blocklyEditableText"),a.style.cursor=""))};function rf(a){return!!a.o&&a.o.Zb()&&!!a.qd&&"function"===typeof a.qd}g.isVisible=function(){return this.Gf};g.ma=function(a){if(this.Gf!=a){this.Gf=a;var b=this.T();b&&(b.style.display=a?"block":"none")}};function Kh(a,b){a.wg=b}g.eq=function(){return this.wg};g.T=function(){return this.fc};
g.Pa=function(){};g.uf=function(){this.Ie&&(this.Ie.nodeValue=this.Ek());this.Wo()};g.Wo=function(a){var b=this.F();a=void 0!=a?a:this.Qa?this.F().Dg:0;var c=2*a,d=b.Kj,e=0;this.kb&&(e=Oc(this.kb,b.Fg+"pt",b.Gg,b.Eg),c+=e);this.Qa&&(d=Math.max(d,b.fp));this.Gb.height=d;this.Gb.width=c;Lh(this,a,e);Mh(this)};function Lh(a,b,c){if(a.kb){var d=a.F(),e=a.Gb.height/2;a.kb.setAttribute("x",a.o.s?a.Gb.width-c-b:b);a.kb.setAttribute("y",d.Nl?e:e-d.Kj/2+d.hp)}}
function Mh(a){a.Qa&&(a.Qa.setAttribute("width",a.Gb.width),a.Qa.setAttribute("height",a.Gb.height),a.Qa.setAttribute("rx",a.F().Jj),a.Qa.setAttribute("ry",a.F().Jj))}g.getSize=function(){if(!this.isVisible())return new Ma(0,0);this.Jd?(this.uf(),this.Jd=!1):this.Gf&&0==this.Gb.width&&(console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead."),this.uf());return this.Gb};
function Vf(a){if(a.Qa)b=a.Qa.getBoundingClientRect(),a=Qa(a.Qa),d=b.width,b=b.height;else{var b=Cg(a.o),c=a.o.h.scale;a=Qa(Hh(a));var d=b.width*c;b=b.height*c;Va?(a.x+=1.5*c,a.y+=1.5*c):Sa||Ra||(a.x-=.5*c,a.y-=.5*c);d+=1*c;b+=1*c}return new Fa(a.y,a.y+b,a.x,a.x+d)}g.Ek=function(){var a=this.ic();if(!a)return"\u00a0";a.length>this.Jq&&(a=a.substring(0,this.Jq-2)+"\u2026");a=a.replace(/\s/g,"\u00a0");this.o&&this.o.s&&(a+="\u200f");return a};
g.ic=function(){if(this.eh){var a=this.eh.call(this);if(null!==a)return String(a)}return String(this.Za())};g.Ki=function(){this.Jd=!0;this.i=null};function Nh(a){a.Jd=!0;a.o&&a.o.K&&(a.o.P(),a.o.Ja(),a.Vo())}
g.Ua=function(a){if(null!==a){var b=this.ke(a);a=Oh(this,a,b);if(!(a instanceof Error)){if(b=this.eq())if(b=b.call(this,a),a=Oh(this,a,b),a instanceof Error)return;b=this.o;if(!b||!b.Lc){var c=this.Za();c===a?this.Ad(a):(b&&0==w&&x(new (A("change"))(b,"field",this.name||null,c,a)),this.Ad(a),this.Jd&&Nh(this))}}}};function Oh(a,b,c){if(null===c)return a.Sp(),a.Jd&&Nh(a),Error();void 0!==c&&(b=c);return b}g.Za=function(){return this.sa};g.ke=function(a){return null===a||void 0===a?null:a};
g.Ad=function(a){this.sa=a;this.Jd=!0};g.Sp=function(){};g.jf=function(a){if(this.o&&this.o.h&&(a=this.o.h.me(a))){if(a.Uf)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");a.Bh||(a.Bh=this)}};g.Ma=function(a){a||""===a||(a=this.o);var b=Hh(this);b?b.Zc=a:this.Kr=a};function Hh(a){return a.om||a.T()}g.Xi=function(){return!1};g.Ed=function(){for(var a=null,b=this.o,c=b.B,d=0;d<b.B.length;d++)for(var e=c[d],f=e.ba,h=0;h<f.length;h++)if(f[h]===this){a=e;break}return a};
g.aq=function(){return!1};g.xq=function(){return!1};g.Fe=function(a){a?(this.fc.appendChild(a),this.fe=a):this.fe=null};g.zf=function(a){a?(this.fc.appendChild(a),this.ye=a):this.ye=null};g.Vo=function(){var a=this.o.h;a.ph&&this.fe&&a.ah().dd();a.ph&&this.ye&&a.yi("local_marker_1").dd()};function Ph(a,b,c){this.ck=null;Ph.j.constructor.call(this,a,null,c);c||(this.ck=b||null)}F(Ph,Gh);Ph.prototype.Cg="";Ph.N=function(a){var b=nb(a.text);return new Ph(b,void 0,a)};Ph.prototype.Jh=!1;Ph.prototype.dc=function(a){Ph.j.dc.call(this,a);this.ck=a["class"]};Ph.prototype.Yf=function(){Jh(this);this.ck&&C(this.kb,this.ck)};Ph.prototype.ke=function(a){return null===a||void 0===a?null:String(a)};v(Sb,"field_label",Ph);function Qh(a,b,c,d){if(5!=a&&!b)throw Error("Value inputs and statement inputs must have non-empty name.");this.type=a;this.name=b;this.o=c;this.connection=d;this.ba=[]}g=Qh.prototype;g.align=-1;g.Gf=!0;g.D=function(){return this.o};function N(a,b,c){Rh(a,a.ba.length,b,c);return a}
function Rh(a,b,c,d){if(0>b||b>a.ba.length)throw Error("index "+b+" out of bounds.");if(!(c||""==c&&d))return b;"string"==typeof c&&(c=If({type:"field_label",text:c}));c.Ko(a.o);a.o.K&&(c.G(),c.Pa());c.name=d;c.ma(a.isVisible());c.uo&&(b=Rh(a,b,c.uo));a.ba.splice(b,0,c);++b;c.Qo&&(b=Rh(a,b,c.Qo));a.o.K&&(a.o=a.o,a.o.P(),a.o.Ja());return b}g.isVisible=function(){return this.Gf};
g.ma=function(a){if(this.Gf!=a){this.Gf=a;for(var b=0,c;c=this.ba[b];b++)c.ma(a);if(this.connection){this.connection=this.connection;if(a)Sh(this.connection);else if(b=this.connection,Th(b,!1),b.L)for(b=xb(b.I(),!1),c=0;c<b.length;c++){for(var d=b[c],e=d.gd(!0),f=0;f<e.length;f++)Th(e[f],!1);d=Ag(d);for(f=0;f<d.length;f++)d[f].ma(!1)}if(b=this.connection.I())b.T().style.display=a?"block":"none"}}};g.Ki=function(){for(var a=0,b;b=this.ba[a];a++)b.Ki()};
g.sb=function(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.sb(a);return this};function Uh(a,b){a.align=b;a.o.K&&(a.o=a.o,a.o.P());return a}g.ij=function(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.ij(a)};g.dh=function(){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.dh()};g.G=function(){if(this.o.h.K)for(var a=0;a<this.ba.length;a++)this.ba[a].G()};
g.m=function(){for(var a=0,b;b=this.ba[a];a++)b.m();this.connection&&this.connection.m();this.o=null};function we(a,b,c){if(Vh&&"undefined"!=typeof Vh.prototype[b])throw Error('Block prototypeName "'+b+'" conflicts with Blockly.Generator members.');this.id=c&&!a.hc(c)?c:qb();a.gm[this.id]=this;this.H=this.C=this.v=null;this.B=[];this.te=void 0;this.disabled=!1;this.Zc="";this.contextMenu=!0;this.Nd=null;this.Zd=[];this.Vp=this.Lq=this.lk=!0;this.Nf=this.W=!1;this.$h=null;this.qc={text:null,so:!1,size:new Ma(160,80)};this.Vr=new p(0,0);this.h=a;this.Ga=a.ld;this.s=a.s;this.mh=!1;this.Fd=void 0;this.K=
null;if(b){this.type=b;c=J[b];if(!c||"object"!=typeof c)throw TypeError("Unknown block type: "+b);qd(this,c)}a.Wj(this);a.Me[this.type]||(a.Me[this.type]=[]);a.Me[this.type].push(this);(a=bc)||z(!0);b=cc;try{"function"==typeof this.G&&(cc=!1,this.G(),cc=b),0==w&&x(new (A("create"))(this))}finally{a||z(!1),cc=b}this.Gt=this.te;if("function"==typeof this.onchange){if((a=this.onchange)&&"function"!=typeof a)throw Error("onchange must be a function.");this.Ri&&vb(this.h.jb,this.Ri);if(this.onchange=a)this.Ri=
a.bind(this),Be(this.h,this.Ri)}}g=we.prototype;g.data=null;g.Lc=!1;g.xb="#000000";g.rg="";
g.m=function(a){if(this.h){this.Ri&&vb(this.h.jb,this.Ri);Sd(this,a);0==w&&x(new (A("delete"))(this));w++;try{if(this.h){this.h.ql(this);var b=this.h;b.Me[this.type].splice(b.Me[this.type].indexOf(this),1);b.Me[this.type].length||delete b.Me[this.type];delete this.h.gm[this.id];this.h=null}K==this&&(K=null);for(var c=this.Zd.length-1;0<=c;c--)this.Zd[c].m(!1);c=0;for(var d;d=this.B[c];c++)d.m();this.B.length=0;var e=this.gd(!0);c=0;for(var f;f=e[c];c++)f.m()}finally{w--,this.Lc=!0}}};
g.Xf=function(){for(var a=0,b;b=this.B[a];a++)for(var c=0,d;d=b.ba[c];c++)d.Xf&&d.Xf()};
function Sd(a,b){if(a.v){var c=null;a.v.isConnected()&&(c=a.v.L,a.v.disconnect());if(c&&b){a:{b=null;for(var d=0;d<a.B.length;d++){var e=a.B[d].connection;if(e&&1==e.type&&e.L){if(b){a=null;break a}b=e}}a=b}a&&a.isConnected()&&!a.I().W&&(a=a.L,a.disconnect(),0==Wd(a,c,!1)?c.connect(a):a.Vn(c))}}else a.H&&(c=null,a.H.isConnected()&&(c=a.H.L,a.H.disconnect()),d=yb(a),b&&d&&!d.W&&(a=a.C.L,a.disconnect(),c&&0==Wd(c,a,!1)&&c.connect(a)))}
g.gd=function(){var a=[];this.v&&a.push(this.v);this.H&&a.push(this.H);this.C&&a.push(this.C);for(var b=0,c;c=this.B[b];b++)c.connection&&a.push(c.connection);return a};g.Pk=function(a){for(var b=this.C;b;){var c=b.I();if(!c||a&&c.W)return b;b=c.C}return null};g.Ja=function(){};g.getParent=function(){return this.Nd};function Rd(a,b){for(var c=0,d;d=a.B[c];c++)if(d.connection&&d.connection.I()==b)return d;return null}
function Wh(a){do{var b=a;a=a.getParent();if(!a)return null}while(yb(a)==b);return a}function yb(a){return a.C&&a.C.I()}g.hd=function(){var a=this;do{var b=a;a=b.Nd}while(a);return b};function td(a,b){if(!b)return a.Zd;b=[];for(var c=0,d;d=a.B[c];c++)d.connection&&(d=d.connection.I())&&b.push(d);(a=yb(a))&&b.push(a);return b}
g.zl=function(a){if(a!=this.Nd){if(this.Nd){vb(this.Nd.Zd,this);if(this.H&&this.H.isConnected())throw Error("Still connected to previous block.");if(this.v&&this.v.isConnected())throw Error("Still connected to parent block.");this.Nd=null}else this.h.ql(this);(this.Nd=a)?a.Zd.push(this):this.h.Wj(this)}};function xb(a,b){var c=[a];a=td(a,b);for(var d,e=0;d=a[e];e++)c.push.apply(c,xb(d,b));return c}g.Qc=function(){return this.lk&&!this.W&&!(this.h&&this.h.options.readOnly)};
g.ib=function(){return this.Lq&&!this.W&&!(this.h&&this.h.options.readOnly)};g.xl=function(a){this.Lq=a};g.Jo=function(a){this.W=a};g.Bb=function(){return this.mh};g.yr=function(a){this.mh=a};g.Zb=function(){return this.Vp&&!(this.h&&this.h.options.readOnly)};g.Go=function(a){this.Vp=a;a=0;for(var b;b=this.B[a];a++)for(var c=0,d;d=b.ba[c];c++)d.Ne()};
g.$m=function(a,b){var c=this.gd(!0);a=a.gd(!0);if(c.length!=a.length)throw Error("Connection lists did not match in length.");for(var d=0;d<a.length;d++)if(a[d]==b)return c[d];return null};g.Ma=function(a){this.Zc=a};g.Xm=function(){return this.xb};g.bb=function(a){this.xb=zb(a).Bi};g.Ge=function(a){this.rg=a};
function Jd(a,b){if("string"!==typeof b)throw TypeError("Blockly.Block.prototype.getField expects a string with the field name but received "+(void 0===b?"nothing":b+" of type "+typeof b)+" instead");for(var c=0,d;d=a.B[c];c++)for(var e=0,f;f=d.ba[e];e++)if(f.name===b)return f;return null}g.pe=function(){for(var a=[],b=0,c;c=this.B[b];b++)for(var d=0,e;e=c.ba[d];d++)e.Xi()&&a.push(e.Za());return a};
g.oe=function(){for(var a=[],b=0,c;c=this.B[b];b++)for(var d=0,e;e=c.ba[d];d++)e.Xi()&&(e=this.h.jd(e.Za()))&&a.push(e);return a};g.Jl=function(a){for(var b=0,c;c=this.B[b];b++)for(var d=0,e;e=c.ba[d];d++)e.Xi()&&a.S()==e.Za()&&Nh(e)};g.rl=function(a,b){for(var c=0,d;d=this.B[c];c++)for(var e=0,f;f=d.ba[e];e++)f.Xi()&&a==f.Za()&&f.Ua(b)};function I(a,b){return(a=Jd(a,b))?a.Za():null}function Xh(a,b,c){a=Jd(a,c);if(!a)throw Error('Field "'+c+'" not found.');a.Ua(b)}
g.Td=function(a,b){if(a){void 0===b&&(b=null);if(!this.H){if(this.v)throw Error("Remove output connection prior to adding previous connection.");this.H=this.Ji(4)}this.H.sb(b)}else if(this.H){if(this.H.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.H.m();this.H=null}};
g.Rd=function(a,b){if(a)void 0===b&&(b=null),this.C||(this.C=this.Ji(3)),this.C.sb(b);else if(this.C){if(this.C.isConnected())throw Error("Must disconnect next statement before removing connection.");this.C.m();this.C=null}};
g.Sd=function(a,b){if(a){void 0===b&&(b=null);if(!this.v){if(this.H)throw Error("Remove previous connection prior to adding output connection.");this.v=this.Ji(2)}this.v.sb(b)}else if(this.v){if(this.v.isConnected())throw Error("Must disconnect output value before removing connection.");this.v.m();this.v=null}};g.Xc=function(a){this.te!=a&&(x(new (A("change"))(this,"inline",null,this.te,a)),this.te=a)};
function Hf(a){if(void 0!=a.te)return a.te;for(var b=1;b<a.B.length;b++)if(5==a.B[b-1].type&&5==a.B[b].type)return!1;for(b=1;b<a.B.length;b++)if(1==a.B[b-1].type&&5==a.B[b].type)return!0;return!1}g.isEnabled=function(){return!this.disabled};g.Fb=function(a){this.isEnabled()!=a&&(x(new (A("change"))(this,"disabled",null,this.disabled,!a)),this.disabled=!a)};function Yh(a){for(a=Wh(a);a;){if(a.disabled)return!0;a=Wh(a)}return!1}g.isCollapsed=function(){return this.Nf};
g.wf=function(a){this.Nf!=a&&(x(new (A("change"))(this,"collapsed",null,this.Nf,a)),this.Nf=a)};
g.toString=function(a,b){function c(n){var q=n.Ug;!q&&n.L&&(q=n.L.Ug);return!!q&&(-1!=q.indexOf("Boolean")||-1!=q.indexOf("Number"))}function d(){h&&h.getType()==l.getType()&&h.U==l.U&&(h=null)}var e=[];b=b||"?";var f=jf;jf=!0;for(var h=nf(this),l=h;h;){switch(h.getType()){case "input":var m=h.U;h.cf()?c(m)&&e.push("("):e.push(b);break;case "field":m=h.U,"_TEMP_COLLAPSED_FIELD"!=m.name&&e.push(m.ic())}m=h;h=m.cf()||m.next();if(!h){h=m.lf();for(d();h&&!h.next();)h=h.lf(),d(),h&&"input"==h.getType()&&
c(h.U)&&e.push(")");h&&(h=h.next())}}jf=f;for(b=2;b<e.length;b++)"("==e[b-2]&&")"==e[b]&&(e[b-2]=e[b-1],e.splice(b-1,2));e=e.reduce(function(n,q){return n+("("==n.substr(-1)||")"==q?"":" ")+q},"");e=e.trim()||"???";a&&e.length>a&&(e=e.substring(0,a-3)+"...");return e};function P(a,b){return a.ta(5,b||"")}
function Zh(a,b){var c=b.type?'Block "'+b.type+'": ':"";if(b.output&&b.previousStatement)throw Error(c+"Must not have both an output and a previousStatement.");b.style&&b.style.Fd&&(a.Fd=b.style.Fd,b.style=null);if(b.style&&b.colour)throw Error(c+"Must not have both a colour and a style.");if(b.style){var d=b.style;try{a.Ge(d)}catch(ib){console.warn(c+"Style does not exist: ",d)}}else if("colour"in b)if(void 0===b.colour)console.warn(c+"Undefined colour value.");else{d=b.colour;try{a.bb(d)}catch(ib){console.warn(c+
"Illegal colour value: ",d)}}for(d=0;void 0!==b["message"+d];){var e=a,f=b["args"+d]||[],h=b["lastDummyAlign"+d],l=c,m=ob(b["message"+d],!0),n=e;var q=m;for(var t=f.length,y=[],O=0,Na=0;Na<q.length;Na++){var ka=q[Na];if("number"==typeof ka){if(1>ka||ka>t)throw Error('Block "'+n.type+'": Message index %'+ka+" out of range.");if(y[ka])throw Error('Block "'+n.type+'": Message index %'+ka+" duplicated.");y[ka]=!0;O++}}if(O!=t)throw Error('Block "'+n.type+'": Message does not reference all '+t+" arg(s).");
n=f;f=[];for(q=0;q<m.length;q++){t=m[q];"number"==typeof t&&(t=n[t-1]);if("string"==typeof t&&(t=$h(t),!t))continue;f.push(t)}(m=f.length)&&!ai(f[m-1].type)&&(m={type:"input_dummy"},h&&(m.align=h),f.push(m));h=f;f=[];for(m=0;q=h[m];m++)if(ai(q.type)){n=e;t=l;O={LEFT:-1,RIGHT:1,CENTRE:0,CENTER:0};y=null;switch(q.type){case "input_value":y=n.ta(1,q.name);break;case "input_statement":y=n.ta(3,q.name);break;case "input_dummy":y=P(n,q.name)}y?(q.check&&y.sb(q.check),q.align&&(n=O[q.align.toUpperCase()],
void 0===n?console.warn(t+"Illegal align value: ",q.align):Uh(y,n)),n=y):n=null;if(n){for(q=0;t=f[q];q++)N(n,t[0],t[1]);f.length=0}}else(n=bi(e,q))&&f.push([n,q.name]);d++}void 0!==b.inputsInline&&a.Xc(b.inputsInline);void 0!==b.output&&a.Sd(!0,b.output);void 0!==b.previousStatement&&a.Td(!0,b.previousStatement);void 0!==b.nextStatement&&a.Rd(!0,b.nextStatement);void 0!==b.tooltip&&(d=b.tooltip,d=nb(d),a.Ma(d));void 0!==b.enableContextMenu&&(d=b.enableContextMenu,a.contextMenu=!!d);void 0!==b.helpUrl&&
(d=b.helpUrl,d=nb(d),a.Ab=d);"string"==typeof b.extensions&&(console.warn(c+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+b.type+"' block."),b.extensions=[b.extensions]);void 0!==b.mutator&&Af(b.mutator,a,!0);b=b.extensions;if(Array.isArray(b))for(c=0;c<b.length;++c)Af(b[c],a,!1)}function vf(a,b){var c=[],d;for(d in b)void 0!==a[d]&&c.push(d);if(c.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(c));qd(a,b)}
function bi(a,b){var c=If(b);return!c&&b.alt?"string"==typeof b.alt?(b=$h(b.alt))?bi(a,b):null:bi(a,b.alt):c}function ai(a){return"input_value"==a||"input_statement"==a||"input_dummy"==a}function $h(a){return(a=a.trim())?{type:"field_label",text:a}:null}g.ta=function(a,b){var c=null;if(1==a||3==a)c=this.Ji(a);a=new Qh(a,b,this,c);this.B.push(a);return a};
function ci(a,b,c){if(b!=c){for(var d=-1,e=c?-1:a.B.length,f=0,h;h=a.B[f];f++)if(h.name==b){if(d=f,-1!=e)break}else if(c&&h.name==c&&(e=f,-1!=d))break;if(-1==d)throw Error('Named input "'+b+'" not found.');if(-1==e)throw Error('Reference input "'+c+'" not found.');a.Nn(d,e)}}
g.Nn=function(a,b){if(a==b)throw Error("Can't move input to itself.");if(a>=this.B.length)throw RangeError("Input index "+a+" out of bounds.");if(b>this.B.length)throw RangeError("Reference input "+b+" out of bounds.");var c=this.B[a];this.B.splice(a,1);a<b&&b--;this.B.splice(b,0,c)};g.ab=function(a,b){for(var c=0,d;d=this.B[c];c++)if(d.name==a)return d.m(),this.B.splice(c,1),!0;if(b)return!1;throw Error("Input not found: "+a);};
function H(a,b){for(var c=0,d;d=a.B[c];c++)if(d.name==b)return d;return null}function di(a,b){return(a=H(a,b))&&a.connection&&a.connection.I()}g.xf=function(a){this.qc.text!=a&&(x(new (A("change"))(this,"comment",null,this.qc.text,a)),this.$h=this.qc.text=a)};g.zh=function(){};g.gj=function(){};g.ea=function(){return this.Vr};g.moveBy=function(a,b){if(this.Nd)throw Error("Block has parent.");var c=new (A("move"))(this);this.Vr.translate(a,b);Qd(c);x(c)};g.Ji=function(a){return new Td(this,a)};function Vh(a){this.ze=a;this.us=new RegExp(this.Hf,"g")}g=Vh.prototype;g.Lj=null;g.cc=null;g.wb=null;g.Ob="  ";g.bs=60;g.Qj=[];g.Kk=null;function ei(a,b){return b+a.replace(/(?!\n$)\n/g,"\n"+b)}
function fi(a,b){!1===a.Kk&&console.warn("Generator init was not called before blockToCode was called.");if(!b)return"";if(!b.isEnabled())return fi(a,yb(b));if(b.Bb())return fi(a,td(b,!1)[0]);var c=a[b.type];if("function"!=typeof c)throw Error('Language "'+a.ze+'" does not know how to generate code for block type "'+b.type+'".');c=c.call(b,b);if(Array.isArray(c)){if(!b.v)throw TypeError("Expecting string from statement block: "+b.type);return[a.wl(b,c[0]),c[1]]}if("string"==typeof c)return a.cc&&
!b.Cf&&(c=gi(a.cc,b)+c),a.wb&&!b.Cf&&(c+=gi(a.wb,b)),a.wl(b,c);if(null===c)return"";throw SyntaxError("Invalid code generated: "+c);}
function Q(a,b,c,d){if(isNaN(d))throw TypeError("Expecting valid order from block: "+b.type);var e=di(b,c);if(!e)return"";c=fi(a,e);if(""===c)return"";if(!Array.isArray(c))throw TypeError("Expecting tuple from value block: "+e.type);b=c[0];c=c[1];if(isNaN(c))throw TypeError("Expecting valid order from value block: "+e.type);if(!b)return"";e=!1;var f=Math.floor(d),h=Math.floor(c);if(f<=h&&(f!=h||0!=f&&99!=f))for(e=!0,f=0;f<a.Qj.length;f++)if(a.Qj[f][0]==d&&a.Qj[f][1]==c){e=!1;break}e&&(b="("+b+")");
return b}function hi(a,b){var c=R;a=di(a,b);b=fi(c,a);if("string"!=typeof b)throw TypeError("Expecting code from statement block: "+(a&&a.type));b&&(b=ei(b,c.Ob));return b}function ii(a,b){var c=R;c.Lj&&(a=ei(gi(c.Lj,b),c.Ob)+a);c.wb&&!b.Cf&&(a=ei(gi(c.wb,b),c.Ob)+a);c.cc&&!b.Cf&&(a+=ei(gi(c.cc,b),c.Ob));return a}function gi(a,b){b=b.id.replace(/\$/g,"$$$$");return a.replace(/%1/g,"'"+b+"'")}g.Vl="";function ji(a){var b=R;b.Vl+=a+","}g.Hf="{leCUI8hutHZI4480Dc}";
function ki(a,b){var c=R;if(!c.Pf[a]){var d=li(c.za,a,"PROCEDURE");c.Sm[a]=d;b=b.join("\n").replace(c.us,d);for(var e;e!=b;)e=b,b=b.replace(/^(( {2})*) {2}/gm,"$1\x00");b=b.replace(/\0/g,c.Ob);c.Pf[a]=b}return c.Sm[a]}g.G=function(){this.Pf=Object.create(null);this.Sm=Object.create(null)};g.wl=function(a,b){return b};g.finish=function(a){delete this.Pf;delete this.Sm;return a};g.xr=function(a){return a};var R=new Vh("JavaScript");ji("break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,new,return,super,switch,this,throw,try,typeof,var,void,while,with,yield,enum,implements,interface,let,package,private,protected,public,static,await,null,true,false,arguments,"+Object.getOwnPropertyNames(ua).join(","));R.Kf=0;R.Uu=1.1;R.gb=1.2;R.Na=2;R.Su=3;R.Ou=3;R.Ku=4.1;R.Wu=4.2;R.Rh=4.3;R.Ph=4.4;R.Vu=4.5;R.Xu=4.6;R.Pu=4.7;R.Iu=4.8;
R.Qu=5;R.Tl=5.1;R.Oh=5.2;R.Qh=5.3;R.Mg=6.1;R.If=6.2;R.Mu=7;R.Is=8;R.Ru=8;R.Tu=8;R.np=9;R.Ju=10;R.Nu=11;R.Lu=12;R.Rl=13;R.Sl=14;R.Pj=15;R.Jf=16;R.Yu=17;R.Hs=18;R.Va=99;R.Qj=[[R.Na,R.gb],[R.Na,R.Na],[R.gb,R.gb],[R.gb,R.Na],[R.Ph,R.Ph],[R.Tl,R.Tl],[R.If,R.If],[R.Rl,R.Rl],[R.Sl,R.Sl]];R.Kk=!1;
R.G=function(a){Object.getPrototypeOf(this).G.call(this);this.za?this.za.reset():this.za=new mi(this.Vl);this.za.Lo(a.X);for(var b=this.za,c=ni(a),d=0;d<c.length;d++)b.Wb(c[d].S(),"VARIABLE");b=this.za;c=oi(a);c=c[0].concat(c[1]);for(d=0;d<c.length;d++)b.Wb(c[d][0],"PROCEDURE");b=[];c=oe(a);d=Object.create(null);for(var e=0,f;f=c[e];e++){var h=f.hv;!h&&f.rt&&(h=f.rt,pi[f.type]||(console.warn("Function getDeveloperVars() deprecated. Use getDeveloperVariables() (block type '"+f.type+"')"),pi[f.type]=
!0));if(h)for(f=h(),h=0;h<f.length;h++)d[f[h]]=!0}d=Object.keys(d);for(c=0;c<d.length;c++)b.push(this.za.Wb(d[c],qi));a=ni(a);for(c=0;c<a.length;c++)b.push(this.za.Wb(a[c].S(),"VARIABLE"));b.length&&(this.Pf.variables="var "+b.join(", ")+";");this.Kk=!0};R.finish=function(a){var b=rd(this.Pf);a=Object.getPrototypeOf(this).finish.call(this,a);this.Kk=!1;this.za.reset();return b.join("\n\n")+"\n\n\n"+a};R.xr=function(a){return a+";\n"};
R.qr=function(a){a=a.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'");return"'"+a+"'"};R.pv=function(a){return a.split(/\n/g).map(this.qr).join(" + '\\n' +\n")};
R.wl=function(a,b){var c="";if(!a.v||!a.v.L){var d=a.qc.text;d&&(d=Ja(d,this.bs-3),c+=ei(d+"\n","// "));for(var e=0;e<a.B.length;e++)if(1==a.B[e].type){var f=a.B[e].connection.I();if(f){d=[];f=xb(f,!0);for(var h=0;h<f.length;h++){var l=f[h].qc.text;l&&d.push(l)}d.length&&d.push("");(d=d.join("\n"))&&(c+=ei(d,"// "))}}}a=a.C&&a.C.I();a=fi(this,a);return c+b+a};
R.Dd=function(a,b,c,d,e){c=c||0;e=e||this.Va;a.h.options.Ae&&c--;var f=a.h.options.Ae?"1":"0";a=0<c?Q(this,a,b,this.If)||f:0>c?Q(this,a,b,this.Mg)||f:d?Q(this,a,b,this.Rh)||f:Q(this,a,b,e)||f;if(ri(a))a=Number(a)+c,d&&(a=-a);else{if(0<c){a=a+" + "+c;var h=this.If}else 0>c&&(a=a+" - "+-c,h=this.Mg);d&&(a=c?"-("+a+")":"-"+a,h=this.Rh);h=Math.floor(h);e=Math.floor(e);h&&e>=h&&(a="("+a+")")}return a};function si(a,b,c){Array.isArray(c)&&(c=c.join(" "));a.setAttribute("aria-"+b,c)};function ti(){this.od=[];this.og=this.yb=this.cl=this.Wk=this.Vk=this.$d=this.Xk=this.Vf=this.ho=null}g=ti.prototype;
g.P=function(a){var b=document.createElement("div");b.className="blocklyMenu goog-menu blocklyNonSelectable";b.tabIndex=0;this.og&&b.setAttribute("role",this.og);this.yb=b;for(var c=0,d;d=this.od[c];c++)b.appendChild(d.xa());this.Xk=r(b,"mouseover",this,this.yt,!0);this.$d=r(b,"click",this,this.tt,!0);this.Vk=r(b,"mouseenter",this,this.wt,!0);this.Wk=r(b,"mouseleave",this,this.xt,!0);this.cl=r(b,"keydown",this,this.ut);a.appendChild(b)};
g.focus=function(){var a=this.yb;a&&(a.focus({preventScroll:!0}),C(a,"blocklyFocused"))};g.hj=function(a){this.og=a};g.m=function(){this.Xk&&(u(this.Xk),this.Xk=null);this.$d&&(u(this.$d),this.$d=null);this.Vk&&(u(this.Vk),this.Vk=null);this.Wk&&(u(this.Wk),this.Wk=null);this.cl&&(u(this.cl),this.cl=null);for(var a=0,b;b=this.od[a];a++)b.m();this.yb=null};
function ui(a,b){for(var c=a.yb;b&&b!=c;){if(Jc(b,"blocklyMenuItem"))for(var d=0,e;e=a.od[d];d++)if(e.yb==b)return e;b=b.parentElement}return null}
g.pd=function(a){var b=this.Vf;b&&(b.pd(!1),this.Vf=null);if(a){a.pd(!0);this.Vf=a;b=this.yb;var c=a.yb,d=Qa(c),e=Qa(b);var f=Pa(b,"borderLeftWidth");Pa(b,"borderRightWidth");var h=Pa(b,"borderTopWidth");Pa(b,"borderBottomWidth");f=d.x-e.x-parseFloat(f);d=d.y-e.y-parseFloat(h);c=new Ma(c.offsetWidth,c.offsetHeight);e=b.clientHeight-c.height;h=b.scrollLeft;var l=b.scrollTop;h+=Math.min(f,Math.max(f-(b.clientWidth-c.width),0));l+=Math.min(d,Math.max(d-e,0));f=new p(h,l);b.scrollLeft=f.x;b.scrollTop=
f.y;si(b,"activedescendant",a.S())}};function vi(a,b,c){b+=c;for(var d;d=a.od[b];){if(d.isEnabled()){a.pd(d);break}b+=c}}g.yt=function(a){(a=ui(this,a.target))&&(a.isEnabled()?this.Vf!=a&&this.pd(a):this.pd(null))};g.tt=function(a){var b=this.ho;this.ho=null;b&&"number"==typeof a.clientX&&1>Ca(b,new p(a.clientX,a.clientY))||(a=ui(this,a.target))&&a.isEnabled()&&a.Vh&&a.Vh(a)};g.wt=function(){this.focus()};g.xt=function(){if(this.yb){var a=this.yb;a&&(a.blur(),Ic(a,"blocklyFocused"));this.pd(null)}};
g.ut=function(a){if(this.od.length&&!(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)){var b=this.Vf;switch(a.keyCode){case 13:case 32:b&&b.isEnabled()&&b.Vh&&b.Vh(b);break;case 38:b=this.od.indexOf(this.Vf);vi(this,0>b?this.od.length:b,-1);break;case 40:vi(this,this.od.indexOf(this.Vf),1);break;case 33:case 36:vi(this,-1,1);break;case 34:case 35:vi(this,this.od.length,-1);break;default:return}a.preventDefault();a.stopPropagation()}};
g.getSize=function(){var a=this.yb,b=Oa(a);b.height=a.scrollHeight;return b};var wi=0;function xi(a,b){this.gi=a;this.sa=b;this.yk=!0;this.yb=null;this.Do=!1;this.og=null;this.mq=this.nm=this.mm=!1;this.Vh=null}g=xi.prototype;
g.xa=function(){var a=document.createElement("div");a.id="blockly-"+(wi++).toString(36);this.yb=a;a.className="blocklyMenuItem goog-menuitem "+(this.yk?"":"blocklyMenuItemDisabled goog-menuitem-disabled ")+(this.nm?"blocklyMenuItemSelected goog-option-selected ":"")+(this.mq?"blocklyMenuItemHighlight goog-menuitem-highlight ":"")+(this.Do?"blocklyMenuItemRtl goog-menuitem-rtl ":"");var b=document.createElement("div");b.className="blocklyMenuItemContent goog-menuitem-content";if(this.mm){var c=document.createElement("div");
c.className="blocklyMenuItemCheckbox goog-menuitem-checkbox";b.appendChild(c)}c=this.gi;"string"==typeof this.gi&&(c=document.createTextNode(this.gi));b.appendChild(c);a.appendChild(b);this.og&&a.setAttribute("role",this.og);si(a,"selected",this.mm&&this.nm||!1);si(a,"disabled",!this.yk);return a};g.m=function(){this.yb=null};g.S=function(){return this.yb.id};g.Za=function(){return this.sa};g.hj=function(a){this.og=a};
g.pd=function(a){this.mq=a;var b=this.yb;b&&this.isEnabled()&&(a?(C(b,"blocklyMenuItemHighlight"),C(b,"goog-menuitem-highlight")):(Ic(b,"blocklyMenuItemHighlight"),Ic(b,"goog-menuitem-highlight")))};g.isEnabled=function(){return this.yk};g.Fb=function(a){this.yk=a};function yi(a,b,c){a.Vh=b.bind(c)};var S={kk:null,ac:null,show:function(a,b,c){Dh(S,c,S.m);if(b.length){var d=S.cu(b,c);S.ac=d;S.mg(d,a,c);setTimeout(function(){d.focus()},1);S.kk=null}else S.rb()},cu:function(a,b){var c=new ti;c.hj("menu");for(var d=0,e;e=a[d];d++){var f=new xi(e.text);f.Do=b;f.hj("menuitem");c.od.push(f);f.Fb(e.enabled);e.enabled&&yi(f,function(){S.rb();this.ka(this.scope)},e)}return c},mg:function(a,b,c){var d=document.body;var e=document.documentElement;d=new p(d.scrollLeft||e.scrollLeft,d.scrollTop||e.scrollTop);
d=new Fa(d.y,document.documentElement.clientHeight+d.y,d.x,document.documentElement.clientWidth+d.x);var f=new Fa(b.clientY+d.top,b.clientY+d.top,b.clientX+d.left,b.clientX+d.left);S.bt(a);b=a.getSize();c&&(f.left+=b.width,f.right+=b.width,d.left+=b.width,d.right+=b.width);e=f.bottom+b.height>=d.bottom?f.top-b.height:f.bottom;c?(c=Math.max(f.right-b.width,d.left),c=Math.min(c,d.right-b.width)):(c=Math.min(f.left,d.right-b.width),c=Math.max(c,d.left));0>e?Fh(c,0,b.height+e):Fh(c,e,b.height);a.focus()},
bt:function(a){a.P(yh);var b=a.yb;C(b,"blocklyContextMenu");r(b,"contextmenu",null,db);a.focus()},rb:function(){zh==S&&Eh();S.kk=null},m:function(){S.ac&&(S.ac.m(),S.ac=null)},ak:function(a,b){return function(){w++;try{var c=zd(b,a.h),d=a.ea();d.x=a.s?d.x-28:d.x+28;d.y+=56;c.moveBy(d.x,d.y)}finally{w--}0==w&&!c.W&&x(new (A("create"))(c));c.select()}}};function zi(){Ai=this;this.Uc=Object.create(null)}var Ai=null;zi.prototype.register=function(a){if(this.Uc[a.id])throw Error('Menu item with ID "'+a.id+'" is already registered.');this.Uc[a.id]=a};zi.prototype.unregister=function(a){if(!this.Uc[a])throw Error('Menu item with ID "'+a+'" not found.');delete this.Uc[a]};zi.prototype.getItem=function(a){return this.Uc[a]||null};
function Bi(a,b){var c=[],d=Ai.Uc;Object.keys(d).forEach(function(e){e=d[e];if(a==e.Ac){var f=e.Ta(b);"hidden"!=f&&(e={text:"function"==typeof e.Tb?e.Tb(b):e.Tb,enabled:"enabled"==f,ka:e.ka,scope:b,weight:e.weight},c.push(e))}});c.sort(function(e,f){return e.weight-f.weight});return c}new zi;function Ci(a,b,c){Ci.j.constructor.call(this,c);this.Qq=a;this.Nq=b}F(Ci,We);Ci.prototype.type="selected";Ci.prototype.R=function(){var a=Ci.j.R.call(this);a.oldElementId=this.Qq;a.newElementId=this.Nq;return a};Ci.prototype.N=function(a){Ci.j.N.call(this,a);this.Qq=a.oldElementId;this.Nq=a.newElementId};v(Rb,"selected",Ci);function Di(a,b){Di.j.constructor.call(this,a,b);this.zd=a.h.ik[b];this.Lp=a.h.ik[ta[b]];this.kg=new p(0,0);this.Le=Ei;this.L=null}F(Di,Td);var Ei=-1;g=Di.prototype;g.m=function(){Di.j.m.call(this);1==this.Le&&Fi(this.zd,this,this.y)};g.D=function(){return Di.j.D.call(this)};g.I=function(){return Di.j.I.call(this)};function $d(a,b){var c=a.x-b.x;a=a.y-b.y;return Math.sqrt(c*c+a*a)}
function Gi(a,b){if(!a.o.h.$a()){var c=a.o.hd();if(!c.Ga){var d=!1;if(!c.ib()){c=b.D().hd();if(!c.ib())return;b=a;d=!0}var e=K==c;e||c.Vj();var f=b.x+28+Math.floor(10*Math.random())-a.x,h=b.y+28+Math.floor(10*Math.random())-a.y;d&&(h=-h);c.s&&(f=b.x-28-Math.floor(10*Math.random())-a.x);c.moveBy(f,h);e||c.Yi()}}}
g.moveTo=function(a,b){if(this.Le==Ei){var c=this.zd;c.Ra.splice(Hi(c,b),0,this);this.Le=1}else 1==this.Le&&(Fi(this.zd,this,this.y),c=this.zd,c.Ra.splice(Hi(c,b),0,this));this.x=a;this.y=b};g.moveBy=function(a,b){this.moveTo(this.x+a,this.y+b)};function Ii(a,b){a.moveTo(b.x+a.kg.x,b.y+a.kg.y)}function Ji(a,b,c){a.kg.x=b;a.kg.y=c}
function Ki(a){var b=a.L.x-a.x,c=a.L.y-a.y;if(0!=b||0!=c){a=a.I();var d=a.T();if(!d)throw Error("block is not rendered.");d=fb(d);a.T().setAttribute("transform","translate("+(d.x-b)+","+(d.y-c)+")");Gg(a,-b,-c)}}
g.closest=function(a,b){var c=this.Lp;if(c.Ra.length){var d=this.y,e=this.x;this.x=e+b.x;this.y=d+b.y;var f=Hi(c,this.y);b=null;for(var h=a,l,m=f-1;0<=m&&Math.abs(c.Ra[m].y-this.y)<=a;)l=c.Ra[m],0==Wd(this,l,!0,h)&&(b=l,h=$d(l,this)),m--;for(;f<c.Ra.length&&Math.abs(c.Ra[f].y-this.y)<=a;)l=c.Ra[f],0==Wd(this,l,!0,h)&&(b=l,h=$d(l,this)),f++;this.x=e;this.y=d;a={connection:b,ml:h}}else a={connection:null,ml:a};return a};
function Th(a,b){b&&1==a.Le||!b&&0==a.Le||a.o.Ga||(b?(b=a.zd,b.Ra.splice(Hi(b,a.y),0,a),a.Le=1):(1==a.Le&&Fi(a.zd,a,a.y),a.Le=0))}function Sh(a){Th(a,!0);var b=[];if(1!=a.type&&3!=a.type)return b;if(a=a.I()){if(a.isCollapsed()){var c=[];a.v&&c.push(a.v);a.C&&c.push(a.C);a.H&&c.push(a.H)}else c=a.gd(!0);for(var d=0;d<c.length;d++)b.push.apply(b,Sh(c[d]));b.length||(b[0]=a)}return b}
g.Vn=function(a){var b=this.D();if(cc){var c=bc;setTimeout(function(){b.Lc||b.getParent()||(z(c),Gi(this,a),z(!1))}.bind(this),250)}};g.zm=function(a,b){Di.j.zm.call(this,a,b);a.K&&a.P();b.K&&(Dd(b),b.P(),b.T().style.display="block")};g.aj=function(){Di.j.aj.call(this);var a=this.I();a&&(a.kd(),a.P(!1),a=this.D(),a.K&&a.P())};g.Mq=function(a){return Li(this.Lp,this,a)};
g.gk=function(a){Di.j.gk.call(this,a);var b=this.D();a=a.D();var c=b.K,d=a.K;c&&Dd(b);d&&Dd(a);c&&d&&(3==this.type||4==this.type?a.P():b.P());if(b=Rd(b,a))b=b.isVisible(),a.T().style.display=b?"block":"none"};g.Yq=function(){!this.isConnected()||this.L&&0==Wd(this,this.L,!1)||(Sd(Vd(this)?this.I():this.o),this.o.Ja())};function Mi(){Mi.j.constructor.call(this)}F(Mi,wh);g=Mi.prototype;g.next=function(){var a=this.uc;if(!a)return null;(a=Ni(this,a,this.Xo))&&vh(this,a);return a};g.cf=function(){return this.next()};g.Ce=function(){var a=this.uc;if(!a)return null;(a=Oi(this,a,this.Xo))&&vh(this,a);return a};g.lf=function(){return this.Ce()};function Ni(a,b,c){if(!b)return null;var d=b.cf()||b.next();if(c(d))return d;if(d)return Ni(a,d,c);b=Pi(a,b.lf());return c(b)?b:b?Ni(a,b,c):null}
function Oi(a,b,c){if(!b)return null;var d=b.Ce();d=d?Qi(a,d):b.lf();return c(d)?d:d?Oi(a,d,c):null}g.Xo=function(a){var b=!1;a=a&&a.getType();if("output"==a||"input"==a||"field"==a||"next"==a||"previous"==a||"workspace"==a)b=!0;return b};function Pi(a,b){if(!b)return null;var c=b.next();return c?c:Pi(a,b.lf())}function Qi(a,b){if(!b.cf())return b;for(b=b.cf();b.next();)b=b.next();return Qi(a,b)}v(Qb,"basicCursor",Mi);function Ri(){Ri.j.constructor.call(this)}F(Ri,Mi);Ri.prototype.Xo=function(a){var b=!1,c=a&&a.getType();a&&(a=a.U,"field"==c&&a&&a.xq()&&rf(a)&&(b=!0));return b};function T(a,b,c){this.u=B(vc,{},null);this.u.vj="";this.style=Si(a.Ba.F(),null);this.Aa=a.Ba.Hq(this.u,this.style);this.Ao=this.K=!1;this.h=a;this.H=this.C=this.v=null;this.Bj=sb()&&!!a.oc;var d=this.Aa.Ha;d.Zc=this;Yg(d);T.j.constructor.call(this,a,b,c);this.u.dataset?this.u.dataset.id=this.id:Ra&&this.u.setAttribute("data-id",this.id)}F(T,we);g=T.prototype;g.height=0;g.width=0;g.mc=null;
g.kd=function(){if(!this.h.K)throw TypeError("Workspace is headless.");for(var a=0,b;b=this.B[a];a++)b.G();b=Ag(this);for(a=0;a<b.length;a++)$e(b[a]);this.Pa();xg(this.Aa,"blocklyDraggable",this.ib());a=this.T();this.h.options.readOnly||this.kt||!a||r(a,"mousedown",this,this.jf);this.kt=!0;a.parentNode||this.h.ra.appendChild(a)};
g.select=function(){if(this.W&&this.getParent())this.getParent().select();else if(K!=this){var a=null;if(K){a=K.id;w++;try{hh(K)}finally{w--}}a=new (A("selected"))(a,this.id,this.h.id);x(a);K=this;this.Vj()}};function hh(a){if(K==a){var b=new (A("selected"))(a.id,null,a.h.id);b.Jb=a.h.id;x(b);K=null;a.Yi()}}g.Db=null;g.$h=null;g.Jc=null;g.Fc=null;function Ag(a){var b=[];a.Db&&b.push(a.Db);a.Jc&&b.push(a.Jc);a.Fc&&b.push(a.Fc);return b}
g.zl=function(a){var b=this.Nd;if(a!=b){Mc();T.j.zl.call(this,a);Nc();var c=this.T();if(!this.h.sn&&c){var d=this.ea();a?(a.T().appendChild(c),a=this.ea(),Gg(this,a.x-d.x,a.y-d.y)):b&&(this.h.ra.appendChild(c),this.translate(d.x,d.y));this.Pa()}}};g.ea=function(){var a=0,b=0,c=this.Bj?this.h.oc.Bd:null,d=this.T();if(d){do{var e=fb(d);a+=e.x;b+=e.y;this.Bj&&this.h.oc.Bd.firstChild==d&&(e=this.h.oc.an(),a+=e.x,b+=e.y);d=d.parentNode}while(d&&d!=this.h.ra&&d!=c)}return new p(a,b)};
g.moveBy=function(a,b){if(this.Nd)throw Error("Block has parent.");var c=0==w;if(c)var d=new (A("move"))(this);var e=this.ea();this.translate(e.x+a,e.y+b);Gg(this,a,b);c&&(Qd(d),x(d));Ed(this.h)};g.translate=function(a,b){this.T().setAttribute("transform","translate("+a+","+b+")")};g.moveTo=function(a){var b=this.ea();this.moveBy(a.x-b.x,a.y-b.y)};g.Mn=function(a){this.Bj?this.h.oc.ug(a.x,a.y):(this.u.vj="translate("+a.x+","+a.y+")",this.u.setAttribute("transform",this.u.vj+this.u.lj))};
function Ti(a){if(a.h&&!a.h.$a()&&!a.getParent()&&!a.Ga){var b=a.h.Pc;if(b&&b.pu){var c=b.Po,d=c/2,e=a.ea();b=Math.round((e.x-d)/c)*c+d-e.x;c=Math.round((e.y-d)/c)*c+d-e.y;b=Math.round(b);c=Math.round(c);0==b&&0==c||a.moveBy(b,c)}}}g.$g=function(){var a=this.ea(),b=Cg(this);if(this.s){var c=a.x-b.width;var d=a.x}else c=a.x,d=a.x+b.width;return new Fa(a.y,a.y+b.height,c,d)};g.Ki=function(){this.Aa.di=this.h.Ba.F();for(var a=0,b;b=this.B[a];a++)b.Ki()};
g.wf=function(a){this.Nf!=a&&(T.j.wf.call(this,a),a?this.K&&this.P():Ui(this))};function Ui(a){for(var b=a.isCollapsed(),c=0,d;d=a.B[c];c++)"_TEMP_COLLAPSED_INPUT"!=d.name&&d.ma(!b);if(b){d=Ag(a);for(c=0;b=d[c];c++)b.ma(!1);c=a.toString(30);(d=Jd(a,"_TEMP_COLLAPSED_FIELD"))?d.Ua(c):(d=H(a,"_TEMP_COLLAPSED_INPUT")||P(a,"_TEMP_COLLAPSED_INPUT"),N(d,new Ph(c),"_TEMP_COLLAPSED_FIELD"))}else Dd(a),a.ab("_TEMP_COLLAPSED_INPUT")}
g.jf=function(a){var b=this.h&&this.h.me(a);if(b){if(b.Uf)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");rh(b,this);b.Rc=a}};g.showHelp=function(){var a="function"==typeof this.Ab?this.Ab():this.Ab;a&&window.open(a)};g.kj=function(a){if(this.h.options.readOnly||!this.contextMenu)var b=null;else b=Bi("block",{block:this}),this.ge&&this.ge(b);b&&b.length&&(S.show(a,b,this.s),S.kk=this)};
function Gg(a,b,c){if(a.K){for(var d=a.gd(!1),e=0;e<d.length;e++)d[e].moveBy(b,c);d=Ag(a);for(e=0;e<d.length;e++)af(d[e]);for(e=0;e<a.Zd.length;e++)Gg(a.Zd[e],b,c)}}g.yf=function(a){if(a){var b=this.T();b.vj="";b.lj="";ae=ae.concat(this.gd(!0));C(this.u,"blocklyDragging")}else ae=[],Ic(this.u,"blocklyDragging");for(b=0;b<this.Zd.length;b++)this.Zd[b].yf(a)};g.xl=function(a){T.j.xl.call(this,a);xg(this.Aa,"blocklyDraggable",a)};g.Go=function(a){T.j.Go.call(this,a);a=Ag(this);for(var b=0;b<a.length;b++)a[b].Ne()};
g.Jo=function(a){T.j.Jo.call(this,a);this.Pa()};g.yr=function(a){this.mh!=a&&(this.mh=a)&&(this.bb(this.h.Ba.F().ys),xg(this.Aa,"blocklyInsertionMarker",!0))};g.T=function(){return this.u};
g.m=function(a,b){if(this.h){Vg=Ug=null;ch();bh(this.Aa.Ha);Mc();var c=this.h;K==this&&(hh(this),Vi(this.h));S.kk==this&&S.rb();if(b&&this.K){Sd(this,a);b=this.h;var d=this.T();b.Qe.play("delete");var e=Hg(b,d);d=d.cloneNode(!0);d.Bu=e.x;d.Cu=e.y;d.setAttribute("transform","translate("+e.x+","+e.y+")");E(b).appendChild(d);d.yp=d.getBBox();dg(d,b.s,new Date,b.scale)}this.K=!1;if(this.mc){for(var f in this.mc)clearTimeout(this.mc[f]);this.mc=null}f=Ag(this);for(b=0;b<f.length;b++)f[b].m();T.j.m.call(this,
!!a);D(this.u);Ed(c);this.u=null;Nc()}};g.Pa=function(){this.Aa.Pa(this);for(var a=Ag(this),b=0;b<a.length;b++)a[b].Pa();for(a=0;b=this.B[a];a++)for(var c=0,d;d=b.ba[c];c++)d.Pa()};function Dd(a){var b=td(a,!1);a.Pa();if(!a.isCollapsed()){a=0;for(var c;c=b[a];a++)c.K&&Dd(c)}}g.qt=function(){return this.Jc};
g.xf=function(a){if(!Id)throw Error("Missing require for Blockly.Comment");this.qc.text!=a&&(T.j.xf.call(this,a),a=null!=a,!!this.Jc==a?(a=this.Jc,a.tg?a.tg.value=a.Cb.text:a.lg&&(a.lg.firstChild.textContent=a.Cb.text)):(a?this.$h=this.Jc=new Id(this):(this.Jc.m(),this.$h=this.Jc=null),this.K&&(this.P(),this.Ja())))};
g.zh=function(a,b){if(!bf)throw Error("Missing require for Blockly.Warning");this.mc||(this.mc=Object.create(null));var c=b||"";if(c)this.mc[c]&&(clearTimeout(this.mc[c]),delete this.mc[c]);else for(var d in this.mc)clearTimeout(this.mc[d]),delete this.mc[d];if(this.h.$a()){var e=this;this.mc[c]=setTimeout(function(){e.h&&(delete e.mc[c],e.zh(a,c))},100)}else{this.Ga&&(a=null);b=!1;if("string"==typeof a){d=Wh(this);for(var f=null;d;)d.isCollapsed()&&(f=d),d=Wh(d);f&&f.zh(k.COLLAPSED_WARNINGS_WARNING,
"TEMP_COLLAPSED_WARNING_");this.Fc||(this.Fc=new bf(this),b=!0);cf(this.Fc,a,c)}else this.Fc&&!c?(this.Fc.m(),b=!0):this.Fc&&(b=this.Fc.ic(),cf(this.Fc,"",c),(d=this.Fc.ic())||this.Fc.m(),b=b!=d);b&&this.K&&(this.P(),this.Ja())}};g.gj=function(a){this.Db&&this.Db!==a&&this.Db.m();a&&(a.A=this,this.Db=a,$e(a));this.K&&(this.P(),this.Ja())};g.Fb=function(a){this.isEnabled()!=a&&(T.j.Fb.call(this,a),this.K&&!Yh(this)&&Dd(this))};g.pd=function(a){this.K&&this.Aa.Mr(a)};
g.Vj=function(){xg(this.Aa,"blocklySelected",!0)};g.Yi=function(){xg(this.Aa,"blocklySelected",!1)};g.Fo=function(a){xg(this.Aa,"blocklyDraggingDelete",a)};g.Xm=function(){return this.style.ae};g.bb=function(a){T.j.bb.call(this,a);a=Wi(this.h.Ba.F(),this.xb);this.Aa.Ge(a.style);this.style=a.style;this.rg=a.name;this.Pa()};g.Ge=function(a){var b=Si(this.h.Ba.F(),a);this.rg=a;if(b)this.Fd=b.Fd,this.Aa.Ge(b),this.xb=b.ae,this.style=b,this.Pa();else throw Error("Invalid style name: "+a);};
function Bg(a){do{var b=a.T(),c=b.parentNode,d=c.childNodes;d[d.length-1]!==b&&c.appendChild(b);a=a.getParent()}while(a)}g.Td=function(a,b){T.j.Td.call(this,a,b);this.K&&(this.P(),this.Ja())};g.Rd=function(a,b){T.j.Rd.call(this,a,b);this.K&&(this.P(),this.Ja())};g.Sd=function(a,b){T.j.Sd.call(this,a,b);this.K&&(this.P(),this.Ja())};g.Xc=function(a){T.j.Xc.call(this,a);this.K&&(this.P(),this.Ja())};g.ab=function(a,b){a=T.j.ab.call(this,a,b);this.K&&(this.P(),this.Ja());return a};
g.Nn=function(a,b){T.j.Nn.call(this,a,b);this.K&&(this.P(),this.Ja())};g.ta=function(a,b){a=T.j.ta.call(this,a,b);this.K&&(this.P(),this.Ja());return a};function Cd(a,b){a.H&&Th(a.H,b);a.v&&Th(a.v,b);if(a.C){Th(a.C,b);var c=a.C.I();c&&Cd(c,b)}if(!a.Nf)for(c=0;c<a.B.length;c++){var d=a.B[c].connection;d&&(Th(d,b),(d=d.I())&&Cd(d,b))}}
g.gd=function(a){var b=[];if(a||this.K)if(this.v&&b.push(this.v),this.H&&b.push(this.H),this.C&&b.push(this.C),a||!this.Nf){a=0;for(var c;c=this.B[a];a++)c.connection&&b.push(c.connection)}return b};g.Pk=function(a){return T.j.Pk.call(this,a)};g.$m=function(a,b){return T.j.$m.call(this,a,b)};g.Ji=function(a){return new Di(this,a)};
g.Ja=function(){if(this.h&&!this.h.$a()){var a=this.hd();if(!a.Ga)for(var b=this.gd(!1),c=0,d;d=b[c];c++){d.isConnected()&&Vd(d)&&d.I().Ja();for(var e=d.Mq(28),f=0,h;h=e[f];f++)d.isConnected()&&h.isConnected()||h.D().hd()!=a&&(Vd(d)?Gi(h,d):Gi(d,h))}}};function Ig(a){var b=bc;setTimeout(function(){z(b);Ti(a);z(!1)},125);setTimeout(function(){z(b);a.Ja();z(!1)},250)}g.getParent=function(){return T.j.getParent.call(this)};g.hd=function(){return T.j.hd.call(this)};
g.P=function(a){if(!this.Ao){this.Ao=!0;try{this.K=!0;Mc();this.isCollapsed()&&Ui(this);this.h.Ba.P(this);var b=this.ea();this.H&&Ii(this.H,b);this.v&&Ii(this.v,b);for(var c=0;c<this.B.length;c++){var d=this.B[c].connection;d&&(Ii(d,b),d.isConnected()&&Ki(d))}this.C&&(Ii(this.C,b),this.C.isConnected()&&Ki(this.C));if(!1!==a){var e=this.getParent();e?e.P(!0):Ed(this.h)}Nc();this.Vo()}finally{this.Ao=!1}}};g.Vo=function(){this.h.ph&&this.Aa.li&&this.h.ah().dd();this.h.ph&&this.Aa.Gn&&this.h.yi("local_marker_1").dd()};
g.Fe=function(a){this.Aa.Fe(a)};g.zf=function(a){this.Aa.zf(a)};function Cg(a){var b=a.height,c=a.width,d=yb(a);d&&(d=Cg(d),a=a.h.Ba.F().Ql,b+=d.height-a,c=Math.max(c,d.width));return{height:b,width:c}};function Xi(){}Xi.prototype.Tn=function(){};Xi.prototype.Un=function(){};Xi.prototype.$k=function(){};Xi.prototype.al=function(){};function Yi(){Yi.j.constructor.call(this);this.Bg=!1}F(Yi,Xi);Yi.prototype.$o=function(a,b){a instanceof T?(a=!a.getParent()&&a.Qc(),this.Aj(a&&!b)):this.Aj(a.Qc());return this.Bg};Yi.prototype.Aj=function(a){this.Bg=a};function Zi(a,b,c){Zi.j.constructor.call(this,c);this.Sq=a;this.Oq=b}F(Zi,We);Zi.prototype.type="toolbox_item_select";Zi.prototype.R=function(){var a=Zi.j.R.call(this);a.oldItem=this.Sq;a.newItem=this.Oq;return a};Zi.prototype.N=function(a){Zi.j.N.call(this,a);this.Sq=a.oldItem;this.Oq=a.newItem};v(Rb,"toolbox_item_select",Zi);function $i(a,b,c){this.re=a.toolboxitemid||"blockly-"+(wi++).toString(36);this.yn=(this.Be=c||null)?this.Be.yn+1:0;this.Jr=a;this.no=b;this.g=this.no.g}g=$i.prototype;g.G=function(){};g.Ym=function(){return null};g.S=function(){return this.re};g.getParent=function(){return null};g.ve=function(){return!1};g.m=function(){};function aj(a,b,c){aj.j.constructor.call(this,a,b,c);this.ze=nb(a.name);this.xb=bj(this,a.colour);this.vn=this.nn=this.cj=this.Vc=this.kc=null;this.cd={container:"blocklyToolboxCategory",row:"blocklyTreeRow",rowcontentcontainer:"blocklyTreeRowContentContainer",icon:"blocklyTreeIcon",label:"blocklyTreeLabel",contents:"blocklyToolboxContents",selected:"blocklyTreeSelected",openicon:"blocklyTreeIconOpen",closedicon:"blocklyTreeIconClosed"};qd(this.cd,a.cssconfig||a.cssConfig);this.Ht=this.uq=!1;this.Zg=
[];b=a.contents;if(a.custom)this.Zg=a.custom;else if(b)for(a=0;c=b[a];a++)this.Zg.push(c)}F(aj,$i);g=aj.prototype;g.G=function(){this.ee();"true"==this.Jr.hidden&&this.rb()};
g.ee=function(){this.kc=this.sm();this.kc.setAttribute("role","treeitem");si(this.kc,"selected",!1);si(this.kc,"level",this.yn);var a=document.createElement("div");C(a,this.cd.row);var b=19*this.yn;b=b.toString()+"px";this.g.s?a.style.paddingRight=b:a.style.paddingLeft=b;this.Vc=a;this.Vc.style.pointerEvents="auto";this.kc.appendChild(this.Vc);a=document.createElement("div");C(a,this.cd.rowcontentcontainer);this.cj=a;this.cj.style.pointerEvents="none";this.Vc.appendChild(this.cj);a=document.createElement("span");
C(a,this.cd.icon);a.style.display="inline-block";this.nn=a;this.nn.setAttribute("role","presentation");this.cj.appendChild(this.nn);a=this.ze;b=document.createElement("span");b.setAttribute("id",this.S()+".label");b.textContent=a;C(b,this.cd.label);this.vn=b;this.cj.appendChild(this.vn);si(this.kc,"labelledby",this.vn.getAttribute("id"));cj(this,this.xb);return this.kc};g.sm=function(){var a=document.createElement("div");C(a,this.cd.container);return a};
g.vh=function(){this.xb=bj(this,this.Jr.colour);cj(this,this.xb)};function cj(a,b){b&&(b="8px solid "+(b||"#ddd"),a.g.s?a.Vc.style.borderRight=b:a.Vc.style.borderLeft=b)}g.ot=function(){return this.Vc};function bj(a,b){b=nb(b);if(null==b||""===b)return"";var c=Number(b);if(isNaN(c)){if(c=va(b))return c;console.warn('Toolbox category "'+a.ze+'" has unrecognized colour attribute: '+b);return""}return za(c)}function dj(a,b){a.kc.style.display=b?"block":"none";a.uq=!b;a.no.mb==a&&ej(a.no,null)}
g.rb=function(){dj(this,!1)};g.show=function(){dj(this,!0)};g.isVisible=function(){var a;if(a=!this.uq)a:{for(a=this;a.getParent();)if(a=a.getParent(),!a.jv()){a=!1;break a}a=!0}return a};g.ve=function(){return this.isVisible()&&!this.Ht};function fj(a,b){if(b){var c=bj(a,"#57e");a.Vc.style.backgroundColor=a.xb||c;C(a.Vc,a.cd.selected)}else a.Vc.style.backgroundColor="",Ic(a.Vc,a.cd.selected);si(a.kc,"selected",b)}g.Wb=function(){return this.ze};g.getParent=function(){return this.Be};g.Ym=function(){return this.kc};
g.m=function(){D(this.kc)};
Ue([".blocklyTreeRow:not(.blocklyTreeSelected):hover {","background-color: rgba(255, 255, 255, 0.2);","}",'.blocklyToolboxDiv[layout="h"] .blocklyToolboxCategory {',"margin: 1px 5px 1px 0;","}",'.blocklyToolboxDiv[dir="RTL"][layout="h"] .blocklyToolboxCategory {',"margin: 1px 0 1px 5px;","}",".blocklyTreeRow {","height: 22px;","line-height: 22px;","margin-bottom: 3px;","padding-right: 8px;","white-space: nowrap;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {',"margin-left: 8px;","padding-right: 0px",
"}",".blocklyTreeIcon {","background-image: url(<<<PATH>>>/sprites.png);","height: 16px;","vertical-align: middle;","visibility: hidden;","width: 16px;","}",".blocklyTreeIconClosed {","background-position: -32px -1px;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeIconClosed {',"background-position: 0 -1px;","}",".blocklyTreeSelected>.blocklyTreeIconClosed {","background-position: -32px -17px;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeSelected>.blocklyTreeIconClosed {',"background-position: 0 -17px;",
"}",".blocklyTreeIconOpen {","background-position: -16px -1px;","}",".blocklyTreeSelected>.blocklyTreeIconOpen {","background-position: -16px -17px;","}",".blocklyTreeLabel {","cursor: default;","font: 16px sans-serif;","padding: 0 3px;","vertical-align: middle;","}",".blocklyToolboxDelete .blocklyTreeLabel {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyTreeSelected .blocklyTreeLabel {","color: #fff;","}"]);v(Wb,"category",aj);function gj(a,b){gj.j.constructor.call(this,a,b);this.cd={container:"blocklyTreeSeparator"};qd(this.cd,a.cssconfig||a.cssConfig)}F(gj,$i);gj.prototype.G=function(){this.ee()};gj.prototype.ee=function(){var a=document.createElement("div");C(a,this.cd.container);return this.kc=a};gj.prototype.Ym=function(){return this.kc};gj.prototype.m=function(){D(this.kc)};Ue('.blocklyTreeSeparator {,border-bottom: solid #e5e5e5 1px;,height: 0;,margin: 5px 0;,},.blocklyToolboxDiv[layout="h"] .blocklyTreeSeparator {,border-right: solid #e5e5e5 1px;,border-bottom: none;,height: auto;,margin: 0 5px 0 5px;,padding: 5px 0;,width: 0;,}'.split(","));
v(Wb,"sep",gj);function hj(a){hj.j.constructor.call(this);this.g=a;this.id="toolbox";this.Ir=a.options.Kd||{contents:[]};this.We=this.nc=null;this.zc=!1;this.wa=[];this.zb=this.pa=0;this.s=a.options.s;this.J=null;this.rm=Object.create(null);this.fb=a.options.fb;this.mb=null;this.Wh=[]}F(hj,Yi);g=hj.prototype;
g.G=function(){var a=this.g,b=E(a),c=this.g,d=new ie({parentWorkspace:c,rtl:c.s,oneBasedIndex:c.options.Ae,renderer:c.options.Zi,rendererOverrides:c.options.$i,move:{scrollbars:!0}});d.fb=c.options.fb;this.J=new (ac(Xb,c.options,!0))(d);this.nc=this.ee(this.g);Kc(this.J.xa("svg"),b);this.ma(!0);this.J.G(a);this.P(this.Ir);a=a.eb;a.subscribe(this.nc,"toolboxBackgroundColour","background-color");a.subscribe(this.nc,"toolboxForegroundColour","color");jg(this.g.rc,{component:this,weight:1,wd:[rg,mg,qg]})};
g.ee=function(a){var b=E(a);a=this.sm();var c=document.createElement("div");C(c,"blocklyToolboxContents");this.We=c;this.We.tabIndex=0;this.We.setAttribute("role","tree");a.appendChild(this.We);b.parentNode.insertBefore(a,b);b=this.We;c=r(a,"click",this,this.Rt,!1,!0);this.Wh.push(c);b=r(b,"keydown",this,this.Vt,!1,!0);this.Wh.push(b);return a};
g.sm=function(){var a=document.createElement("div");a.setAttribute("layout","v");C(a,"blocklyToolboxDiv");C(a,"blocklyNonSelectable");a.setAttribute("dir",this.s?"RTL":"LTR");return a};g.Rt=function(a){if(kb(a)||a.target==this.nc)md(!1);else{if(a=a.target.getAttribute("id"))a=this.rm[a]||null,a.ve()&&ej(this,a);md(!0)}Bb=null};
g.Vt=function(a){var b=!1;switch(a.keyCode){case 40:a:{if(this.mb&&(b=this.wa.indexOf(this.mb)+1,-1<b&&b<this.wa.length)){for(var c=this.wa[b];c&&!c.ve();)c=this.wa[++b];if(c&&c.ve()){ej(this,c);b=!0;break a}}b=!1}break;case 38:a:{if(this.mb&&(b=this.wa.indexOf(this.mb)-1,-1<b&&b<this.wa.length)){for(c=this.wa[b];c&&!c.ve();)c=this.wa[--b];if(c&&c.ve()){ej(this,c);b=!0;break a}}b=!1}break;case 37:this.mb?this.mb.getParent()&&this.mb.getParent().ve()?(ej(this,this.mb.getParent()),b=!0):b=!1:b=!1;break;
case 39:b=!1;break;case 13:case 32:break;default:b=!1}!b&&this.mb&&this.mb.Xn&&(b=this.mb.Xn(a));b&&a.preventDefault()};
g.P=function(a){this.Ir=a;for(var b=0;b<this.wa.length;b++){var c=this.wa[b];c&&c.m()}this.wa=[];this.rm=Object.create(null);a=a.contents;b=document.createDocumentFragment();c=0;for(var d;d=a[c];c++){var e=d;d=b;var f=$b(Wb,e.kind.toLowerCase());f&&(f=e=new f(e,this),this.wa.push(f),this.rm[f.S()]=f,e.G(),(f=e.Ym())&&d.appendChild(f),e.ot&&e.Vc.setAttribute("id",e.S()))}this.We.appendChild(b);this.position();a=this.g;b=this.nc.getBoundingClientRect();a.translate(2==this.fb?a.scrollX+b.width:a.scrollX,
a.scrollY);ij(a)};g.Wm=function(){if(!this.nc||!this.zc)return null;var a=this.nc.getBoundingClientRect(),b=a.left;a=b+a.width;return 2==this.fb?new Fa(-1E7,1E7,-1E7,a):new Fa(-1E7,1E7,b,1E7)};g.$o=function(a){a instanceof T?this.Aj(!a.getParent()&&a.Qc()):this.Aj(a.Qc());return this.Bg};g.Tn=function(){jj(this,!0)};g.$k=function(){jj(this,!1)};g.al=function(){jj(this,!1)};g.Aj=function(a){a!==this.Bg&&(jj(this,!1),this.Bg=a,jj(this,!0))};
function jj(a,b){var c=a.Bg?"blocklyToolboxDelete":"blocklyToolboxGrab";b?C(a.nc,c):Ic(a.nc,c)}g.qe=function(){return this.pa};g.wc=function(){return this.J};g.position=function(){var a=this.g.Vb(),b=this.nc;b&&(3==this.fb?b.style.right="0":b.style.left="0",b.style.height="100%",this.pa=b.offsetWidth,this.zb=a.ob,this.J.position())};g.vh=function(){for(var a=0;a<this.wa.length;a++){var b=this.wa[a];b.vh&&b.vh()}};g.ma=function(a){this.zc!==a&&(this.nc.style.display=a?"block":"none",this.zc=a,kj(this.g))};
g.xp=function(a){!a&&this.J&&this.J.Re&&ej(this,null)};function ej(a,b){var c=a.mb;if((b||c)&&(!b||b.ve())){null!=c&&null!=c&&(a.mb=null,fj(c,!1),si(a.We,"activedescendant",""));null!=b&&b!=c&&null!=b&&(a.mb=b,fj(b,!0),si(a.We,"activedescendant",b.S()));c!=b&&b&&b.Zg.length?(a.J.show(b.Zg),a.J.Eo()):a.J.rb();var d=c&&c.Wb(),e=b&&b.Wb();c==b&&(e=null);a=new (A("toolbox_item_select"))(d,e,a.g.id);x(a)}}
g.m=function(){kg(this.g.rc,"toolbox");this.J.m();for(var a=0;a<this.wa.length;a++)this.wa[a].m();for(a=0;a<this.Wh.length;a++)u(this.Wh[a]);this.Wh=[];this.wa=[];this.g.eb.unsubscribe(this.nc);D(this.nc)};
Ue([".blocklyToolboxDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyToolboxGrab {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyToolboxDiv {","background-color: #ddd;","overflow-x: visible;","overflow-y: auto;","padding: 4px 0 4px 0;","position: absolute;","z-index: 70;","-webkit-tap-highlight-color: transparent;","}",".blocklyToolboxContents {","display: flex;","flex-wrap: wrap;","flex-direction: column;",
"}",".blocklyToolboxContents:focus {","outline: none;","}"]);v(Ub,"default",hj);function lj(a,b){lj.j.constructor.call(this,b);this.nh=a}F(lj,We);lj.prototype.type="trashcan_open";lj.prototype.R=function(){var a=lj.j.R.call(this);a.isOpen=this.nh;return a};lj.prototype.N=function(a){lj.j.N.call(this,a);this.nh=a.isOpen};v(Rb,"trashcan_open",lj);function mj(a,b,c,d,e,f){var h=f.la&&!!f.la.na;0===a.Di?(c=e.Uj.left+c,h&&f.s&&(c+=Sc)):(c=e.Uj.left+e.Sr.width-b.width-c,h&&!f.s&&(c-=Sc));0===a.vertical?a=e.Uj.top+d:(a=e.Uj.top+e.Sr.height-b.height-d,f.la&&f.la.ua&&(a-=Sc));return new Fa(a,a+b.height,c,c+b.width)}function nj(a){return{Di:2!==a.xu.position?0:1,vertical:1}}
function oj(a,b,c,d){for(var e=a.left,f=a.right-a.left,h=a.bottom-a.top,l=0,m;m=d[l];l++)a.left>m.right||a.right<m.left||a.top>m.bottom||a.bottom<m.top||(a=0===c?m.top-h-b:m.bottom+b,a=new Fa(a,a+h,e,e+f),l=-1);return a};function pj(a){pj.j.constructor.call(this);this.g=a;this.id="trashcan";this.wa=[];this.Nc=null;0>=this.g.options.Uk||(a=new ie({scrollbars:!0,parentWorkspace:this.g,rtl:this.g.s,oneBasedIndex:this.g.options.Ae,renderer:this.g.options.Zi,rendererOverrides:this.g.options.$i,move:{scrollbars:!0}}),a.fb=3==this.g.fb?2:3,this.Nc=new (ac(Xb,this.g.options,!0))(a),Be(this.g,this.St.bind(this)))}F(pj,Yi);g=pj.prototype;g.Xd=47;g.Gj=44;g.Jg=16;g.Lh=20;g.Pl=20;g.Oj=10;g.Wl=0;g.Xl=32;g.xs=.1;g.Lk=!1;g.Jn=0;
g.u=null;g.Gl=null;g.zn=0;g.ef=0;g.we=0;g.Ke=0;g.Ei=!1;
g.xa=function(){this.u=B(vc,{"class":"blocklyTrash"},null);var a=String(Math.random()).substring(2);var b=B(nc,{id:"blocklyTrashBodyClipPath"+a},this.u);B(Bc,{width:this.Xd,height:this.Gj,y:this.Jg},b);var c=B(wc,{width:96,x:-this.Wl,height:124,y:-this.Xl,"clip-path":"url(#blocklyTrashBodyClipPath"+a+")"},this.u);c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.g.options.pf+"sprites.png");b=B(nc,{id:"blocklyTrashLidClipPath"+a},this.u);B(Bc,{width:this.Xd,height:this.Jg},b);this.Gl=
B(wc,{width:96,x:-this.Wl,height:124,y:-this.Xl,"clip-path":"url(#blocklyTrashLidClipPath"+a+")"},this.u);this.Gl.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.g.options.pf+"sprites.png");Mb(this.u,"mousedown",this,this.Vs);Mb(this.u,"mouseup",this,this.click);Mb(c,"mouseover",this,this.Mt);Mb(c,"mouseout",this,this.Kt);this.$l();return this.u};
g.G=function(){0<this.g.options.Uk&&(Kc(this.Nc.xa(Cc),E(this.g)),this.Nc.G(this.g));jg(this.g.rc,{component:this,weight:1,wd:[rg,mg,qg,pg]});this.Ei=!0;this.yh(!1)};g.m=function(){kg(this.g.rc,"trashcan");this.u&&(D(this.u),this.u=null);this.g=this.Gl=null;clearTimeout(this.zn)};g.xp=function(a){!a&&this.Nc&&this.Nc&&this.Nc.isVisible()&&(this.Nc.rb(),qj(this,!1))};
g.position=function(a,b){if(this.Ei){var c=nj(a);a=oj(mj(c,new Ma(this.Xd,this.Gj+this.Jg),this.Pl,this.Lh,a,this.g),this.Lh,0===c.vertical?1:0,b);this.Ke=a.top;this.we=a.left;this.u.setAttribute("transform","translate("+this.we+","+this.Ke+")")}};g.$g=function(){return new Fa(this.Ke,this.Ke+this.Gj+this.Jg,this.we,this.we+this.Xd)};
g.Wm=function(){if(!this.u)return null;var a=this.u.getBoundingClientRect(),b=a.top+this.Xl-this.Oj;a=a.left+this.Wl-this.Oj;return new Fa(b,b+this.Jg+this.Gj+2*this.Oj,a,a+this.Xd+2*this.Oj)};g.Un=function(){this.yh(this.Bg)};g.$k=function(){this.yh(!1)};g.al=function(){setTimeout(this.yh.bind(this,!1),100)};g.yh=function(a){this.Lk!=a&&(clearTimeout(this.zn),this.Lk=a,this.$l())};
g.$l=function(){this.ef+=this.Lk?.2:-.2;this.ef=Math.min(Math.max(this.ef,this.Jn),1);rj(this,45*this.ef);this.u.style.opacity=.4+.4*this.ef;this.ef>this.Jn&&1>this.ef&&(this.zn=setTimeout(this.$l.bind(this),20))};function rj(a,b){var c=3==a.g.fb;a.Gl.setAttribute("transform","rotate("+(c?-b:b)+","+(c?4:a.Xd-4)+","+(a.Jg-2)+")")}g.click=function(){if(this.wa.length&&(!this.Nc||!this.Nc.isVisible())){var a=this.wa.map(xd);this.Nc.show(a);qj(this,!0)}};
function qj(a,b){a=new (A("trashcan_open"))(b,a.g.id);x(a)}g.Vs=function(a){this.Nc&&this.Nc.isVisible()||!this.wa.length||a.stopPropagation()};g.Mt=function(){this.wa.length&&this.yh(!0)};g.Kt=function(){this.yh(!1)};
g.St=function(a){if(!(0>=this.g.options.Uk)&&"delete"==a.type&&a.rh.tagName&&"shadow"!=a.rh.tagName.toLowerCase()){for(var b=a=a.rh.cloneNode(!0);b;){b.removeAttribute&&(b.removeAttribute("x"),b.removeAttribute("y"),b.removeAttribute("id"),b.removeAttribute("disabled"),"comment"==b.nodeName&&(b.removeAttribute("h"),b.removeAttribute("w"),b.removeAttribute("pinned")));var c=b.firstChild||b.nextSibling;if(!c)for(c=b.parentNode;c;){if(c.nextSibling){c=c.nextSibling;break}c=c.parentNode}b=c}a=wd(a);if(-1==
this.wa.indexOf(a)){for(this.wa.unshift(a);this.wa.length>this.g.options.Uk;)this.wa.pop();this.Jn=a=this.xs;this.Lk||rj(this,45*a)}}};function sj(a){this.g=a}function tj(a){var b=0,c=0;a&&(b=a.qe(),c=a.zb);return new Ma(b,c)}function uj(a){var b=tj(a.g.wc(!0));return{width:b.width,height:b.height,position:a.g.fb}}function vj(a){var b=tj(a.g.Ca);return{width:b.width,height:b.height,position:a.g.fb}}function wj(a){var b=0,c=vj(a),d=uj(a),e=!!a.g.Ca;a=!!a.g.wc(!0);var f=2==(e?c.position:d.position);e&&f?b=c.width:a&&f&&(b=d.width);return{top:0,left:b}}
function Pe(a,b){b=b?a.g.scale:1;var c=xj(a.g),d=vj(a),e=uj(a),f=a.g.Ca?d.position:e.position;if(a.g.Ca){if(2==f||3==f)c.width-=d.width}else!a.g.wc(!0)||2!=f&&3!=f||(c.width-=e.width);return{height:c.height/b,width:c.width/b,top:-a.g.scrollY/b,left:-a.g.scrollX/b}}
sj.prototype.Dk=function(){var a=this.g.scale;var b=[].concat(this.g.uj);if(b.length){for(var c=b[0].$g(),d=1;d<b.length;d++){var e=b[d];e.Bb&&e.Bb()||(e=e.$g(),e.top<c.top&&(c.top=e.top),e.bottom>c.bottom&&(c.bottom=e.bottom),e.left<c.left&&(c.left=e.left),e.right>c.right&&(c.right=e.right))}b=c}else b=new Fa(0,0,0,0);return{height:(b.bottom-b.top)*a,width:(b.right-b.left)*a,top:b.top*a,left:b.left*a}};
sj.prototype.Ye=function(a,b,c){a=a?this.g.scale:1;var d=b||Pe(this,!1);c=c||this.Dk();if(fh(this.g)&&gh(this.g))b={};else{b=fh(this.g);var e=gh(this.g),f=d||Pe(this,!1);var h={};e||(h.top=f.top,h.bottom=f.top+f.height);b||(h.left=f.left,h.right=f.left+f.width);b=h}h=c.top+c.height;e=c.left+c.width;f=d.width;var l=d.height;var m=f/2,n=l/2;d=Math.min(c.top-n,h-l);h=Math.max(h+n,c.top+l);l=Math.min(c.left-m,e-f);c=Math.max(e+m,c.left+f);d=void 0!==b.top?b.top:d;e=void 0!==b.left?b.left:l;return{top:d/
a,left:e/a,width:((void 0!==b.right?b.right:c)-e)/a,height:((void 0!==b.bottom?b.bottom:h)-d)/a}};sj.prototype.Vb=function(){var a=vj(this),b=uj(this),c=xj(this.g),d=wj(this),e=Pe(this),f=this.Dk(),h=this.Ye(!1,e,f);return{av:f.height,dv:f.width,cv:f.top,bv:f.left,scrollHeight:h.height,scrollWidth:h.width,scrollTop:h.top,scrollLeft:h.left,ob:e.height,pb:e.width,ad:e.top,$c:e.left,Qb:d.top,Kb:d.left,Dr:c.height,Er:c.width,vv:a.width,uv:a.height,fb:a.position,gv:b.width,fv:b.height}};
v(Yb,"default",sj);function yj(a,b){this.J=b;yj.j.constructor.call(this,a)}F(yj,sj);yj.prototype.Dk=function(){try{var a=this.g.ra.getBBox()}catch(c){a={height:0,y:0,width:0,x:0}}var b=this.g.scale;return{height:a.height*b,width:a.width*b,top:a.y*b,left:a.x*b}};yj.prototype.Ye=function(a,b,c){b=c||this.Dk();c=this.J.Kg*this.g.scale;a=a?this.g.scale:1;return{height:(b.height+2*c)/a,width:(b.width+b.left+c)/a,top:0,left:0}};function zj(){this.Ra=[]}function Aj(a,b,c){if(!a.Ra.length)return-1;var d=Hi(a,c);if(d>=a.Ra.length)return-1;c=b.y;for(var e=d;0<=e&&a.Ra[e].y==c;){if(a.Ra[e]==b)return e;e--}for(e=d;e<a.Ra.length&&a.Ra[e].y==c;){if(a.Ra[e]==b)return e;e++}return-1}function Hi(a,b){if(!a.Ra.length)return 0;for(var c=0,d=a.Ra.length;c<d;){var e=Math.floor((c+d)/2);if(a.Ra[e].y<b)c=e+1;else if(a.Ra[e].y>b)d=e;else{c=e;break}}return c}
function Fi(a,b,c){b=Aj(a,b,c);if(-1==b)throw Error("Unable to find connection in connectionDB.");a.Ra.splice(b,1)}function Li(a,b,c){function d(n){var q=f-e[n].x,t=h-e[n].y;Math.sqrt(q*q+t*t)<=c&&m.push(e[n]);return t<c}var e=a.Ra,f=b.x,h=b.y;a=0;for(var l=b=e.length-2;a<l;)e[l].y<h?a=l:b=l,l=Math.floor((a+b)/2);var m=[];b=a=l;if(e.length){for(;0<=a&&d(a);)a--;do b++;while(b<e.length&&d(b))}return m};function Bj(a,b){Bj.j.constructor.call(this,b);this.Gr=a}F(Bj,We);Bj.prototype.type="theme_change";Bj.prototype.R=function(){var a=Bj.j.R.call(this);a.themeName=this.Gr;return a};Bj.prototype.N=function(a){Bj.j.N.call(this,a);this.Gr=a.themeName};v(Rb,"theme_change",Bj);function Cj(a,b,c,d,e){Cj.j.constructor.call(this,d);this.ad=a;this.$c=b;this.scale=c;this.Qi=e}F(Cj,We);Cj.prototype.type="viewport_change";Cj.prototype.R=function(){var a=Cj.j.R.call(this);a.viewTop=this.ad;a.viewLeft=this.$c;a.scale=this.scale;a.oldScale=this.Qi;return a};Cj.prototype.N=function(a){Cj.j.N.call(this,a);this.ad=a.viewTop;this.$c=a.viewLeft;this.scale=a.scale;this.Qi=a.oldScale};v(Rb,"viewport_change",Cj);function Dj(a,b){this.fh=a;this.Po=b.spacing;this.Dq=b.length;this.It=(this.An=a.firstChild)&&this.An.nextSibling;this.pu=b.snap}Dj.prototype.vf=1;Dj.prototype.m=function(){this.fh=null};Dj.prototype.update=function(a){this.vf=a;var b=this.Po*a||100;this.fh.setAttribute("width",b);this.fh.setAttribute("height",b);b=Math.floor(this.Po/2)+.5;var c=b-this.Dq/2,d=b+this.Dq/2;b*=a;c*=a;d*=a;Ej(this.An,a,c,d,b,b);Ej(this.It,a,b,b,c,d)};
function Ej(a,b,c,d,e,f){a&&(a.setAttribute("stroke-width",b),a.setAttribute("x1",c),a.setAttribute("y1",e),a.setAttribute("x2",d),a.setAttribute("y2",f))}Dj.prototype.moveTo=function(a,b){this.fh.setAttribute("x",a);this.fh.setAttribute("y",b);(Ra||Sa)&&this.update(this.vf)};function Fj(a){var b=ce;this.g=a;this.sj=b;this.oj=[];this.Te=Object.create(null)}g=Fj.prototype;g.ne=function(){return this.sj};g.jj=function(a){var b=this.sj;this.sj=a;if(a=Gj(this.g))b&&Ic(a,b.fd()),C(a,this.sj.fd());for(b=0;a=this.oj[b];b++)a.vh();md()};g.subscribe=function(a,b,c){this.Te[b]||(this.Te[b]=[]);this.Te[b].push({element:a,propertyName:c});a.style[c]=""};
g.unsubscribe=function(a){if(a)for(var b=Object.keys(this.Te),c=0,d;d=b[c];c++){for(var e=this.Te[d],f=e.length-1;0<=f;f--)e[f].element===a&&e.splice(f,1);this.Te[d].length||delete this.Te[d]}};g.m=function(){this.Te=this.oj=this.sj=null};function Hj(a,b){Hj.j.constructor.call(this,a,b);this.Mk=!1;this.pc=Object.create(null);this.zr=this.Ui=0;this.vq=this.$n=null}F(Hj,ih);g=Hj.prototype;g.Am=function(a){this.vq=this.cb.options.Da&&this.cb.options.Da.gr;Hj.j.Am.call(this,a);!this.Jk&&Kb(a)&&Ij(this,a)};g.zp=function(a){this.$n=r(document,"mousedown",null,this.zt.bind(this),!0);this.hl=r(document,"mousemove",null,this.gh.bind(this),!0);this.il=r(document,"mouseup",null,this.Fk.bind(this),!0);a.preventDefault();a.stopPropagation()};
g.zt=function(a){!this.$a()&&Kb(a)&&(Ij(this,a),this.Mk&&Fb())};g.gh=function(a){if(this.$a())Jb(a)&&!Ib(a)||Hj.j.gh.call(this,a);else if(this.Mk){if(Kb(a)){this.pc[Hb(a)]=Jj(this,a);var b=Object.keys(this.pc);if(this.vq&&2===b.length){b=Object.keys(this.pc);b=Ca(this.pc[b[0]],this.pc[b[1]])/this.zr;if(0<this.Ui&&Infinity>this.Ui){var c=b-this.Ui;c=0<c?5*c:6*c;var d=this.cb,e=lb(a,E(d),jd(d));d.zoom(e.x,e.y,c)}this.Ui=b;a.preventDefault()}else Hj.j.gh.call(this,a)}Fb()}else Hj.j.gh.call(this,a)};
g.Fk=function(a){if(Kb(a)&&!this.$a()){var b=Hb(a);this.pc[b]&&delete this.pc[b];2>Object.keys(this.pc).length&&(this.pc=Object.create(null),this.Ui=0)}!this.Mk||this.$a()?Jb(a)&&!Ib(a)||Hj.j.Fk.call(this,a):(a.preventDefault(),a.stopPropagation(),this.m())};g.m=function(){Hj.j.m.call(this);this.$n&&u(this.$n)};function Ij(a,b){a.pc[Hb(b)]=Jj(a,b);var c=Object.keys(a.pc);2==c.length&&(a.zr=Ca(a.pc[c[0]],a.pc[c[1]]),a.Mk=!0,b.preventDefault())}
function Jj(a,b){return a.cb?new p(b.changedTouches?b.changedTouches[0].pageX:b.pageX,b.changedTouches?b.changedTouches[0].pageY:b.pageY):null};function Kj(a){this.oo=a;this.Th=Object.create(null)}g=Kj.prototype;g.xn=null;g.m=function(){this.Th=this.oo=null};g.load=function(a,b){if(a.length){try{var c=new ua.Audio}catch(l){return}for(var d,e=0;e<a.length;e++){var f=a[e],h=f.match(/\.(\w+)$/);if(h&&c.canPlayType("audio/"+h[1])){d=new ua.Audio(f);break}}d&&d.play&&(this.Th[b]=d)}};g.preload=function(){for(var a in this.Th){var b=this.Th[a];b.volume=.01;var c=b.play();void 0!==c?c.then(b.pause).catch(function(){}):b.pause();if(Xa||Za)break}};
g.play=function(a,b){var c=this.Th[a];c?(a=new Date,null!=this.xn&&100>a-this.xn||(this.xn=a,c=Xa||Wa?c:c.cloneNode(),c.volume=void 0===b?1:b,c.play())):this.oo&&this.oo.Qe.play(a,b)};function Lj(a){this.ei=a;this.xa()}g=Lj.prototype;g.Z=null;g.ei=null;g.xa=function(){this.Z||(this.Z=B(Cc,{xmlns:"http://www.w3.org/2000/svg","xmlns:html":"http://www.w3.org/1999/xhtml","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1","class":"blocklyWsDragSurface blocklyOverflowVisible"},null),this.ei.appendChild(this.Z))};g.ug=function(a,b){a=a.toFixed(0);b=b.toFixed(0);this.Z.style.display="block";Lc(this.Z,"translate3d("+a+"px, "+b+"px, 0px)")};g.an=function(){return fb(this.Z)};
g.dk=function(a){if(!a)throw Error("Couldn't clear and hide the drag surface: missing new surface.");var b=this.Z.childNodes[0],c=this.Z.childNodes[1];if(!(b&&c&&Jc(b,"blocklyBlockCanvas")&&Jc(c,"blocklyBubbleCanvas")))throw Error("Couldn't clear and hide the drag surface. A node was missing.");null!=this.wo?Kc(b,this.wo):a.insertBefore(b,a.firstChild);Kc(c,b);this.Z.style.display="none";if(this.Z.childNodes.length)throw Error("Drag surface was not cleared.");Lc(this.Z,"");this.wo=null};
function Mj(a,b,c){Mj.j.constructor.call(this,a);this.bc=new (ac(Yb,a,!0))(this);this.Vb=a.Vb||this.bc.Vb.bind(this.bc);this.fj=a.fj||Nj;this.rc=new ig;var d=[];d[1]=new zj;d[2]=new zj;d[3]=new zj;d[4]=new zj;this.ik=d;b&&(this.oc=b);c&&(this.zg=c);this.Kl=!!this.zg&&sb();this.Ci=[];this.Qe=new Kj(a.Sa);this.Pc=this.options.gn?new Dj(this.options.gn,a.fq):null;this.nd=new xh(this);this.So=Object.create(null);this.Rm=Object.create(null);Oj&&Pj&&Qj(this,"VARIABLE",Pj);Rj&&Sj&&(Qj(this,"PROCEDURE",Sj),
Be(this,Tj));this.eb=this.options.Sa?this.options.Sa.eb:new Fj(this);this.eb.oj.push(this);c=this.options.Zi||"geras";a=this.ne();b=this.options.$i;c=new ($b(Tb,c))(c);c.G(a,b);this.Ba=c;this.km=null;this.ph=!1;this.uj=[];this.Bm=[];this.jm=new Ma(0,0)}F(Mj,Ad);g=Mj.prototype;g.ul=null;g.K=!0;g.zc=!0;g.ld=!1;g.Ii=!1;g.Co=!0;g.scrollX=0;g.scrollY=0;g.Tp=null;g.scale=1;g.Sn=1;g.Wq=0;g.Tq=0;g.Eh=null;g.la=null;g.J=null;g.Ca=null;g.Lb=null;g.oc=null;g.zg=null;g.Kl=!1;g.Ik=!1;g.qn=null;g.Cq=null;g.V=null;
g.tq=null;g.rn=!0;g.Fe=function(a){this.nd.Fe(a)};g.zf=function(a){this.nd.zf(a)};g.yi=function(a){return this.nd?this.nd.yi(a):null};g.ah=function(){return this.nd?this.nd.ah():null};g.ne=function(){return this.eb.ne()};g.jj=function(a){a||(a=ce);this.eb.jj(a)};g.vh=function(){this.u&&this.Ba.zo(this.u,this.ne());Uj(oe(this).filter(function(b){return!!b.rg}));Vj(this);this.Ca&&this.Ca.vh();this.isVisible()&&this.ma(!0);var a=new (A("theme_change"))(this.ne().name,this.id);x(a)};
function Uj(a){for(var b=0,c;c=a[b];b++){var d=c.rg;if(d&&(c.Ge(d),c.Db)){var e=c.Db.g;if(e&&oe(e)){var f=oe(e);for(d=0;c=f[d];d++)c.Ge(c.rg);if(c=e.wc())for(e=oe(c.g),d=0;c=e[d];d++)c.Ge(c.rg)}}}}function jd(a){if(a.rn){var b=E(a).getScreenCTM();b&&(a.tq=b.inverse(),a.rn=!1)}return a.tq}g.yj=function(){this.rn=!0};g.isVisible=function(){return this.zc};
function Hg(a,b){var c=0,d=0,e=1;if(a.ra.contains(b)||a.rd.contains(b))e=a.scale;do{var f=fb(b);if(b==a.ra||b==a.rd)e=1;c+=f.x*e;d+=f.y*e;b=b.parentNode}while(b&&b!=E(a));return new p(c,d)}function xj(a){a=a.jm;return new Ma(a.width,a.height)}function Gj(a){if(!a.qn)for(var b=a.u;b;){if(-1!=(" "+(b.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){a.qn=b;break}b=b.parentNode}return a.qn}
g.xa=function(a){this.u=B(vc,{"class":"blocklyWorkspace"},null);a&&(this.Hb=B(Bc,{height:"100%",width:"100%","class":a},this.u),"blocklyMainBackground"==a&&this.Pc?this.Hb.style.fill="url(#"+this.Pc.fh.id+")":this.eb.subscribe(this.Hb,"workspaceBackgroundColour","fill"));this.ra=B(vc,{"class":"blocklyBlockCanvas"},this.u);this.rd=B(vc,{"class":"blocklyBubbleCanvas"},this.u);this.ld||(r(this.u,"mousedown",this,this.jf,!1,!0),r(this.u,"wheel",this,this.bu));this.options.gq&&(this.Ca=new (ac(Ub,this.options,
!0))(this));this.Pc&&this.Pc.update(this.scale);kj(this);var b=ac(Qb,this.options);b&&(a=this.nd,b=new b,a.Kc&&a.Kc.Mc&&a.Kc.Mc.m(),a.Kc=b,a.Kc&&(b=a.Kc,b=new Wj(a.g,a.g.Ba.F(),b),a.Kc.Mc=b,a.Fe(a.Kc.Mc.xa())));this.Ba.xa(this.u,this.ne());return this.u};
g.m=function(){this.K=!1;this.Lb&&this.Lb.cancel();this.u&&(D(this.u),this.u=null);this.rd=this.ra=null;this.Ca&&(this.Ca.m(),this.Ca=null);this.J&&(this.J.m(),this.J=null);this.Eh&&(this.Eh.m(),this.Eh=null);this.la&&(this.la.m(),this.la=null);this.Ej&&(this.Ej.m(),this.Ej=null);this.Qe&&(this.Qe.m(),this.Qe=null);this.Pc&&(this.Pc.m(),this.Pc=null);this.Ba.m();this.nd&&(this.nd.m(),this.nd=null);Mj.j.m.call(this);if(this.eb){var a=this.eb,b=a.oj.indexOf(this);if(0>b)throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.");
a.oj.splice(b,1);this.eb.unsubscribe(this.Hb);this.options.Sa||(this.eb.m(),this.eb=null)}this.Rm=this.So=this.ik=null;this.options.Sa||(a=E(this))&&a.parentNode&&D(a.parentNode);this.ul&&(u(this.ul),this.ul=null)};g.gf=function(a,b){return new T(this,a,b)};
function Xj(a,b){var c=new ie({parentWorkspace:a,rtl:a.s,oneBasedIndex:a.options.Ae,renderer:a.options.Zi,rendererOverrides:a.options.$i,move:{scrollbars:!0}});c.fb=a.options.fb;a.J=new (ac(Xb,a.options,!0))(c);a.J.Re=!1;a.J.g.ma(!0);return a.J.xa(b)}g.wc=function(a){return this.J||a?this.J:this.Ca?this.Ca.wc():null};function Ed(a){a.Co&&a.K&&(a.la&&a.la.resize(),a.yj())}
g.resize=function(){this.Ca&&this.Ca.position();this.J&&this.J.position();var a=ng(this.rc,pg);var b=this.bc;b={Sr:Pe(b),Uj:wj(b),xu:vj(b)};for(var c=[],d=0,e;e=a[d];d++)e.position(b,c),(e=e.$g())&&c.push(e);this.la&&this.la.resize();this.yj();kj(this)};function lh(a){var b=document.documentElement;var c=window;b=Ra&&c.pageYOffset!=b.scrollTop?new p(b.scrollLeft,b.scrollTop):new p(c.pageXOffset||b.scrollLeft,c.pageYOffset||b.scrollTop);Ba(a.Cq,b)||(a.Cq=b,a.yj(),kj(a))}
function Yj(a,b,c){E(a);b&&(a.jm.width=b);c&&(a.jm.height=c)}function E(a){if(!a.km)for(var b=a.u;b;){if("svg"==b.tagName){a.km=b;break}b=b.parentNode}return a.km}function Tc(a){if(0==w){var b=a.scale,c=-a.scrollY,d=-a.scrollX;if(!(b==a.Sn&&1>Math.abs(c-a.Wq)&&1>Math.abs(d-a.Tq))){var e=new (A("viewport_change"))(c,d,b,a.id,a.Sn);a.Sn=b;a.Wq=c;a.Tq=d;x(e)}}}
g.translate=function(a,b){if(this.Kl&&this.Ik)this.zg.ug(a,b);else{var c="translate("+a+","+b+") scale("+this.scale+")";this.ra.setAttribute("transform",c);this.rd.setAttribute("transform",c)}if(this.oc){c=this.oc;var d=this.scale;c.vf=d;var e=a.toFixed(0),f=b.toFixed(0);c.Gp.x=parseInt(e,10);c.Gp.y=parseInt(f,10);c.Bd.setAttribute("transform","translate("+e+","+f+") scale("+d+")")}this.Pc&&this.Pc.moveTo(a,b);Tc(this)};
function ld(a){if(a.Kl){a.Ik=!1;var b=a.zg.an();a.zg.dk(a.u);b="translate("+b.x+","+b.y+") scale("+a.scale+")";a.ra.setAttribute("transform",b);a.rd.setAttribute("transform",b)}}
function kd(a){if(a.Kl&&!a.Ik){a.Ik=!0;var b=a.ra.previousSibling,c=parseInt(E(a).getAttribute("width"),10),d=parseInt(E(a).getAttribute("height"),10),e=fb(a.ra),f=a.zg,h=a.ra,l=a.rd,m=a.scale;if(f.Z.childNodes.length)throw Error("Already dragging a block.");f.wo=b;h.setAttribute("transform","translate(0, 0) scale("+m+")");l.setAttribute("transform","translate(0, 0) scale("+m+")");f.Z.setAttribute("width",c);f.Z.setAttribute("height",d);f.Z.appendChild(h);f.Z.appendChild(l);f.Z.style.display="block";
a.zg.ug(e.x,e.y)}}g.qe=function(){var a=this.Vb();return a?a.pb/this.scale:0};g.ma=function(a){this.zc=a;if(this.u)if(this.la&&this.la.pg(a),this.wc()&&this.wc().pg(a),E(this).style.display=a?"block":"none",this.Ca&&this.Ca.ma(a),a){a=oe(this);for(var b=a.length-1;0<=b;b--)a[b].Ki();this.P();this.Ca&&this.Ca.position()}else md(!0)};g.P=function(){for(var a=oe(this),b=a.length-1;0<=b;b--)a[b].P(!1);if(this.Lb)for(a=this.Lb.bh(),b=0;b<a.length;b++)a[b].P(!1);b=this.nd;b.g.ph&&b.fe&&b.g.ah().dd()};
function Zj(a,b){var c=ak;if(void 0===b){for(var d=0,e;e=c.Ci[d];d++)e.pd(!1);c.Ci.length=0}if(e=a?c.hc(a):null)(a=void 0===b||b)?-1==c.Ci.indexOf(e)&&c.Ci.push(e):vb(c.Ci,e),e.pd(a)}
function bk(a){var b=ck;if(a.K&&b.tagName&&!(b.getElementsByTagName("block").length>=xe(a)))if(a.Lb&&a.Lb.cancel(),"comment"==b.tagName.toLowerCase()){w++;try{var c=ra.$u.Ak(b),d=parseInt(b.getAttribute("x"),10),e=parseInt(b.getAttribute("y"),10);isNaN(d)||isNaN(e)||(a.s&&(d=-d),c.moveBy(d+50,e+50))}finally{w--}0==w&&ra.Zu.ev(c);c.select()}else{w++;try{var f=zd(b,a),h=parseInt(b.getAttribute("x"),10),l=parseInt(b.getAttribute("y"),10);if(!isNaN(h)&&!isNaN(l)){a.s&&(h=-h);do{b=!1;var m=oe(a);c=0;for(var n;n=
m[c];c++){var q=n.ea();if(1>=Math.abs(h-q.x)&&1>=Math.abs(l-q.y)){b=!0;break}}if(!b){var t=f.gd(!1);c=0;for(var y;y=t[c];c++)if(y.closest(28,new p(h,l)).connection){b=!0;break}}b&&(h=a.s?h-28:h+28,l+=56)}while(b);f.moveBy(h,l)}}finally{w--}0==w&&!f.W&&x(new (A("create"))(f));f.select()}}function Vj(a){(a=a.ld?a.V:a)&&!a.Lb&&a.Ca&&a.Ca.wc()&&(a=a.Ca,a.mb&&a.mb.ve()&&a.mb.Zg.length&&a.J.show(a.mb.Zg))}g.tf=function(a,b){Mj.j.tf.call(this,a,b);Vj(this)};g.je=function(a){Mj.j.je.call(this,a);Vj(this)};
g.bd=function(a,b,c){a=Mj.j.bd.call(this,a,b,c);Vj(this);return a};function kj(a){var b=ng(a.rc,qg);a.Bm=[];for(var c=0,d;d=b[c];c++){var e=d.Wm();e&&a.Bm.push({component:d,Ys:e})}}function Eg(a,b){for(var c=0,d;d=a.Bm[c];c++)if(d.Ys.contains(b.clientX,b.clientY))return d.component;return null}g.jf=function(a){var b=this.me(a);b&&ph(b,a,this)};g.nj=function(a,b){a=lb(a,E(this),jd(this));a.x/=this.scale;a.y/=this.scale;this.Tp=Da(b,a)};g.$a=function(){return null!=this.Lb&&this.Lb.$a()};
g.ib=function(){return this.options.Mb&&!!this.options.Mb.scrollbars||this.options.Mb&&this.options.Mb.Fh||this.options.Mb&&this.options.Mb.le||this.options.Da&&this.options.Da.Fh||this.options.Da&&this.options.Da.gr};function fh(a){var b=!!a.la;return a.ib()&&(!b||b&&!!a.la.ua)}function gh(a){var b=!!a.la;return a.ib()&&(!b||b&&!!a.la.na)}
g.bu=function(a){if(th())a.preventDefault(),a.stopPropagation();else{var b=this.options.Da&&this.options.Da.Fh,c=this.options.Mb&&this.options.Mb.Fh;if(b||c){var d=mb(a);!b||!a.ctrlKey&&c?(b=this.scrollX-d.x,c=this.scrollY-d.y,a.shiftKey&&!d.x&&(b=this.scrollX-d.y,c=this.scrollY),this.scroll(b,c)):(d=-d.y/50,b=lb(a,E(this),jd(this)),this.zoom(b.x,b.y,d));a.preventDefault()}}};g.kj=function(a){if(!this.options.readOnly&&!this.ld){var b=Bi("workspace",{h:this});this.Zs&&this.Zs(b,a);S.show(a,b,this.s)}};
function dk(a,b){if(b=de(b)){if(!a.options.Kd)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(he(b)){if(!a.Ca)throw Error("Existing toolbox has no categories.  Can't change mode.");a.options.Kd=b;a.Ca.P(b)}else{if(!a.J)throw Error("Existing toolbox has categories.  Can't change mode.");a.options.Kd=b;a.J.show(b)}}else if(a.options.Kd)throw Error("Can't nullify an existing toolbox.");}
function id(a){if(a.options.Sa)id(a.options.Sa);else{Wf=a;document.activeElement&&document.activeElement.blur&&document.activeElement.blur();try{E(a).focus({preventScroll:!0})}catch(b){try{E(a).parentNode.setActive()}catch(c){E(a).parentNode.focus({preventScroll:!0})}}}}
g.zoom=function(a,b,c){c=Math.pow(this.options.Da.wr,c);var d=this.scale*c;if(this.scale!=d){d>this.options.Da.Mi?c=this.options.Da.Mi/this.scale:d<this.options.Da.Oi&&(c=this.options.Da.Oi/this.scale);var e=this.ra.getCTM(),f=E(this).createSVGPoint();f.x=a;f.y=b;f=f.matrixTransform(e.inverse());a=f.x;b=f.y;e=e.translate(a*(1-c),b*(1-c)).scale(c);this.scrollX=e.e;this.scrollY=e.f;this.setScale(d)}};
function ek(a,b){var c=a.Vb();if(a.J){var d=c.Er?c.Er/2:0;c=c.Dr?c.Dr/2:0}else d=c.pb/2+c.Kb,c=c.ob/2+c.Qb;a.zoom(d,c,b)}g.jt=function(){Ic(this.ra,"blocklyCanvasTransitioning");Ic(this.rd,"blocklyCanvasTransitioning")};
g.setScale=function(a){this.options.Da.Mi&&a>this.options.Da.Mi?a=this.options.Da.Mi:this.options.Da.Oi&&a<this.options.Da.Oi&&(a=this.options.Da.Oi);this.scale=a;md(!1);this.J&&(this.J.xo(),kj(this));this.Pc&&this.Pc.update(this.scale);a=this.Vb();this.scrollX-=a.Kb;this.scrollY-=a.Qb;a.$c+=a.Kb;a.ad+=a.Qb;this.scroll(this.scrollX,this.scrollY);if(this.la)if(this.J){var b=this.la;b.ua&&dd(b.ua,a);b.na&&fd(b.na,a)}else b=this.la,b.ua&&ed(b.ua,a),b.na&&gd(b.na,a)};
function fk(a){return a.options.Sa?fk(a.options.Sa):a.scale}g.scroll=function(a,b){md(!0);var c=this.Vb();a=Math.min(a,-c.scrollLeft);b=Math.min(b,-c.scrollTop);var d=c.scrollTop+Math.max(0,c.scrollHeight-c.ob);a=Math.max(a,-(c.scrollLeft+Math.max(0,c.scrollWidth-c.pb)));b=Math.max(b,-d);this.scrollX=a;this.scrollY=b;this.la&&this.la.set(-(a+c.scrollLeft),-(b+c.scrollTop),!1);a+=c.Kb;b+=c.Qb;this.translate(a,b)};
function Nj(a){var b=this.Vb();"number"==typeof a.x&&(this.scrollX=-(b.scrollLeft+(b.scrollWidth-b.pb)*a.x));"number"==typeof a.y&&(this.scrollY=-(b.scrollTop+(b.scrollHeight-b.ob)*a.y));this.translate(this.scrollX+b.Kb,this.scrollY+b.Qb)}g.hc=function(a){return Mj.j.hc.call(this,a)};g.La=function(a){return Mj.j.La.call(this,a)};g.Wj=function(a){this.uj.push(a);Mj.j.Wj.call(this,a)};g.ql=function(a){vb(this.uj,a);Mj.j.ql.call(this,a)};g.Nb=function(a){var b=!this.Co&&a;this.Co=a;b&&Ed(this)};
g.clear=function(){this.Nb(!1);Mj.j.clear.call(this);this.uj=[];this.Nb(!0)};function gk(a,b){if("function"!=typeof b)throw TypeError("Button callbacks must be functions.");a.Rm.CREATE_VARIABLE=b}function gf(a,b){return(a=a.Rm[b])?a:null}function Qj(a,b,c){if("function"!=typeof c)throw TypeError("Toolbox category callbacks must be functions.");a.So[b]=c}
g.me=function(a){var b="mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type,c=this.Lb;return c?b&&c.Uf?(console.warn("Tried to start the same gesture twice."),c.cancel(),null):c:b?this.Lb=new Hj(a,this):null};function Vi(a){a.Lb&&a.Lb.cancel()};function hk(a){hk.j.constructor.call(this);a.fj=this.nu.bind(this);var b=this.g=new Mj(a),c=new yj(this.g,this);b.bc=c;b.Vb=b.bc.Vb.bind(b.bc);this.g.ld=!0;this.g.ma(this.zc);this.id=qb();this.s=!!a.s;this.Df=a.fb;this.Mm=[];this.Sk=[];this.Xh=[];this.jb=[];this.qo=[];this.Dh=this.g.Ba.F().Tj;this.V=null}F(hk,Yi);g=hk.prototype;g.Re=!0;g.zc=!1;g.Of=!0;g.va=8;g.Kg=hk.prototype.va;g.ws=3*hk.prototype.Kg;g.Ls=2.5;g.pa=0;g.zb=0;g.ht=70;
g.xa=function(a){this.u=B(a,{"class":"blocklyFlyout",style:"display: none"},null);this.Hb=B(yc,{"class":"blocklyFlyoutBackground"},this.u);this.u.appendChild(this.g.xa());this.g.eb.subscribe(this.Hb,"flyoutBackgroundColour","fill");this.g.eb.subscribe(this.Hb,"flyoutOpacity","fill-opacity");return this.u};
g.G=function(a){this.V=a;this.g.V=a;this.g.la=new Qc(this.g,!1,!0,"blocklyFlyoutScrollbar",this.Ls);this.rb();Array.prototype.push.apply(this.Mm,r(this.u,"wheel",this,this.Fu));this.Re||(this.zk=this.Nm.bind(this),Be(this.V,this.zk));Array.prototype.push.apply(this.Mm,r(this.Hb,"mousedown",this,this.jf));this.g.me=this.V.me.bind(this.V);this.g.Lo(this.V.X);var b=this.g;b.qf=new ne(b);jg(a.rc,{component:this,weight:1,wd:[mg,qg]})};
g.m=function(){this.rb();kg(this.g.rc,this.id);u(this.Mm);this.zk&&(vb(this.V.jb,this.zk),this.zk=null);this.g&&(this.g.eb.unsubscribe(this.Hb),this.g.V=null,this.g.m(),this.g=null);this.u&&(D(this.u),this.u=null);this.V=this.Hb=null};g.qe=function(){return this.pa};g.isVisible=function(){return this.zc};g.ma=function(a){var b=a!=this.isVisible();this.zc=a;b&&(this.Re||kj(this.g),this.xj())};g.pg=function(a){var b=a!=this.Of;this.Of=a;b&&this.xj()};
g.xj=function(){var a=this.Of?this.isVisible():!1;this.u.style.display=a?"block":"none";this.g.la.pg(a)};g.rb=function(){if(this.isVisible()){this.ma(!1);for(var a=0,b;b=this.jb[a];a++)u(b);this.jb.length=0;this.rf&&(vb(this.g.jb,this.rf),this.rf=null)}};
g.show=function(a){this.g.Nb(!1);this.rb();ik(this);"string"==typeof a&&(a=jk(this,a));this.ma(!0);a=ge(a);a=kk(this,a);lk(this,a.$s,a.nt);this.jb.push(r(this.Hb,"mouseover",this,function(){for(var b=this.g.La(!1),c=0,d;d=b[c];c++)d.Yi()}));this.pa=0;this.g.Nb(!0);this.xo();this.Nm();this.position();this.rf=this.xo.bind(this);Be(this.g,this.rf)};
function kk(a,b){var c=[],d=[];a.qo.length=0;for(var e=a.ws,f=0,h;h=b[f];f++){if(h.custom){var l=jk(a,h.custom);l=ge(l);b.splice.apply(b,[f,1].concat(l));h=b[f]}switch(h.kind.toUpperCase()){case "BLOCK":l=h;var m=l;h=null;var n=m.blockxml;n&&"string"!=typeof n?h=n:n&&"string"==typeof n?(h=xd(n),m.blockxml=h):m.type&&(h=G("xml"),h.setAttribute("type",m.type),h.setAttribute("disabled",m.disabled),m.blockxml=h);if(!h)throw Error("Error: Invalid block definition. Block definition must have blockxml or type.");
m=h;h=a;n=zd(m,h.g);n.isEnabled()||h.qo.push(n);h=n;l=parseInt(l.gap||m.getAttribute("gap"),10);d.push(isNaN(l)?e:l);c.push({type:"block",block:h});break;case "SEP":l=d;m=e;h=parseInt(h.gap,10);!isNaN(h)&&0<l.length?l[l.length-1]=h:l.push(m);break;case "LABEL":l=mk(a,h,!0);c.push({type:"button",button:l});d.push(e);break;case "BUTTON":l=mk(a,h,!1),c.push({type:"button",button:l}),d.push(e)}}return{$s:c,nt:d}}
function jk(a,b){b=a.g.V.So[b]||null;if("function"!=typeof b)throw TypeError("Couldn't find a callback function when opening a toolbox category.");a=b(a.g.V);if(!Array.isArray(a))throw new TypeError("Result of toolbox category callback must be an array.");return a}function mk(a,b,c){if(!ef)throw Error("Missing require for Blockly.FlyoutButton");return new ef(a.g,a.V,b,c)}
function ik(a){for(var b=a.g.La(!1),c=0,d;d=b[c];c++)d.h==a.g&&d.m(!1,!1);for(c=0;c<a.Sk.length;c++)if(b=a.Sk[c])bh(b),D(b);for(c=a.Sk.length=0;b=a.Xh[c];c++)b.m();a.Xh.length=0;a.g.qf.clear()}function nk(a,b){return function(c){var d=a.V.me(c);d&&(rh(d,b),qh(d,c,a))}}g.jf=function(a){var b=this.V.me(a);b&&qh(b,a,this)};
function mh(a,b){var c=null;w++;var d=a.V.Rf();a.V.Nb(!1);try{var e=a.V;if(!b.T())throw Error("oldBlock is not rendered.");var f=ud(b,!0);e.Nb(!1);var h=zd(f,e);if(!h.T())throw Error("block is not rendered.");var l=jb(e.ra),m=jb(a.g.ra),n=b.ea();n.scale(a.g.scale);var q=Da(Ea(m,n),l);q.scale(1/e.scale);h.moveBy(q.x,q.y);c=h}finally{w--}md();b=Fd(a.V,d);if(0==w){z(!0);for(d=0;d<b.length;d++)e=b[d],x(new (A("var_create"))(e));x(new (A("create"))(c))}a.Re?a.rb():a.Nm();return c}
g.Nm=function(){for(var a=this.g.La(!1),b=0,c;c=a[b];b++)if(-1==this.qo.indexOf(c))for(var d=ye(this.V,wb(c));c;)c.Fb(d),c=yb(c)};
g.xo=function(){this.rf&&vb(this.g.jb,this.rf);this.g.scale=this.V.scale;for(var a=0,b=this.g.La(!1),c=0,d;d=b[c];c++){var e=Cg(d).width;d.v&&(e-=this.Dh);a=Math.max(a,e)}for(c=0;d=this.Xh[c];c++)a=Math.max(a,d.width);a+=1.5*this.Kg+this.Dh;a*=this.g.scale;a+=Sc;if(this.pa!=a){for(c=0;d=b[c];c++){if(this.s){e=d.ea().x;var f=a/this.g.scale-this.Kg;d.v||(f-=this.Dh);d.moveBy(f-e,0)}d.Yp&&(e=d.Yp,f=d,d=Cg(f),e.setAttribute("width",d.width),e.setAttribute("height",d.height),f=f.ea(),e.setAttribute("y",
f.y),e.setAttribute("x",this.s?f.x-d.width:f.x))}if(this.s)for(c=0;d=this.Xh[c];c++)d.moveTo(a/this.g.scale-d.width-this.Kg-this.Dh,d.mg.y);this.V.fb!=this.Df||2!=this.Df||this.V.Ca||this.V.translate(this.V.scrollX+a,this.V.scrollY);this.pa=a;this.position();kj(this.V)}this.rf&&Be(this.g,this.rf)};function kh(a){return a.g.la?a.g.la.isVisible():!1};function ok(a){ok.j.constructor.call(this,a)}F(ok,hk);g=ok.prototype;g.nu=function(a){if(this.isVisible()){var b=this.g.bc,c=b.Ye(),d=Pe(b);b=wj(b);"number"==typeof a.y&&(this.g.scrollY=-(c.top+(c.height-d.height)*a.y));this.g.translate(this.g.scrollX+b.left,this.g.scrollY+b.top)}};
g.position=function(){if(this.isVisible()&&this.V.isVisible()){var a=Pe(this.V.bc);this.zb=a.height;var b=this.pa-this.va;a=a.height-2*this.va;var c=3==this.Df,d=b+this.va;d=["M "+(c?d:0)+",0"];d.push("h",c?-b:b);d.push("a",this.va,this.va,0,0,c?0:1,c?-this.va:this.va,this.va);d.push("v",Math.max(0,a));d.push("a",this.va,this.va,0,0,c?0:1,c?this.va:-this.va,this.va);d.push("h",c?b:-b);d.push("z");this.Hb.setAttribute("d",d.join(" "));this.isVisible()?(c=this.V.bc,b=wj(c),a=Pe(c),c=vj(c),c=this.V.fb==
this.Df?this.V.Ca?2==this.Df?c.width:a.width-this.pa:2==this.Df?0:a.width:2==this.Df?0:a.width+b.left-this.pa):c=0;b=this.pa;a=this.zb;this.u.setAttribute("width",b);this.u.setAttribute("height",a);Yj(this.g,b,a);"svg"==this.u.tagName?Lc(this.u,"translate("+c+"px,0px)"):this.u.setAttribute("transform","translate("+c+",0)");if(b=this.g.la)b.yl(c,0),b.resize(),b.ua&&b.ua.setPosition(b.ua.position.x,b.ua.position.y),b.na&&b.na.setPosition(b.na.position.x,b.na.position.y)}};
g.Eo=function(){var a=this.g.la;a.na&&a.na.set(0,!0)};g.Fu=function(a){var b=mb(a);if(b.y){var c=this.g.bc,d=c.Ye();b=Pe(c).top-d.top+b.y;c=this.g.la;c.na&&c.na.set(b,!0);Eh();ag()}a.preventDefault();a.stopPropagation()};
function lk(a,b,c){a.g.scale=a.V.scale;for(var d=a.Kg,e=a.s?d:d+a.Dh,f=0,h;h=b[f];f++)if("block"==h.type){h=h.block;for(var l=xb(h,!1),m=0,n;n=l[m];m++)n.Ga=!0;h.P();n=h.T();l=Cg(h);m=h.v?e-a.Dh:e;h.moveBy(m,d);var q=a,t=h,y=f;m=B(Bc,{"fill-opacity":0,x:a.s?m-l.width:m,y:d,height:l.height,width:l.width},null);m.Zc=t;Yg(m);q.g.ra.insertBefore(m,t.T());t.Yp=m;q.Sk[y]=m;q=a;q.jb.push(r(n,"mousedown",null,nk(q,h)));q.jb.push(r(m,"mousedown",null,nk(q,h)));q.jb.push(Mb(n,"mouseenter",h,h.Vj));q.jb.push(Mb(n,
"mouseleave",h,h.Yi));q.jb.push(Mb(m,"mouseenter",h,h.Vj));q.jb.push(Mb(m,"mouseleave",h,h.Yi));d+=l.height+c[f]}else"button"==h.type&&(l=a,m=h.button,n=e,q=d,t=m.xa(),m.moveTo(n,q),m.show(),l.jb.push(r(t,"mousedown",l,l.jf)),l.Xh.push(m),d+=h.button.height+c[f])}g.Wm=function(){if(!this.u||this.Re||!this.isVisible())return null;var a=this.u.getBoundingClientRect(),b=a.left;return 2==this.Df?new Fa(-1E9,1E9,-1E9,b+a.width):new Fa(-1E9,1E9,b,1E9)};v(Xb,"default",ok);
function pk(a){this.g=a;this.id="zoomControls";this.Oe=this.Fj=this.Ih=this.bo=this.ao=this.co=null}g=pk.prototype;g.Xd=32;g.Pe=32;g.Sj=2;g.Nj=11;g.Lh=20;g.Pl=20;g.u=null;g.we=0;g.Ke=0;g.Ei=!1;
g.xa=function(){this.u=B(vc,{},null);var a=String(Math.random()).substring(2);this.Fj=B(vc,{"class":"blocklyZoom"},this.u);var b=B(nc,{id:"blocklyZoomoutClipPath"+a},this.Fj);B(Bc,{width:32,height:32},b);B(wc,{width:96,height:124,x:-64,y:-92,"clip-path":"url(#blocklyZoomoutClipPath"+a+")"},this.Fj).setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.g.options.pf+"sprites.png");this.bo=r(this.Fj,"mousedown",null,this.Wr.bind(this,-1));this.Ih=B(vc,{"class":"blocklyZoom"},this.u);b=B(nc,
{id:"blocklyZoominClipPath"+a},this.Ih);B(Bc,{width:32,height:32},b);B(wc,{width:96,height:124,x:-32,y:-92,"clip-path":"url(#blocklyZoominClipPath"+a+")"},this.Ih).setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.g.options.pf+"sprites.png");this.ao=r(this.Ih,"mousedown",null,this.Wr.bind(this,1));this.g.ib()&&(this.Oe=B(vc,{"class":"blocklyZoom"},this.u),b=B(nc,{id:"blocklyZoomresetClipPath"+a},this.Oe),B(Bc,{width:32,height:32},b),B(wc,{width:96,height:124,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+
a+")"},this.Oe).setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.g.options.pf+"sprites.png"),this.co=r(this.Oe,"mousedown",null,this.iu.bind(this)));return this.u};g.G=function(){jg(this.g.rc,{component:this,weight:2,wd:[pg]});this.Ei=!0};g.m=function(){kg(this.g.rc,"zoomControls");this.u&&D(this.u);this.co&&u(this.co);this.ao&&u(this.ao);this.bo&&u(this.bo)};g.$g=function(){var a=this.Sj+2*this.Pe;this.Oe&&(a+=this.Nj+this.Pe);return new Fa(this.Ke,this.Ke+a,this.we,this.we+this.Xd)};
g.position=function(a,b){if(this.Ei){var c=nj(a),d=this.Sj+2*this.Pe;this.Oe&&(d+=this.Nj+this.Pe);var e=c.vertical;a=oj(mj(c,new Ma(this.Xd,d),this.Pl,this.Lh,a,this.g),this.Lh,0===e?1:0,b);0===e?(e=this.Sj+this.Pe,this.Ih.setAttribute("transform","translate(0, "+e+")"),this.Oe&&this.Oe.setAttribute("transform","translate(0, "+(e+this.Nj+this.Pe)+")")):(e=this.Oe?this.Nj+this.Pe:0,this.Ih.setAttribute("transform","translate(0, "+e+")"),this.Fj.setAttribute("transform","translate(0, "+(e+this.Sj+
this.Pe)+")"));this.Ke=a.top;this.we=a.left;this.u.setAttribute("transform","translate("+this.we+","+this.Ke+")")}};g.Wr=function(a,b){id(this.g);ek(this.g,a);qk(this);Bb=null;b.stopPropagation();b.preventDefault()};
g.iu=function(a){id(this.g);var b=Math.log(this.g.options.Da.Br/this.g.scale)/Math.log(this.g.options.Da.wr),c=this.g;C(c.ra,"blocklyCanvasTransitioning");C(c.rd,"blocklyCanvasTransitioning");ek(this.g,b);b=this.g;if(b.ib()){c=b.Vb();var d=(c.scrollWidth-c.pb)/2,e=(c.scrollHeight-c.ob)/2;d=-d-c.scrollLeft;e=-e-c.scrollTop;b.scroll(d,e)}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.");setTimeout(this.g.jt.bind(this.g),500);qk(this);Bb=null;
a.stopPropagation();a.preventDefault()};function qk(a){a=new (A("click"))(null,a.g.id,"zoom_controls");x(a)}Ue([".blocklyZoom>image, .blocklyZoom>svg>image {","opacity: .4;","}",".blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {","opacity: .6;","}",".blocklyZoom>image:active, .blocklyZoom>svg>image:active {","opacity: .8;","}"]);function rk(a){this.Hd="undefined"==typeof a;this.Jb=a?a.id:"";this.group=bc;this.Eb=!1}F(rk,od);rk.prototype.type="finished_loading";rk.prototype.R=function(){var a={type:this.type};this.group&&(a.group=this.group);this.Jb&&(a.workspaceId=this.Jb);return a};rk.prototype.N=function(a){this.Hd=!1;this.Jb=a.workspaceId;this.group=a.group};v(Rb,"finished_loading",rk);function sk(a){this.ei=a;this.xa()}g=sk.prototype;g.Z=null;g.Bd=null;g.ei=null;g.vf=1;g.pj=null;g.Gp=new p(0,0);g.xa=function(){this.Z||(this.Z=B(Cc,{xmlns:"http://www.w3.org/2000/svg","xmlns:html":"http://www.w3.org/1999/xhtml","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1","class":"blocklyBlockDragSurface"},this.ei),this.Bd=B(vc,{},this.Z))};
function Dg(a,b){if(a.Bd.childNodes.length)throw Error("Already dragging a block.");a.Bd.appendChild(b);a.Z.style.display="block";a.pj=new p(0,0)}g.ug=function(a,b){this.pj=new p(a*this.vf,b*this.vf);a=this.pj.x;b=this.pj.y;a=a.toFixed(0);b=b.toFixed(0);this.Z.style.display="block";Lc(this.Z,"translate3d("+a+"px, "+b+"px, 0px)")};g.an=function(){var a=fb(this.Z);return new p(a.x/this.vf,a.y/this.vf)};g.T=function(){return this.Z};
g.dk=function(a){a?a.appendChild(this.Bd.firstChild):this.Bd.removeChild(this.Bd.firstChild);this.Z.style.display="none";if(this.Bd.childNodes.length)throw Error("Drag group was not cleared.");this.pj=null};function tk(a,b){"string"==typeof a&&(a=document.getElementById(a)||document.querySelector(a));if(!document.contains(a))throw Error("Error: container is not in current document");b=new ie(b||{});var c=document.createElement("div");c.className="injectionDiv";c.tabIndex=0;si(c,"label",k.WORKSPACE_ARIA_LABEL);a.appendChild(c);a=uk(c,b);var d=new sk(c),e=new Lj(c),f=vk(a,b,d,e);wk(f);Wf=f;ij(f);c.addEventListener("focusin",function(){Wf=f});return f}
function uk(a,b){a.setAttribute("dir","LTR");var c=b.At,d=b.pf;if(!Se){Se=!0;var e=Ve.join("\n");Ve.length=0;c&&(c=d.replace(/[\\/]$/,""),e=e.replace(/<<<PATH>>>/g,c),c=document.createElement("style"),c.id="blockly-common-style",c.appendChild(document.createTextNode(e)),document.head.insertBefore(c,document.head.firstChild))}a=B(Cc,{xmlns:"http://www.w3.org/2000/svg","xmlns:html":"http://www.w3.org/1999/xhtml","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1","class":"blocklySvg",tabindex:"0"},
a);c=B(oc,{},a);e=b.fq;c=B(zc,{id:"blocklyGridPattern"+String(Math.random()).substring(2),patternUnits:"userSpaceOnUse"},c);0<e.length&&0<e.spacing?(B(xc,{stroke:e.colour},c),1<e.length&&B(xc,{stroke:e.colour},c)):B(xc,{},c);b.gn=c;return a}
function vk(a,b,c,d){b.Sa=null;b=new Mj(b,c,d);c=b.options;b.scale=c.Da.Br;a.appendChild(b.xa("blocklyMainBackground"));C(Gj(b),b.Ba.fd());C(Gj(b),b.ne().fd());!c.gq&&c.Kd&&(d=Xj(b,Cc),Kc(d,a));if(c.jq){if(!pj)throw Error("Missing require for Blockly.Trashcan");b.Eh=new pj(b);d=b.Eh.xa();b.u.insertBefore(d,b.ra)}if(c.Da&&c.Da.controls){if(!pk)throw Error("Missing require for Blockly.ZoomControls");b.Ej=new pk(b);c=b.Ej.xa();b.u.appendChild(c)}b.eb.subscribe(a,"workspaceBackgroundColour","background-color");
b.translate(0,0);Be(b,xk(b));ij(b);yh||(yh=document.createElement("div"),yh.className="blocklyWidgetDiv",(Tf||document.body).appendChild(yh));Sf();Wg||(Wg=document.createElement("div"),Wg.className="blocklyTooltipDiv",(Tf||document.body).appendChild(Wg));return b}function yk(a){var b=a.bc;if(!(fh(b.g)&&gh(b.g)||a.$a())){b=b.Ye(!0);for(var c=[].concat(a.uj),d=0,e;e=c[d];d++)Jg(a,b,e)}}
function xk(a){return function(b){var c=a.bc;if(!(fh(c.g)&&gh(c.g)||a.$a()))if(-1!==dc.indexOf(b.type)){c=c.Ye(!0);var d=null;switch(b.type){case "create":case "move":(d=a.hc(b.ga))&&(d=d.hd())}if(d){var e=bc;z(b.group);Jg(a,c,d)&&!b.group&&console.warn("Moved object in bounds but there was no event group. This may break undo.");null!==e&&z(e)}}else"viewport_change"===b.type&&b.scale>b.Qi&&yk(a)}}
function Jg(a,b,c){var d=c.$g(),e=nd(b.top,d.top,b.top+b.height-(d.bottom-d.top))-d.top,f=b.left;b=b.left+b.width-(d.right-d.left);a.s?f=Math.min(b,f):b=Math.max(f,b);return(a=nd(f,d.left,b)-d.left)||e?(c.moveBy(a,e),!0):!1}
function wk(a){var b=a.options,c=E(a);r(c.parentNode,"contextmenu",null,function(e){eb(e)||e.preventDefault()});c=r(window,"resize",null,function(){md(!0);ij(a);yk(a)});a.ul=c;zk();if(b.Kd){c=a.Ca;var d=a.wc(!0);c?c.G():d&&(d.G(a),d.show(b.Kd),"function"==typeof d.Eo&&d.Eo())}b.jq&&a.Eh.G();b.Da&&b.Da.controls&&a.Ej.G();b.Mb&&b.Mb.scrollbars?(a.la=new Qc(a,!0===b.Mb.scrollbars||!!b.Mb.scrollbars.Di,!0===b.Mb.scrollbars||!!b.Mb.scrollbars.vertical,"blocklyMainWorkspaceScrollbar"),a.la.resize()):a.fj({x:.5,
y:.5});b.Ct&&Ak(b.pf,a)}function zk(){sa||(r(document,"scroll",null,function(){for(var a=Ce(),b=0,c;c=a[b];b++)c.yj&&c.yj()}),r(document,"keydown",null,Bk),Mb(document,"touchend",null,Fb),Mb(document,"touchcancel",null,Fb),Xa&&r(window,"orientationchange",document,function(){ij(Wf)}));sa=!0}
function Ak(a,b){function c(){for(;e.length;)u(e.pop());d.preload()}var d=b.Qe;d.load([a+"click.mp3",a+"click.wav",a+"click.ogg"],"click");d.load([a+"disconnect.wav",a+"disconnect.mp3",a+"disconnect.ogg"],"disconnect");d.load([a+"delete.mp3",a+"delete.ogg",a+"delete.wav"],"delete");var e=[];e.push(r(document,"mousemove",null,c,!0));e.push(r(document,"touchstart",null,c,!0))};function mi(a){this.Qr="";this.vr=Object.create(null);if(a){a=a.split(",");for(var b=0;b<a.length;b++)this.vr[a[b]]=!0}this.reset()}var qi="DEVELOPER_VARIABLE";mi.prototype.reset=function(){this.zd=Object.create(null);this.Mp=Object.create(null);this.X=null};mi.prototype.Lo=function(a){this.X=a};
mi.prototype.Wb=function(a,b){var c=a;"VARIABLE"==b&&(this.X?a=(a=this.X.jd(a))?a.name:null:(console.warn("Deprecated call to Blockly.Names.prototype.getName without defining a variable map. To fix, add the following code in your generator's init() function:\nBlockly.YourGeneratorName.nameDB_.setVariableMap(workspace.getVariableMap());"),a=null),a&&(c=a));a=c.toLowerCase();var d="VARIABLE"==b||b==qi?this.Qr:"";b in this.zd||(this.zd[b]=Object.create(null));var e=this.zd[b];if(a in e)return d+e[a];
b=li(this,c,b);e[a]=b.substr(d.length);return b};function li(a,b,c){b?(b=encodeURI(b.replace(/ /g,"_")).replace(/[^\w]/g,"_"),-1!="0123456789".indexOf(b[0])&&(b="my_"+b)):b=k.UNNAMED_KEY||"unnamed";for(var d="";a.Mp[b+d]||b+d in a.vr;)d=d?d+1:2;b+=d;a.Mp[b]=!0;return("VARIABLE"==c||c==qi?a.Qr:"")+b}function ue(a,b){return a.toLowerCase()==b.toLowerCase()};var Rj={};function oi(a){var b=ve(a,"procedures_defnoreturn").map(function(c){return c.Xe()});a=ve(a,"procedures_defreturn").map(function(c){return c.Xe()});b.sort(Ck);a.sort(Ck);return[b,a]}function Ck(a,b){return a[0].localeCompare(b[0],void 0,{sensitivity:"base"})}function Dk(a,b){if(b.Ga)return a;for(a=a||k.UNNAMED_KEY||"unnamed";Ek(a,b.h,b);){var c=a.match(/^(.*?)(\d+)$/);a=c?c[1]+(parseInt(c[2],10)+1):a+"2"}return a}
function Ek(a,b,c){b=oe(b);for(var d=0;d<b.length;d++)if(b[d]!=c&&b[d].Xe){var e=b[d].Xe();if(ue(e[0],a))return!0}return!1}function Fk(a){a=a.trim();var b=Dk(a,this.D()),c=this.Za();if(c!=a&&c!=b){a=oe(this.D().h);for(var d=0;d<a.length;d++)a[d].wh&&a[d].wh(c,b)}return b}
function Sj(a){function b(f,h){for(var l=0;l<f.length;l++){var m=f[l][0],n=f[l][1],q=G("block");q.setAttribute("type",h);q.setAttribute("gap",16);var t=G("mutation");t.setAttribute("name",m);q.appendChild(t);for(m=0;m<n.length;m++){var y=G("arg");y.setAttribute("name",n[m]);t.appendChild(y)}c.push(q)}}var c=[];if(J.procedures_defnoreturn){var d=G("block");d.setAttribute("type","procedures_defnoreturn");d.setAttribute("gap",16);var e=G("field");e.setAttribute("name","NAME");e.appendChild(document.createTextNode(k.PROCEDURES_DEFNORETURN_PROCEDURE));
d.appendChild(e);c.push(d)}J.procedures_defreturn&&(d=G("block"),d.setAttribute("type","procedures_defreturn"),d.setAttribute("gap",16),e=G("field"),e.setAttribute("name","NAME"),e.appendChild(document.createTextNode(k.PROCEDURES_DEFRETURN_PROCEDURE)),d.appendChild(e),c.push(d));J.procedures_ifreturn&&(d=G("block"),d.setAttribute("type","procedures_ifreturn"),d.setAttribute("gap",16),c.push(d));c.length&&c[c.length-1].setAttribute("gap",24);a=oi(a);b(a[0],"procedures_callnoreturn");b(a[1],"procedures_callreturn");
return c}function Gk(a){for(var b=[],c=ve(a,"procedures_mutatorarg"),d=0,e;e=c[d];d++)b.push(I(e,"NAME"));c=G("xml");d=G("block");d.setAttribute("type","procedures_mutatorarg");e=G("field");e.setAttribute("name","NAME");e.appendChild(document.createTextNode(Hk("x",b)));d.appendChild(e);c.appendChild(d);dk(a,c)}
function Tj(a){if("bubble_open"==a.type&&"mutator"===a.im&&a.nh){a=(hc[a.Jb]||null).hc(a.ga);var b=a.type;if("procedures_defnoreturn"==b||"procedures_defreturn"==b)a=a.Db.g,Gk(a),Be(a,Ik)}}function Ik(a){"create"!=a.type&&"delete"!=a.type&&"change"!=a.type||Gk(hc[a.Jb]||null)}
function Jk(a){var b=cc,c=a.Xe()[0],d=a.qa(!0),e=[];a=oe(a.h);for(var f=0;f<a.length;f++)if(a[f].xc){var h=a[f].xc();h&&ue(h,c)&&e.push(a[f])}for(c=0;a=e[c];c++)f=(f=a.qa())&&wd(f),a.Ka(d),h=(h=a.qa())&&wd(h),f!=h&&(cc=!1,x(new (A("change"))(a,"mutation",null,f,h)),cc=b)}function Kk(a,b){b=oe(b);for(var c=0;c<b.length;c++)if(b[c].Xe){var d=b[c].Xe();if(d&&ue(d[0],a))return b[c]}return null};function Lk(){Mk=this;this.Uc=Object.create(null);this.oh=Object.create(null)}var Mk,Nk={Shift:16,Control:17,Alt:18,Meta:91};Lk.prototype.register=function(a,b){if(this.Uc[a.name]&&!b)throw Error('Shortcut with name "'+a.name+'" already exists.');this.Uc[a.name]=a};
Lk.prototype.unregister=function(a){if(!this.Uc[a])return console.warn('Keyboard shortcut with name "'+a+'" not found.'),!1;for(var b in this.oh){var c=b,d=this.oh[c],e=d.indexOf(a);-1<e&&(d.splice(e,1),0==d.length&&delete this.oh[c])}delete this.Uc[a];return!0};function Ok(a,b){var c=Mk;a=String(a);var d=c.oh[a];if(d)throw Error('Shortcut with name "'+b+'" collides with shortcuts '+d.toString());c.oh[a]=[b]}
Lk.prototype.Xn=function(a,b){var c="";for(d in Nk)b.getModifierState(d)&&(""!=c&&(c+="+"),c+=d);""!=c&&b.keyCode?c=c+"+"+b.keyCode:b.keyCode&&(c=b.keyCode.toString());c=this.oh[c]||[];if(!c)return!1;var d=0;for(var e;e=c[d];d++)if(e=this.Uc[e],(!e.Ta||e.Ta(a))&&e.ka&&e.ka(a,b,e))return!0;return!1};
function Pk(a,b){var c="";if(b){for(var d=rd(Nk),e=0,f;f=b[e];e++)if(0>d.indexOf(f))throw Error(f+" is not a valid modifier key.");for(var h in Nk)-1<b.indexOf(Nk[h])&&(""!=c&&(c+="+"),c+=h)}""!=c&&a?c=c+"+"+a:a&&(c=a.toString());return c}new Lk;function qe(a,b,c,d){this.h=a;this.name=b;this.type=c||"";this.re=d||qb();x(new (A("var_create"))(this))}qe.prototype.S=function(){return this.re};function Qk(a,b){return a.name.localeCompare(b.name,void 0,{sensitivity:"base"})};var Oj={};function ni(a){var b=oe(a);a=Object.create(null);for(var c=0;c<b.length;c++){var d=b[c].oe();if(d)for(var e=0;e<d.length;e++){var f=d[e],h=f.S();h&&(a[h]=f)}}b=[];for(h in a)b.push(a[h]);return b}var pi={};function Pj(a){var b=[],c=document.createElement("button");c.setAttribute("text","%{BKY_NEW_VARIABLE}");c.setAttribute("callbackKey","CREATE_VARIABLE");gk(a,function(d){Rk(d.Hl)});b.push(c);a=Sk(a);return b=b.concat(a)}
function Sk(a){a=a.zi("");var b=[];if(0<a.length){var c=a[a.length-1];if(J.variables_set){var d=G("block");d.setAttribute("type","variables_set");d.setAttribute("gap",J.math_change?8:24);d.appendChild(Tk(c));b.push(d)}J.math_change&&(d=G("block"),d.setAttribute("type","math_change"),d.setAttribute("gap",J.variables_get?20:8),d.appendChild(Tk(c)),c=xd('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),d.appendChild(c),b.push(d));if(J.variables_get){a.sort(Qk);
c=0;for(var e;e=a[c];c++)d=G("block"),d.setAttribute("type","variables_get"),d.setAttribute("gap",8),d.appendChild(Tk(e)),b.push(d)}}return b}function Hk(a,b){if(!b.length)return a;for(var c="",d="ijkmnopqrstuvwxyzabcdefgh".indexOf(a);;){for(var e=!1,f=0;f<b.length;f++)if(b[f].toLowerCase()==a){e=!0;break}if(!e)return a;d++;25==d&&(d=0,c=Number(c)+1);a="ijkmnopqrstuvwxyzabcdefgh".charAt(d)+c}}
function Rk(a){function b(c){Uk(k.NEW_VARIABLE_TITLE,c,function(d){if(d){var e=Vk(d,a);if(e){if(""==e.type)var f=k.VARIABLE_ALREADY_EXISTS.replace("%1",e.name);else f=k.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,f=f.replace("%1",e.name).replace("%2",e.type);re(f,function(){b(d)})}else a.bd(d,"")}})}b("")}
function Wk(a,b){function c(d){var e=k.RENAME_VARIABLE_TITLE.replace("%1",b.name);Uk(e,d,function(f){if(f){var h=Xk(f,b.type,a);h?(h=k.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",h.name).replace("%2",h.type),re(h,function(){c(f)})):a.tf(b.S(),f)}})}c("")}function Uk(a,b,c){Yk(a,b,function(d){d&&(d=d.replace(/[\s\xa0]+/g," ").trim(),d==k.RENAME_VARIABLE||d==k.NEW_VARIABLE)&&(d=null);c(d)})}
function Xk(a,b,c){c=c.X.Rf();a=a.toLowerCase();for(var d=0,e;e=c[d];d++)if(e.name.toLowerCase()==a&&e.type!=b)return e;return null}function Vk(a,b){b=b.X.Rf();a=a.toLowerCase();for(var c=0,d;d=b[c];c++)if(d.name.toLowerCase()==a)return d;return null}function Tk(a){var b=G("field");b.setAttribute("name","VAR");b.setAttribute("id",a.S());b.setAttribute("variabletype",a.type);b.appendChild(document.createTextNode(a.name));return b}
function Zk(a,b,c,d){var e=$k(a,b,c,d);e||(e=a.qf,c||(c=Hk("i",(a.ld?a.V:a).Tm())),e=e?e.bd(c,d,b):a.bd(c,d,b));return e}function $k(a,b,c,d){var e=a.qf,f=null;if(b&&(f=a.jd(b),!f&&e&&(f=e.jd(b)),f))return f;if(c){if(void 0==d)throw Error("Tried to look up a variable by name without a type");f=a.Oc(c,d);!f&&e&&(f=e.Oc(c,d))}return f}function Fd(a,b){a=a.Rf();var c=[];if(b.length!=a.length)for(var d=0;d<a.length;d++){var e=a[d];-1==b.indexOf(e)&&c.push(e)}return c};var Wf=null,K=null,ae=[],ck=null,al=null,bl=null,Tf=null;function ij(a){for(;a.options.Sa;)a=a.options.Sa;var b=E(a),c=xj(a),d=b.parentNode;if(d){var e=d.offsetWidth;d=d.offsetHeight;c.width!=e&&(b.setAttribute("width",e+"px"),Yj(a,e,null));c.height!=d&&(b.setAttribute("height",d+"px"),Yj(a,null,d));a.resize()}}function Bk(a){var b=Wf;!b||eb(a)||b.K&&!b.isVisible()||Mk.Xn(b,a)}function cl(a){a.h.ld||(z(!0),md(),a.v?a.m(!1,!0):a.m(!0,!0),z(!1))}
function dl(a){if(a.mh)a=null;else{for(var b=ud(a,!0),c=0,d;d=b.childNodes[c];c++)if("next"==d.nodeName.toLowerCase()){b.removeChild(d);break}c=a.ea();b.setAttribute("x",a.s?-c.x:c.x);b.setAttribute("y",c.y);a={xml:b,source:a.h,Du:wb(a,!0)}}a&&(ck=a.xml,al=a.source,bl=a.Du)}function el(){if(!ck)return!1;var a=al;a.ld&&(a=a.V);return bl&&ye(a,bl)?(z(!0),bk(a),z(!1),!0):!1}function md(a){ch();Eh();ag();var b=!!a;ng(Wf.rc,rg).forEach(function(c){c.xp(b)})}function re(a,b){alert(a);b&&b()}
function se(a,b){b(confirm(a))}function Yk(a,b,c){c(prompt(a,b))}function fl(a){return function(){Zh(this,a)}}function gl(a){for(var b=0;b<a.length;b++){var c=a[b];if(c){var d=c.type;null==d||""===d?console.warn("Block definition #"+b+" in JSON array is missing a type attribute. Skipping."):(J[d]&&console.warn("Block definition #"+b+' in JSON array overwrites prior definition of "'+d+'".'),J[d]={G:fl(c)})}else console.warn("Block definition #"+b+" in JSON array is "+c+". Skipping.")}}
function ri(a){return/^\s*-?\d+(\.\d+)?\s*$/.test(a)};var hl={am:"\u12a0\u121b\u122d\u129b",ar:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",be:"\u0431\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0456","be-tarask":"Tara\u0161kievica",bg:"\u0431\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438 \u0435\u0437\u0438\u043a",bn:"\u09ac\u09be\u0982\u09b2\u09be",br:"Brezhoneg",ca:"Catal\u00e0",cs:"\u010cesky",da:"Dansk",de:"Deutsch",el:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",en:"English",eo:"Esperanto",es:"Espa\u00f1ol",eu:"Euskara",fa:"\u0641\u0627\u0631\u0633\u06cc",
fi:"Suomi",fo:"F\u00f8royskt",fr:"Fran\u00e7ais",gl:"Galego",ha:"Hausa",he:"\u05e2\u05d1\u05e8\u05d9\u05ea",hi:"\u0939\u093f\u0928\u094d\u0926\u0940",hr:"Hrvatski",hu:"Magyar",hy:"\u0570\u0561\u0575\u0565\u0580\u0567\u0576",ia:"Interlingua",id:"Bahasa Indonesia",ig:"As\u1ee5s\u1ee5 Igbo",is:"\u00cdslenska",it:"Italiano",ja:"\u65e5\u672c\u8a9e",kab:"Taqbaylit",kn:"\u0c95\u0ca8\u0ccd\u0ca8\u0ca1",ko:"\ud55c\uad6d\uc5b4",lt:"Lietuvi\u0173",lv:"Latvie\u0161u",ms:"Bahasa Melayu",my:"\u1019\u103c\u1014\u103a\u1019\u102c\u1005\u102c",
nb:"Norsk (bokm\u00e5l)",nl:"Nederlands, Vlaams",pl:"Polski",pms:"Piemont\u00e8is",pt:"Portugu\u00eas","pt-br":"Portugu\u00eas Brasileiro",ro:"Rom\u00e2n\u0103",ru:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",sc:"Sardu",sk:"Sloven\u010dina",sl:"Sloven\u0161\u010dina",sq:"Shqip",sr:"\u0421\u0440\u043f\u0441\u043a\u0438","sr-latn":"Srpski",sv:"Svenska",th:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",ti:"\u1275\u130d\u122d\u129b",tr:"T\u00fcrk\u00e7e",uk:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",
ur:"\u0627\u064f\u0631\u062f\u064f\u0648\u202c",vi:"Ti\u1ebfng Vi\u1ec7t",yo:"\u00c8d\u00e8 Yor\u00f9b\u00e1","zh-hans":"\u7b80\u4f53\u4e2d\u6587","zh-hant":"\u6b63\u9ad4\u4e2d\u6587"},il=window.BlocklyGamesLang,jl=window.BlocklyGamesLanguages,kl=["ar","fa","he","ur"].includes(il),ll=/\.html$/.test(window.location.pathname),U=document.getElementById.bind(document);
function ml(a){try{if(a.lineno||a.colno){var b=Date.now();if(!(ml.Bq+1E4>b)){ml.Bq=b;var c=new XMLHttpRequest,d="error="+encodeURIComponent(a.error&&a.error.stack||a.message+" "+a.filename+" "+a.lineno+":"+a.colno)+"&amp;url="+encodeURIComponent(window.location);c.open("POST","/errorReporter");c.setRequestHeader("Content-Type","application/x-www-form-urlencoded");c.send(d);console.log("Error reported.")}}}catch(e){console.log(a.error)}}ml.Bq=0;ll||window.addEventListener("error",ml);
var V,nl=Math,ol=nl.floor,pl=Number,ql,rl=window.location.search.match(RegExp("[?&]level=([^&]+)"));ql=rl?decodeURIComponent(rl[1].replace(/\+/g,"%20")):"NaN";var sl=ol.call(nl,pl(ql));V=isNaN(sl)?1:Math.max(1,Math.min(sl,10));
function tl(a){document.title=W("Games.name",!1)+(a&&" : ")+a;document.dir=kl?"rtl":"ltr";document.head.parentElement.setAttribute("lang",il);if(a=U("languageMenu")){for(var b=[],c=ba(jl),d=c.next();!d.done;d=c.next())d=d.value,b.push([hl[d],d]);b.sort(function(e,f){return e[0]>f[0]?1:e[0]<f[0]?-1:0});a.options.length=0;b=ba(b);for(c=b.next();!c.done;c=b.next())d=ba(c.value),c=d.next().value,d=d.next().value,c=new Option(c,d),d===il&&(c.selected=!0),a.options.add(c);1>=a.options.length&&(a.style.display=
"none")}for(a=1;10>=a;a++)b=U("level"+a),c=!!ul(a),b&&c&&(b.className+=" level_done");(a=document.querySelector('meta[name="viewport"]'))&&725>screen.availWidth&&a.setAttribute("content","width=725, initial-scale=.35, user-scalable=no");ll||setTimeout(vl,1)}function ul(a){var b=wl;try{var c=window.localStorage[b+a]}catch(d){}return c}
function xl(a,b){if(!a)throw TypeError("Element not found: "+a);"string"===typeof a&&(a=U(a));a.addEventListener("click",b,!0);a.addEventListener("touchend",function(c){c.preventDefault();b(c)},!0)}function W(a,b){a=window.BlocklyGamesMsg[a];void 0===a&&(a="[Unknown message: ${name}]");return b?yl(a):a}function yl(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}
function vl(){function a(c){(a.q=a.q||[]).push(arguments)}window.GoogleAnalyticsObject="GoogleAnalyticsFunction";window.GoogleAnalyticsFunction=a;a.l=1*new Date;var b=document.createElement("script");b.async=1;b.src="//www.google-analytics.com/analytics.js";document.head.appendChild(b);a("create","UA-50448074-1","auto");a("send","pageview")};function zl(a,b){for(var c=0,d=0;d<b.length;d++)for(var e=b[d];e;)setTimeout(e.wf.bind(e,a),c),e=yb(e),c+=10}function Al(a,b){if(a.Qc())Array.prototype.push.apply(b,xb(a,!1));else{a=td(a,!1);for(var c=0;c<a.length;c++)Al(a[c],b)}}function Bl(a){var b=[];a=a.La(!0);for(var c=0;c<a.length;c++)Al(a[c],b);return b}function Cl(a,b){z(b);var c=a.shift();c&&(c.h?(c.m(!1,!0),setTimeout(Cl,10,a,b)):Cl(a,b));z(!1)}
Ai.register({Tb:function(){return k.UNDO},Ta:function(a){return 0<a.h.vg.length?"enabled":"disabled"},ka:function(a){Ae(a.h,!1)},Ac:"workspace",id:"undoWorkspace",weight:1});Ai.register({Tb:function(){return k.REDO},Ta:function(a){return 0<a.h.Wi.length?"enabled":"disabled"},ka:function(a){Ae(a.h,!0)},Ac:"workspace",id:"redoWorkspace",weight:2});
Ai.register({Tb:function(){return k.CLEAN_UP},Ta:function(a){return a.h.ib()?1<a.h.La(!1).length?"enabled":"disabled":"hidden"},ka:function(a){a=a.h;a.Nb(!1);z(!0);for(var b=a.La(!0),c=0,d=0,e;e=b[d];d++)if(e.ib()){var f=e.ea();e.moveBy(-f.x,c-f.y);Ti(e);c=e.ea().y+Cg(e).height+a.Ba.F().Mh}z(!1);a.Nb(!0)},Ac:"workspace",id:"cleanWorkspace",weight:3});
Ai.register({Tb:function(){return k.COLLAPSE_ALL},Ta:function(a){if(a.h.options.collapse){a=a.h.La(!1);for(var b=0;b<a.length;b++)for(var c=a[b];c;){if(!c.isCollapsed())return"enabled";c=yb(c)}return"disabled"}return"hidden"},ka:function(a){zl(!0,a.h.La(!0))},Ac:"workspace",id:"collapseWorkspace",weight:4});
Ai.register({Tb:function(){return k.EXPAND_ALL},Ta:function(a){if(a.h.options.collapse){a=a.h.La(!1);for(var b=0;b<a.length;b++)for(var c=a[b];c;){if(c.isCollapsed())return"enabled";c=yb(c)}return"disabled"}return"hidden"},ka:function(a){zl(!1,a.h.La(!0))},Ac:"workspace",id:"expandWorkspace",weight:5});
Ai.register({Tb:function(a){if(a.h)return a=Bl(a.h).length,1==a?k.DELETE_BLOCK:k.DELETE_X_BLOCKS.replace("%1",String(a))},Ta:function(a){if(a.h)return 0<Bl(a.h).length?"enabled":"disabled"},ka:function(a){if(a.h){Vi(a.h);var b=Bl(a.h),c=qb();2>b.length?Cl(b,c):se(k.DELETE_ALL_BLOCKS.replace("%1",b.length),function(d){d&&Cl(b,c)})}},Ac:"workspace",id:"workspaceDelete",weight:6});
Ai.register({Tb:function(){return k.DUPLICATE_BLOCK},Ta:function(a){a=a.block;return!a.Ga&&a.Qc()&&a.ib()?(ze(a.h)?ye(a.h,wb(a,!0)):1)?"enabled":"disabled":"hidden"},ka:function(a){if(a.block){a=a.block;var b=ck,c=al;dl(a);bk(a.h);ck=b;al=c}},Ac:"block",id:"blockDuplicate",weight:1});
Ai.register({Tb:function(a){return a.block.Jc?k.REMOVE_COMMENT:k.ADD_COMMENT},Ta:function(a){a=a.block;return Ra||a.Ga||!a.h.options.ai||a.isCollapsed()||!a.Zb()?"hidden":"enabled"},ka:function(a){a=a.block;a.Jc?a.xf(null):a.xf("")},Ac:"block",id:"blockComment",weight:2});
Ai.register({Tb:function(a){return Hf(a.block)?k.EXTERNAL_INPUTS:k.INLINE_INPUTS},Ta:function(a){a=a.block;if(!a.Ga&&a.ib()&&!a.isCollapsed())for(var b=1;b<a.B.length;b++)if(3!=a.B[b-1].type&&3!=a.B[b].type)return"enabled";return"hidden"},ka:function(a){a.block.Xc(!Hf(a.block))},Ac:"block",id:"blockInline",weight:3});
Ai.register({Tb:function(a){return a.block.isCollapsed()?k.EXPAND_BLOCK:k.COLLAPSE_BLOCK},Ta:function(a){a=a.block;return!a.Ga&&a.ib()&&a.h.options.collapse?"enabled":"hidden"},ka:function(a){a.block.wf(!a.block.isCollapsed())},Ac:"block",id:"blockCollapseExpand",weight:4});
Ai.register({Tb:function(a){return a.block.isEnabled()?k.DISABLE_BLOCK:k.ENABLE_BLOCK},Ta:function(a){a=a.block;return!a.Ga&&a.h.options.disable&&a.Zb()?Yh(a)?"disabled":"enabled":"hidden"},ka:function(a){a=a.block;var b=bc;b||z(!0);a.Fb(!a.isEnabled());b||z(!1)},Ac:"block",id:"blockDisable",weight:5});
Ai.register({Tb:function(a){var b=a.block;a=xb(b,!1).length;(b=yb(b))&&(a-=xb(b,!1).length);return 1==a?k.DELETE_BLOCK:k.DELETE_X_BLOCKS.replace("%1",String(a))},Ta:function(a){return!a.block.Ga&&a.block.Qc()?"enabled":"hidden"},ka:function(a){z(!0);a.block&&cl(a.block);z(!1)},Ac:"block",id:"blockDelete",weight:6});
Ai.register({Tb:function(){return k.HELP},Ta:function(a){a=a.block;return("function"==typeof a.Ab?a.Ab():a.Ab)?"enabled":"hidden"},ka:function(a){a.block.showHelp()},Ac:"block",id:"blockHelp",weight:7});function X(a,b){return" "+a+","+b+" "}function Dl(a,b){return" "+a+b.join("")}function El(a,b){return" M "+a+","+b+" "}function L(a,b){return" m "+a+","+b+" "}function Fl(a,b){return" l "+a+","+b+" "}function M(a,b){return" "+a+" "+b+" "}function Gl(a,b,c){return"a "+b+" "+b+" "+a+c};function Hl(){this.ud=0;this.Ms=3;this.Gc=5;this.mp=8;this.Pb=10;this.sp=this.Gc;this.Uh=15;this.Pg=5;this.Tj=8;this.Gs=15;this.Ql=4;this.Fs=12;this.hs=16;this.gs=this.cp=this.Uh;this.va=8;this.Qs=this.Nh=15;this.qp=0;this.rp=20;this.Yr=4;this.Rs=this.Gc;this.Ss=this.Pb;this.$r=this.Gc;this.Zr=this.Pb;this.ap=!1;this.Os=15;this.Ps=100;this.Ns=15;this.Mh=24;this.ks=14.5;this.js=this.Uh+11;this.ns=2;this.ls=this.Mh;this.pp=L(0,0);this.As=12;this.Bs=6;this.Fg=11;this.Gg="normal";this.Eg="sans-serif";
this.hp=this.Kj=-1;this.Jj=4;this.fp=16;this.Dg=5;this.ep="#fff";this.Nl=!Ra&&!Sa;this.gp=this.fp;this.qs=this.ps=this.Ml=!1;this.ss=this.Dg;this.Kh=12;this.rs="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";
this.ts=!1;this.os=this.Dg-3;this.ol=String(Math.random()).substring(2);this.xk="";this.Lm=null;this.Rp="";this.ki=this.Np=this.ym=null;this.bp="#cc0a0a";this.kp="#4286f4";this.Ij=100;this.tp=5;this.Hj=10;this.ds=2;this.fs=4;this.ip=!1;this.ys="#000000";this.jp=.2;this.op={Ks:1,Lg:2}}g=Hl.prototype;
g.G=function(){this.Hg=this.Cn();this.Lg=this.Dn();this.Og=this.Fn();this.Ul=this.En();var a=this.va;this.Mj={width:a,height:a,po:Gl("0 0,0",a,X(-a,a)),kl:Gl("0 0,0",a,X(a,a))};a=this.va;this.Sh={To:L(0,a)+Gl("0 0,1",a,X(a,-a)),zu:Gl("0 0,1",a,X(a,a)),Ws:Gl("0 0,1",a,X(-a,a)),hm:Gl("0 0,1",a,X(-a,-a)),lu:a}};g.jj=function(){this.Zj=Object.create(null);var a=Pc("Hg",this.Fg+"pt",this.Gg,this.Eg);this.Kj=a.height;this.hp=a.Hc};
function Wi(a,b){var c="auto_"+b;a.Zj[c]||(a.Zj[c]=Il({colourPrimary:b}));return{style:a.Zj[c],name:c}}function Si(a,b){return a.Zj[b||""]||(b&&0==b.indexOf("auto_")?Wi(a,b.substring(5)).style:Il({colourPrimary:"#000000"}))}function Il(a){var b={};a&&qd(b,a);a=zb(b.colourPrimary||"#000");b.ae=a.Bi;b.colourSecondary?a=zb(b.colourSecondary).Bi:(a=b.ae,a=Aa("#fff",a,.6)||a);b.fk=a;b.colourTertiary?a=zb(b.colourTertiary).Bi:(a=b.ae,a=Aa("#fff",a,.3)||a);b.xd=a;b.Fd=b.hat||"";return b}
g.m=function(){this.Lm&&D(this.Lm);this.ym&&D(this.ym);this.Np&&D(this.Np);this.ki=null};g.Cn=function(){var a=this.As,b=this.Bs;return{height:a,width:b,path:" l"+[X(b,a/4),X(2*-b,a/2),X(b,a/4)].join("")}};g.Fn=function(){var a=this.Os,b=this.Ps;return{height:a,width:b,path:Dl("c",[X(30,-a),X(70,-a),X(b,0)])}};
g.En=function(){function a(f){f=f?-1:1;var h=-f,l=c/2;return Dl("c",[X(0,f*(l+2.5)),X(-b,h*(l+.5)),X(-b,f*l)])+Dl("s",[X(b,2.5*h),X(b,f*l)])}var b=this.Tj,c=this.Uh,d=a(!0),e=a(!1);return{type:this.op.Ks,width:b,height:c,Tc:e,Si:d}};g.Dn=function(){function a(h){return" l"+[X(h*d,c),X(3*h,0),X(h*d,-c)].join("")}var b=this.Gs,c=this.Ql,d=(b-3)/2,e=a(1),f=a(-1);return{type:this.op.Lg,width:b,height:c,nf:e,er:f}};
function yg(a,b){switch(b.type){case 1:case 2:return a.Ul;case 4:case 3:return a.Lg;default:throw Error("Unknown connection type");}}
g.xa=function(a,b,c){c=this.Vm(c);b="blockly-renderer-style-"+b;this.ki=document.getElementById(b);c=c.join("\n");if(this.ki)this.ki.firstChild.textContent=c;else{var d=document.createElement("style");d.id=b;d.appendChild(document.createTextNode(c));document.head.insertBefore(d,document.head.firstChild);this.ki=d}a=B(oc,{},a);b=B(tc,{id:"blocklyEmbossFilter"+this.ol},a);B(qc,{"in":"SourceAlpha",stdDeviation:1,result:"blur"},b);c=B(sc,{"in":"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,
"lighting-color":"white",result:"specOut"},b);B(rc,{x:-5E3,y:-1E4,z:2E4},c);B(pc,{"in":"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},b);B(pc,{"in":"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},b);this.xk=b.id;this.Lm=b;a=B(zc,{id:"blocklyDisabledPattern"+this.ol,patternUnits:"userSpaceOnUse",width:10,height:10},a);B(Bc,{width:10,height:10,fill:"#aaa"},a);B(yc,{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},a);this.Rp=a.id;this.ym=a};
g.Vm=function(a){return[a+" .blocklyText, ",a+" .blocklyFlyoutLabelText {","font: "+this.Gg+" "+this.Fg+"pt "+this.Eg+";","}",a+" .blocklyText {","fill: #fff;","}",a+" .blocklyNonEditableText>rect,",a+" .blocklyEditableText>rect {","fill: "+this.ep+";","fill-opacity: .6;","stroke: none;","}",a+" .blocklyNonEditableText>text,",a+" .blocklyEditableText>text {","fill: #000;","}",a+" .blocklyFlyoutLabelText {","fill: #000;","}",a+" .blocklyText.blocklyBubbleText {","fill: #000;","}",a+" .blocklyEditableText:not(.editing):hover>rect {",
"stroke: #fff;","stroke-width: 2;","}",a+" .blocklyHtmlInput {","font-family: "+this.Eg+";","font-weight: "+this.Gg+";","}",a+" .blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",a+" .blocklyHighlightedConnectionPath {","stroke: #fc3;","}",a+" .blocklyReplaceable .blocklyPath {","fill-opacity: .5;","}",a+" .blocklyReplaceable .blocklyPathLight,",a+" .blocklyReplaceable .blocklyPathDark {","display: none;","}",a+" .blocklyInsertionMarker>.blocklyPath {","fill-opacity: "+this.jp+
";","stroke: none;","}"]};function Jl(a){this.Tg=this.Y=this.type=this.height=this.width=0;this.i=a;this.Sc=this.i.Nh};function Kl(a,b){Kl.j.constructor.call(this,a);this.Rb=b;this.shape=yg(this.i,b);this.cg=!!this.shape.isDynamic;this.type|=1024}F(Kl,Jl);function Ll(a,b){Ll.j.constructor.call(this,a,b);this.type|=8192;this.height=this.cg?0:this.shape.height;this.Yc=this.width=this.cg?0:this.shape.width;this.tc=this.i.Pg;this.ci=0}F(Ll,Kl);function Ml(a,b){Ml.j.constructor.call(this,a,b);this.type|=2048;this.height=this.shape.height;this.width=this.shape.width}F(Ml,Kl);
function Nl(a,b){Nl.j.constructor.call(this,a,b);this.type|=4096;this.height=this.shape.height;this.width=this.shape.width}F(Nl,Kl);function Ol(a,b){Ol.j.constructor.call(this,a,b.connection);this.type|=128;this.input=b;this.align=b.align;(this.Ve=b.connection&&b.connection.I()?b.connection.I():null)?(a=Cg(this.Ve),this.bi=a.width,this.hk=a.height):this.hk=this.bi=0;this.tc=this.ci=0}F(Ol,Kl);
function Pl(a,b){Pl.j.constructor.call(this,a,b);this.type|=256;this.Ve?(this.width=this.bi,this.height=this.hk):(this.height=this.i.js,this.width=this.i.ks);this.Vg=this.cg?this.shape.height(this.height):this.shape.height;this.yd=this.cg?this.shape.width(this.height):this.shape.width;this.Ve||(this.width+=this.yd*(this.cg?2:1));this.tc=this.cg?this.shape.tc(this.Vg):this.i.Pg;this.ci=this.cg?this.shape.ci(this.yd):0}F(Pl,Ol);
function Ql(a,b){Ql.j.constructor.call(this,a,b);this.type|=512;this.height=this.Ve?this.hk+this.i.qp:this.i.ls;this.width=this.i.Qs+this.shape.width}F(Ql,Ol);function Rl(a,b){Rl.j.constructor.call(this,a,b);this.type|=64;this.height=this.Ve?this.hk-this.i.Pg-this.i.Gc:this.shape.height;this.width=this.shape.width+this.i.ns;this.tc=this.i.Pg;this.Vg=this.shape.height;this.yd=this.shape.width}F(Rl,Ol);function Sl(a,b){Sl.j.constructor.call(this,a);this.icon=b;this.isVisible=b.isVisible();this.type|=4;a=new Ma(Ze.prototype.Rj,Ze.prototype.Rj-2);this.height=a.height;this.width=a.width}F(Sl,Jl);function Tl(a){Tl.j.constructor.call(this,a);this.type|=524288;this.height=this.i.Hg.height;this.width=this.i.Hg.width}F(Tl,Jl);function Ul(a,b){Ul.j.constructor.call(this,a);this.Wp=b;this.Zb=b.Jh;this.mt=b.aq();this.type|=1;a=this.Wp.getSize();this.height=a.height;this.width=a.width}F(Ul,Jl);
function Vl(a){Vl.j.constructor.call(this,a);this.type|=2;this.height=this.i.Og.height;this.width=this.i.Og.width;this.Rg=this.height}F(Vl,Jl);function Wl(a,b){Wl.j.constructor.call(this,a);this.type=(b&&"left"!=b?131072:32768)|16384;this.width=this.height=this.i.ud}F(Wl,Jl);function Xl(a,b){Xl.j.constructor.call(this,a);this.type=(b&&"left"!=b?262144:65536)|16384;this.width=this.i.va;this.height=this.i.va/2}F(Xl,Jl);
function Yl(a,b){Yl.j.constructor.call(this,a);this.type|=40;this.width=b;this.height=this.i.Ns}F(Yl,Jl);function Zl(a){this.type=1048576;this.elements=[];this.Y=this.qb=this.sd=this.minWidth=this.minHeight=this.width=this.height=0;this.hq=this.hh=this.hn=this.hb=this.$e=!1;this.i=a;this.Sc=this.i.Nh;this.align=null}Zl.prototype.measure=function(){throw Error("Unexpected attempt to measure a base Row.");};function $l(a){for(var b=a.elements.length-1,c;c=a.elements[b];b--)if(c.type&128)return c;return null}Zl.prototype.El=function(){return!0};Zl.prototype.pi=function(){return!0};
function am(a){am.j.constructor.call(this,a);this.type|=2097152;this.Rg=this.Yd=0;this.Bt=!1;this.connection=null}F(am,Zl);am.prototype.jn=function(a){var b=(a.Fd?"cap"===a.Fd:this.i.ap)&&!a.v&&!a.H,c=a.H&&a.H.I();return!!a.v||b||(c?yb(c)==a:!1)};
am.prototype.measure=function(){for(var a=0,b=0,c=0,d=0,e;e=this.elements[d];d++)b+=e.width,e.type&8||(e.type&2?c=Math.max(c,e.Rg):a=Math.max(a,e.height));this.width=Math.max(this.minWidth,b);this.height=Math.max(this.minHeight,a)+c;this.Yd=this.Rg=c;this.sd=this.width};am.prototype.El=function(){return!1};am.prototype.pi=function(){return!1};function bm(a){bm.j.constructor.call(this,a);this.type|=4194304;this.iq=!1;this.connection=null;this.Hc=this.mi=0}F(bm,Zl);
bm.prototype.jn=function(a){return!!a.v||!!yb(a)};bm.prototype.measure=function(){for(var a=0,b=0,c=0,d=0,e;e=this.elements[d];d++)b+=e.width,e.type&8||(e.type&4096?c=Math.max(c,e.height):a=Math.max(a,e.height));this.width=Math.max(this.minWidth,b);this.height=Math.max(this.minHeight,a)+c;this.mi=c;this.sd=this.width};bm.prototype.El=function(){return!1};bm.prototype.pi=function(){return!1};
function cm(a,b,c){cm.j.constructor.call(this,a);this.type|=24;this.width=c;this.height=b;this.Zp=!1;this.sd=0;this.elements=[new Yl(this.i,c)]}F(cm,Zl);cm.prototype.measure=function(){};function dm(a){dm.j.constructor.call(this,a);this.type|=8388608;this.Ip=0}F(dm,Zl);
dm.prototype.measure=function(){this.width=this.minWidth;this.height=this.minHeight;for(var a=0,b=0,c;c=this.elements[b];b++)this.width+=c.width,c.type&128&&(c.type&512?a+=c.bi:c.type&64&&0!=c.bi&&(a+=c.bi-c.yd)),c.type&8||(this.height=Math.max(this.height,c.height));this.Ip=a;this.sd=this.width+a};dm.prototype.pi=function(){return!this.$e&&!this.hb};function em(a,b){this.A=b;this.Ba=a;this.i=this.Ba.F();this.v=b.v?new Ll(this.i,b.v):null;this.lh=Hf(b)&&!b.isCollapsed();this.isCollapsed=b.isCollapsed();this.Bb=b.Bb();this.s=b.s;this.Bf=this.width=this.Gh=this.height=0;this.rows=[];this.qq=[];this.lq=[];this.lb=new am(this.i);this.Ea=new bm(this.i);this.Dl=this.Yc=0}g=em.prototype;
g.measure=function(){var a=!!this.A.H,b=(this.A.Fd?"cap"===this.A.Fd:this.i.ap)&&!this.v&&!a,c=this.lb.jn(this.A)?Wl:Xl;this.lb.elements.push(new c(this.i));b?(a=new Vl(this.i),this.lb.elements.push(a),this.lb.Yd=a.Rg):a&&(this.lb.Bt=!0,this.lb.connection=new Ml(this.i,this.A.H),this.lb.elements.push(this.lb.connection));this.A.B.length&&3==this.A.B[0].type&&!this.A.isCollapsed()?this.lb.minHeight=this.i.Ss:this.lb.minHeight=this.i.Rs;c=Wl;this.lb.elements.push(new c(this.i,"right"));this.rows.push(this.lb);
a=new dm(this.i);this.qq.push(a);c=Ag(this.A);b=0;for(var d;d=c[b];b++){var e=new Sl(this.i,d);this.isCollapsed&&d.Hp?this.lq.push(e):a.elements.push(e)}d=null;for(b=0;c=this.A.B[b];b++)if(c.isVisible()){!d||3!=c.type&&3!=d.type&&(1!=c.type&&5!=c.type||this.lh)||(this.rows.push(a),a=new dm(this.i),this.qq.push(a));for(d=0;e=c.ba[d];d++)a.elements.push(new Ul(this.i,e,c));this.wp(c,a);d=c}this.isCollapsed&&(a.hq=!0,a.elements.push(new Tl(this.i)));(a.elements.length||a.hh)&&this.rows.push(a);this.to();
this.rows.push(this.Ea);this.vp();a=this.rows;this.rows=[];for(b=0;b<a.length;b++)if(this.rows.push(a[b]),b!=a.length-1){c=this.rows;d=c.push;e=a[b];var f=a[b+1],h=new cm(this.i,this.bq(e,f),this.width-this.Yc);e.hb&&(h.Zp=!0);f.hb&&(h.qv=!0);d.call(c,h)}for(d=c=b=a=0;e=this.rows[d];d++)e.measure(),b=Math.max(b,e.width),e.hb&&(a=Math.max(a,e.width-$l(e).width)),c=Math.max(c,e.sd);this.Bf=a;this.width=b;for(d=0;e=this.rows[d];d++)e.hb&&(e.Bf=this.Bf);this.Gh=Math.max(b,c);this.v&&(this.Yc=this.v.width,
this.width+=this.v.width,this.Gh+=this.v.width);this.Zl();this.Xp()};g.to=function(){this.Ea.iq=!!this.A.C;this.Ea.minHeight=this.A.B.length&&3==this.A.B[this.A.B.length-1].type?this.i.Zr:this.i.$r;this.Ea.jn(this.A)?this.Ea.elements.push(new Wl(this.i)):this.Ea.elements.push(new Xl(this.i));this.Ea.iq&&(this.Ea.connection=new Nl(this.i,this.A.C),this.Ea.elements.push(this.Ea.connection));this.Ea.elements.push(new Wl(this.i,"right"))};
g.wp=function(a,b){this.lh&&1==a.type?(b.elements.push(new Pl(this.i,a)),b.hn=!0):3==a.type?(b.elements.push(new Ql(this.i,a)),b.hb=!0):1==a.type?(b.elements.push(new Rl(this.i,a)),b.$e=!0):5==a.type&&(b.minHeight=Math.max(b.minHeight,a.D()&&a.D().W?this.i.gs:this.i.cp),b.hh=!0);null==b.align&&(b.align=a.align)};
g.vp=function(){for(var a=0,b;b=this.rows[a];a++){var c=b.elements;b.elements=[];b.El()&&b.elements.push(new Yl(this.i,this.Sf(null,c[0])));if(c.length){for(var d=0;d<c.length-1;d++)b.elements.push(c[d]),b.elements.push(new Yl(this.i,this.Sf(c[d],c[d+1])));b.elements.push(c[c.length-1]);b.pi()&&b.elements.push(new Yl(this.i,this.Sf(c[c.length-1],null)))}}};
g.Sf=function(a,b){if(!a&&b&&b.type&512)return this.i.rp;if(a&&a.type&128&&!b){if(a.type&64)return this.i.ud;if(a.type&256)return this.i.Pb;if(a.type&512)return this.i.ud}return a&&a.type&32768&&b&&(b.type&2048||b.type&4096)?b.Sc:a&&a.type&65536&&b&&(b.type&2048||b.type&4096)?b.Sc-this.i.va:this.i.Gc};g.Zl=function(){for(var a=0,b;b=this.rows[a];a++)if(b.hb)fm(this,b);else{var c=this.xi(b)-b.width;0<c&&gm(b,c);b.type&6291456&&(b.sd=b.width)}};g.xi=function(){return this.width-this.Yc};
function gm(a,b){a:{var c=0;for(var d;d=a.elements[c];c++)if(d.type&8){c=d;break a}c=null}a:{d=a.elements.length-1;for(var e;e=a.elements[d];d--)if(e.type&8){d=e;break a}d=null}if(a.$e||a.hb)a.sd+=b;-1==a.align?d.width+=b:0==a.align?(c.width+=b/2,d.width+=b/2):1==a.align?c.width+=b:d.width+=b;a.width+=b}function fm(a,b){var c=$l(b),d=b.width-c.width,e=a.Bf;d=e-d;0<d&&gm(b,d);d=b.width;e=a.xi(b);c.width+=e-d;c.height=Math.max(c.height,b.height);b.width+=e-d;b.sd=Math.max(b.width,a.Bf+b.Ip)}g.bq=function(){return this.i.Gc};
g.$p=function(a,b){return b.type&8?a.qb+b.height/2:a.type&4194304?(a=a.qb+a.height-a.mi,b.type&4096?a+b.height/2:a-b.height/2):a.type&2097152?b.type&2?a.Yd-b.height/2:a.Yd+b.height/2:a.qb+a.height/2};function hm(a,b){for(var c=b.Y,d=0,e;e=b.elements[d];d++)e.type&8&&(e.height=b.height),e.Y=c,e.Tg=a.$p(b,e),c+=e.width}
g.Xp=function(){for(var a=0,b=0,c=0,d;d=this.rows[c];c++)d.qb=b,d.Y=this.Yc,b+=d.height,a=Math.max(a,d.sd),hm(this,d);this.v&&this.A.C&&this.A.C.isConnected()&&(a=Math.max(a,Cg(this.A.C.I()).width));this.Gh=a+this.Yc;this.height=b;this.Dl=this.lb.Yd;this.Ea.Hc=b-this.Ea.mi};function im(a,b){this.A=a;this.O=b;a.ea();this.Hk=this.aa="";this.i=b.Ba.F()}g=im.prototype;g.dd=function(){jm(this);km(this);lm(this);this.A.Aa.Ho(this.aa+"\n"+this.Hk);this.O.s&&this.A.Aa.Qm();mm(this)};function mm(a){a.A.height=a.O.height;a.A.width=a.O.Gh}function jm(a){for(var b=0,c;c=a.O.lq[b];b++)c.icon.Yb.setAttribute("display","none")}function km(a){a.Hm();for(var b=1;b<a.O.rows.length-1;b++){var c=a.O.rows[b];c.hq?a.ni(c):c.hb?a.Gm(c):c.$e?a.Im(c):a.Up(c)}a.Cm();a.Fm()}
g.Hm=function(){var a=this.O.lb,b=a.elements,c=this.O.lb;if(c.connection){var d=c.Y+c.Sc;Ji(c.connection.Rb,this.O.s?-d:d,0)}this.aa+=L(a.Y,this.O.Dl);for(c=0;d=b[c];c++)d.type&65536?this.aa+=this.i.Sh.To:d.type&262144?this.aa+=this.i.Sh.zu:d.type&2048?this.aa+=d.shape.nf:d.type&2?this.aa+=this.i.Og.path:d.type&8&&(this.aa+=M("h",d.width));this.aa+=M("v",a.height)};g.ni=function(a){this.aa+=this.i.Hg.path+M("v",a.height-this.i.Hg.height)};
g.Im=function(a){var b=$l(a);this.jr(a);var c="function"==typeof b.shape.Tc?b.shape.Tc(b.height):b.shape.Tc;this.aa+=M("H",b.Y+b.width)+c+M("v",a.height-b.Vg)};g.Gm=function(a){var b=$l(a);this.aa+=M("H",b.Y+b.Sc+b.shape.width)+(b.shape.er+M("h",-(b.Sc-this.i.Mj.width))+this.i.Mj.po)+M("v",a.height-2*this.i.Mj.height)+this.i.Mj.kl+M("H",a.Y+a.width);this.mr(a)};g.Up=function(a){this.aa+=M("V",a.qb+a.height)};
g.Cm=function(){var a=this.O.Ea,b=a.elements;this.lr();for(var c=0,d="",e=b.length-1,f;f=b[e];e--)f.type&4096?d+=f.shape.er:f.type&32768?d+=M("H",a.Y):f.type&65536?d+=this.i.Sh.hm:f.type&262144?(d+=this.i.Sh.Ws,c=this.i.Sh.lu):f.type&8&&(d+=M("h",-1*f.width));this.aa+=M("V",a.Hc-c);this.aa+=d};
g.Fm=function(){var a=this.O.v;if(this.O.v){var b=this.O.Yc+this.O.v.ci;Ji(this.A.v,this.O.s?-b:b,this.O.v.tc)}a&&(b=a.tc+a.height,a="function"==typeof a.shape.Si?a.shape.Si(a.height):a.shape.Si,this.aa+=M("V",b)+a);this.aa+="z"};
function lm(a){for(var b=0,c;c=a.O.rows[b];b++)for(var d=0,e;e=c.elements[d];d++)if(e.type&256)a.Em(e);else if(e.type&4||e.type&1){var f=a;if(e.type&1)var h=e.Wp.T();else e.type&4&&(h=e.icon.Yb);var l=e.Tg-e.height/2,m=e.Y,n="";f.O.s&&(m=-(m+e.width),e.mt&&(m+=e.width,n="scale(-1 1)"));e.type&4?(h.setAttribute("display","block"),h.setAttribute("transform","translate("+m+","+l+")"),af(e.icon)):h.setAttribute("transform","translate("+m+","+l+")"+n);f.O.Bb&&h.setAttribute("display","none")}}
g.Em=function(a){var b=a.height,c=a.tc;this.Hk+=El(a.Y+a.yd,a.Tg-b/2)+M("v",c)+a.shape.Tc+M("v",b-(a.Vg+c))+M("h",a.width-a.yd)+M("v",-b)+"z";this.kr(a)};g.kr=function(a){var b=a.Tg-a.height/2;if(a.Rb){var c=a.Y+a.yd+a.ci;this.O.s&&(c*=-1);Ji(a.Rb,c,b+a.tc)}};g.mr=function(a){var b=$l(a);if(b.Rb){var c=a.Y+a.Bf+b.Sc;this.O.s&&(c*=-1);Ji(b.Rb,c,a.qb)}};g.jr=function(a){var b=$l(a);if(b.Rb){var c=a.Y+a.width;this.O.s&&(c*=-1);Ji(b.Rb,c,a.qb)}};
g.lr=function(){var a=this.O.Ea;if(a.connection){var b=a.connection,c=b.Y;Ji(b.Rb,this.O.s?-c:c,a.Hc)}};function nm(a,b,c,d){var e=a?a.h.id:void 0;d&&"workspace"==d.getType()&&(e=d.U.id);nm.j.constructor.call(this,e);this.ga=a?a.id:null;this.Uq=c;this.Pq=d;this.Id=b}F(nm,We);nm.prototype.type="marker_move";nm.prototype.R=function(){var a=nm.j.R.call(this);a.isCursor=this.Id;a.blockId=this.ga;a.oldNode=this.Uq;a.newNode=this.Pq;return a};nm.prototype.N=function(a){nm.j.N.call(this,a);this.Id=a.isCursor;this.ga=a.blockId;this.Uq=a.oldNode;this.Pq=a.newNode};v(Rb,"marker_move",nm);function Wj(a,b,c){this.g=a;this.Hn=c;this.Be=null;this.i=b;this.Xg=null;a=this.Id()?this.i.bp:this.i.kp;this.xb=c.pm||a}g=Wj.prototype;g.T=function(){return this.u};g.yi=function(){return this.Hn};g.Id=function(){return"cursor"==this.Hn.type};
g.xa=function(){var a=this.Id()?"blocklyCursor":"blocklyMarker";this.u=B(vc,{"class":a},null);this.ye=B(vc,{width:this.i.Ij,height:this.i.tp},this.u);this.ff=B(Bc,{width:this.i.Ij,height:this.i.tp},this.ye);this.gg=B(Bc,{"class":"blocklyVerticalMarker",rx:10,ry:10},this.ye);this.fg=B(yc,{transform:""},this.ye);this.xe=B(yc,{transform:"",fill:"none","stroke-width":this.i.fs},this.ye);this.rb();this.Id()&&(a={attributeType:"XML",attributeName:"fill",dur:"1s",values:this.xb+";transparent;transparent;",
repeatCount:"indefinite"},B(lc,a,this.ff),B(lc,a,this.fg),a.attributeName="stroke",B(lc,a,this.xe));return this.u};function om(a,b){a.Id()?(a.Be&&a.Be.Fe(null),b.Fe(a.T())):(a.Be&&a.Be.zf(null),b.zf(a.T()));a.Be=b}
g.dd=function(a,b){if(b){this.i=this.g.Ba.F();var c=this.Id()?this.i.bp:this.i.kp;this.xb=this.Hn.pm||c;this.ff.setAttribute("fill",this.xb);this.gg.setAttribute("stroke",this.xb);this.fg.setAttribute("fill",this.xb);this.xe.setAttribute("stroke",this.xb);this.Id()&&(c=this.xb+";transparent;transparent;",this.ff.firstChild.setAttribute("values",c),this.fg.firstChild.setAttribute("values",c),this.xe.firstChild.setAttribute("values",c));c=b.U.type;if("block"==b.getType())pm(this,b);else if("output"==
b.getType())pm(this,b);else if(1==c){var d=b.U;c=d.D();var e=d.kg.x,f=d.kg.y;d=El(0,0)+yg(this.i,d).Tc;this.fg.setAttribute("d",d);this.fg.setAttribute("transform","translate("+e+","+f+")"+(this.g.s?" scale(-1 1)":""));this.Xg=this.fg;om(this,c);qm(this)}else if(3==c)f=b.U,c=f.D(),e=0,f=f.kg.y,d=Cg(c).width,this.g.s&&(e=-d),rm(this,e,f,d),om(this,c),qm(this);else if("previous"==b.getType())pm(this,b);else if("field"==b.getType())c=b.U,e=c.getSize().width,f=c.getSize().height,sm(this,0,0,e,f),om(this,
c),qm(this);else if("workspace"==b.getType())e=b.Ur,c=e.x,e=e.y,this.g.s&&(c-=this.i.Ij),rm(this,c,e,this.i.Ij),om(this,this.g),qm(this);else if("stack"==b.getType()){c=b.U;f=Cg(c);e=f.width+this.i.Hj;f=f.height+this.i.Hj;var h=d=-this.i.Hj/2,l=-this.i.Hj/2;this.g.s&&(h=-(e+d));sm(this,h,l,e,f);om(this,c);qm(this)}c=b.D();a=new (A("marker_move"))(c,this.Id(),a,b);x(a);a=this.Xg.childNodes[0];void 0!==a&&a.beginElement&&a.beginElement()}else this.rb()};
function pm(a,b){b=b.D();var c=b.width,d=b.height,e=.75*d,f=a.i.ds;if(b.H){var h=yg(a.i,b.H);a.xe.setAttribute("d",L(-f,e)+M("V",-f)+M("H",a.i.Nh)+h.nf+M("H",c+2*f)+M("V",e))}else b.v?(h=yg(a.i,b.v),a.xe.setAttribute("d",L(c,0)+M("h",-(c-h.width))+M("v",a.i.Pg)+h.Tc+M("V",d)+M("H",c))):a.xe.setAttribute("d",L(-f,e)+M("V",-f)+M("H",c+2*f)+M("V",e));a.g.s&&a.ui(a.xe);a.Xg=a.xe;om(a,b);qm(a)}function qm(a){a.rb();a.Xg.style.display=""}
function rm(a,b,c,d){a.ff.setAttribute("x",b);a.ff.setAttribute("y",c);a.ff.setAttribute("width",d);a.Xg=a.ff}function sm(a,b,c,d,e){a.gg.setAttribute("x",b);a.gg.setAttribute("y",c);a.gg.setAttribute("width",d);a.gg.setAttribute("height",e);a.Xg=a.gg}g.ui=function(a){a.setAttribute("transform","scale(-1 1)")};g.rb=function(){this.ff.style.display="none";this.gg.style.display="none";this.fg.style.display="none";this.xe.style.display="none"};g.m=function(){this.u&&D(this.u)};function tm(a,b,c){this.di=c;this.Wd=a;this.Ha=B(yc,{"class":"blocklyPath"},this.Wd);this.style=b;this.Gn=this.li=null}g=tm.prototype;g.Ho=function(a){this.Ha.setAttribute("d",a)};g.Qm=function(){this.Ha.setAttribute("transform","scale(-1 1)")};g.Fe=function(a){a?(this.Wd.appendChild(a),this.li=a):this.li=null};g.zf=function(a){a?(this.li?this.Wd.insertBefore(a,this.li):this.Wd.appendChild(a),this.Gn=a):this.Gn=null};
g.Pa=function(a){this.Ha.setAttribute("stroke",this.style.xd);this.Ha.setAttribute("fill",this.style.ae);this.Nr(a.W);this.Uo(!a.isEnabled()||Yh(a))};g.Ge=function(a){this.style=a};function xg(a,b,c){c?C(a.Wd,b):Ic(a.Wd,b)}g.Mr=function(a){a?this.Ha.setAttribute("filter","url(#"+this.di.xk+")"):this.Ha.setAttribute("filter","none")};g.Nr=function(a){a&&(this.Ha.setAttribute("stroke","none"),this.Ha.setAttribute("fill",this.style.fk))};
g.Uo=function(a){xg(this,"blocklyDisabled",a);a&&this.Ha.setAttribute("fill","url(#"+this.di.Rp+")")};function um(a){this.name=a;this.lo=this.i=null}g=um.prototype;g.fd=function(){return this.name+"-renderer"};g.G=function(a,b){this.i=this.Bn();b&&(this.lo=b,qd(this.i,b));this.i.jj(a);this.i.G()};g.xa=function(a,b){this.i.xa(a,this.name+"-"+b.name,"."+this.fd()+"."+b.fd())};g.zo=function(a,b){var c=this.F();c.m();this.i=this.Bn();this.lo&&qd(this.i,this.lo);this.i.ol=c.ol;this.i.jj(b);this.i.G();this.xa(a,b)};g.m=function(){this.i&&this.i.m()};g.Bn=function(){return new Hl};
g.Iq=function(a){return new em(this,a)};g.Gq=function(a,b){return new im(a,b)};g.Hq=function(a,b){return new tm(a,b,this.i)};g.F=function(){return this.i};g.P=function(a){var b=this.Iq(a);b.measure();this.Gq(a,b).dd()};function vm(){vm.j.constructor.call(this);this.Nl=!1;this.ub=1;this.Es=30;this.qp=-this.Ql/2}F(vm,Hl);vm.prototype.Vm=function(a){return vm.j.Vm.call(this,a).concat([a+" .blocklyInsertionMarker>.blocklyPathLight,",a+" .blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: "+this.jp+";","stroke: none;","}"])};function wm(a){this.O=a;this.Fi=this.M="";this.vb=this.O.s;a=a.Ba;this.i=a.F();this.yc=a.yc;this.jc=this.yc.OFFSET;this.jo=this.yc.Js;this.kh=this.yc.zs;this.Vi=this.yc.Ul;this.Nt=this.yc.Lg;this.tu=this.yc.Og;this.yq=this.yc.Hg}wm.prototype.ni=function(a){this.O.s&&(this.M+=this.yq.nf+M("v",a.height-this.yq.height-this.jc))};function xm(a,b){var c=b.Y+b.width-a.jc;b.Zp&&(a.M+=M("H",c));a.vb&&(a.M+=M("H",c),b.height>a.jc&&(a.M+=M("V",b.qb+b.height-a.jc)))};function ym(a,b){ym.j.constructor.call(this,a,b);this.Ve&&(this.width+=this.i.ub,this.height+=this.i.ub)}F(ym,Pl);function zm(a,b){zm.j.constructor.call(this,a,b);this.Ve&&(this.height+=this.i.ub)}F(zm,Ql);function Am(a,b){Am.j.constructor.call(this,a,b)}F(Am,em);g=Am.prototype;g.to=function(){Am.j.to.call(this);this.A.B.length&&3==this.A.B[this.A.B.length-1].type||(this.Ea.minHeight=this.i.Gc-this.i.ub)};g.wp=function(a,b){this.lh&&1==a.type?(b.elements.push(new ym(this.i,a)),b.hn=!0):3==a.type?(b.elements.push(new zm(this.i,a)),b.hb=!0):1==a.type?(b.elements.push(new Rl(this.i,a)),b.$e=!0):5==a.type&&(b.minHeight=Math.max(b.minHeight,this.i.cp),b.hh=!0);this.lh||null!=b.align||(b.align=a.align)};
g.vp=function(){for(var a=!1,b=0,c;c=this.rows[b];b++)c.$e&&(a=!0);for(b=0;c=this.rows[b];b++){var d=c.elements;c.elements=[];c.El()&&c.elements.push(new Yl(this.i,this.Sf(null,d[0])));if(d.length){for(var e=0;e<d.length-1;e++){c.elements.push(d[e]);var f=this.Sf(d[e],d[e+1]);c.elements.push(new Yl(this.i,f))}c.elements.push(d[d.length-1]);c.pi()&&(f=this.Sf(d[d.length-1],null),a&&c.hh&&(f+=this.i.Tj),c.elements.push(new Yl(this.i,f)))}}};
g.Sf=function(a,b){if(!a)return b&&b.type&1&&b.Zb?this.i.Gc:b&&b.type&256?this.i.mp:b&&b.type&512?this.i.rp:this.i.Pb;if(!(a.type&128)&&(!b||b.type&512))return a.type&1&&a.Zb?this.i.Gc:a.type&4?2*this.i.Pb+1:a.type&2?this.i.ud:a.type&6144?this.i.Pb:a.type&65536?this.i.Fs:a.type&524288?this.i.ud:this.i.Pb;if(a.type&128&&!b){if(a.type&64)return this.i.ud;if(a.type&256)return this.i.Pb;if(a.type&512)return this.i.ud}if(!(a.type&128)&&b&&b.type&128){if(a.type&1&&a.Zb){if(b.type&256||b.type&64)return this.i.Ms}else{if(b.type&
256||b.type&64)return this.i.mp;if(b.type&512)return this.i.Pb}return this.i.Pb-1}if(a.type&4&&b&&!(b.type&128))return this.i.Pb;if(a.type&256&&b&&b.type&1)return b.Zb?this.i.Gc:this.i.Pb;if(a.type&32768&&b){if(b.type&2)return this.i.ud;if(b.type&2048)return b.Sc;if(b.type&4096)return a=(this.s?1:-1)*this.i.ub/2,b.Sc+a}if(a.type&65536&&b){if(b.type&2048)return b.Sc-this.i.va;if(b.type&4096)return a=(this.s?1:-1)*this.i.ub/2,b.Sc-this.i.va+a}return a.type&1&&b&&b.type&1&&a.Zb==b.Zb||b&&b.type&524288?
this.i.Pb:this.i.Gc};g.bq=function(a,b){return a.type&2097152&&b.type&4194304?this.i.hs:a.type&2097152||b.type&4194304?this.i.ud:a.$e&&b.$e?this.i.Pb:!a.hb&&b.hb?this.i.Yr:a.hb&&b.hb||!a.hb&&b.hh||a.hh?this.i.Pb:this.i.Gc};
g.$p=function(a,b){if(b.type&8)return a.qb+b.height/2;if(a.type&4194304)return a=a.qb+a.height-a.mi,b.type&4096?a+b.height/2:a-b.height/2;if(a.type&2097152)return b.type&2?a.Yd-b.height/2:a.Yd+b.height/2;var c=a.qb;b.type&1||b.type&4?(c+=b.height/2,(a.hn||a.hb)&&b.height+this.i.sp<=a.height&&(c+=this.i.sp)):c=b.type&256?c+b.height/2:c+a.height/2;return c};
g.Zl=function(){if(this.lh){for(var a=0,b=null,c=this.rows.length-1,d;d=this.rows[c];c--)d.Pn=a,d.type&8388608&&(d.hb&&fm(this,d),b&&b.hb&&d.width<b.width?d.Pn=b.width:a=d.width,b=d);for(c=a=0;d=this.rows[c];c++)d.hb?a=this.xi(d):d.type&8?d.width=Math.max(a,d.Pn):(a=Math.max(a,d.Pn)-d.width,0<a&&gm(d,a),a=d.width)}else Am.j.Zl.call(this)};g.xi=function(a){return this.lh&&a.hb?this.Bf+this.i.Es+this.Yc:Am.j.xi.call(this,a)};
g.Xp=function(){for(var a=0,b=0,c=0,d;d=this.rows[c];c++){d.qb=b;d.Y=this.Yc;b+=d.height;a=Math.max(a,d.sd);var e=b-this.lb.Rg;d==this.Ea&&e<this.i.Mh&&(e=this.i.Mh-e,this.Ea.height+=e,b+=e);hm(this,d)}this.v&&this.A.C&&this.A.C.isConnected()&&(a=Math.max(a,Cg(this.A.C.I()).width-this.i.ub));this.Ea.Hc=b-this.Ea.mi;this.Gh=a+this.Yc+this.i.ub;this.width+=this.i.ub;this.height=b+this.i.ub;this.Dl=this.lb.Yd};function Bm(a,b){Bm.j.constructor.call(this,a,b);this.Gd=new wm(b)}F(Bm,im);g=Bm.prototype;g.dd=function(){jm(this);km(this);lm(this);var a=this.A.Aa;a.Ho(this.aa+"\n"+this.Hk);var b=this.Gd;a.sg.setAttribute("d",b.M+"\n"+b.Fi);this.O.s&&a.Qm();mm(this)};
g.Hm=function(){var a=this.Gd,b=this.O.lb;a.M+=L(b.Y,a.O.Dl);for(var c=0,d;d=b.elements[c];c++)d.type&32768?a.M+=a.yc.pp:d.type&65536?a.M+=a.jo.To(a.vb):d.type&2048?a.M+=a.Nt.nf:d.type&2?a.M+=a.tu.path(a.vb):d.type&8&&0!=d.width&&(a.M+=M("H",d.Y+d.width-a.jc));a.M+=M("H",b.Y+b.width-a.jc);xm(this.Gd,this.O.lb);Bm.j.Hm.call(this)};g.ni=function(a){this.Gd.ni(a);Bm.j.ni.call(this,a)};
g.Im=function(a){var b=this.Gd,c=$l(a);if(b.vb){var d=a.height-c.Vg;b.M+=El(c.Y+c.width-b.jc,a.qb)+b.Vi.Tc(b.vb)+M("v",d)}else b.M+=El(c.Y+c.width,a.qb)+b.Vi.Tc(b.vb);Bm.j.Im.call(this,a)};g.Gm=function(a){var b=this.Gd,c=$l(a);if(b.vb){var d=a.height-2*b.kh.height;b.M+=El(c.Y,a.qb)+b.kh.po(b.vb)+M("v",d)+b.kh.kl(b.vb)+Fl(a.width-c.Y-b.kh.width,0)}else b.M+=El(c.Y,a.qb+a.height)+b.kh.kl(b.vb)+Fl(a.width-c.Y-b.kh.width,0);Bm.j.Gm.call(this,a)};
g.Up=function(a){xm(this.Gd,a);this.aa+=M("H",a.Y+a.width)+M("V",a.qb+a.height)};g.Cm=function(){var a=this.Gd,b=this.O.Ea;if(a.vb)a.M+=M("V",b.Hc-a.jc);else{var c=a.O.Ea.elements[0];c.type&32768?a.M+=El(b.Y+a.jc,b.Hc-a.jc):c.type&65536&&(a.M+=El(b.Y,b.Hc),a.M+=a.jo.hm())}Bm.j.Cm.call(this)};
g.Fm=function(){var a=this.Gd,b=a.O.v;b&&(b=b.tc+b.height,a.vb?a.M+=El(a.O.Yc,b):(a.M+=El(a.O.Yc+a.jc,a.O.Ea.Hc-a.jc),a.M+=M("V",b)),a.M+=a.Vi.Si(a.vb));a.vb||(b=a.O.lb,a.M=b.elements[0].type&65536?a.M+M("V",a.jo.height):a.M+M("V",b.Yd+a.jc));Bm.j.Fm.call(this)};
g.Em=function(a){var b=this.Gd,c=b.jc,d=a.Y+a.yd,e=a.Tg-a.height/2,f=a.width-a.yd,h=e+c;b.vb?(e=a.height-(a.tc+a.Vg)+c,b.Fi+=El(d-c,h)+M("v",a.tc-c)+b.Vi.Tc(b.vb)+M("v",e)+M("h",f)):b.Fi+=El(a.Y+a.width+c,h)+M("v",a.height)+M("h",-f)+El(d,e+a.tc)+b.Vi.Tc(b.vb);Bm.j.Em.call(this,a)};g.kr=function(a){var b=a.Tg-a.height/2;if(a.Rb){var c=a.Y+a.yd+this.i.ub;this.O.s&&(c*=-1);Ji(a.Rb,c,b+a.tc+this.i.ub)}};
g.mr=function(a){var b=$l(a);if(b.Rb){var c=a.Y+a.Bf+b.Sc;c=this.O.s?-1*c:c+this.i.ub;Ji(b.Rb,c,a.qb+this.i.ub)}};g.jr=function(a){var b=$l(a);if(b.Rb){var c=a.Y+a.width+this.i.ub;this.O.s&&(c*=-1);Ji(b.Rb,c,a.qb)}};g.lr=function(){var a=this.O.Ea;if(a.connection){var b=a.connection,c=b.Y;Ji(b.Rb,(this.O.s?-c:c)+this.i.ub/2,a.Hc+this.i.ub)}};function Cm(a){this.Wg=a;this.OFFSET=.5;this.pp=L(this.OFFSET,this.OFFSET)}g=Cm.prototype;g.G=function(){this.zs=Dm(this);this.Js=Em(this);this.Ul=this.En();this.Lg=this.Dn();this.Hg=this.Cn();this.Og=this.Fn()};function Dm(a){var b=a.Wg.va;a=a.OFFSET;var c=(1-Math.SQRT1_2)*(b+a)-a,d=L(c,c)+Gl("0 0,0",b,X(-c-a,b-c)),e=Gl("0 0,0",b+a,X(b+a,b+a)),f=L(c,-c)+Gl("0 0,0",b+a,X(b-c,c+a));return{width:b+a,height:b,po:function(h){return h?d:""},kl:function(h){return h?e:f}}}
function Em(a){var b=a.Wg.va;a=a.OFFSET;var c=(1-Math.SQRT1_2)*(b-a)+a,d=L(c,c)+Gl("0 0,1",b-a,X(b-c,-c+a)),e=L(a,b)+Gl("0 0,1",b-a,X(b,-b+a)),f=-c,h=L(c,f)+Gl("0 0,1",b-a,X(-c+a,-f-b));return{height:b,To:function(l){return l?d:e},hm:function(){return h}}}
g.En=function(){var a=this.Wg.Tj,b=this.Wg.Uh,c=L(-2,-b+3.4)+Fl(-.45*a,-2.1),d=M("v",2.5)+L(.97*-a,2.5)+Dl("q",[X(.05*-a,10),X(.3*a,9.5)])+L(.67*a,-1.9)+M("v",2.5),e=M("v",-1.5)+L(-.92*a,-.5)+Dl("q",[X(-.19*a,-5.5),X(0,-11)])+L(.92*a,1),f=L(-5,b-.7)+Fl(.46*a,-2.1);return{width:a,height:b,Si:function(h){return h?c:e},Tc:function(h){return h?d:f}}};g.Dn=function(){return{nf:M("h",this.OFFSET)+this.Wg.Lg.nf}};g.Cn=function(){return{nf:Fl(5.1,2.6)+L(-10.2,6.8)+Fl(5.1,2.6),height:12,width:10.2}};
g.Fn=function(){var a=L(25,-8.7)+Dl("c",[X(29.7,-6.2),X(57.2,-.5),X(75,8.7)]),b=Dl("c",[X(17.8,-9.2),X(45.3,-14.9),X(75,-8.7)])+El(100.5,this.Wg.Og.height+.5);return{path:function(c){return c?a:b}}};function Fm(a,b,c){this.di=c;this.Wd=a;this.rj=B(yc,{"class":"blocklyPathDark",transform:"translate(1,1)"},this.Wd);this.Ha=B(yc,{"class":"blocklyPath"},this.Wd);this.sg=B(yc,{"class":"blocklyPathLight"},this.Wd);this.qm="#000000";this.style=b}F(Fm,tm);g=Fm.prototype;g.Ho=function(a){this.Ha.setAttribute("d",a);this.rj.setAttribute("d",a)};g.Qm=function(){this.Ha.setAttribute("transform","scale(-1 1)");this.sg.setAttribute("transform","scale(-1 1)");this.rj.setAttribute("transform","translate(1,1) scale(-1 1)")};
g.Pa=function(a){this.sg.style.display="";this.rj.style.display="";this.sg.setAttribute("stroke",this.style.xd);this.rj.setAttribute("fill",this.qm);Fm.j.Pa.call(this,a);this.Ha.setAttribute("stroke","none")};g.Ge=function(a){this.style=a;this.qm=Aa("#000",this.style.ae,.2)||this.qm};g.Mr=function(a){a?(this.Ha.setAttribute("filter","url(#"+this.di.xk+")"),this.sg.style.display="none"):(this.Ha.setAttribute("filter","none"),this.sg.style.display="inline")};
g.Nr=function(a){a&&(this.sg.style.display="none",this.rj.setAttribute("fill",this.style.fk),this.Ha.setAttribute("stroke","none"),this.Ha.setAttribute("fill",this.style.fk))};g.Uo=function(a){Fm.j.Uo.call(this,a);a&&this.Ha.setAttribute("stroke","none")};function Gm(a){Gm.j.constructor.call(this,a);this.yc=null}F(Gm,um);g=Gm.prototype;g.G=function(a,b){Gm.j.G.call(this,a,b);this.yc=new Cm(this.F());this.yc.G()};g.zo=function(a,b){Gm.j.zo.call(this,a,b);this.yc.G()};g.Bn=function(){return new vm};g.Iq=function(a){return new Am(this,a)};g.Gq=function(a,b){return new Bm(a,b)};g.Hq=function(a,b){return new Fm(a,b,this.F())};v(Tb,"geras",Gm);(function(){var a={name:"escape",Ta:function(b){return!b.options.readOnly},ka:function(){md();return!0}};Mk.register(a);Ok(27,a.name)})();(function(){var a={name:"delete",Ta:function(b){return!b.options.readOnly&&K&&K.Qc()},ka:function(b,c){c.preventDefault();if(th())return!1;cl(K);return!0}};Mk.register(a);Ok(46,a.name);Ok(8,a.name)})();
(function(){var a={name:"copy",Ta:function(c){return!c.options.readOnly&&!th()&&K&&K.Qc()&&K.ib()},ka:function(c,d){d.preventDefault();md();dl(K);return!0}};Mk.register(a);var b=Pk(67,[17]);Ok(b,a.name);b=Pk(67,[18]);Ok(b,a.name);b=Pk(67,[91]);Ok(b,a.name)})();(function(){var a={name:"cut",Ta:function(c){return!c.options.readOnly&&!th()&&K&&K.Qc()&&K.ib()&&!K.h.ld},ka:function(){dl(K);cl(K);return!0}};Mk.register(a);var b=Pk(88,[17]);Ok(b,a.name);b=Pk(88,[18]);Ok(b,a.name);b=Pk(88,[91]);Ok(b,a.name)})();
(function(){var a={name:"paste",Ta:function(c){return!c.options.readOnly&&!th()},ka:function(){return el()}};Mk.register(a);var b=Pk(86,[17]);Ok(b,a.name);b=Pk(86,[18]);Ok(b,a.name);b=Pk(86,[91]);Ok(b,a.name)})();(function(){var a={name:"undo",Ta:function(c){return!c.options.readOnly&&!th()},ka:function(c){md();Ae(c,!1);return!0}};Mk.register(a);var b=Pk(90,[17]);Ok(b,a.name);b=Pk(90,[18]);Ok(b,a.name);b=Pk(90,[91]);Ok(b,a.name)})();
(function(){var a={name:"redo",Ta:function(c){return!th()&&!c.options.readOnly},ka:function(c){md();Ae(c,!0);return!0}};Mk.register(a);var b=Pk(90,[16,17]);Ok(b,a.name);b=Pk(90,[16,18]);Ok(b,a.name);b=Pk(90,[16,91]);Ok(b,a.name);b=Pk(89,[17]);Ok(b,a.name)})();var Hm=null,Im=null,Jm=null;function Km(){var a=Hm();Lm("/storage","xml="+encodeURIComponent(a),Mm)}var Nm=new Map;function Lm(a,b,c){var d=void 0===d?"POST":d;Nm.has(a)&&Nm.get(a).abort();var e=new XMLHttpRequest;Nm.set(a,e);e.onload=function(){200===this.status?c&&c.call(e):Om(W("Games.httpRequestError",!1)+"\nXHR status: "+e.status);Nm.delete(a)};e.open(d,a);"POST"===d&&e.setRequestHeader("Content-Type","application/x-www-form-urlencoded");e.send(b)}
function Mm(){window.location.hash=this.responseText.trim();Om(W("Games.linkAlert",!1).replace("%1",window.location.href));Jm=Hm()}function Pm(){var a=this.responseText.trim();a.length?(a=a.replace(/^\{\[\(< UNTRUSTED CONTENT >\)\]\}\n/,""),Im(a)):Om(W("Games.hashError",!1).replace("%1",window.location.hash));Jm=Hm()}function Om(a){if("object"===typeof Y){var b=U("linkButton");Y.Cr(b,a)}else alert(a)};var ak=null,Qm="";function Rm(){var a=W("Games.music",!1);tl(a);if(a=U("linkButton"))ll?a.style.display="none":(Hm=Sm,Im=Tm,xl(a,Km));(a=U("languageMenu"))&&a.addEventListener("change",Um,!0)}
function Vm(){var a='<xml><block type="music_start" deletable="'+(6<V)+'" x="180" y="50"></block></xml>',b=10!==V||Wm;if(!ll&&1<window.location.hash.length)Lm("/storage","key="+encodeURIComponent(window.location.hash.substring(1)),Pm);else{try{var c=window.sessionStorage.Fq}catch(f){}c&&delete window.sessionStorage.Fq;var d=ul(V),e=b&&ul(V-1);e&&"function"===typeof b&&(e=b(e));(a=c||d||e||a)&&Tm(a)}}
function Tm(a){a=xd(a);ak.clear();yd(a,ak);a=ak;a.vg.length=0;a=a.Wi.length=0;for(var b;b=ec[a];a++)b.Eb=!1}
function Sm(){for(var a=ak,b=G("xml"),c=ni(a),d=G("variables"),e=0,f;f=c[e];e++){var h=G("variable");h.appendChild(document.createTextNode(f.name));f.type&&h.setAttribute("type",f.type);h.id=f.S();d.appendChild(h)}d.hasChildNodes()&&b.appendChild(d);d=[].concat(a.Il);1<d.length&&(a.Ud.offset=Math.sin(3*Math.PI/180),a.s&&(a.Ud.offset*=-1),d.sort(a.Ud));for(c=0;e=d[c];c++)b.appendChild(e.tv(!0));a=a.La(!0);for(c=0;d=a[c];c++)b.appendChild(sd(d,!0));1===ak.La(!1).length&&b.querySelector&&(a=b.querySelector("block"))&&
(a.removeAttribute("x"),a.removeAttribute("y"));return wd(b)}function Xm(){null!==Jm&&Jm!==Sm()&&(window.location.hash="",Jm=null)}function Ym(){var a={disable:!1,rtl:kl,zoom:{maxScale:2,controls:!0,wheel:!0,startScale:1.03333-.0333333*V}},b=U("toolbox");b&&(a.toolbox=b);a.media="third-party/blockly/media/";a.oneBasedIndex=!1;ak=tk("blockly",a);Be(ak,Xm)}function Zm(){window.location=(ll?"index.html":"./")+"?lang="+il}
function Um(){window.sessionStorage&&(window.sessionStorage.Fq=Sm());var a=U("languageMenu");a=encodeURIComponent(a.options[a.selectedIndex].value);var b=window.location.search;b=1>=b.length?"?lang="+a:/[?&]lang=[^&]*/.test(b)?b.replace(/([?&]lang=)[^&]*/,"$1"+a):b.replace(/\?/,"?lang="+a+"&");window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+b}
function $m(){10>V?location=location.protocol+"//"+location.host+location.pathname+"?lang="+il+"&level="+(V+1):Zm()}function an(a,b){a=U(a);a.firstChild||(a=tk(a,{rtl:kl,readOnly:!0}),"string"!==typeof b&&(b=b.join("")),yd(xd(b),a))}function bn(a){if("click"===a.type&&"touchend"===cn&&dn+2E3>Date.now()||cn===a.type&&dn+400>Date.now())return a.preventDefault(),a.stopPropagation(),!0;cn=a.type;dn=Date.now();return!1}var cn=null,dn=0;var Y={$f:!1,Op:null,mk:null,pk:null,rk:null,qk:null,qg:function(a,b,c,d,e,f){function h(){if(Y.$f){n.style.visibility="visible";n.style.zIndex=10;q.style.visibility="hidden";var y=a.getElementsByClassName("primary");y.length||(y=a.getElementsByClassName("secondary"),y.length||(y=a.getElementsByTagName("button")));y.length&&y[0].focus()}}if(!a)throw TypeError("Content not found: "+a);for(var l=a.getElementsByClassName("addHideHandler"),m;m=l[0];)m.addEventListener("click",Y.ih,!0),m.addEventListener("touchend",
Y.ih,!0),m.classList.remove("addHideHandler");Y.$f&&Y.ih(!1);Wf&&md(!0);Y.$f=!0;Y.Op=b;Y.mk=f;var n=U("dialog");f=U("dialogShadow");var q=U("dialogBorder"),t;for(t in e)n.style[t]=e[t];d&&(f.style.visibility="visible",f.style.opacity=.3,f.style.zIndex=9,d=document.createElement("div"),d.id="dialogHeader",n.appendChild(d),Y.pk=Mb(d,"mousedown",null,Y.ft));n.appendChild(a);a.classList.remove("dialogHiddenContent");try{b.blur()}catch(y){}c&&b?(Y.Rk(b,!1,.2),Y.Rk(n,!0,.8),setTimeout(h,175)):h()},Pp:0,
Qp:0,ft:function(a){Y.xm();if(!kb(a)){var b=U("dialog");Y.Pp=b.offsetLeft-a.clientX;Y.Qp=b.offsetTop-a.clientY;Y.rk=Mb(document,"mouseup",null,Y.xm);Y.qk=Mb(document,"mousemove",null,Y.gt);a.stopPropagation()}},gt:function(a){var b=U("dialog"),c=Y.Pp+a.clientX;a=Y.Qp+a.clientY;a=Math.max(a,0);a=Math.min(a,window.innerHeight-b.offsetHeight);c=Math.max(c,0);c=Math.min(c,window.innerWidth-b.offsetWidth);b.style.left=c+"px";b.style.top=a+"px"},xm:function(){Y.rk&&(u(Y.rk),Y.rk=null);Y.qk&&(u(Y.qk),Y.qk=
null)},ih:function(a){function b(){d.style.zIndex=-1;d.style.visibility="hidden";U("dialogBorder").style.visibility="hidden"}a=void 0===a?!0:a;if(Y.$f){Y.xm();Y.pk&&(u(Y.pk),Y.pk=null);Y.$f=!1;Y.mk&&Y.mk();Y.mk=null;var c=a?Y.Op:null;a=U("dialog");var d=U("dialogShadow");d.style.opacity=0;c&&a?(Y.Rk(a,!1,.8),Y.Rk(c,!0,.2),setTimeout(b,175)):b();a.style.visibility="hidden";a.style.zIndex=-1;for((c=U("dialogHeader"))&&c.parentNode.removeChild(c);a.firstChild;)c=a.firstChild,c.classList.add("dialogHiddenContent"),
document.body.appendChild(c)}},Rk:function(a,b,c){function d(){e.style.width=f.width+"px";e.style.height=f.height+"px";e.style.left=f.x+"px";e.style.top=f.y+"px";e.style.opacity=c}if(a){var e=U("dialogBorder"),f=Y.getBBox(a);b?(e.className="dialogAnimate",setTimeout(d,1)):(e.className="",d());e.style.visibility="visible"}},getBBox:function(a){var b=Qa(a);b={x:b.x,y:b.y};a.getBBox?(a=a.getBBox(),b.height=a.height,b.width=a.width):(b.height=a.offsetHeight,b.width=a.offsetWidth);return b},Cr:function(a,
b){var c=U("containerStorage");c.textContent="";b=ba(b.split("\n"));for(var d=b.next();!d.done;d=b.next()){var e=document.createElement("p");e.appendChild(document.createTextNode(d.value));c.appendChild(e)}c=U("dialogStorage");Y.qg(c,a,!0,!0,{width:"50%",left:"25%",top:"5em"},Y.Fl);Y.Cl()},Ts:function(){if(!ul(V))if(Y.$f||ak.$a())setTimeout(Y.Ts,15E3);else{var a=U("dialogAbort"),b=U("abortOk");b.addEventListener("click",Zm,!0);b.addEventListener("touchend",Zm,!0);Y.qg(a,null,!1,!0,{width:"40%",left:"30%",
top:"3em"},function(){document.body.removeEventListener("keydown",Y.up,!0)});document.body.addEventListener("keydown",Y.up,!0)}},nk:function(a){!Y.$f||13!==a.keyCode&&27!==a.keyCode&&32!==a.keyCode||(Y.ih(!0),a.stopPropagation(),a.preventDefault())},Cl:function(){document.body.addEventListener("keydown",Y.nk,!0)},Fl:function(){document.body.removeEventListener("keydown",Y.nk,!0)},up:function(a){Y.nk(a);13!==a.keyCode&&32!==a.keyCode||Zm()}};window.BlocklyDialogs=Y;var en="";function fn(a,b){if(a){var c=a.match(/^block_id_([^']+)$/);c&&(a=c[1])}Zj(a,b)}function gn(a){a=a.replace(/(,\s*)?'block_id_[^']+'\)/g,")");return a.replace(/\s+$/,"")}function hn(){setTimeout(function(){var a=document.createElement("script");a.type="text/javascript";a.src="third-party/JS-Interpreter/compressed.js";document.head.appendChild(a)},1)}
function jn(){setTimeout(function(){var a=document.createElement("link");a.rel="stylesheet";a.type="text/css";a.href="common/prettify.css";document.head.appendChild(a);a=document.createElement("script");a.type="text/javascript";a.src="common/prettify.js";document.head.appendChild(a)},1)}
function kn(){var a=U("dialogDone");if(ak){var b=U("dialogLinesText");b.textContent="";var c=en;c=gn(c);var d=c.replace(/\/\/[^\n]*/g,"");d=d.replace(/\/\*.*\*\//g,"");d=d.replace(/[ \t]+\n/g,"\n");d=d.replace(/\n+/g,"\n");d=d.trim();d=d.split("\n").length;var e=U("containerCode");e.textContent=c;"function"===typeof prettyPrintOne&&(c=e.innerHTML,c=prettyPrintOne(c,"js"),e.innerHTML=c);c=1===d?W("Games.linesOfCode1",!1):W("Games.linesOfCode2",!1).replace("%1",String(d));b.appendChild(document.createTextNode(c))}b=
10>V?W("Games.nextLevel",!1).replace("%1",String(V+1)):W("Games.finalLevel",!1);c=U("doneOk");c.addEventListener("click",$m,!0);c.addEventListener("touchend",$m,!0);Y.qg(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",ln,!0)});document.body.addEventListener("keydown",ln,!0);U("dialogDoneText").textContent=b}function ln(a){Y.nk(a);13!==a.keyCode&&32!==a.keyCode||$m()};function mn(){U("galleryXml").value=Sm();var a=U("galleryDialog");if(!nn){var b=U("galleryOk");b.addEventListener("click",on,!0);b.addEventListener("touchend",on,!0);nn=!0}b=U("submitButton");Y.qg(a,b,!0,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",pn,!0)});document.body.addEventListener("keydown",pn,!0);setTimeout(function(){U("galleryTitle").focus()},250)}var nn;function pn(a){27===a.keyCode?Y.ih(!0):13===a.keyCode&&on()}
function qn(a,b){for(var c=[],d=ba(a.elements),e=d.next();!e.done;e=d.next())e=e.value,e.name&&c.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value));Lm(a.action,c.join("&"),b)}function on(){var a=U("galleryTitle");a.value.trim()?(a=U("galleryForm"),qn(a,function(){Y.Cr(null,W("Games.submitted",!1))}),Y.ih(!0)):(a.value="",a.focus())};/*

 Copyright 2016 Google LLC
 https://github.com/google/blockly-games
 SPDX-License-Identifier: Apache-2.0
*/
function rn(a,b,c){this.mj=!0;rn.j.constructor.call(this,a,b,c);this.fl=this.dl=this.Xb=null;this.Bk=!1;this.g=null}F(rn,Gh);rn.prototype.Cg="";rn.N=function(a){var b=nb(a.text);return new rn(b,void 0,a)};g=rn.prototype;g.Ng=!0;g.Ll="text";g.dc=function(a){rn.j.dc.call(this,a);"boolean"==typeof a.spellcheck&&(this.mj=a.spellcheck)};
g.Yf=function(){if(this.F().ip){for(var a=0,b=0,c=0,d;d=this.o.B[c];c++){for(var e=0;d.ba[e];e++)a++;d.connection&&b++}this.Bk=1>=a&&this.o.v&&!b}else this.Bk=!1;this.Bk?this.om=this.o.T():Ih(this);Jh(this)};g.ke=function(a){return null===a||void 0===a?null:String(a)};g.Sp=function(){if(this.Zf){this.tn=!1;var a=this.sa;this.sa=this.Xb.Lr;this.o&&0==w&&x(new (A("change"))(this.o,"field",this.name||null,a,this.sa))}};g.Ad=function(a){this.tn=!0;this.sa=a;this.Zf||(this.Jd=!0)};
g.Pa=function(){this.o&&this.F().ip&&(this.Qa?this.Qa.setAttribute("stroke",this.o.style.xd):this.o.Aa.Ha.setAttribute("fill",this.F().ep))};g.uf=function(){rn.j.uf.call(this);if(this.Zf){sn(this);var a=this.Xb;this.tn?(Ic(a,"blocklyInvalidInput"),si(a,"invalid",!1)):(C(a,"blocklyInvalidInput"),si(a,"invalid",!0))}};function tn(a){0!=a.mj&&(a.mj=!1,a.Xb&&a.Xb.setAttribute("spellcheck",a.mj))}
g.qd=function(a,b){this.g=this.o.h;a=b||!1;!a&&(bb||Wa||Xa)?un(this):(Dh(this,this.o.s,this.Gu.bind(this)),this.Xb=this.Zo(),this.Zf=!0,a||(this.Xb.focus({preventScroll:!0}),this.Xb.select()))};function un(a){Yk(k.CHANGE_VALUE_TITLE,a.ic(),function(b){null!==b&&this.Ua(this.cn(b))}.bind(a))}
g.Zo=function(){var a=yh;C(Hh(this),"editing");var b=document.createElement("input");b.className="blocklyHtmlInput";b.setAttribute("spellcheck",this.mj);var c=fk(this.g),d=this.F().Fg*c+"pt";a.style.fontSize=d;b.style.fontSize=d;d=4*c+"px";if(this.Bk){d=Vf(this);d=(d.bottom-d.top)/2+"px";var e=this.o.getParent()?this.o.getParent().style.xd:this.o.style.xd;b.style.border=1*c+"px solid "+e;a.style.borderRadius=d;a.style.transition="box-shadow 0.25s ease 0s";this.F().ts&&(a.style.boxShadow="rgba(255, 255, 255, 0.3) 0px 0px 0px "+
4*c+"px")}b.style.borderRadius=d;a.appendChild(b);b.value=b.defaultValue=this.Zm(this.sa);b.Lr=this.sa;b.Xq=null;sn(this);this.dl=r(b,"keydown",this,this.Ut);this.fl=r(b,"input",this,this.Tt);return b};g.Gu=function(){this.Zf=!1;this.tn=!0;Nh(this);this.Wn&&this.Wn(this.sa);this.dl&&(u(this.dl),this.dl=null);this.fl&&(u(this.fl),this.fl=null);var a=yh.style;a.width="auto";a.height="auto";a.fontSize="";a.transition="";a.boxShadow="";this.Xb=null;Ic(Hh(this),"editing")};
g.Ut=function(a){if(13==a.keyCode)Eh(),ag();else if(27==a.keyCode)this.Ua(this.Xb.Lr),Eh(),ag();else if(9==a.keyCode){Eh();ag();var b=this.o,c=!a.shiftKey,d=new Ri;vh(d,kf(this));var e=d.uc;c?d.next():d.Ce();(c=d.uc)&&c!==e&&(e=c.U,rf(e)&&e.qd(void 0),b.h.ph&&vh(b.h.ah(),c));a.preventDefault()}};g.Tt=function(){var a=this.Xb.value;a!==this.Xb.Xq&&(this.Xb.Xq=a,z(!0),this.Ua(this.cn(a)),Nh(this),sn(this),z(!1))};
function sn(a){var b=yh,c=Vf(a);b.style.width=c.right-c.left+"px";b.style.height=c.bottom-c.top+"px";a=new p(a.o.s?c.right-b.offsetWidth:c.left,c.top);b.style.left=a.x+"px";b.style.top=a.y+"px"}g.xq=function(){return!0};g.eh=function(){return this.Zf&&this.Xb?this.Xb.value:null};g.Zm=function(a){return String(a)};g.cn=function(a){return a};v(Sb,"field_input",rn);function vn(a){rn.call(this,a);tn(this);this.Yk=this.ek=null}var wn=rn;vn.prototype=ca(wn.prototype);vn.prototype.constructor=vn;if(na)na(vn,wn);else for(var xn in wn)if("prototype"!=xn)if(Object.defineProperties){var yn=Object.getOwnPropertyDescriptor(wn,xn);yn&&Object.defineProperty(vn,xn,yn)}else vn[xn]=wn[xn];vn.j=wn.prototype;vn.N=function(a){return new vn(a.pitch)};g=vn.prototype;
g.qd=function(){rn.prototype.qd.call(this);if(yh.firstChild){var a=this.Jm();Kf.appendChild(a);a=this.o.style.xd;Jf.style.backgroundColor=this.o.style.ae;Jf.style.borderColor=a;Uf(this,this.Km.bind(this));this.ek=Mb(this.Fa,"click",this,this.Dt);this.Yk=Mb(this.Fa,"mousemove",this,this.Yt);zn(this)}};g.Jm=function(){this.Fa=document.createElement("div");this.Fa.id="notePicker";return this.Fa};g.Km=function(){this.ek&&(u(this.ek),this.ek=null);this.Yk&&(u(this.Yk),this.Yk=null);this.Fa=null};
g.Dt=function(){Eh();ag()};g.Yt=function(a){var b=this.Fa.getBoundingClientRect();a=nd(Math.round(13.5-(a.clientY-b.top)/7.5),0,12);this.Fa.style.backgroundPosition=37*-a+"px 0";this.Jd=!0;this.Zf&&(this.Xb.value=this.Zm(a));this.Ua(a)};g.eh=function(){return this.Zf?rn.prototype.eh.call(this):An[Number(this.Za())]||null};g.Zm=function(a){return An[Number(a)]};g.cn=function(a){a=An.indexOf(a.trim().toUpperCase());return-1<a?a:void 0};g.uf=function(){rn.prototype.uf.call(this);zn(this)};
function zn(a){a.Fa&&(a.Fa.style.backgroundPosition=37*-a.Za()+"px 0")}g.ke=function(a){return null===a||void 0===a?null:An[Number(a)]?a:null};v(Sb,"field_pitch",vn);var An="C3 D3 E3 F3 G3 A3 B3 C4 D4 E4 F4 G4 A4".split(/ /);function Bn(a,b,c){"function"!=typeof a&&(Cn(a),a=JSON.parse(JSON.stringify(a)));this.qh=a;this.Qo=this.uo=this.Ck=null;a=this.qh;if(Array.isArray(a)){for(var d=!1,e=0;e<a.length;e++){var f=a[e][0];"string"==typeof f?a[e][0]=nb(f):(null!=f.alt&&(a[e][0].alt=nb(f.alt)),d=!0)}if(!(d||2>a.length)){f=[];for(e=0;e<a.length;e++)f.push(a[e][0]);var h=Ga(f);e=Ha(f,h);d=Ia(f,h);if((e||d)&&!(h<=e+d)){e&&(this.uo=f[0].substring(0,e-1));d&&(this.Qo=f[0].substr(1-d));f=[];for(h=0;h<a.length;h++){var l=a[h][0],
m=a[h][1];l=l.substring(e,l.length-d);f[h]=[l,m]}this.qh=f}}}this.xh=Ff(this,!1)[0];Bn.j.constructor.call(this,this.xh[1],b,c);this.Ch=this.Mf=this.Fa=this.ac=this.dj=null}F(Bn,Gh);Bn.N=function(a){return new Bn(a.options,void 0,a)};Bn.prototype.Ak=function(a){Ef(this)&&Ff(this,!1);this.Ua(a.textContent)};Bn.prototype.Ng=!0;var Dn=Wa?"\u25bc":"\u25be";g=Bn.prototype;g.Ll="default";
g.Yf=function(){this.Mo()?Ih(this):this.om=this.o.T();Jh(this);this.Fa=B(wc,{},this.fc);this.F().qs?(this.Ch=B(wc,{height:this.F().Kh+"px",width:this.F().Kh+"px"},this.fc),this.Ch.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.F().rs)):(this.Mf=B(Ec,{},this.kb),this.Mf.appendChild(document.createTextNode(this.o.s?Dn+" ":" "+Dn)),this.o.s?this.kb.insertBefore(this.Mf,this.Ie):this.kb.appendChild(this.Mf));this.Qa&&C(this.Qa,"blocklyDropdownRect")};
g.Mo=function(){return!this.F().Ml||this.F().Ml&&!this.o.W};g.qd=function(a){this.Jm();this.ac.ho=a&&"number"===typeof a.clientX?new p(a.clientX,a.clientY):null;this.ac.P(Kf);C(this.ac.yb,"blocklyDropdownMenu");if(this.F().ps){a=this.o.W?this.o.getParent().Xm():this.o.Xm();var b=this.o.W?this.o.getParent().style.xd:this.o.style.xd;Jf.style.backgroundColor=a;Jf.style.borderColor=b}Uf(this,this.Km.bind(this));this.ac.focus();this.dj&&this.ac.pd(this.dj);this.Pa()};
g.Jm=function(){var a=new ti;a.hj("listbox");this.ac=a;var b=Ff(this,!1);this.dj=null;for(var c=0;c<b.length;c++){var d=b[c][0],e=b[c][1];if("object"==typeof d){var f=new Image(d.width,d.height);f.src=d.src;f.alt=d.alt||"";d=f}d=new xi(d,e);d.hj("option");d.Do=this.o.s;d.mm=!0;a.od.push(d);d.nm=e==this.sa;e==this.sa&&(this.dj=d);yi(d,this.vt,this)}};g.Km=function(){this.ac&&this.ac.m();this.dj=this.ac=null;this.Pa()};g.vt=function(a){Nf===this&&ag();this.Zq(a)};g.Zq=function(a){this.Ua(a.Za())};
function Ef(a){return"function"==typeof a.qh}function Ff(a,b){return Ef(a)?(a.Ck&&b||(a.Ck=a.qh.call(a),Cn(a.Ck)),a.Ck):a.qh}g.ke=function(a){for(var b=!1,c=Ff(this,!0),d=0,e;e=c[d];d++)if(e[1]==a){b=!0;break}return b?a:(this.o&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.o.type+", Field name: "+this.name+", Value: "+a),null)};g.Ad=function(a){Bn.j.Ad.call(this,a);a=Ff(this,!0);for(var b=0,c;c=a[b];b++)c[1]==this.sa&&(this.xh=c)};
g.Pa=function(){this.Qa&&(this.Qa.setAttribute("stroke",this.o.style.xd),this.ac?this.Qa.setAttribute("fill",this.o.style.xd):this.Qa.setAttribute("fill","transparent"));this.o&&this.Mf&&(this.Mf.style.fill=this.o.W?this.o.style.fk:this.o.style.ae)};
g.uf=function(){this.Ie.nodeValue="";this.Fa.style.display="none";var a=this.xh&&this.xh[0];if(a&&"object"==typeof a){this.Fa.style.display="";this.Fa.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a.src);this.Fa.setAttribute("height",a.height);this.Fa.setAttribute("width",a.width);var b=Number(a.height);a=Number(a.width);var c=!!this.Qa,d=Math.max(c?this.F().gp:0,b+10);c=c?this.F().Dg:0;if(this.Ch)var e=En(this,a+c,d/2-this.F().Kh/2);else{e=this.F().Fg;var f=this.F().Gg,h=this.F().Eg;
e=Oc(this.Mf,e+"pt",f,h)}this.Gb.width=a+e+2*c;this.Gb.height=d;f=0;this.o.s?this.Fa.setAttribute("x",c+e):(f=a+e,this.kb.setAttribute("text-anchor","end"),this.Fa.setAttribute("x",c));this.Fa.setAttribute("y",d/2-b/2);Lh(this,f+c,a+e)}else this.Ie.nodeValue=this.Ek(),C(this.kb,"blocklyDropdownText"),this.kb.setAttribute("text-anchor","start"),a=!!this.Qa,b=Math.max(a?this.F().gp:0,this.F().Kj),d=this.F().Fg,c=this.F().Gg,e=this.F().Eg,d=Oc(this.kb,d+"pt",c,e),a=a?this.F().Dg:0,c=0,this.Ch&&(c=En(this,
d+a,b/2-this.F().Kh/2)),this.Gb.width=d+c+2*a,this.Gb.height=b,Lh(this,a,d);Mh(this)};function En(a,b,c){if(!a.Ch)return 0;var d=a.Qa?a.F().Dg:0,e=a.F().ss,f=a.F().Kh;a.Ch.setAttribute("transform","translate("+(a.o.s?d:b+e)+","+c+")");return f+e}g.eh=function(){if(!this.xh)return null;var a=this.xh[0];return"object"==typeof a?a.alt:a};
function Cn(a){if(!Array.isArray(a))throw TypeError("FieldDropdown options must be an array.");if(!a.length)throw TypeError("FieldDropdown options must not be an empty array.");for(var b=!1,c=0;c<a.length;++c){var d=a[c];Array.isArray(d)?"string"!=typeof d[1]?(b=!0,console.error("Invalid option["+c+"]: Each FieldDropdown option id must be a string. Found "+d[1]+" in: ",d)):d[0]&&"string"!=typeof d[0]&&"string"!=typeof d[0].src&&(b=!0,console.error("Invalid option["+c+"]: Each FieldDropdown option must have a string label or image description. Found"+
d[0]+" in: ",d)):(b=!0,console.error("Invalid option["+c+"]: Each FieldDropdown option must be an array. Found: ",d))}if(b)throw TypeError("Found invalid FieldDropdown options.");}v(Sb,"field_dropdown",Bn);function zf(a){zf.j.constructor.call(this,null);this.pr=a}F(zf,Ze);g=zf.prototype;g.g=null;g.Hh=0;g.Cj=0;
g.Dm=function(a){B(Bc,{"class":"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},a);B(yc,{"class":"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},a);
B(mc,{"class":"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},a)};g.mn=function(a){this.A.Zb()&&Ze.prototype.mn.call(this,a)};
g.tm=function(){this.qj=B(Cc,{x:Ge,y:Ge},null);if(this.pr.length)for(var a=G("xml"),b=0,c;c=this.pr[b];b++){var d=G("block");d.setAttribute("type",c);a.appendChild(d)}else a=null;b=new ie({disable:!1,parentWorkspace:this.A.h,media:this.A.h.options.pf,rtl:this.A.s,renderer:this.A.h.options.Zi,rendererOverrides:this.A.h.options.$i});b.fb=this.A.s?3:2;if(c=!!a)b.Kd=de(a);this.g=new Mj(b);this.g.Ii=!0;Be(this.g,jc);a=c?Xj(this.g,vc):null;b=this.g.xa("blocklyMutatorBackground");a&&b.insertBefore(a,this.g.ra);
this.qj.appendChild(b);return this.qj};g.Ne=function(){zf.j.Ne.call(this);this.A.Ga||(this.A.Zb()?this.Yb&&Ic(this.Yb,"blocklyIconGroupReadonly"):(this.ma(!1),this.Yb&&C(this.Yb,"blocklyIconGroupReadonly")))};
function Fn(a){var b=2*Ge,c=a.g.ra.getBBox(),d=c.width+c.x,e=c.height+3*b,f=a.g.wc();if(f){var h=f.g.bc.Ye();e=Math.max(e,h.height+20);d+=f.qe()}a.A.s&&(d=-c.x);d+=3*b;if(Math.abs(a.Hh-d)>b||Math.abs(a.Cj-e)>b)a.Hh=d,a.Cj=e,a.Ia.ej(d+b,e+b),a.qj.setAttribute("width",a.Hh),a.qj.setAttribute("height",a.Cj),Yj(a.g,a.Hh,a.Cj);a.A.s&&a.g.ra.setAttribute("transform","translate("+a.Hh+",0)");a.g.resize()}g.Pt=function(){this.g&&kj(this.g)};
g.ma=function(a){if(a!=this.isVisible())if(x(new (A("bubble_open"))(this.A,a,"mutator")),a){this.Ia=new De(this.A.h,this.tm(),this.A.Aa.Ha,this.bf,null,null);Me(this.Ia,this.A.id);this.Ia.Ln=this.Pt.bind(this);var b=this.g.options.Kd;a=this.g.wc();b&&(a.G(this.g),a.show(b));this.Qd=this.A.ie(this.g);b=xb(this.Qd,!1);for(var c=0,d;d=b[c];c++)d.P();this.Qd.xl(!1);this.Qd.lk=!1;a?(b=2*a.va,a=this.Qd.s?a.qe()+b:b):a=b=16;this.A.s&&(a=-a);this.Qd.moveBy(a,b);if(this.A.vl){var e=this,f=this.A;f.vl(this.Qd);
this.Bl=function(){f.vl(e.Qd)};Be(this.A.h,this.Bl)}Fn(this);Be(this.g,this.Hu.bind(this));this.Pa()}else this.qj=null,this.g.m(),this.Qd=this.g=null,this.Ia.m(),this.Ia=null,this.Cj=this.Hh=0,this.Bl&&(vb(this.A.h.jb,this.Bl),this.Bl=null)};
g.Hu=function(a){if(!(a.Ok||"change"==a.type&&"disabled"==a.element)){if(!this.g.$a()){a=this.g.La(!1);for(var b=0,c;c=a[b];b++){var d=c.ea();20>d.y&&c.moveBy(0,20-d.y);if(c.s){var e=-20,f=this.g.wc();f&&(e-=f.qe());d.x>e&&c.moveBy(e-d.x,0)}else 20>d.x&&c.moveBy(20-d.x,0)}}if(this.Qd.h==this.g){z(!0);c=this.A;a=(a=c.qa())&&wd(a);b=c.K;c.K=!1;c.ce(this.Qd);c.K=b;c.kd();c.K&&c.P();b=(b=c.qa())&&wd(b);if(a!=b){x(new (A("change"))(c,"mutation",null,a,b));var h=bc;setTimeout(function(){z(h);c.Ja();z(!1)},
250)}this.g.$a()||Fn(this);z(!1)}}};g.m=function(){this.A.Db=null;Ze.prototype.m.call(this)};function Gn(a,b,c){if(!a||!a.D().h)return!1;c=H(b,c).connection;var d=a.I();return d&&d!=b||c.L==a?!1:(c.isConnected()&&c.disconnect(),c.connect(a),!0)}function Hn(a){var b=null;if(a&&a.options){var c=a.options.Sa;a.ld?c&&c.options&&(b=c.options.Sa):c&&(b=c)}return b};gl([{type:"lists_create_empty",message0:"%{BKY_LISTS_CREATE_EMPTY_TITLE}",output:"Array",colour:"%{BKY_LISTS_HUE}",tooltip:"%{BKY_LISTS_CREATE_EMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_CREATE_EMPTY_HELPURL}"},{type:"lists_repeat",message0:"%{BKY_LISTS_REPEAT_TITLE}",args0:[{type:"input_value",name:"ITEM"},{type:"input_value",name:"NUM",check:"Number"}],output:"Array",colour:"%{BKY_LISTS_HUE}",tooltip:"%{BKY_LISTS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_LISTS_REPEAT_HELPURL}"},{type:"lists_reverse",message0:"%{BKY_LISTS_REVERSE_MESSAGE0}",
args0:[{type:"input_value",name:"LIST",check:"Array"}],output:"Array",inputsInline:!0,colour:"%{BKY_LISTS_HUE}",tooltip:"%{BKY_LISTS_REVERSE_TOOLTIP}",helpUrl:"%{BKY_LISTS_REVERSE_HELPURL}"},{type:"lists_isEmpty",message0:"%{BKY_LISTS_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",colour:"%{BKY_LISTS_HUE}",tooltip:"%{BKY_LISTS_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_ISEMPTY_HELPURL}"},{type:"lists_length",message0:"%{BKY_LISTS_LENGTH_TITLE}",args0:[{type:"input_value",
name:"VALUE",check:["String","Array"]}],output:"Number",colour:"%{BKY_LISTS_HUE}",tooltip:"%{BKY_LISTS_LENGTH_TOOLTIP}",helpUrl:"%{BKY_LISTS_LENGTH_HELPURL}"}]);
J.lists_create_with={G:function(){this.Ab=k.LISTS_CREATE_WITH_HELPURL;this.bb(k.LISTS_HUE);this.md=3;this.Ec();this.Sd(!0,"Array");this.gj(new zf(["lists_create_with_item"]));this.Ma(k.LISTS_CREATE_WITH_TOOLTIP)},qa:function(){var a=G("mutation");a.setAttribute("items",this.md);return a},Ka:function(a){this.md=parseInt(a.getAttribute("items"),10);this.Ec()},ie:function(a){var b=a.gf("lists_create_with_container");b.kd();for(var c=H(b,"STACK").connection,d=0;d<this.md;d++){var e=a.gf("lists_create_with_item");
e.kd();c.connect(e.H);c=e.C}return b},ce:function(a){var b=di(a,"STACK");for(a=[];b&&!b.Bb();)a.push(b.Yo),b=b.C&&b.C.I();for(b=0;b<this.md;b++){var c=H(this,"ADD"+b).connection.L;c&&-1==a.indexOf(c)&&c.disconnect()}this.md=a.length;this.Ec();for(b=0;b<this.md;b++)Gn(a[b],this,"ADD"+b)},vl:function(a){a=di(a,"STACK");for(var b=0;a;){var c=H(this,"ADD"+b);a.Yo=c&&c.connection.L;b++;a=a.C&&a.C.I()}},Ec:function(){this.md&&H(this,"EMPTY")?this.ab("EMPTY"):this.md||H(this,"EMPTY")||N(P(this,"EMPTY"),
k.LISTS_CREATE_EMPTY_TITLE);for(var a=0;a<this.md;a++)if(!H(this,"ADD"+a)){var b=Uh(this.ta(1,"ADD"+a),1);0==a&&N(b,k.LISTS_CREATE_WITH_INPUT_WITH)}for(;H(this,"ADD"+a);)this.ab("ADD"+a),a++}};J.lists_create_with_container={G:function(){this.bb(k.LISTS_HUE);N(P(this),k.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD);this.ta(3,"STACK");this.Ma(k.LISTS_CREATE_WITH_CONTAINER_TOOLTIP);this.contextMenu=!1}};
J.lists_create_with_item={G:function(){this.bb(k.LISTS_HUE);N(P(this),k.LISTS_CREATE_WITH_ITEM_TITLE);this.Td(!0);this.Rd(!0);this.Ma(k.LISTS_CREATE_WITH_ITEM_TOOLTIP);this.contextMenu=!1}};
J.lists_indexOf={G:function(){var a=[[k.LISTS_INDEX_OF_FIRST,"FIRST"],[k.LISTS_INDEX_OF_LAST,"LAST"]];this.Ab=k.LISTS_INDEX_OF_HELPURL;this.bb(k.LISTS_HUE);this.Sd(!0,"Number");N(this.ta(1,"VALUE").sb("Array"),k.LISTS_INDEX_OF_INPUT_IN_LIST);N(this.ta(1,"FIND"),new Bn(a),"END");this.Xc(!0);var b=this;this.Ma(function(){return k.LISTS_INDEX_OF_TOOLTIP.replace("%1",b.h.options.Ae?"0":"-1")})}};
J.lists_getIndex={G:function(){var a=[[k.LISTS_GET_INDEX_GET,"GET"],[k.LISTS_GET_INDEX_GET_REMOVE,"GET_REMOVE"],[k.LISTS_GET_INDEX_REMOVE,"REMOVE"]];this.Yl=[[k.LISTS_GET_INDEX_FROM_START,"FROM_START"],[k.LISTS_GET_INDEX_FROM_END,"FROM_END"],[k.LISTS_GET_INDEX_FIRST,"FIRST"],[k.LISTS_GET_INDEX_LAST,"LAST"],[k.LISTS_GET_INDEX_RANDOM,"RANDOM"]];this.Ab=k.LISTS_GET_INDEX_HELPURL;this.bb(k.LISTS_HUE);a=new Bn(a,function(c){c="REMOVE"==c;this.D().Or(c)});N(this.ta(1,"VALUE").sb("Array"),k.LISTS_GET_INDEX_INPUT_IN_LIST);
N(N(P(this),a,"MODE"),"","SPACE");P(this,"AT");k.LISTS_GET_INDEX_TAIL&&N(P(this,"TAIL"),k.LISTS_GET_INDEX_TAIL);this.Xc(!0);this.Sd(!0);this.Dc(!0);var b=this;this.Ma(function(){var c=I(b,"MODE"),d=I(b,"WHERE"),e="";switch(c+" "+d){case "GET FROM_START":case "GET FROM_END":e=k.LISTS_GET_INDEX_TOOLTIP_GET_FROM;break;case "GET FIRST":e=k.LISTS_GET_INDEX_TOOLTIP_GET_FIRST;break;case "GET LAST":e=k.LISTS_GET_INDEX_TOOLTIP_GET_LAST;break;case "GET RANDOM":e=k.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM;break;case "GET_REMOVE FROM_START":case "GET_REMOVE FROM_END":e=
k.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM;break;case "GET_REMOVE FIRST":e=k.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST;break;case "GET_REMOVE LAST":e=k.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST;break;case "GET_REMOVE RANDOM":e=k.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM;break;case "REMOVE FROM_START":case "REMOVE FROM_END":e=k.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM;break;case "REMOVE FIRST":e=k.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST;break;case "REMOVE LAST":e=k.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST;break;case "REMOVE RANDOM":e=
k.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM}if("FROM_START"==d||"FROM_END"==d)e+="  "+("FROM_START"==d?k.LISTS_INDEX_FROM_START_TOOLTIP:k.LISTS_INDEX_FROM_END_TOOLTIP).replace("%1",b.h.options.Ae?"#1":"#0");return e})},qa:function(){var a=G("mutation");a.setAttribute("statement",!this.v);a.setAttribute("at",1==H(this,"AT").type);return a},Ka:function(a){var b="true"==a.getAttribute("statement");this.Or(b);a="false"!=a.getAttribute("at");this.Dc(a)},Or:function(a){a!=!this.v&&(Sd(this,!0),a?(this.Sd(!1),
this.Td(!0),this.Rd(!0)):(this.Td(!1),this.Rd(!1),this.Sd(!0)))},Dc:function(a){this.ab("AT");this.ab("ORDINAL",!0);a?(this.ta(1,"AT").sb("Number"),k.ORDINAL_NUMBER_SUFFIX&&N(P(this,"ORDINAL"),k.ORDINAL_NUMBER_SUFFIX)):P(this,"AT");var b=new Bn(this.Yl,function(c){var d="FROM_START"==c||"FROM_END"==c;if(d!=a){var e=this.D();e.Dc(d);Xh(e,c,"WHERE");return null}});N(H(this,"AT"),b,"WHERE");k.LISTS_GET_INDEX_TAIL&&ci(this,"TAIL",null)}};
J.lists_setIndex={G:function(){var a=[[k.LISTS_SET_INDEX_SET,"SET"],[k.LISTS_SET_INDEX_INSERT,"INSERT"]];this.Yl=[[k.LISTS_GET_INDEX_FROM_START,"FROM_START"],[k.LISTS_GET_INDEX_FROM_END,"FROM_END"],[k.LISTS_GET_INDEX_FIRST,"FIRST"],[k.LISTS_GET_INDEX_LAST,"LAST"],[k.LISTS_GET_INDEX_RANDOM,"RANDOM"]];this.Ab=k.LISTS_SET_INDEX_HELPURL;this.bb(k.LISTS_HUE);N(this.ta(1,"LIST").sb("Array"),k.LISTS_SET_INDEX_INPUT_IN_LIST);N(N(P(this),new Bn(a),"MODE"),"","SPACE");P(this,"AT");N(this.ta(1,"TO"),k.LISTS_SET_INDEX_INPUT_TO);
this.Xc(!0);this.Td(!0);this.Rd(!0);this.Ma(k.LISTS_SET_INDEX_TOOLTIP);this.Dc(!0);var b=this;this.Ma(function(){var c=I(b,"MODE"),d=I(b,"WHERE"),e="";switch(c+" "+d){case "SET FROM_START":case "SET FROM_END":e=k.LISTS_SET_INDEX_TOOLTIP_SET_FROM;break;case "SET FIRST":e=k.LISTS_SET_INDEX_TOOLTIP_SET_FIRST;break;case "SET LAST":e=k.LISTS_SET_INDEX_TOOLTIP_SET_LAST;break;case "SET RANDOM":e=k.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM;break;case "INSERT FROM_START":case "INSERT FROM_END":e=k.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM;
break;case "INSERT FIRST":e=k.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST;break;case "INSERT LAST":e=k.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST;break;case "INSERT RANDOM":e=k.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM}if("FROM_START"==d||"FROM_END"==d)e+="  "+k.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1",b.h.options.Ae?"#1":"#0");return e})},qa:function(){var a=G("mutation");a.setAttribute("at",1==H(this,"AT").type);return a},Ka:function(a){a="false"!=a.getAttribute("at");this.Dc(a)},Dc:function(a){this.ab("AT");
this.ab("ORDINAL",!0);a?(this.ta(1,"AT").sb("Number"),k.ORDINAL_NUMBER_SUFFIX&&N(P(this,"ORDINAL"),k.ORDINAL_NUMBER_SUFFIX)):P(this,"AT");var b=new Bn(this.Yl,function(c){var d="FROM_START"==c||"FROM_END"==c;if(d!=a){var e=this.D();e.Dc(d);Xh(e,c,"WHERE");return null}});ci(this,"AT","TO");H(this,"ORDINAL")&&ci(this,"ORDINAL","TO");N(H(this,"AT"),b,"WHERE")}};
J.lists_getSublist={G:function(){this.WHERE_OPTIONS_1=[[k.LISTS_GET_SUBLIST_START_FROM_START,"FROM_START"],[k.LISTS_GET_SUBLIST_START_FROM_END,"FROM_END"],[k.LISTS_GET_SUBLIST_START_FIRST,"FIRST"]];this.WHERE_OPTIONS_2=[[k.LISTS_GET_SUBLIST_END_FROM_START,"FROM_START"],[k.LISTS_GET_SUBLIST_END_FROM_END,"FROM_END"],[k.LISTS_GET_SUBLIST_END_LAST,"LAST"]];this.Ab=k.LISTS_GET_SUBLIST_HELPURL;this.bb(k.LISTS_HUE);N(this.ta(1,"LIST").sb("Array"),k.LISTS_GET_SUBLIST_INPUT_IN_LIST);P(this,"AT1");P(this,"AT2");
k.LISTS_GET_SUBLIST_TAIL&&N(P(this,"TAIL"),k.LISTS_GET_SUBLIST_TAIL);this.Xc(!0);this.Sd(!0,"Array");this.Dc(1,!0);this.Dc(2,!0);this.Ma(k.LISTS_GET_SUBLIST_TOOLTIP)},qa:function(){var a=G("mutation");a.setAttribute("at1",1==H(this,"AT1").type);a.setAttribute("at2",1==H(this,"AT2").type);return a},Ka:function(a){var b="true"==a.getAttribute("at1");a="true"==a.getAttribute("at2");this.Dc(1,b);this.Dc(2,a)},Dc:function(a,b){this.ab("AT"+a);this.ab("ORDINAL"+a,!0);b?(this.ta(1,"AT"+a).sb("Number"),k.ORDINAL_NUMBER_SUFFIX&&
N(P(this,"ORDINAL"+a),k.ORDINAL_NUMBER_SUFFIX)):P(this,"AT"+a);var c=new Bn(this["WHERE_OPTIONS_"+a],function(d){var e="FROM_START"==d||"FROM_END"==d;if(e!=b){var f=this.D();f.Dc(a,e);Xh(f,d,"WHERE"+a);return null}});N(H(this,"AT"+a),c,"WHERE"+a);1==a&&(ci(this,"AT1","AT2"),H(this,"ORDINAL1")&&ci(this,"ORDINAL1","AT2"));k.LISTS_GET_SUBLIST_TAIL&&ci(this,"TAIL",null)}};
J.lists_sort={G:function(){Zh(this,{message0:"%{BKY_LISTS_SORT_TITLE}",args0:[{type:"field_dropdown",name:"TYPE",options:[["%{BKY_LISTS_SORT_TYPE_NUMERIC}","NUMERIC"],["%{BKY_LISTS_SORT_TYPE_TEXT}","TEXT"],["%{BKY_LISTS_SORT_TYPE_IGNORECASE}","IGNORE_CASE"]]},{type:"field_dropdown",name:"DIRECTION",options:[["%{BKY_LISTS_SORT_ORDER_ASCENDING}","1"],["%{BKY_LISTS_SORT_ORDER_DESCENDING}","-1"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Array",colour:"%{BKY_LISTS_HUE}",tooltip:"%{BKY_LISTS_SORT_TOOLTIP}",
helpUrl:"%{BKY_LISTS_SORT_HELPURL}"})}};gl([{type:"logic_boolean",message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["%{BKY_LOGIC_BOOLEAN_TRUE}","TRUE"],["%{BKY_LOGIC_BOOLEAN_FALSE}","FALSE"]]}],output:"Boolean",colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}",helpUrl:"%{BKY_LOGIC_BOOLEAN_HELPURL}"},{type:"controls_if",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],previousStatement:null,
nextStatement:null,colour:"%{BKY_LOGIC_HUE}",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",mutator:"controls_if_mutator",extensions:["controls_if_tooltip"]},{type:"logic_compare",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["=","EQ"],["\u2260","NEQ"],["\u200f<","LT"],["\u200f\u2264","LTE"],["\u200f>","GT"],["\u200f\u2265","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",colour:"%{BKY_LOGIC_HUE}",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",
extensions:["logic_compare","logic_op_tooltip"]},{type:"logic_operation",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["%{BKY_LOGIC_OPERATION_AND}","AND"],["%{BKY_LOGIC_OPERATION_OR}","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",colour:"%{BKY_LOGIC_HUE}",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}",extensions:["logic_op_tooltip"]},{type:"logic_negate",message0:"%{BKY_LOGIC_NEGATE_TITLE}",args0:[{type:"input_value",
name:"BOOL",check:"Boolean"}],output:"Boolean",colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_LOGIC_NEGATE_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NEGATE_HELPURL}"},{type:"logic_ternary",message0:"%{BKY_LOGIC_TERNARY_CONDITION} %1",args0:[{type:"input_value",name:"IF",check:"Boolean"}],message1:"%{BKY_LOGIC_TERNARY_IF_TRUE} %1",args1:[{type:"input_value",name:"THEN"}],message2:"%{BKY_LOGIC_TERNARY_IF_FALSE} %1",args2:[{type:"input_value",name:"ELSE"}],output:null,colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_LOGIC_TERNARY_TOOLTIP}",
helpUrl:"%{BKY_LOGIC_TERNARY_HELPURL}",extensions:["logic_ternary"]}]);
gl([{type:"controls_if_if",message0:"%{BKY_CONTROLS_IF_IF_TITLE_IF}",nextStatement:null,enableContextMenu:!1,colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_CONTROLS_IF_IF_TOOLTIP}"},{type:"controls_if_elseif",message0:"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}",previousStatement:null,nextStatement:null,enableContextMenu:!1,colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}"},{type:"controls_if_else",message0:"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}",previousStatement:null,enableContextMenu:!1,
colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}"}]);tf("logic_op_tooltip",Cf("OP",{EQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}",NEQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}",LT:"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",LTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}",GT:"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}",GTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}",AND:"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",OR:"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}"}));
wf("controls_if_mutator",{vc:0,ed:0,Cf:!0,qa:function(){if(!this.vc&&!this.ed)return null;var a=G("mutation");this.vc&&a.setAttribute("elseif",this.vc);this.ed&&a.setAttribute("else",1);return a},Ka:function(a){this.vc=parseInt(a.getAttribute("elseif"),10)||0;this.ed=parseInt(a.getAttribute("else"),10)||0;this.fu()},ie:function(a){var b=a.gf("controls_if_if");b.kd();for(var c=b.C,d=1;d<=this.vc;d++){var e=a.gf("controls_if_elseif");e.kd();c.connect(e.H);c=e.C}this.ed&&(a=a.gf("controls_if_else"),
a.kd(),c.connect(a.H));return b},ce:function(a){a=a.C.I();this.ed=this.vc=0;for(var b=[null],c=[null],d=null;a&&!a.Bb();){switch(a.type){case "controls_if_elseif":this.vc++;b.push(a.Yo);c.push(a.Vd);break;case "controls_if_else":this.ed++;d=a.Vd;break;default:throw TypeError("Unknown block type: "+a.type);}a=a.C&&a.C.I()}this.Ec();this.rr(b,c,d)},vl:function(a){a=a.C.I();for(var b=1;a;){switch(a.type){case "controls_if_elseif":var c=H(this,"IF"+b),d=H(this,"DO"+b);a.Yo=c&&c.connection.L;a.Vd=d&&d.connection.L;
b++;break;case "controls_if_else":d=H(this,"ELSE");a.Vd=d&&d.connection.L;break;default:throw TypeError("Unknown block type: "+a.type);}a=a.C&&a.C.I()}},fu:function(){var a=[null],b=[null],c=null;H(this,"ELSE")&&(c=H(this,"ELSE").connection.L);for(var d=1;H(this,"IF"+d);){var e=H(this,"DO"+d);a.push(H(this,"IF"+d).connection.L);b.push(e.connection.L);d++}this.Ec();this.rr(a,b,c)},Ec:function(){H(this,"ELSE")&&this.ab("ELSE");for(var a=1;H(this,"IF"+a);)this.ab("IF"+a),this.ab("DO"+a),a++;for(a=1;a<=
this.vc;a++)N(this.ta(1,"IF"+a).sb("Boolean"),k.CONTROLS_IF_MSG_ELSEIF),N(this.ta(3,"DO"+a),k.CONTROLS_IF_MSG_THEN);this.ed&&N(this.ta(3,"ELSE"),k.CONTROLS_IF_MSG_ELSE)},rr:function(a,b,c){for(var d=1;d<=this.vc;d++)Gn(a[d],this,"IF"+d),Gn(b[d],this,"DO"+d);Gn(c,this,"ELSE")}},null,["controls_if_elseif","controls_if_else"]);
tf("controls_if_tooltip",function(){this.Ma(function(){if(this.vc||this.ed){if(!this.vc&&this.ed)return k.CONTROLS_IF_TOOLTIP_2;if(this.vc&&!this.ed)return k.CONTROLS_IF_TOOLTIP_3;if(this.vc&&this.ed)return k.CONTROLS_IF_TOOLTIP_4}else return k.CONTROLS_IF_TOOLTIP_1;return""}.bind(this))});
var In={onchange:function(a){this.Ti||(this.Ti=[null,null]);var b=di(this,"A"),c=di(this,"B");b&&c&&!Yd(b.v,c.v)&&(z(a.group),a=this.Ti[0],a!==b&&(Sd(b),!a||a.Lc||a.W||H(this,"A").connection.connect(a.v)),b=this.Ti[1],b!==c&&(Sd(c),!b||b.Lc||b.W||H(this,"B").connection.connect(b.v)),this.Ja(),z(!1));this.Ti[0]=di(this,"A");this.Ti[1]=di(this,"B")}};tf("logic_compare",function(){vf(this,In)});
uf("logic_ternary",{nr:null,onchange:function(a){var b=di(this,"THEN"),c=di(this,"ELSE"),d=this.v.L;if((b||c)&&d)for(var e=0;2>e;e++){var f=1==e?b:c;f&&!Yd(f.v,d)&&(z(a.group),d===this.nr?(Sd(this),d.D().Ja()):(Sd(f),f.Ja()),z(!1))}this.nr=d}});function Jn(a,b,c,d,e,f){this.Pi=-Infinity;this.Ni=Infinity;this.uh=0;this.vm=null;Jn.j.constructor.call(this,a,e,f);f||(Kn(this,b),Ln(this,c),Mn(this,d),this.Ua(this.Za()))}F(Jn,rn);Jn.prototype.Cg=0;Jn.N=function(a){return new Jn(a.value,void 0,void 0,void 0,void 0,a)};Jn.prototype.Ng=!0;Jn.prototype.dc=function(a){Jn.j.dc.call(this,a);Kn(this,a.min);Ln(this,a.max);Mn(this,a.precision)};function Kn(a,b){null==b?a.Pi=-Infinity:(b=Number(b),isNaN(b)||(a.Pi=b))}
function Ln(a,b){null==b?a.Ni=Infinity:(b=Number(b),isNaN(b)||(a.Ni=b))}function Mn(a,b){a.uh=Number(b)||0;var c=String(a.uh);-1!=c.indexOf("e")&&(c=a.uh.toLocaleString("en-US",{maximumFractionDigits:20}));var d=c.indexOf(".");a.vm=-1==d?b?0:null:c.length-d-1}
Jn.prototype.ke=function(a){if(null===a)return null;a=String(a);a=a.replace(/O/ig,"0");a=a.replace(/,/g,"");a=a.replace(/infinity/i,"Infinity");a=Number(a||0);if(isNaN(a))return null;a=Math.min(Math.max(a,this.Pi),this.Ni);this.uh&&isFinite(a)&&(a=Math.round(a/this.uh)*this.uh);null!=this.vm&&(a=Number(a.toFixed(this.vm)));return a};Jn.prototype.Zo=function(){var a=Jn.j.Zo.call(this);-Infinity<this.Pi&&si(a,"valuemin",this.Pi);Infinity>this.Ni&&si(a,"valuemax",this.Ni);return a};
v(Sb,"field_number",Jn);function Nn(a,b,c,d,e){this.qh=On;this.dt="string"===typeof a?a:"";this.Gb=new Ma(0,0);e&&this.dc(e);b&&(this.wg=b);e||Pn(this,c,d)}F(Nn,Bn);Nn.N=function(a){var b=nb(a.variable);return new Nn(b,void 0,void 0,void 0,a)};g=Nn.prototype;g.Ng=!0;g.dc=function(a){Nn.j.dc.call(this,a);Pn(this,a.variableTypes,a.defaultType)};g.Xf=function(){if(!this.lc){var a=Zk(this.o.h,null,this.dt,this.ct);this.Ad(a.S())}};g.Mo=function(){return Nn.j.Mo.call(this)&&(!this.F().Ml||"variables_get"!=this.o.type)};
g.Ak=function(a){var b=a.getAttribute("id"),c=a.textContent,d=a.getAttribute("variabletype")||a.getAttribute("variableType")||"";b=Zk(this.o.h,b,c,d);if(null!=d&&d!==b.type)throw Error("Serialized variable type with id '"+b.S()+"' had type "+b.type+", and does not match variable field that references it: "+wd(a)+".");this.Ua(b.S())};g.Hr=function(a){this.Xf();a.id=this.lc.S();a.textContent=this.lc.name;this.lc.type&&a.setAttribute("variabletype",this.lc.type);return a};
g.Ko=function(a){if(a.W)throw Error("Variable fields are not allowed to exist on shadow blocks.");Nn.j.Ko.call(this,a)};g.Za=function(){return this.lc?this.lc.S():null};g.ic=function(){return this.lc?this.lc.name:""};g.Oc=function(){return this.lc};g.eq=function(){return this.lc?this.wg:null};
g.ke=function(a){if(null===a)return null;var b=$k(this.o.h,a);if(!b)return console.warn("Variable id doesn't point to a real variable! ID was "+a),null;b=b.type;var c;a:if(c=Qn(this)){for(var d=0;d<c.length;d++)if(b==c[d]){c=!0;break a}c=!1}else c=!0;return c?a:(console.warn("Variable type doesn't match this field!  Type was "+b),null)};g.Ad=function(a){this.lc=$k(this.o.h,a);Nn.j.Ad.call(this,a)};
function Qn(a){var b=a.Eu;if(null===b&&a.o&&a.o.h)return a.o.h.dn();b=b||[""];if(0==b.length)throw a=a.ic(),Error("'variableTypes' of field variable "+a+" was an empty list");return b}
function Pn(a,b,c){c=c||"";if(null==b||void 0==b)b=null;else if(Array.isArray(b)){for(var d=!1,e=0;e<b.length;e++)b[e]==c&&(d=!0);if(!d)throw Error("Invalid default type '"+c+"' in the definition of a FieldVariable");}else throw Error("'variableTypes' was not an array in the definition of a FieldVariable");a.ct=c;a.Eu=b}
function On(){if(!this.lc)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");var a=this.ic(),b=[];if(this.o&&this.o.h)for(var c=Qn(this),d=0;d<c.length;d++)b=b.concat(this.o.h.zi(c[d]));b.sort(Qk);c=[];for(d=0;d<b.length;d++)c[d]=[b[d].name,b[d].S()];c.push([k.RENAME_VARIABLE,"RENAME_VARIABLE_ID"]);k.DELETE_VARIABLE&&c.push([k.DELETE_VARIABLE.replace("%1",a),"DELETE_VARIABLE_ID"]);return c}
g.Zq=function(a){a=a.Za();if(this.o&&this.o.h){if("RENAME_VARIABLE_ID"==a){Wk(this.o.h,this.lc);return}if("DELETE_VARIABLE_ID"==a){this.o.h.je(this.lc.S());return}}this.Ua(a)};g.Xi=function(){return!0};v(Sb,"field_variable",Nn);gl([{type:"controls_repeat_ext",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"input_value",name:"TIMES",check:"Number"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,colour:"%{BKY_LOOPS_HUE}",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_repeat",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"field_number",name:"TIMES",value:10,min:0,precision:1}],
message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,colour:"%{BKY_LOOPS_HUE}",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_whileUntil",message0:"%1 %2",args0:[{type:"field_dropdown",name:"MODE",options:[["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}","WHILE"],["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}","UNTIL"]]},{type:"input_value",name:"BOOL",check:"Boolean"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",
args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,colour:"%{BKY_LOOPS_HUE}",helpUrl:"%{BKY_CONTROLS_WHILEUNTIL_HELPURL}",extensions:["controls_whileUntil_tooltip"]},{type:"controls_for",message0:"%{BKY_CONTROLS_FOR_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"input_value",name:"BY",check:"Number",align:"RIGHT"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",
args1:[{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:"%{BKY_LOOPS_HUE}",helpUrl:"%{BKY_CONTROLS_FOR_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_for_tooltip"]},{type:"controls_forEach",message0:"%{BKY_CONTROLS_FOREACH_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"LIST",check:"Array"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,
nextStatement:null,colour:"%{BKY_LOOPS_HUE}",helpUrl:"%{BKY_CONTROLS_FOREACH_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_forEach_tooltip"]},{type:"controls_flow_statements",message0:"%1",args0:[{type:"field_dropdown",name:"FLOW",options:[["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}","BREAK"],["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}","CONTINUE"]]}],previousStatement:null,colour:"%{BKY_LOOPS_HUE}",helpUrl:"%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}",extensions:["controls_flow_tooltip",
"controls_flow_in_loop_check"]}]);tf("controls_whileUntil_tooltip",Cf("MODE",{WHILE:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}",UNTIL:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}"}));tf("controls_flow_tooltip",Cf("FLOW",{BREAK:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}",CONTINUE:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}"}));
uf("contextMenu_newGetVariableBlock",{ge:function(a){if(!this.Ga){var b=Jd(this,"VAR").Oc(),c=b.name;if(!this.isCollapsed()&&null!=c){var d={enabled:!0};d.text=k.VARIABLES_SET_CREATE_GET.replace("%1",c);b=Tk(b);c=G("block");c.setAttribute("type","variables_get");c.appendChild(b);d.ka=S.ak(this,c);a.push(d)}}}});tf("controls_for_tooltip",Gf("%{BKY_CONTROLS_FOR_TOOLTIP}"));tf("controls_forEach_tooltip",Gf("%{BKY_CONTROLS_FOREACH_TOOLTIP}"));
var Rn={Ds:["controls_repeat","controls_repeat_ext","controls_forEach","controls_for","controls_whileUntil"],Cf:!0,cq:function(a){do{if(-1!=Rn.Ds.indexOf(a.type))return a;a=Wh(a)}while(a);return null},onchange:function(a){if(this.h.$a&&!this.h.$a()&&"move"==a.type){var b=Rn.cq(this);this.zh(b?null:k.CONTROLS_FLOW_STATEMENTS_WARNING);if(!this.Ga){var c=bc;z(a.group);this.Fb(b);z(c)}}}};uf("controls_flow_in_loop_check",Rn);gl([{type:"math_number",message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",helpUrl:"%{BKY_MATH_NUMBER_HELPURL}",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_NUMBER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"math_arithmetic",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ADDITION_SYMBOL}","ADD"],["%{BKY_MATH_SUBTRACTION_SYMBOL}","MINUS"],["%{BKY_MATH_MULTIPLICATION_SYMBOL}",
"MULTIPLY"],["%{BKY_MATH_DIVISION_SYMBOL}","DIVIDE"],["%{BKY_MATH_POWER_SYMBOL}","POWER"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",colour:"%{BKY_MATH_HUE}",helpUrl:"%{BKY_MATH_ARITHMETIC_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_single",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_SINGLE_OP_ROOT}","ROOT"],["%{BKY_MATH_SINGLE_OP_ABSOLUTE}","ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]]},
{type:"input_value",name:"NUM",check:"Number"}],output:"Number",colour:"%{BKY_MATH_HUE}",helpUrl:"%{BKY_MATH_SINGLE_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_trig",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_TRIG_SIN}","SIN"],["%{BKY_MATH_TRIG_COS}","COS"],["%{BKY_MATH_TRIG_TAN}","TAN"],["%{BKY_MATH_TRIG_ASIN}","ASIN"],["%{BKY_MATH_TRIG_ACOS}","ACOS"],["%{BKY_MATH_TRIG_ATAN}","ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",colour:"%{BKY_MATH_HUE}",
helpUrl:"%{BKY_MATH_TRIG_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_constant",message0:"%1",args0:[{type:"field_dropdown",name:"CONSTANT",options:[["\u03c0","PI"],["e","E"],["\u03c6","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt(\u00bd)","SQRT1_2"],["\u221e","INFINITY"]]}],output:"Number",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_CONSTANT_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTANT_HELPURL}"},{type:"math_number_property",message0:"%1 %2",args0:[{type:"input_value",name:"NUMBER_TO_CHECK",check:"Number"},
{type:"field_dropdown",name:"PROPERTY",options:[["%{BKY_MATH_IS_EVEN}","EVEN"],["%{BKY_MATH_IS_ODD}","ODD"],["%{BKY_MATH_IS_PRIME}","PRIME"],["%{BKY_MATH_IS_WHOLE}","WHOLE"],["%{BKY_MATH_IS_POSITIVE}","POSITIVE"],["%{BKY_MATH_IS_NEGATIVE}","NEGATIVE"],["%{BKY_MATH_IS_DIVISIBLE_BY}","DIVISIBLE_BY"]]}],inputsInline:!0,output:"Boolean",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_IS_TOOLTIP}",mutator:"math_is_divisibleby_mutator"},{type:"math_change",message0:"%{BKY_MATH_CHANGE_TITLE}",args0:[{type:"field_variable",
name:"VAR",variable:"%{BKY_MATH_CHANGE_TITLE_ITEM}"},{type:"input_value",name:"DELTA",check:"Number"}],previousStatement:null,nextStatement:null,colour:"%{BKY_VARIABLES_HUE}",helpUrl:"%{BKY_MATH_CHANGE_HELPURL}",extensions:["math_change_tooltip"]},{type:"math_round",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ROUND_OPERATOR_ROUND}","ROUND"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}","ROUNDUP"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}","ROUNDDOWN"]]},{type:"input_value",
name:"NUM",check:"Number"}],output:"Number",colour:"%{BKY_MATH_HUE}",helpUrl:"%{BKY_MATH_ROUND_HELPURL}",tooltip:"%{BKY_MATH_ROUND_TOOLTIP}"},{type:"math_modulo",message0:"%{BKY_MATH_MODULO_TITLE}",args0:[{type:"input_value",name:"DIVIDEND",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],inputsInline:!0,output:"Number",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_MODULO_TOOLTIP}",helpUrl:"%{BKY_MATH_MODULO_HELPURL}"},{type:"math_constrain",message0:"%{BKY_MATH_CONSTRAIN_TITLE}",
args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_CONSTRAIN_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTRAIN_HELPURL}"},{type:"math_random_int",message0:"%{BKY_MATH_RANDOM_INT_TITLE}",args0:[{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,output:"Number",colour:"%{BKY_MATH_HUE}",
tooltip:"%{BKY_MATH_RANDOM_INT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_INT_HELPURL}"},{type:"math_random_float",message0:"%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}",output:"Number",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_FLOAT_HELPURL}"},{type:"math_atan2",message0:"%{BKY_MATH_ATAN2_TITLE}",args0:[{type:"input_value",name:"X",check:"Number"},{type:"input_value",name:"Y",check:"Number"}],inputsInline:!0,output:"Number",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_ATAN2_TOOLTIP}",
helpUrl:"%{BKY_MATH_ATAN2_HELPURL}"}]);
tf("math_op_tooltip",Cf("OP",{ADD:"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}",MINUS:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}",MULTIPLY:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}",DIVIDE:"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}",POWER:"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}",ROOT:"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}",ABS:"%{BKY_MATH_SINGLE_TOOLTIP_ABS}",NEG:"%{BKY_MATH_SINGLE_TOOLTIP_NEG}",LN:"%{BKY_MATH_SINGLE_TOOLTIP_LN}",LOG10:"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}",EXP:"%{BKY_MATH_SINGLE_TOOLTIP_EXP}",POW10:"%{BKY_MATH_SINGLE_TOOLTIP_POW10}",
SIN:"%{BKY_MATH_TRIG_TOOLTIP_SIN}",COS:"%{BKY_MATH_TRIG_TOOLTIP_COS}",TAN:"%{BKY_MATH_TRIG_TOOLTIP_TAN}",ASIN:"%{BKY_MATH_TRIG_TOOLTIP_ASIN}",ACOS:"%{BKY_MATH_TRIG_TOOLTIP_ACOS}",ATAN:"%{BKY_MATH_TRIG_TOOLTIP_ATAN}",SUM:"%{BKY_MATH_ONLIST_TOOLTIP_SUM}",MIN:"%{BKY_MATH_ONLIST_TOOLTIP_MIN}",MAX:"%{BKY_MATH_ONLIST_TOOLTIP_MAX}",AVERAGE:"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}",MEDIAN:"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}",MODE:"%{BKY_MATH_ONLIST_TOOLTIP_MODE}",STD_DEV:"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}",RANDOM:"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}"}));
wf("math_is_divisibleby_mutator",{qa:function(){var a=G("mutation"),b="DIVISIBLE_BY"==I(this,"PROPERTY");a.setAttribute("divisor_input",b);return a},Ka:function(a){a="true"==a.getAttribute("divisor_input");this.Ec(a)},Ec:function(a){var b=H(this,"DIVISOR");a?b||this.ta(1,"DIVISOR").sb("Number"):b&&this.ab("DIVISOR")}},function(){Kh(Jd(this,"PROPERTY"),function(a){a="DIVISIBLE_BY"==a;this.D().Ec(a)})});tf("math_change_tooltip",Gf("%{BKY_MATH_CHANGE_TOOLTIP}"));
wf("math_modes_of_list_mutator",{Pr:function(a){"MODE"==a?this.v.sb("Array"):this.v.sb("Number")},qa:function(){var a=G("mutation");a.setAttribute("op",I(this,"OP"));return a},Ka:function(a){this.Pr(a.getAttribute("op"))}},function(){Kh(Jd(this,"OP"),function(a){this.Pr(a)}.bind(this))});function Sn(a,b,c){this.Fp=null;Sn.j.constructor.call(this,a,b,c)}F(Sn,Gh);Sn.prototype.Cg=!1;Sn.N=function(a){return new Sn(a.checked,void 0,a)};g=Sn.prototype;g.Ng=!0;g.Ll="default";g.dc=function(a){Sn.j.dc.call(this,a);a.checkCharacter&&(this.Fp=a.checkCharacter)};g.Yf=function(){Sn.j.Yf.call(this);C(this.kb,"blocklyCheckbox");this.kb.style.display=this.sa?"block":"none"};g.uf=function(){this.Ie&&(this.Ie.nodeValue=this.Ek());this.Wo(this.F().os)};g.Ek=function(){return this.Fp||"\u2713"};
g.qd=function(){this.Ua(!this.sa)};g.ke=function(a){return!0===a||"TRUE"===a?"TRUE":!1===a||"FALSE"===a?"FALSE":null};g.Ad=function(a){this.sa=Tn(a);this.kb&&(this.kb.style.display=this.sa?"block":"none")};g.Za=function(){return this.sa?"TRUE":"FALSE"};g.ic=function(){return String(Tn(this.sa))};function Tn(a){return"string"==typeof a?"TRUE"==a:!!a}v(Sb,"field_checkbox",Sn);J.du={};
J.procedures_defnoreturn={G:function(){var a=Dk("",this);a=new rn(a,Fk);tn(a);N(N(N(P(this),k.PROCEDURES_DEFNORETURN_TITLE),a,"NAME"),"","PARAMS");this.gj(new zf(["procedures_mutatorarg"]));(this.h.options.ai||this.h.options.Sa&&this.h.options.Sa.options.ai)&&k.PROCEDURES_DEFNORETURN_COMMENT&&this.xf(k.PROCEDURES_DEFNORETURN_COMMENT);this.bb(k.PROCEDURES_HUE);this.Ma(k.PROCEDURES_DEFNORETURN_TOOLTIP);this.Ab=k.PROCEDURES_DEFNORETURN_HELPURL;this.$=[];this.Wa=[];this.Af(!0);this.Vd=null},Af:function(a){this.Gk!==a&&
(a?(N(this.ta(3,"STACK"),k.PROCEDURES_DEFNORETURN_DO),H(this,"RETURN")&&ci(this,"STACK","RETURN")):this.ab("STACK",!0),this.Gk=a)},zj:function(){var a="";this.$.length&&(a=k.PROCEDURES_BEFORE_PARAMS+" "+this.$.join(", "));w++;try{Xh(this,a,"PARAMS")}finally{w--}},qa:function(a){var b=G("mutation");a&&b.setAttribute("name",I(this,"NAME"));for(var c=0;c<this.Wa.length;c++){var d=G("arg"),e=this.Wa[c];d.setAttribute("name",e.name);d.setAttribute("varid",e.S());a&&this.mo&&d.setAttribute("paramId",this.mo[c]);
b.appendChild(d)}this.Gk||b.setAttribute("statements","false");return b},Ka:function(a){this.$=[];this.Wa=[];for(var b=0,c;c=a.childNodes[b];b++)if("arg"==c.nodeName.toLowerCase()){var d=c.getAttribute("name");c=c.getAttribute("varid")||c.getAttribute("varId");this.$.push(d);c=Zk(this.h,c,d,"");null!=c?this.Wa.push(c):console.log("Failed to create a variable with name "+d+", ignoring.")}this.zj();Jk(this);this.Af("false"!==a.getAttribute("statements"))},ie:function(a){var b=G("block");b.setAttribute("type",
"procedures_mutatorcontainer");var c=G("statement");c.setAttribute("name","STACK");b.appendChild(c);for(var d=0;d<this.$.length;d++){var e=G("block");e.setAttribute("type","procedures_mutatorarg");var f=G("field");f.setAttribute("name","NAME");f.appendChild(document.createTextNode(this.$[d]));e.appendChild(f);f=G("next");e.appendChild(f);c.appendChild(e);c=f}a=zd(b,a);"procedures_defreturn"==this.type?Xh(a,this.Gk,"STATEMENTS"):a.ab("STATEMENT_INPUT");Jk(this);return a},ce:function(a){this.$=[];this.mo=
[];this.Wa=[];for(var b=di(a,"STACK");b&&!b.Bb();){var c=I(b,"NAME");this.$.push(c);this.Wa.push(this.h.Oc(c,""));this.mo.push(b.id);b=b.C&&b.C.I()}this.zj();Jk(this);a=I(a,"STATEMENTS");if(null!==a&&(a="TRUE"==a,this.Gk!=a))if(a)this.Af(!0),Gn(this.Vd,this,"STACK"),this.Vd=null;else{a=H(this,"STACK").connection;if(this.Vd=a.L)a=a.I(),Sd(a),a.Ja();this.Af(!1)}},Xe:function(){return[I(this,"NAME"),this.$,!1]},pe:function(){return this.$},oe:function(){return this.Wa},rl:function(a,b){var c=this.h.jd(a);
if(""==c.type){c=c.name;b=this.h.jd(b);for(var d=!1,e=0;e<this.Wa.length;e++)this.Wa[e].S()==a&&(this.$[e]=b.name,this.Wa[e]=b,d=!0);d&&(this.tk(c,b.name),Jk(this))}},Jl:function(a){for(var b=a.name,c=!1,d=0;d<this.Wa.length;d++)if(this.Wa[d].S()==a.S()){var e=this.$[d];this.$[d]=b;c=!0}c&&(this.tk(e,b),Jk(this))},tk:function(a,b){this.zj();if(this.Db&&this.Db.isVisible())for(var c=oe(this.Db.g),d=0,e;e=c[d];d++)"procedures_mutatorarg"==e.type&&ue(a,I(e,"NAME"))&&Xh(e,b,"NAME")},ge:function(a){if(!this.Ga){var b=
{enabled:!0},c=I(this,"NAME");b.text=k.PROCEDURES_CREATE_DO.replace("%1",c);var d=G("mutation");d.setAttribute("name",c);for(c=0;c<this.$.length;c++){var e=G("arg");e.setAttribute("name",this.$[c]);d.appendChild(e)}c=G("block");c.setAttribute("type",this.Cp);c.appendChild(d);b.ka=S.ak(this,c);a.push(b);if(!this.isCollapsed())for(c=0;c<this.Wa.length;c++)b={enabled:!0},d=this.Wa[c],b.text=k.VARIABLES_SET_CREATE_GET.replace("%1",d.name),d=Tk(d),e=G("block"),e.setAttribute("type","variables_get"),e.appendChild(d),
b.ka=S.ak(this,e),a.push(b)}},Cp:"procedures_callnoreturn"};
J.procedures_defreturn={G:function(){var a=Dk("",this);a=new rn(a,Fk);tn(a);N(N(N(P(this),k.PROCEDURES_DEFRETURN_TITLE),a,"NAME"),"","PARAMS");N(Uh(this.ta(1,"RETURN"),1),k.PROCEDURES_DEFRETURN_RETURN);this.gj(new zf(["procedures_mutatorarg"]));(this.h.options.ai||this.h.options.Sa&&this.h.options.Sa.options.ai)&&k.PROCEDURES_DEFRETURN_COMMENT&&this.xf(k.PROCEDURES_DEFRETURN_COMMENT);this.bb(k.PROCEDURES_HUE);this.Ma(k.PROCEDURES_DEFRETURN_TOOLTIP);this.Ab=k.PROCEDURES_DEFRETURN_HELPURL;this.$=[];
this.Wa=[];this.Af(!0);this.Vd=null},Af:J.procedures_defnoreturn.Af,zj:J.procedures_defnoreturn.zj,qa:J.procedures_defnoreturn.qa,Ka:J.procedures_defnoreturn.Ka,ie:J.procedures_defnoreturn.ie,ce:J.procedures_defnoreturn.ce,Xe:function(){return[I(this,"NAME"),this.$,!0]},pe:J.procedures_defnoreturn.pe,oe:J.procedures_defnoreturn.oe,rl:J.procedures_defnoreturn.rl,Jl:J.procedures_defnoreturn.Jl,tk:J.procedures_defnoreturn.tk,ge:J.procedures_defnoreturn.ge,Cp:"procedures_callreturn"};
J.procedures_mutatorcontainer={G:function(){N(P(this),k.PROCEDURES_MUTATORCONTAINER_TITLE);this.ta(3,"STACK");N(N(P(this,"STATEMENT_INPUT"),k.PROCEDURES_ALLOW_STATEMENTS),new Sn("TRUE"),"STATEMENTS");this.bb(k.PROCEDURES_HUE);this.Ma(k.PROCEDURES_MUTATORCONTAINER_TOOLTIP);this.contextMenu=!1}};
J.procedures_mutatorarg={G:function(){var a=new rn("x",this.wg);a.Ot=a.qd;a.qd=function(){this.ji=[];this.Ot()};N(N(P(this),k.PROCEDURES_MUTATORARG_TITLE),a,"NAME");this.Td(!0);this.Rd(!0);this.bb(k.PROCEDURES_HUE);this.Ma(k.PROCEDURES_MUTATORARG_TOOLTIP);this.contextMenu=!1;a.Wn=this.et;a.ji=[];a.Wn("x")},wg:function(a){var b=this.D(),c=Hn(b.h);a=a.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,"");if(!a)return null;for(var d=oe(b.h.V||b.h),e=a.toLowerCase(),f=0;f<d.length;f++)if(d[f].id!=this.D().id){var h=
I(d[f],"NAME");if(h&&h.toLowerCase()==e)return null}if(b.Ga)return a;(b=c.Oc(a,""))&&b.name!=a&&c.tf(b.S(),a);b||(b=c.bd(a,""))&&this.ji&&this.ji.push(b);return a},et:function(a){var b=Hn(this.D().h);if(b)for(var c=0;c<this.ji.length;c++){var d=this.ji[c];d.name!=a&&b.je(d.S())}}};
J.procedures_callnoreturn={G:function(){N(P(this,"TOPROW"),"","NAME");this.Td(!0);this.Rd(!0);this.bb(k.PROCEDURES_HUE);this.Ab=k.PROCEDURES_CALLNORETURN_HELPURL;this.$=[];this.Wa=[];this.ng={};this.Od=null;this.vo=!0},xc:function(){return I(this,"NAME")},wh:function(a,b){ue(a,this.xc())&&(Xh(this,b,"NAME"),this.Ma((this.v?k.PROCEDURES_CALLRETURN_TOOLTIP:k.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",b)))},Io:function(a,b){var c=Kk(this.xc(),this.h),d=c&&c.Db&&c.Db.isVisible();d||(this.ng={},this.Od=
null);if(b)if(a.join("\n")==this.$.join("\n"))this.Od=b;else{if(b.length!=a.length)throw RangeError("paramNames and paramIds must be the same length.");this.wf(!1);this.Od||(this.ng={},this.Od=[]);c=this.K;this.K=!1;for(var e=0;e<this.$.length;e++){var f=H(this,"ARG"+e);f&&(f=f.connection.L,this.ng[this.Od[e]]=f,d&&f&&-1==b.indexOf(this.Od[e])&&(f.disconnect(),f.D().Ja()))}this.$=[].concat(a);this.Wa=[];for(e=0;e<this.$.length;e++)a=Zk(this.h,null,this.$[e],""),this.Wa.push(a);this.Ec();if(this.Od=
b)for(e=0;e<this.$.length;e++)b=this.Od[e],b in this.ng&&(f=this.ng[b],Gn(f,this,"ARG"+e)||delete this.ng[b]);(this.K=c)&&this.P()}},Ec:function(){for(var a=0;a<this.$.length;a++){var b=Jd(this,"ARGNAME"+a);if(b){w++;try{b.Ua(this.$[a])}finally{w--}}else b=new Ph(this.$[a]),N(Uh(this.ta(1,"ARG"+a),1),b,"ARGNAME"+a).G()}for(;H(this,"ARG"+a);)this.ab("ARG"+a),a++;if(a=H(this,"TOPROW"))if(this.$.length)Jd(this,"WITH")||(N(a,k.PROCEDURES_CALL_BEFORE_PARAMS,"WITH"),a.G());else if(Jd(this,"WITH"))a:{b=
0;for(var c;c=a.ba[b];b++)if("WITH"===c.name){c.m();a.ba.splice(b,1);a.o.K&&(a.o=a.o,a.o.P(),a.o.Ja());break a}throw Error('Field "WITH" not found.');}},qa:function(){var a=G("mutation");a.setAttribute("name",this.xc());for(var b=0;b<this.$.length;b++){var c=G("arg");c.setAttribute("name",this.$[b]);a.appendChild(c)}return a},Ka:function(a){var b=a.getAttribute("name");this.wh(this.xc(),b);b=[];for(var c=[],d=0,e;e=a.childNodes[d];d++)"arg"==e.nodeName.toLowerCase()&&(b.push(e.getAttribute("name")),
c.push(e.getAttribute("paramId")));this.Io(b,c)},pe:function(){return this.$},oe:function(){return this.Wa},onchange:function(a){if(this.h&&!this.h.ld&&a.Eb)if("create"==a.type&&-1!=a.se.indexOf(this.id)){var b=this.xc();b=Kk(b,this.h);!b||b.type==this.wm&&JSON.stringify(b.pe())==JSON.stringify(this.$)||(b=null);if(!b){z(a.group);a=G("xml");b=G("block");b.setAttribute("type",this.wm);var c=this.ea(),d=c.y+56;b.setAttribute("x",c.x+28*(this.s?-1:1));b.setAttribute("y",d);c=this.qa();b.appendChild(c);
c=G("field");c.setAttribute("name","NAME");d=this.xc();d||(d=Dk("",this),this.wh("",d));c.appendChild(document.createTextNode(d));b.appendChild(c);a.appendChild(b);yd(a,this.h);z(!1)}}else"delete"==a.type?(b=this.xc(),b=Kk(b,this.h),b||(z(a.group),this.m(!0),z(!1))):"change"==a.type&&"disabled"==a.element&&(b=this.xc(),(b=Kk(b,this.h))&&b.id==a.ga&&((b=bc)&&console.log("Saw an existing group while responding to a definition change"),z(a.group),a.newValue?(this.vo=this.isEnabled(),this.Fb(!1)):this.Fb(this.vo),
z(b)))},ge:function(a){if(this.h.ib()){var b={enabled:!0};b.text=k.PROCEDURES_HIGHLIGHT_DEF;var c=this.xc(),d=this.h;b.ka=function(){var e=Kk(c,d);if(e){var f=e.id;if(d.ib()){if(f=f?d.hc(f):null){var h=f.ea(),l=Cg(f),m=d.scale;f=(h.x+(d.s?-1:1)*l.width/2)*m;h=(h.y+l.height/2)*m;l=d.Vb();d.scroll(-(f-l.pb/2),-(h-l.ob/2))}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.");e.select()}};a.push(b)}},wm:"procedures_defnoreturn"};
J.procedures_callreturn={G:function(){N(P(this,"TOPROW"),"","NAME");this.Sd(!0);this.bb(k.PROCEDURES_HUE);this.Ab=k.PROCEDURES_CALLRETURN_HELPURL;this.$=[];this.Wa=[];this.ng={};this.Od=null;this.vo=!0},xc:J.procedures_callnoreturn.xc,wh:J.procedures_callnoreturn.wh,Io:J.procedures_callnoreturn.Io,Ec:J.procedures_callnoreturn.Ec,qa:J.procedures_callnoreturn.qa,Ka:J.procedures_callnoreturn.Ka,pe:J.procedures_callnoreturn.pe,oe:J.procedures_callnoreturn.oe,onchange:J.procedures_callnoreturn.onchange,
ge:J.procedures_callnoreturn.ge,wm:"procedures_defreturn"};
J.procedures_ifreturn={G:function(){N(this.ta(1,"CONDITION").sb("Boolean"),k.CONTROLS_IF_MSG_IF);N(this.ta(1,"VALUE"),k.PROCEDURES_DEFRETURN_RETURN);this.Xc(!0);this.Td(!0);this.Rd(!0);this.bb(k.PROCEDURES_HUE);this.Ma(k.PROCEDURES_IFRETURN_TOOLTIP);this.Ab=k.PROCEDURES_IFRETURN_HELPURL;this.af=!0},qa:function(){var a=G("mutation");a.setAttribute("value",Number(this.af));return a},Ka:function(a){this.af=1==a.getAttribute("value");this.af||(this.ab("VALUE"),N(P(this,"VALUE"),k.PROCEDURES_DEFRETURN_RETURN))},
onchange:function(){if(this.h.$a&&!this.h.$a()){var a=!1,b=this;do{if(-1!=this.vs.indexOf(b.type)){a=!0;break}b=Wh(b)}while(b);a?("procedures_defnoreturn"==b.type&&this.af?(this.ab("VALUE"),N(P(this,"VALUE"),k.PROCEDURES_DEFRETURN_RETURN),this.af=!1):"procedures_defreturn"!=b.type||this.af||(this.ab("VALUE"),N(this.ta(1,"VALUE"),k.PROCEDURES_DEFRETURN_RETURN),this.af=!0),this.zh(null),this.Ga||this.Fb(!0)):(this.zh(k.PROCEDURES_IFRETURN_WARNING),this.Ga||Yh(this)||this.Fb(!1))}},vs:["procedures_defnoreturn",
"procedures_defreturn"]};gl([{type:"variables_get",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,colour:"%{BKY_VARIABLES_HUE}",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableSetterGetter"]},{type:"variables_set",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,
colour:"%{BKY_VARIABLES_HUE}",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableSetterGetter"]}]);function Un(a){return function(){var b=a.h,c=Jd(a,"VAR").Oc();Wk(b,c)}}function Vn(a){return function(){var b=a.h,c=Jd(a,"VAR").Oc();b.je(c.S());Vj(b)}}
uf("contextMenu_variableSetterGetter",{ge:function(a){if(!this.Ga){if("variables_get"==this.type)var b="variables_set",c=k.VARIABLES_GET_CREATE_SET;else b="variables_get",c=k.VARIABLES_SET_CREATE_GET;var d={enabled:0<xe(this.h)},e=Jd(this,"VAR").ic();d.text=c.replace("%1",e);c=G("field");c.setAttribute("name","VAR");c.appendChild(document.createTextNode(e));e=G("block");e.setAttribute("type",b);e.appendChild(c);d.ka=S.ak(this,e);a.push(d)}else if("variables_get"==this.type||"variables_get_reporter"==
this.type)b={text:k.RENAME_VARIABLE,enabled:!0,ka:Un(this)},e=Jd(this,"VAR").ic(),d={text:k.DELETE_VARIABLE.replace("%1",e),enabled:!0,ka:Vn(this)},a.unshift(b),a.unshift(d)}});function Wn(a,b,c,d,e,f,h){if(!a)throw Error("Src value of an image field is required");a=nb(a);c=Number(nb(c));b=Number(nb(b));if(isNaN(c)||isNaN(b))throw Error("Height and width values of an image field must cast to numbers.");if(0>=c||0>=b)throw Error("Height and width values of an image field must be greater than 0.");this.ui=!1;this.Xj="";Wn.j.constructor.call(this,a,null,h);h||(this.ui=!!f,this.Xj=nb(d)||"");this.Gb=new Ma(b,c+Xn);this.Ft=c;this.$d=null;"function"==typeof e&&(this.$d=e);this.Fa=
null}F(Wn,Gh);Wn.prototype.Cg="";Wn.N=function(a){return new Wn(a.src,a.width,a.height,void 0,void 0,void 0,a)};var Xn=1;g=Wn.prototype;g.Jh=!1;g.Jd=!1;g.dc=function(a){Wn.j.dc.call(this,a);this.ui=!!a.flipRtl;this.Xj=nb(a.alt)||""};g.Yf=function(){this.Fa=B(wc,{height:this.Ft+"px",width:this.Gb.width+"px",alt:this.Xj},this.fc);this.Fa.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.sa);this.$d&&(this.Fa.style.cursor="pointer")};g.Wo=function(){};
g.ke=function(a){return"string"!=typeof a?null:a};g.Ad=function(a){this.sa=a;this.Fa&&this.Fa.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",String(this.sa))};g.aq=function(){return this.ui};g.qd=function(){this.$d&&this.$d(this)};g.eh=function(){return this.Xj};v(Sb,"field_image",Wn);R.Eq={};R.lists_create_empty=function(){return["[]",R.Kf]};R.lists_create_with=function(a){for(var b=Array(a.md),c=0;c<a.md;c++)b[c]=Q(R,a,"ADD"+c,R.Va)||"null";return["["+b.join(", ")+"]",R.Kf]};R.lists_repeat=function(a){var b=ki("listsRepeat",["function "+R.Hf+"(value, n) {","  var array = [];","  for (var i = 0; i < n; i++) {","    array[i] = value;","  }","  return array;","}"]),c=Q(R,a,"ITEM",R.Va)||"null";a=Q(R,a,"NUM",R.Va)||"0";return[b+"("+c+", "+a+")",R.Na]};
R.lists_length=function(a){return[(Q(R,a,"VALUE",R.gb)||"[]")+".length",R.gb]};R.lists_isEmpty=function(a){return["!"+(Q(R,a,"VALUE",R.gb)||"[]")+".length",R.Ph]};R.lists_indexOf=function(a){var b="FIRST"==I(a,"END")?"indexOf":"lastIndexOf",c=Q(R,a,"FIND",R.Va)||"''";b=(Q(R,a,"VALUE",R.gb)||"[]")+"."+b+"("+c+")";return a.h.options.Ae?[b+" + 1",R.If]:[b,R.Na]};
R.lists_getIndex=function(a){var b=I(a,"MODE")||"GET",c=I(a,"WHERE")||"FROM_START",d=Q(R,a,"VALUE","RANDOM"==c?R.Va:R.gb)||"[]";switch(c){case "FIRST":if("GET"==b)return[d+"[0]",R.gb];if("GET_REMOVE"==b)return[d+".shift()",R.gb];if("REMOVE"==b)return d+".shift();\n";break;case "LAST":if("GET"==b)return[d+".slice(-1)[0]",R.gb];if("GET_REMOVE"==b)return[d+".pop()",R.gb];if("REMOVE"==b)return d+".pop();\n";break;case "FROM_START":a=R.Dd(a,"AT");if("GET"==b)return[d+"["+a+"]",R.gb];if("GET_REMOVE"==b)return[d+
".splice("+a+", 1)[0]",R.Na];if("REMOVE"==b)return d+".splice("+a+", 1);\n";break;case "FROM_END":a=R.Dd(a,"AT",1,!0);if("GET"==b)return[d+".slice("+a+")[0]",R.Na];if("GET_REMOVE"==b)return[d+".splice("+a+", 1)[0]",R.Na];if("REMOVE"==b)return d+".splice("+a+", 1);";break;case "RANDOM":d=ki("listsGetRandomItem",["function "+R.Hf+"(list, remove) {","  var x = Math.floor(Math.random() * list.length);","  if (remove) {","    return list.splice(x, 1)[0];","  } else {","    return list[x];","  }","}"])+
"("+d+", "+("GET"!=b)+")";if("GET"==b||"GET_REMOVE"==b)return[d,R.Na];if("REMOVE"==b)return d+";\n"}throw Error("Unhandled combination (lists_getIndex).");};
R.lists_setIndex=function(a){function b(){if(c.match(/^\w+$/))return"";var h=li(R.za,"tmpList","VARIABLE"),l="var "+h+" = "+c+";\n";c=h;return l}var c=Q(R,a,"LIST",R.gb)||"[]",d=I(a,"MODE")||"GET",e=I(a,"WHERE")||"FROM_START",f=Q(R,a,"TO",R.Jf)||"null";switch(e){case "FIRST":if("SET"==d)return c+"[0] = "+f+";\n";if("INSERT"==d)return c+".unshift("+f+");\n";break;case "LAST":if("SET"==d)return a=b(),a+(c+"["+c+".length - 1] = "+f+";\n");if("INSERT"==d)return c+".push("+f+");\n";break;case "FROM_START":e=
R.Dd(a,"AT");if("SET"==d)return c+"["+e+"] = "+f+";\n";if("INSERT"==d)return c+".splice("+e+", 0, "+f+");\n";break;case "FROM_END":e=R.Dd(a,"AT",1,!1,R.Mg);a=b();if("SET"==d)return a+(c+"["+c+".length - "+e+"] = "+f+";\n");if("INSERT"==d)return a+(c+".splice("+c+".length - "+e+", 0, "+f+");\n");break;case "RANDOM":a=b();e=li(R.za,"tmpX","VARIABLE");a+="var "+e+" = Math.floor(Math.random() * "+c+".length);\n";if("SET"==d)return a+(c+"["+e+"] = "+f+";\n");if("INSERT"==d)return a+(c+".splice("+e+", 0, "+
f+");\n")}throw Error("Unhandled combination (lists_setIndex).");};R.Eq.st=function(a,b,c){return"FIRST"==b?"0":"FROM_END"==b?a+".length - 1 - "+c:"LAST"==b?a+".length - 1":c};
R.lists_getSublist=function(a){var b=Q(R,a,"LIST",R.gb)||"[]",c=I(a,"WHERE1"),d=I(a,"WHERE2");if("FIRST"==c&&"LAST"==d)b+=".slice(0)";else if(b.match(/^\w+$/)||"FROM_END"!=c&&"FROM_START"==d){switch(c){case "FROM_START":var e=R.Dd(a,"AT1");break;case "FROM_END":e=R.Dd(a,"AT1",1,!1,R.Mg);e=b+".length - "+e;break;case "FIRST":e="0";break;default:throw Error("Unhandled option (lists_getSublist).");}switch(d){case "FROM_START":a=R.Dd(a,"AT2",1);break;case "FROM_END":a=R.Dd(a,"AT2",0,!1,R.Mg);a=b+".length - "+
a;break;case "LAST":a=b+".length";break;default:throw Error("Unhandled option (lists_getSublist).");}b=b+".slice("+e+", "+a+")"}else{e=R.Dd(a,"AT1");a=R.Dd(a,"AT2");var f=R.Eq.st,h={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};b=ki("subsequence"+h[c]+h[d],["function "+R.Hf+"(sequence"+("FROM_END"==c||"FROM_START"==c?", at1":"")+("FROM_END"==d||"FROM_START"==d?", at2":"")+") {","  var start = "+f("sequence",c,"at1")+";","  var end = "+f("sequence",d,"at2")+" + 1;","  return sequence.slice(start, end);",
"}"])+"("+b+("FROM_END"==c||"FROM_START"==c?", "+e:"")+("FROM_END"==d||"FROM_START"==d?", "+a:"")+")"}return[b,R.Na]};
R.lists_sort=function(a){var b=Q(R,a,"LIST",R.Na)||"[]",c="1"===I(a,"DIRECTION")?1:-1;a=I(a,"TYPE");var d=ki("listsGetSortCompare",["function "+R.Hf+"(type, direction) {","  var compareFuncs = {",'    "NUMERIC": function(a, b) {',"        return Number(a) - Number(b); },",'    "TEXT": function(a, b) {',"        return a.toString() > b.toString() ? 1 : -1; },",'    "IGNORE_CASE": function(a, b) {',"        return a.toString().toLowerCase() > b.toString().toLowerCase() ? 1 : -1; },","  };","  var compare = compareFuncs[type];",
"  return function(a, b) { return compare(a, b) * direction; }","}"]);return[b+".slice().sort("+d+'("'+a+'", '+c+"))",R.Na]};R.lists_reverse=function(a){return[(Q(R,a,"LIST",R.Na)||"[]")+".slice().reverse()",R.Na]};R.mv={};R.controls_if=function(a){var b=0,c="";R.cc&&(c+=gi(R.cc,a));do{var d=Q(R,a,"IF"+b,R.Va)||"false";var e=hi(a,"DO"+b);R.wb&&(e=ei(gi(R.wb,a),R.Ob)+e);c+=(0<b?" else ":"")+"if ("+d+") {\n"+e+"}";++b}while(H(a,"IF"+b));if(H(a,"ELSE")||R.wb)e=hi(a,"ELSE"),R.wb&&(e=ei(gi(R.wb,a),R.Ob)+e),c+=" else {\n"+e+"}";return c+"\n"};
R.logic_compare=function(a){var b={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[I(a,"OP")],c="=="==b||"!="==b?R.np:R.Is,d=Q(R,a,"A",c)||"0";a=Q(R,a,"B",c)||"0";return[d+" "+b+" "+a,c]};R.logic_operation=function(a){var b="AND"==I(a,"OP")?"&&":"||",c="&&"==b?R.Rl:R.Sl,d=Q(R,a,"A",c);a=Q(R,a,"B",c);if(d||a){var e="&&"==b?"true":"false";d||(d=e);a||(a=e)}else a=d="false";return[d+" "+b+" "+a,c]};R.logic_negate=function(a){var b=R.Ph;return["!"+(Q(R,a,"BOOL",b)||"true"),b]};
R.logic_boolean=function(a){return["TRUE"==I(a,"BOOL")?"true":"false",R.Kf]};R.logic_ternary=function(a){var b=Q(R,a,"IF",R.Pj)||"false",c=Q(R,a,"THEN",R.Pj)||"null";a=Q(R,a,"ELSE",R.Pj)||"null";return[b+" ? "+c+" : "+a,R.Pj]};R.nv={};R.controls_repeat_ext=function(a){var b=Jd(a,"TIMES")?String(Number(I(a,"TIMES"))):Q(R,a,"TIMES",R.Jf)||"0",c=hi(a,"DO");c=ii(c,a);a="";var d=li(R.za,"count","VARIABLE"),e=b;b.match(/^\w+$/)||ri(b)||(e=li(R.za,"repeat_end","VARIABLE"),a+="var "+e+" = "+b+";\n");return a+("for (var "+d+" = 0; "+d+" < "+e+"; "+d+"++) {\n"+c+"}\n")};R.controls_repeat=R.controls_repeat_ext;
R.controls_whileUntil=function(a){var b="UNTIL"==I(a,"MODE"),c=Q(R,a,"BOOL",b?R.Ph:R.Va)||"false",d=hi(a,"DO");d=ii(d,a);b&&(c="!"+c);return"while ("+c+") {\n"+d+"}\n"};
R.controls_for=function(a){var b=R.za.Wb(I(a,"VAR"),"VARIABLE"),c=Q(R,a,"FROM",R.Jf)||"0",d=Q(R,a,"TO",R.Jf)||"0",e=Q(R,a,"BY",R.Jf)||"1",f=hi(a,"DO");f=ii(f,a);if(ri(c)&&ri(d)&&ri(e)){var h=Number(c)<=Number(d);a="for ("+b+" = "+c+"; "+b+(h?" <= ":" >= ")+d+"; "+b;b=Math.abs(Number(e));a=(1==b?a+(h?"++":"--"):a+((h?" += ":" -= ")+b))+(") {\n"+f+"}\n")}else a="",h=c,c.match(/^\w+$/)||ri(c)||(h=li(R.za,b+"_start","VARIABLE"),a+="var "+h+" = "+c+";\n"),c=d,d.match(/^\w+$/)||ri(d)||(c=li(R.za,b+"_end",
"VARIABLE"),a+="var "+c+" = "+d+";\n"),d=li(R.za,b+"_inc","VARIABLE"),a+="var "+d+" = ",a=ri(e)?a+(Math.abs(e)+";\n"):a+("Math.abs("+e+");\n"),a=a+("if ("+h+" > "+c+") {\n")+(R.Ob+d+" = -"+d+";\n"),a+="}\n",a+="for ("+b+" = "+h+"; "+d+" >= 0 ? "+b+" <= "+c+" : "+b+" >= "+c+"; "+b+" += "+d+") {\n"+f+"}\n";return a};
R.controls_forEach=function(a){var b=R.za.Wb(I(a,"VAR"),"VARIABLE"),c=Q(R,a,"LIST",R.Jf)||"[]",d=hi(a,"DO");d=ii(d,a);a="";var e=c;c.match(/^\w+$/)||(e=li(R.za,b+"_list","VARIABLE"),a+="var "+e+" = "+c+";\n");c=li(R.za,b+"_index","VARIABLE");d=R.Ob+b+" = "+e+"["+c+"];\n"+d;return a+("for (var "+c+" in "+e+") {\n"+d+"}\n")};
R.controls_flow_statements=function(a){var b="";R.cc&&(b+=gi(R.cc,a));R.wb&&(b+=gi(R.wb,a));if(R.cc){var c=Rn.cq(a);c&&!c.Cf&&(b+=gi(R.cc,c))}switch(I(a,"FLOW")){case "BREAK":return b+"break;\n";case "CONTINUE":return b+"continue;\n"}throw Error("Unknown flow statement.");};R.ov={};R.math_number=function(a){a=Number(I(a,"NUM"));return[a,0<=a?R.Kf:R.Rh]};R.math_arithmetic=function(a){var b={ADD:[" + ",R.If],MINUS:[" - ",R.Mg],MULTIPLY:[" * ",R.Tl],DIVIDE:[" / ",R.Oh],POWER:[null,R.Va]}[I(a,"OP")],c=b[0];b=b[1];var d=Q(R,a,"A",b)||"0";a=Q(R,a,"B",b)||"0";return c?[d+c+a,b]:["Math.pow("+d+", "+a+")",R.Na]};
R.math_single=function(a){var b=I(a,"OP");if("NEG"==b)return a=Q(R,a,"NUM",R.Rh)||"0","-"==a[0]&&(a=" "+a),["-"+a,R.Rh];a="SIN"==b||"COS"==b||"TAN"==b?Q(R,a,"NUM",R.Oh)||"0":Q(R,a,"NUM",R.Va)||"0";switch(b){case "ABS":var c="Math.abs("+a+")";break;case "ROOT":c="Math.sqrt("+a+")";break;case "LN":c="Math.log("+a+")";break;case "EXP":c="Math.exp("+a+")";break;case "POW10":c="Math.pow(10,"+a+")";break;case "ROUND":c="Math.round("+a+")";break;case "ROUNDUP":c="Math.ceil("+a+")";break;case "ROUNDDOWN":c=
"Math.floor("+a+")";break;case "SIN":c="Math.sin("+a+" / 180 * Math.PI)";break;case "COS":c="Math.cos("+a+" / 180 * Math.PI)";break;case "TAN":c="Math.tan("+a+" / 180 * Math.PI)"}if(c)return[c,R.Na];switch(b){case "LOG10":c="Math.log("+a+") / Math.log(10)";break;case "ASIN":c="Math.asin("+a+") / Math.PI * 180";break;case "ACOS":c="Math.acos("+a+") / Math.PI * 180";break;case "ATAN":c="Math.atan("+a+") / Math.PI * 180";break;default:throw Error("Unknown math operator: "+b);}return[c,R.Oh]};
R.math_constant=function(a){return{PI:["Math.PI",R.gb],E:["Math.E",R.gb],GOLDEN_RATIO:["(1 + Math.sqrt(5)) / 2",R.Oh],SQRT2:["Math.SQRT2",R.gb],SQRT1_2:["Math.SQRT1_2",R.gb],INFINITY:["Infinity",R.Kf]}[I(a,"CONSTANT")]};
R.math_number_property=function(a){var b=Q(R,a,"NUMBER_TO_CHECK",R.Qh)||"0",c=I(a,"PROPERTY");if("PRIME"==c){var d=ki("mathIsPrime",["function "+R.Hf+"(n) {","  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods","  if (n == 2 || n == 3) {","    return true;","  }","  // False if n is NaN, negative, is 1, or not whole.","  // And false if n is divisible by 2 or 3.","  if (isNaN(n) || n <= 1 || n % 1 != 0 || n % 2 == 0 || n % 3 == 0) {","    return false;","  }","  // Check all the numbers of form 6k +/- 1, up to sqrt(n).",
"  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {","    if (n % (x - 1) == 0 || n % (x + 1) == 0) {","      return false;","    }","  }","  return true;","}"])+"("+b+")";return[d,R.Na]}switch(c){case "EVEN":d=b+" % 2 == 0";break;case "ODD":d=b+" % 2 == 1";break;case "WHOLE":d=b+" % 1 == 0";break;case "POSITIVE":d=b+" > 0";break;case "NEGATIVE":d=b+" < 0";break;case "DIVISIBLE_BY":a=Q(R,a,"DIVISOR",R.Qh)||"0",d=b+" % "+a+" == 0"}return[d,R.np]};
R.math_change=function(a){var b=Q(R,a,"DELTA",R.If)||"0";a=R.za.Wb(I(a,"VAR"),"VARIABLE");return a+" = (typeof "+a+" == 'number' ? "+a+" : 0) + "+b+";\n"};R.math_round=R.math_single;R.math_trig=R.math_single;R.math_modulo=function(a){var b=Q(R,a,"DIVIDEND",R.Qh)||"0";a=Q(R,a,"DIVISOR",R.Qh)||"0";return[b+" % "+a,R.Qh]};R.math_constrain=function(a){var b=Q(R,a,"VALUE",R.Va)||"0",c=Q(R,a,"LOW",R.Va)||"0";a=Q(R,a,"HIGH",R.Va)||"Infinity";return["Math.min(Math.max("+b+", "+c+"), "+a+")",R.Na]};
R.math_random_int=function(a){var b=Q(R,a,"FROM",R.Va)||"0";a=Q(R,a,"TO",R.Va)||"0";return[ki("mathRandomInt",["function "+R.Hf+"(a, b) {","  if (a > b) {","    // Swap a and b to ensure a is smaller.","    var c = a;","    a = b;","    b = c;","  }","  return Math.floor(Math.random() * (b - a + 1) + a);","}"])+"("+b+", "+a+")",R.Na]};R.math_random_float=function(){return["Math.random()",R.Na]};
R.math_atan2=function(a){var b=Q(R,a,"X",R.Va)||"0";return["Math.atan2("+(Q(R,a,"Y",R.Va)||"0")+", "+b+") / Math.PI * 180",R.Oh]};R.du={};R.procedures_defreturn=function(a){var b=R.za.Wb(I(a,"NAME"),"PROCEDURE"),c="";R.cc&&(c+=gi(R.cc,a));R.wb&&(c+=gi(R.wb,a));c&&(c=ei(c,R.Ob));var d="";R.Lj&&(d=ei(gi(R.Lj,a),R.Ob));var e=hi(a,"STACK"),f=Q(R,a,"RETURN",R.Va)||"",h="";e&&f&&(h=c);f&&(f=R.Ob+"return "+f+";\n");for(var l=[],m=a.pe(),n=0;n<m.length;n++)l[n]=R.za.Wb(m[n],"VARIABLE");c="function "+b+"("+l.join(", ")+") {\n"+c+d+e+h+f+"}";c=R.wl(a,c);R.Pf["%"+b]=c;return null};R.procedures_defnoreturn=R.procedures_defreturn;
R.procedures_callreturn=function(a){for(var b=R.za.Wb(I(a,"NAME"),"PROCEDURE"),c=[],d=a.pe(),e=0;e<d.length;e++)c[e]=Q(R,a,"ARG"+e,R.Va)||"null";return[b+"("+c.join(", ")+")",R.Na]};R.procedures_callnoreturn=function(a){return R.procedures_callreturn(a)[0]+";\n"};R.procedures_ifreturn=function(a){var b="if ("+(Q(R,a,"CONDITION",R.Va)||"false")+") {\n";R.wb&&(b+=ei(gi(R.wb,a),R.Ob));a.af?(a=Q(R,a,"VALUE",R.Va)||"null",b+=R.Ob+"return "+a+";\n"):b+=R.Ob+"return;\n";return b+"}\n"};R.wv={};R.variables_get=function(a){return[R.za.Wb(I(a,"VAR"),"VARIABLE"),R.Kf]};R.variables_set=function(a){var b=Q(R,a,"VALUE",R.Jf)||"0";return R.za.Wb(I(a,"VAR"),"VARIABLE")+" = "+b+";\n"};var Yn=0;function Zn(){function a(e){return[{src:"music/rest"+1/e+".png",width:10,height:20,alt:"1/"+e},String(1/e)]}for(var b=[],c=[],d=1;16>=d;d*=2)b.push([{src:"music/note"+1/d+".png",width:9,height:19,alt:"1/"+d},String(1/d)]),c.push(a(d));10>V&&(b.shift(),b.pop());gl([{type:"music_pitch",message0:"%1",args0:[{type:"field_pitch",name:"PITCH",text:"7"}],output:"Number",colour:"%{BKY_MATH_HUE}",tooltip:W("Music.pitchTooltip",!1)},{type:"music_note",message0:W("Music.playNote",!1),args0:[{type:"field_dropdown",
name:"DURATION",options:b},{type:"input_value",name:"PITCH",check:"Number"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:160,tooltip:W("Music.playNoteTooltip",!1)},{type:"music_rest_whole",message0:W("Music.rest",!1),args0:[{type:"field_image",src:"music/rest1.png",width:10,height:20,alt:"1/1"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:160,tooltip:W("Music.restWholeTooltip",!1)},{type:"music_rest",message0:W("Music.rest",!1),args0:[{type:"field_dropdown",
name:"DURATION",options:[a(1),a(2),a(4),a(8),a(16)]}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:160,tooltip:W("Music.restTooltip",!1)},{type:"music_instrument",message0:W("Music.setInstrument",!1),args0:[{type:"field_dropdown",name:"INSTRUMENT",options:[[W("Music.piano",!1),"piano"],[W("Music.trumpet",!1),"trumpet"],[W("Music.banjo",!1),"banjo"],[W("Music.violin",!1),"violin"],[W("Music.guitar",!1),"guitar"],[W("Music.flute",!1),"flute"],[W("Music.drum",!1),"drum"],[W("Music.choir",
!1),"choir"]]}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:160,tooltip:W("Music.setInstrumentTooltip",!1)},{type:"music_start",message0:W("Music.start",!1),args0:[{type:"field_image",src:"music/play.png",width:17,height:17,alt:"\u25b6"}],message1:"%1",args1:[{type:"input_statement",name:"STACK"}],colour:0,tooltip:W("Music.startTooltip",!1)}])}R.music_pitch=function(a){return[Number(I(a,"PITCH")),R.Kf]};
R.music_note=function(a){var b=Number(I(a,"DURATION")),c=Q(R,a,"PITCH",R.Hs)||"7";return"play("+b+", "+c+", 'block_id_"+a.id+"');\n"};R.music_rest_whole=function(a){return"rest(1, 'block_id_"+a.id+"');\n"};R.music_rest=function(a){return"rest("+Number(I(a,"DURATION"))+", 'block_id_"+a.id+"');\n"};R.music_instrument=function(a){a=I(a,"INSTRUMENT");return"setInstrument("+R.qr(a)+");\n"};R.music_start=function(a){var b=Yn+1;Yn=b;a=hi(a,"STACK");R.Pf["%start"+b]="function start"+b+"() {\n"+a+"}\n";return null};
10>V&&(J.procedures_defnoreturn.G=function(){var a=new rn("",Fk);tn(a);N(N(N(P(this),k.PROCEDURES_DEFNORETURN_TITLE),a,"NAME"),"","PARAMS");this.bb(k.PROCEDURES_HUE);this.Ma(k.PROCEDURES_DEFNORETURN_TOOLTIP);this.Ab=k.PROCEDURES_DEFNORETURN_HELPURL;this.$=[];this.Wa=[];this.Af(!0);this.Vd=null},delete J.procedures_defreturn,delete J.procedures_ifreturn);function $n(){return'\n<div class="farSide" style="padding: 1ex 3ex 0">\n  <button class="secondary addHideHandler">'+yl(k.DIALOG_OK)+"</button>\n</div>\n"};function ao(){var a=W("Games.music",!0),b="";var c='\n&nbsp;\n<button id="linkButton" title="'+W("Games.linkTooltip",!0)+'">\n  <img src="common/1x1.gif" class="link icon21">\n</button>\n';var d='\n&nbsp;\n<button id="helpButton">'+W("Games.help",!0)+"</button>\n";b&&(b=" &nbsp; "+b);a='\n<span id="title">\n  <a href="'+(ll?"index.html":"./")+"?lang="+il+'">'+W("Games.name",!0)+"</a> : "+a+"\n</span>\n";if(V){var e=" &nbsp ";for(var f=1;10>=f;f++){var h="?lang="+il+"&level="+f;e+=" ";e=f===V?e+('<span class="level_number level_done" id="level'+
f+'">'+f+"</span>"):10===f?e+('<a class="level_number" id="level'+f+'" href="'+h+'">'+f+"</a>"):e+('<a class="level_dot" id="level'+f+'" href="'+h+'"></a>')}}else e="";b='\n\n<table width="100%">\n  <tr>\n    <td>\n      <h1>\n        '+(a+"\n        "+e+'\n      </h1>\n    </td>\n    <td id="header_cta" class="farSide">\n      <select id="languageMenu"></select>\n      '+c+"\n      "+d+"\n      "+b+'\n    </td>\n  </tr>\n</table>\n\n\n<div id="paddingBox"></div>\n<div id="staveBox"></div>\n<div id="musicBox">\n  <div id="musicContainer"></div>\n</div>\n<table style="padding-top: 1em;">\n  <tr>\n    <td style="width: 190px; text-align: center; vertical-align: top;">\n      <svg\n          id="slider"\n          xmlns="http://www.w3.org/2000/svg"\n          xmlns:svg="http://www.w3.org/2000/svg"\n          xmlns:xlink="http://www.w3.org/1999/xlink"\n          version="1.1"\n          width=150 height=50>\n        \x3c!-- Slow icon. --\x3e\n        <clipPath id="slowClipPath">\n          <rect width=26 height=12 x=5 y=14 />\n        </clipPath>\n        <image xlink:href="common/icons.png" height=63 width=84 x=-21 y=-10\n            clip-path="url(#slowClipPath)" />\n        \x3c!-- Fast icon. --\x3e\n        <clipPath id="fastClipPath">\n          <rect width=26 height=16 x=120 y=10 />\n        </clipPath>\n        <image xlink:href="common/icons.png" height=63 width=84 x=120 y=-11\n            clip-path="url(#fastClipPath)" />\n      </svg>\n    </td>\n    <td style="width: 15px;">\n      <img id="spinner" style="visibility: hidden;" src="common/loading.gif" loading="lazy" height=15 width=15>\n    </td>\n    <td style="width: 190px; text-align: center">\n      <button id="runButton" class="primary" title="')+
W("Games.runTooltip",!0)+'">\n        <img src="common/1x1.gif" class="run icon21"> '+W("Games.runProgram",!0)+'\n      </button>\n      <button id="resetButton" class="primary" style="display: none" title="'+W("Games.resetTooltip",!0)+'">\n        <img src="common/1x1.gif" class="stop icon21"> '+W("Games.resetProgram",!0)+"\n      </button>\n    </td>\n  </tr>\n</table>\n\n"+(10!==V||ll?"":'\n<table style="padding-top: 1em; width: 400px;">\n  <tr>\n    <td style="text-align: center;">\n      <form action="/gallery" target="music-gallery">\n        <input type="hidden" name="app" value="music">\n        <input type="hidden" name="lang" value="'+
il+'">\n        <button type="submit" title="'+W("Music.galleryTooltip",!0)+'">\n          <img src="common/1x1.gif" class="gallery icon21"> '+W("Music.galleryMsg",!0)+'\n        </button>\n      </form>\n    </td>\n    <td style="text-align: center;">\n      <button id="submitButton" title="'+W("Music.submitTooltip",!0)+'">\n        <img src="common/1x1.gif" class="camera icon21"> '+W("Music.submitMsg",!0)+'\n      </button>\n    </td>\n  </tr>\n</table>\n<div id="galleryDialog" class="dialogHiddenContent">\n    <form id="galleryForm" action="/gallery-api/submit" method="post" onsubmit="return false">\n    <header>'+
W("Music.submitTooltip",!0)+'</header>\n    <canvas id="thumbnail" width=200 height=200></canvas>\n    <input type="hidden" name="app" value="music">\n    <input id="galleryThumb" type="hidden" name="thumb">\n    <input id="galleryXml" type="hidden" name="xml">\n    <div>\n      '+W("Games.submitTitle",!0)+'\n      <input id="galleryTitle" type="text" name="title" required>\n    </div>\n\n    <div class="farSide">\n      <button class="addHideHandler" type="button">'+yl(k.DIALOG_CANCEL)+'</button>\n      <button id="galleryOk" class="secondary" type="submit">'+
yl(k.DIALOG_OK)+"</button>\n    </div>\n  </form>\n</div>\n")+"\n\n";10===V?c='\n<category name="'+W("Games.music",!0)+'">\n  <block type="music_pitch">\n    <field name="PITCH">7</field>\n  </block>\n  <block type="music_note">\n    <field name="DURATION">0.25</field>\n    <value name="PITCH">\n      <shadow type="music_pitch">\n        <field name="PITCH">7</field>\n      </shadow>\n    </value>\n  </block>\n  <block type="music_rest"></block>\n  <block type="music_instrument"></block>\n  <block type="music_start" id="music_start"></block>\n</category>\n<category name="'+
W("Games.catLogic",!0)+'">\n  <block type="controls_if"></block>\n  <block type="logic_compare"></block>\n  <block type="logic_operation"></block>\n  <block type="logic_negate"></block>\n  <block type="logic_boolean"></block>\n  <block type="logic_ternary"></block>\n</category>\n<category name="'+W("Games.catLoops",!0)+'">\n  <block type="controls_repeat_ext">\n    <value name="TIMES">\n      <shadow type="math_number">\n        <field name="NUM">10</field>\n      </shadow>\n    </value>\n  </block>\n  <block type="controls_whileUntil"></block>\n  <block type="controls_for">\n    <value name="FROM">\n      <shadow type="math_number">\n        <field name="NUM">1</field>\n      </shadow>\n    </value>\n    <value name="TO">\n      <shadow type="math_number">\n        <field name="NUM">10</field>\n      </shadow>\n    </value>\n    <value name="BY">\n      <shadow type="math_number">\n        <field name="NUM">1</field>\n      </shadow>\n    </value>\n  </block>\n  <block type="controls_forEach"></block>\n  <block type="controls_flow_statements"></block>\n</category>\n<category name="'+
W("Games.catMath",!0)+'">\n  <block type="math_number"></block>\n  <block type="math_arithmetic">\n    <value name="A">\n      <shadow type="math_number">\n        <field name="NUM">1</field>\n      </shadow>\n    </value>\n    <value name="B">\n      <shadow type="math_number">\n        <field name="NUM">1</field>\n      </shadow>\n    </value>\n  </block>\n  <block type="math_single">\n    <value name="NUM">\n      <shadow type="math_number">\n        <field name="NUM">9</field>\n      </shadow>\n    </value>\n  </block>\n  <block type="math_number_property">\n    <value name="NUMBER_TO_CHECK">\n      <shadow type="math_number">\n        <field name="NUM">0</field>\n      </shadow>\n    </value>\n  </block>\n  <block type="math_round">\n    <value name="NUM">\n      <shadow type="math_number">\n        <field name="NUM">3.1</field>\n      </shadow>\n    </value>\n  </block>\n  <block type="math_modulo">\n    <value name="DIVIDEND">\n      <shadow type="math_number">\n        <field name="NUM">64</field>\n      </shadow>\n    </value>\n    <value name="DIVISOR">\n      <shadow type="math_number">\n        <field name="NUM">10</field>\n      </shadow>\n    </value>\n  </block>\n  <block type="math_constrain">\n    <value name="VALUE">\n      <shadow type="math_number">\n        <field name="NUM">50</field>\n      </shadow>\n    </value>\n    <value name="LOW">\n      <shadow type="math_number">\n        <field name="NUM">1</field>\n      </shadow>\n    </value>\n    <value name="HIGH">\n      <shadow type="math_number">\n        <field name="NUM">100</field>\n      </shadow>\n    </value>\n  </block>\n  <block type="math_random_int">\n    <value name="FROM">\n      <shadow type="math_number">\n        <field name="NUM">1</field>\n      </shadow>\n    </value>\n    <value name="TO">\n      <shadow type="math_number">\n        <field name="NUM">100</field>\n      </shadow>\n    </value>\n  </block>\n  <block type="math_random_float"></block>\n</category>\n<category name="'+
W("Games.catLists",!0)+'">\n  <block type="lists_create_with">\n    <mutation items="0"></mutation>\n  </block>\n  <block type="lists_create_with"></block>\n  <block type="lists_repeat">\n    <value name="NUM">\n      <shadow type="math_number">\n        <field name="NUM">5</field>\n      </shadow>\n    </value>\n  </block>\n  <block type="lists_length"></block>\n  <block type="lists_isEmpty"></block>\n  <block type="lists_indexOf">\n    <value name="VALUE">\n      <block type="variables_get">\n        <field name="VAR">list</field>\n      </block>\n    </value>\n  </block>\n  <block type="lists_getIndex">\n    <value name="VALUE">\n      <block type="variables_get">\n        <field name="VAR">list</field>\n      </block>\n    </value>\n  </block>\n  <block type="lists_setIndex">\n    <value name="LIST">\n      <block type="variables_get">\n        <field name="VAR">list</field>\n      </block>\n    </value>\n  </block>\n  <block type="lists_getSublist">\n    <value name="LIST">\n      <block type="variables_get">\n        <field name="VAR">list</field>\n      </block>\n    </value>\n  </block>\n  <block type="lists_sort"></block>\n  <block type="lists_reverse"></block>\n</category>\n<sep></sep>\n<category name="'+
W("Games.catVariables",!0)+'" custom="VARIABLE"></category>\n<category name="'+W("Games.catProcedures",!0)+'" custom="PROCEDURE"></category>\n':(c=6<V?'<block type="music_rest_whole"></block>':"",d=5<V?'<block type="music_instrument"></block>':"",a=6<V?'<block type="music_start" id="music_start"></block>':"",e=1<V?'<category name="'+W("Games.catProcedures",!0)+'" custom="PROCEDURE"></category>':"",c='\n<category name="'+W("Games.music",!0)+'">\n  <block type="music_note">\n    <field name="DURATION">0.25</field>\n    <value name="PITCH">\n      <shadow type="music_pitch">\n        <field name="PITCH">7</field>\n      </shadow>\n    </value>\n  </block>\n  '+
c+"\n  "+d+"\n  "+a+"\n</category>\n"+e+"\n");b=b+('<xml id="toolbox" xmlns="https://developers.google.com/blockly/xml">'+c+'</xml>\n<div id="blockly"></div>\n\n\n<div id="dialogShadow" class="dialogAnimate"></div>\n<div id="dialogBorder"></div>\n<div id="dialog"></div>\n\n\n<div id="dialogDone" class="dialogHiddenContent">\n  <div id="dialogLinesText" style="font-size: large; margin: 1em;"></div>\n  <pre id="containerCode"></pre>\n  <div id="dialogDoneText" style="font-size: large; margin: 1em;"></div>\n  <div id="dialogDoneButtons" class="farSide" style="padding: 1ex 3ex 0">\n    <button class="addHideHandler">')+
(yl(k.DIALOG_CANCEL)+'</button>\n    <button id="doneOk" class="secondary">'+yl(k.DIALOG_OK)+'</button>\n  </div>\n</div>\n\n\n<div id="dialogAbort" class="dialogHiddenContent">\n  ')+(W("Games.helpAbort",!0)+'\n  <div class="farSide" style="padding: 1ex 3ex 0">\n    <button class="addHideHandler">'+yl(k.DIALOG_CANCEL)+'</button>\n    <button id="abortOk" class="secondary">'+yl(k.DIALOG_OK)+'</button>\n  </div>\n</div>\n\n\n<div id="dialogStorage" class="dialogHiddenContent">\n  <div id="containerStorage"></div>\n  ')+
($n()+"\n</div>\n\n\n");c="";switch(V){case 1:c=W("Music.helpText1",!0)+"<p>C4 - D4 - E4 - C4</p>";break;case 2:c=W("Music.helpText2a",!0)+'<div id="sampleHelp2" class="readonly"></div>'+W("Music.helpText2b",!0);break;case 3:c=W("Music.helpText3",!0)+'<br><img src="music/note0.5.png" class="sampleNote">';break;case 4:c=W("Music.helpText4",!0)+'<br><img src="music/note0.125.png" class="sampleNote">';break;case 5:c=W("Music.helpText5",!0);break;case 6:c=W("Music.helpText6a",!0)+'<div id="sampleHelp6" class="readonly"></div>'+
W("Music.helpText6b",!0);break;case 7:c=W("Music.helpText7a",!0)+'<div id="sampleHelp7" class="readonly"></div>'+W("Music.helpText7b",!0);break;case 8:c=W("Music.helpText8",!0);break;case 9:c=W("Music.helpText9",!0);break;case 10:c=W("Music.helpText10",!0),ll||(c+="<br><br>"+W("Music.helpText10Reddit",!0))}c='\n<div id="helpUseFunctions" class="dialogHiddenContent">\n  <div style="padding-bottom: 0.7ex">\n    '+W("Music.helpUseFunctions",!0)+"\n  </div>\n  "+$n()+'\n</div>\n<div id="helpUseInstruments" class="dialogHiddenContent">\n  <div style="padding-bottom: 0.7ex">\n    '+
W("Music.helpUseInstruments",!0)+"\n  </div>\n  "+$n()+'\n</div>\n\n<div id="help" class="dialogHiddenContent">\n  <div style="padding-bottom: 0.7ex">\n    '+c+"\n  </div>\n  "+$n()+"\n</div>\n";return b+c+"\n"};function bo(a){var b=co;this.Cs=23;this.Ig=18;this.Ol=132;this.Lf=20;this.sa=.5;this.Ep=b;this.bm=[];B("line",{"class":"sliderTrack",x1:10,y1:35,x2:140,y2:35},a);this.Au=B("rect",{style:"opacity: 0",x:10-this.Lf,y:35-this.Lf,width:130+2*this.Lf,height:2*this.Lf,rx:this.Lf,ry:this.Lf},a);this.Aq=B("path",{"class":"sliderKnob",d:"m 0,0 l -8,8 v 12 h 16 v -12 z"},a);this.un=B("circle",{style:"opacity: 0",r:this.Lf,cy:35},a);for(this.Ua(.5);a&&"svg"!==a.nodeName.toLowerCase();)a=a.parentNode;this.Z=a;
eo(this.un,"mousedown",this,this.zq);eo(this.un,"touchstart",this,this.zq);eo(this.Au,"mousedown",this,this.gu);eo(this.Z,"mouseup",null,fo);eo(this.Z,"touchend",null,fo);eo(this.Z,"mousemove",null,go);eo(this.Z,"touchmove",null,go);eo(document,"mouseover",null,ho)}bo.prototype.zq=function(a){if("touchstart"===a.type){if(1!==a.changedTouches.length)return;io(a)}jo=this;ko=lo(this,a).x;mo=0;var b=this.Aq.getAttribute("transform");b&&(b=b.match(/translate\(\s*([-\d.]+)/))&&(mo=Number(b[1]));a.preventDefault()};
function fo(){jo=null}function ho(a){if(jo){a=a.target;do if(a===jo.Z)return;while(a=a.parentNode);jo=null}}function go(a){var b=jo;if(b){if("touchmove"===a.type){if(1!==a.changedTouches.length)return;io(a)}a=lo(b,a).x-ko+mo;b.Ua((a-b.Ig)/(b.Ol-b.Ig))}}bo.prototype.gu=function(a){if("touchstart"===a.type){if(1!==a.changedTouches.length)return;io(a)}a=lo(this,a).x;no(this,(a-this.Ig)/(this.Ol-this.Ig))};bo.prototype.Za=function(){return this.sa};
function no(a,b){function c(f){return function(){a.Ua(f*(b-d)/9+d)}}a.bm.forEach(clearTimeout);a.bm=[];for(var d=a.Za(),e=0;10>e;e++)a.bm.push(setTimeout(c(e),200*e/10))}bo.prototype.Ua=function(a){this.sa=nd(a,0,1);a=this.Ig+(this.Ol-this.Ig)*this.sa;this.Aq.setAttribute("transform","translate("+a+","+this.Cs+")");this.un.setAttribute("cx",a);this.Ep&&this.Ep(this.sa)};
function lo(a,b){var c=a.Z.createSVGPoint();c.x=b.clientX;c.y=b.clientY;a=a.Z.getScreenCTM().inverse();return c.matrixTransform(a)}function eo(a,b,c,d){a.addEventListener(b,function(e){d.apply(c,arguments)},!1)}function io(a){var b=a.changedTouches[0];a.clientX=b.clientX;a.clientY=b.clientY}var jo=null,ko=0,mo=0;var wl="music",oo=0,po=0,qo=0,ro=null,so=[],to=0,uo=0,Z=null,vo=!1,wo;function xo(){var a=document.createElement("script");a.type="text/javascript";a.src="third-party/SoundJS/soundjs.min.js";a.onload=yo;document.head.appendChild(a)}
function yo(){createjs.AbstractPlugin.prototype._handlePreloadComplete=function(e){var f=e.target.getItem().src;e=e.result;var h=this._soundInstances[f];this._audioSources[f]=e;if(h){h=ba(h);for(var l=h.next();!l.done;l=h.next())l.value.playbackResource=e}this._soundInstances[f]=null};for(var a="piano trumpet violin drum flute banjo guitar choir".split(" "),b=[],c=0;c<a.length;c++)for(var d=0;d<An.length;d++)b.push({src:a[c]+"/"+An[d]+".mp3",id:a[c]+d});createjs.Sound.registerSounds(b,"third-party/soundfonts/")}
function co(){to=0}function zo(a){po=a;for(var b=U("staveBox"),c=1;c<=a;c++){var d=Ao(c,a),e=document.createElement("img");e.src="music/stave.png";e.className="stave";e.style.top=Math.round(d)+"px";b.appendChild(e)}}function Ao(a,b){return a=(2*a-1)/(2*b)*385-34.5+5}
function Bo(a,b,c,d,e){for(;1<d;)Bo(a,b,c,1,e),b+=1,--d;a=Ao(a,po);a=-1===c?Math.round(a+21):Math.floor(a+(-4.5*c+32));b=Math.round(256*b+10);var f=U("musicContainer"),h=document.createElement("img"),l=-1===c?"rest":"note";h.src="music/"+l+d+".png";h.className=e+" "+l;h.style.top=a+"px";h.style.left=b+"px";-1!==c&&(h.title=An[c]);f.appendChild(h);if(!e){var m=h.cloneNode();f.appendChild(m);setTimeout(function(){m.className="splash "+l},0);setTimeout(function(){m.parentNode&&m.parentNode.removeChild(m)},
1E3)}if(0===c||12===c)c=document.createElement("img"),c.src="music/black1x1.gif",c.className=e+" "+(1===d?" ledgerLineWide":" ledgerLine"),c.style.top=a+32+"px",c.style.left=b-5+"px",f.appendChild(c)}
function Co(){var a=U("help"),b=U("helpButton");if(2===V){var c='<xml><block type="procedures_defnoreturn" x="5" y="10"><field name="NAME">%1</field></block><block type="procedures_callnoreturn" x="5" y="85"><mutation name="%1"></mutation><next><block type="procedures_callnoreturn"><mutation name="%1"></mutation></block></next></block></xml>'.replace(/%1/g,W("Music.firstPart",!0));an("sampleHelp2",c)}else 6===V?an("sampleHelp6",'<xml><block type="music_instrument" x="5" y="10"></block></xml>'):7===
V&&an("sampleHelp7",'<xml><block type="music_rest_whole" x="5" y="10"></block></xml>');Y.qg(a,b,!0,!0,{width:"50%",left:"25%",top:"5em"},Y.Fl);Y.Cl()}
function Do(a){var b=U("toolbox"),c=U("music_start");if(c){var d=Eo?Eo.length:4,e=Yn;if(a instanceof Md){var f=[],h=ak.La(!1),l=ba(h);for(h=l.next();!h.done;h=l.next())h=h.value,"music_start"!==h.type||h.Bb()||f.push(h);if(d<f.length)for(h=ba(a.se),a=h.next();!a.done;a=h.next()){a=a.value;l=ba(f);for(var m=l.next();!m.done;m=l.next())m=m.value,m.id===a&&m.Fb(!1)}d<=f.length?(c.setAttribute("disabled","true"),dk(ak,b),Yn=d):Yn=f.length}else if(a instanceof Nd){f=[];a=[];h=ak.La(!0);l=ba(h);for(h=l.next();!h.done;h=
l.next())h=h.value,"music_start"===h.type&&(h.isEnabled()?f:a).push(h);for(;d>f.length&&a.length;)h=a.shift(),h.Fb(!0),f.push(h);d>f.length&&(c.setAttribute("disabled","false"),dk(ak,b));Yn=f.length}Yn!==e&&Fo()}}function Go(a){a.Ok||(vo=!1)}
function Ho(){clearTimeout(oo);so.forEach(Io);Z=ro=null;to=uo=so.length=0;vo=!1;U("staveBox").innerHTML="";var a=U("musicContainer");a.innerHTML="";qo=0;var b=document.createElement("img");b.id="musicContainerWidth";b.src="common/1x1.gif";a.appendChild(b);if(Eo){zo(Eo.length);for(a=0;a<Eo.length;a++){b=Eo[a];for(var c=0,d=0;d<b.length;d+=2){var e=b[d+1];Bo(a+1,c,b[d],e,"goal");c+=e}}Jo();setTimeout(Jo,100)}else zo(Yn||1)}
function Ko(a){if(!bn(a)){a=U("runButton");var b=U("resetButton");b.style.minWidth||(b.style.minWidth=a.offsetWidth+"px");a.style.display="none";b.style.display="inline";U("spinner").style.visibility="visible";Lo()}}function Fo(a){a&&bn(a)||(U("runButton").style.display="inline",U("resetButton").style.display="none",U("spinner").style.visibility="hidden",Zj(null),Ho())}
function Mo(a,b){function c(e){a.setProperty(b,e,a.createNativeFunction(d,!1))}var d=function(e,f,h){if(Z.bj){for(var l=Infinity,m=ba(so),n=m.next();!n.done;n=m.next())n=n.value,n.bj&&n.tb<l&&(l=n.tb);m=ba(so);for(n=m.next();!n.done;n=m.next())if(n=n.value,l===n.tb){m=Z.tb;Z.tb=l;n.tb=m;break}Z.bj=!1}f=Math.round(f);if(0>f||12<f)console.warn("Note out of range (0-12): "+f),No(e,h);else{Io(Z);Z.Oo=createjs.Sound.play(Z.rq+f);Z.ll=64*e+uo;Z.transcript.push(f,e);l=!1;if(10>V){m=Eo[Z.tb-1];n=Z.transcript;
var q=n.length-2;if(m[q]!==n[q]||m[q+1]!==n[q+1])l=!0}Bo(Z.tb,uo/64,f,e,l?"wrong":"");Oo(h)}};c("play");d=function(e,f){No(e,f)};c("rest");d=function(e){Z.rq=e};c("setInstrument")}
function Lo(){if("Interpreter"in window)if("createjs"in window&&createjs.Sound.isReady()){Ho();K&&hh(K);Yn=0;var a=R,b=ak;b||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),b=Wf);var c=[];a.G(b);b=b.La(!0);for(var d=0,e;e=b[d];d++){var f=fi(a,e);Array.isArray(f)&&(f=f[0]);f&&(e.v&&(f=a.xr(f),a.cc&&!e.Cf&&(f=gi(a.cc,e)+f),a.wb&&!e.Cf&&(f+=gi(a.wb,e))),c.push(f))}c=c.join("\n");c=a.finish(c);c=c.replace(/^\s+\n/,"");c=c.replace(/\n\s+$/,"\n");en=c=c.replace(/[ \t]+\n/g,"\n");
Qm=Sm();a=Yn;0===a&&Fo();ro=new Interpreter(c,Mo);for(c=1;c<=a;c++)b=new Interpreter(""),b.getStateStack()[0].scope=ro.getGlobalScope(),b.appendCode("start"+c+"();\n"),so.push(new Po(c,b.getStateStack()));setTimeout(Qo,100)}else setTimeout(Lo,99);else setTimeout(Lo,99)}
function Qo(){var a=1E3*(2.5-2*wo.Za())/64;to||(to=Date.now()-uo*a);for(var b=!0,c=ba(so),d=c.next();!d.done;d=c.next())if(d=d.value,!d.done&&(b=!1,d.ll<=uo))a:{var e=void 0;Z=d;ro.setStateStack(d.vu);var f=1E4;do{try{e=ro.step()}catch(h){alert(h),e=!1}if(0===f--){console.warn("Thread "+d.tb+" is running slowly.");break a}if(d.ll>uo)break a}while(e);Io(d);d.jh&&(fn(d.jh,!1),d.jh=null);d.done=!0}b?(Ro()&&(window.localStorage&&(window.localStorage[wl+V]=Qm),10>V&&(Yn=0,kn())),U("spinner").style.visibility=
"hidden",Zj(null),vo=!0):(Jo(),uo++,oo=setTimeout(Qo,to+uo*a-Date.now()))}function Io(a){var b=a.Oo;b&&(setTimeout(b.stop.bind(b),100),a.Oo=null)}
function Jo(){var a=U("musicBox"),b=U("musicContainer"),c=U("musicContainerWidth"),d=10>V?200:100;d=uo?Math.round(uo/64*256+10+d):a.scrollWidth+d;for(c.width=d;qo<Math.floor(d/256);)for(qo++,c=1;c<=po;c++){var e=Ao(c,po),f=document.createElement("img");f.src="music/black1x1.gif";f.className="barLine";f.style.top=e+18+"px";f.style.left=256*qo+10-5+"px";b.appendChild(f)}a.scrollLeft=4*uo-182}function Oo(a){a&&(Z.jh&&fn(Z.jh,!1),fn(a,!0),Z.jh=a)}
function No(a,b){if(Z.bj){for(var c=0,d=Z.transcript[1]||0,e=ba(so),f=e.next();!f.done;f=e.next())f=f.value,f.bj&&f.tb>c&&(f.transcript[1]||0)<=d&&(c=f.tb);d=ba(so);for(f=d.next();!f.done;f=d.next())if(e=f.value,c===e.tb){d=Z.tb;Z.tb=c;e.tb=d;break}}Io(Z);Z.ll=64*a+uo;1<Z.transcript.length&&-1===Z.transcript[Z.transcript.length-2]?Z.transcript[Z.transcript.length-1]+=a:Z.transcript.push(-1,a);c=!1;10>V&&(d=Eo[Z.tb-1],e=Z.transcript,f=e.length-2,d[f]!==e[f]||d[f+1]<e[f+1])&&(c=!0);Bo(Z.tb,uo/64,-1,
a,c?"wrong":"");Oo(b)}var Eo=void 0;function So(){function a(m){return b=b.concat(m).concat(m)}var b=[],c=[a([7,.25,8,.25,9,.25,7,.25])],d=[a([9,.25,10,.25,11,.5])],e=[a([11,.125,12,.125,11,.125,10,.125,9,.25,7,.25])],f=[a([7,.25,4,.25,7,.5])],h=[b],l=[b,[-1,2].concat(b)];b=b.concat(b);Eo=[[[7,.25,8,.25,9,.25,7,.25]],c,d,e,f,h,l,[b,[-1,2].concat(b)],[b,[-1,2].concat(b),[-1,4].concat(b),[-1,6].concat(b)],void 0][V-1]}
function Ro(){if(!Eo)return!0;if(Eo.length!==so.length)return console.log("Expected "+Eo.length+" voices, found "+so.length),!1;for(var a=0;a<Eo.length;a++)if(so[a].tb===a+1&&String(Eo[a])!==String(so[a].transcript))return console.log('Expected "'+Eo[a]+'" notes,\n found "'+so[a].transcript+'"'),!1;if(6<=V){a=en.match(/setInstrument\('\w+'\)/g)||[];a=new Set(a);a.delete("setInstrument('piano')");a=a.size;if(6===V&&1>a)return!1;if((7===V||8===V)&&1>a||9===V&&3>a)return console.log("Not enough instruments.  Found: "+
a),a=U("helpUseInstruments"),Y.qg(a,null,!1,!0,{width:"30%",left:"35%",top:"12em"},Y.Fl),Y.Cl(),!1}a=[void 0,16,23,38,47,47,53,55,71,void 0][V-1];var b=0,c=oe(ak);c=ba(c);for(var d=c.next();!d.done;d=c.next())d=d.value,"music_instrument"!==d.type&&d.isEnabled()&&!Yh(d)&&b++;return a&&b>a?(console.log("Too many blocks.  Found: "+b+" Max: "+a),a=U("helpUseFunctions"),Y.qg(a,null,!1,!0,{width:"30%",left:"35%",top:"12em"},Y.Fl),Y.Cl(),!1):!0}
function Wm(a){return a.replace(/"music_rest_whole"/g,'"music_rest"')}
function To(){var a=Yn;if(!vo||1>a)alert(W("submitDisabled",!1));else{a="data:image/png;base64,"+[void 0,"iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAAAAABVicqIAAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfhDAQXCQ8DSgv8AAACEklEQVRo3mP8z0B7wMQwasmoJaOWjFoyasmoJaOWjFpCR0samV3p4JN/IqNxMjIt+UsPS248oIMll3fRI04WvKeDJcfX0yN1TaaHJRd66JFP+n7SwZLnsfTI8dtW09gSRlYGhq/Vn2lrSdACVgaGR620tYQvqp6N4efcczS15DtDdRgzw5sptI74xS4MDAu20zp1zZVl+D+B1pZIb+Fl2LWF1jWjXgwDQz/Nq99KXYZ9p2ltiWwKA8NMmjck/PUY9tDcEvkAhte7aG0Jg6/gt4M0t8SEi+EC7Rt3dgxvaW/Jf4Zf9Gim/qeHJay0t4SRgY32ljxn4KW9JfcZNGluyeefDLI0t2T3Nx4tmlty+hOTO80t2c9gQPNS+PAD1nCaW3LiJUMArS15sZ3JVorWlvyTlMkkSiELBZZIdb3XobolV7afu8bMZRyCaHpJE1tUEws22/NCCkMuOYaI/yQBYn1yqmY3jPntEanhSqQlTRPfURB5xFlSOPU3A60tKUZvvf+j/gDOHIyRAXHqWzIZPay4jUltbRAE3Rh6FH6QloSJ8MlSdAH2Cnaq+4QHXUvwfxIBI+HGGQfaKIrjTlYGqkc8WlJy2k6qHcRYkoTM4Sncy056biQcok8cECGnsvs/GYCYUvhxoSoDAwMDk1bK0v9kAUai1kjcvPCAQVBOSY3cFvPoQoxRS0YtGbVk1JLhbgkATHAP6cDyYR8AAAAASUVORK5CYII=","iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAAAAABVicqIAAAB8klEQVRo3u3aO0/CUBQA4FMjJsaBTg4uxcHEzZLowlLG3on6CwyDM/EXgLMD8AuAXyDbrYvt4uojTg4GBgc10dY4OZg6FHld0tflOJhzN3pP79f7OL20oASAX1aAEEIIIYQQTGTYj6pVlnGrv7TPNl8i6ldlgTdu8/eYGDnknttOgjAJ5ILbD8kiMyLPnNufiaOzINecX6U6IS3yzTkfpL2qdMix8/SVoevpkNfHRUcPGLNdQMyTNcZMDcDGy5MCM1kONU9KzNwHzDzZYCbbAsw82TEZA9Q8MUy2h7yE10su/qa1mwN8hL5IEEIIIYQQQgghhBBCyB8ivWpRUZRi24+JC9KUujH1wWuov42olhF1Wvae9LYb4w74fZyn32oX9cEUAMA/dPEn/sTFX10tYawKSxgu/w5AGzfknwoBliwybLu3AAB6fXSgK+SFZsnlyaA8CVbDdDCEVpzIJmKRxuwLifCk+XIUyCDe3DAsRmKMGMTTYRFSSWfEIMJ0hsjMC+f8eSCFNIXBr4xulJMjNS+QQjxVQDqjKiccMaPpJbl5RyEdwdCmah1nkHSHiEIqKdMh034i5HWtjL/9HrUQ9vi56653s25wkasrPz3nGecjNk9utDHRCSRKzA9nLdf9yOu6VQaZotAfMQghhBBC/jvyA6C+2c6ogwZuAAAAAElFTkSuQmCC",
"iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAAAAABVicqIAAAB4ElEQVRo3u2aPVKDUBCAl4ytA7U6k1hZQio7SUorMuMBoicgOQG5AXKC4AGcxMoyuQFJaQWeAGbsXYvEwPuBBxkZR2e3y9t979tfMnlEQ2hfOkAQghCEIASRyonS4vXjSq54Oz0rU9xyK6iSYXPPHe4IKjxBfnNO4PxOvv58cV2iaA65+Qzkiu1gVqKwqPAEIQhBCEIQghCEIAQhCEEIQpA/DcmeHi41TesH2Y/+jmcQ0+Xu8M3ksS1IMMv9T9qBZNPwuJo0gGTDTfuFP5rRADI5mlGVrmwLYBqHOovXOCN+IXkHsBtAkmCZAAAMvP2C2LE2exn0Eq4zADBGnnia9Jo2GuQGPRsREXvCzqi4I8z1Rs/jjpNCJqzHO0Ne/BKnAKAGJOXuxOSQcZFhQCWkU3ccuuxHtzCXy77qOSYEYgkFRkTEeXFJX1XEUSNdYm/sEzPOEV5a6RUsFJBYjPXb64UDAADOnEGwIe4yiwqIL2wxC9rVKhbSK/a2p4LY1eMgSlzpVc1XG3OrWi98rehh4weke68w4FtLX1vKFna5OJQvipAdoK4su0J36cXsRmoG211uijUgGB0o3RphsJPllDglTnzq2wC67UVYV2LXBDAdPy4z0OiPGAQhCEEI8t8hX5wfXfFkGIkcAAAAAElFTkSuQmCC",
"iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAAAAABVicqIAAACU0lEQVRo3u2aTY7aQBCFnyMWkRLJZjkrs8rWzlwAcwLgBMAJ4AYWJwBOYOYEkBPYXCD2Ohs7J7AjJcomUmXhAf90N+OMbWmkVG2A6nZ/7q56JSijEfq3d2AIQxjy/0AGUu/w93v59B8fBooBXe7/84sATVq7hll32yAOPKdw1R4e5P6vnz4qBh7l/p/fAIBkNnZJbvBVAwq/DyLiwDOEIQxhCEMYwhCGMIQhDGEIQ97iT+ymdgkCwJhNjd4g2eGYAADOxq4vyHZ/a1hlq34g2STqPfDR5xoj6R6STOqL9gCZC/3DUeeQvRAPszUkOUyGmqbNn66OgzBlc3eBl1tR4ew22clbUb6wipnea0W9mMLZdl98CCovJTsabXQSrZrIwXPaiDGayNrQ9SB7yzZiTKQMLCs9c9NftlL8XNFOPxdvdTdy/rHUJ9+BcRFOIR56vqATbi75LjYzlUAuhXjKkC/HIANgONfCvVXKwQ6SIIEzUhCSp3MEAPbSqurkVFxgjFwiori5HCqWlmJko9TPTasH68o1FzZheEZd7YN7qSrIwW4waXVUlJWwLljZcemnJvtYSgAgIoqFopDXrkXZZcVNGGuoIGKi5zedWkXIvSYISRitZ4gnjOjXLHItADAXjU6KiMSUdp8hDuSnle/G91Nqar78dkFEr5SDxFxhqR0pHm3oZ6OrL6iLjaJA6nu7K8Z4f8sws8oI6dVWS6FF6THRqTwwTamFWVLxonoDU59aWaEs001rD7zitQWY011Mrc2b6tDH64qwNP5zDEMYwpBu7S/9DO5PRs/ScgAAAABJRU5ErkJggg=="][a];
var b=U("thumbnail").getContext("2d");b.globalCompositeOperation="copy";var c=new Image;c.onload=function(){b.drawImage(c,0,0,200,200)};c.src=a;U("galleryThumb").value=a;mn()}}function Po(a,b){this.tb=a;this.vu=b;this.transcript=[];this.rq="piano";this.ll=0;this.Oo=this.jh=null;this.bj=10>V;this.done=!1}
(function(a){function b(){window.BlocklyGamesMsg?(window.BlocklyMsg&&(k=window.BlocklyMsg),a()):setTimeout(b,99)}window.addEventListener("load",b)})(function(){function a(){var l=c.offsetTop;d.style.top=l+"px";e.style.top=l+"px";b.style.top=Math.max(10,l-window.pageYOffset)+"px";b.style.left=kl?"10px":"420px";b.style.width=window.innerWidth-440+"px"}Zn();document.body.innerHTML=ao();Rm();var b=U("blockly"),c=U("paddingBox"),d=U("staveBox"),e=U("musicBox");window.addEventListener("scroll",function(){a(null);
ij(ak)});window.addEventListener("resize",a);a(null);Ym();Be(ak,jc);Be(ak,Do);Be(ak,Go);ji("play,rest,setInstrument,start0,start1,start2,start3,start4,start5,start6,start7,start8,start9");U("submitButton")&&xl("submitButton",To);var f=U("slider");wo=new bo(f);Vm();if(6<V){f=ak.La(!1);f=ba(f);for(var h=f.next();!h.done;h=f.next())h.value.lk=!0}So();Ho();xl("runButton",Ko);xl("resetButton",Fo);hn();jn();setTimeout(xo,1);xl("helpButton",Co);2>location.hash.length&&!ul(V)&&setTimeout(Co,1E3)});
