// Automatically generated file.  Do not edit!
var g;function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function ba(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];if(b)return b.call(a);if("number"==typeof a.length)return{next:aa(a)};throw Error(String(a)+" is not an iterable or ArrayLike");}var ca="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
function da(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");}var ea=da(this);function fa(a,b){if(b)a:{var c=ea;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))break a;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&ca(c,a,{configurable:!0,writable:!0,value:b})}}
fa("Symbol",function(a){function b(f){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new c(d+(f||"")+"_"+e++,f)}function c(f,h){this.bs=f;ca(this,"description",{configurable:!0,writable:!0,value:h})}if(a)return a;c.prototype.toString=function(){return this.bs};var d="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",e=0;return b});
fa("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=ea[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&ca(d.prototype,a,{configurable:!0,writable:!0,value:function(){return ha(aa(this))}})}return a});function ha(a){a={next:a};a[Symbol.iterator]=function(){return this};return a}
function ia(a,b){a instanceof String&&(a+="");var c=0,d=!1,e={next:function(){if(!d&&c<a.length){var f=c++;return{value:b(f,a[f]),done:!1}}d=!0;return{done:!0,value:void 0}}};e[Symbol.iterator]=function(){return e};return e}fa("Array.prototype.keys",function(a){return a?a:function(){return ia(this,function(b){return b})}});fa("Object.is",function(a){return a?a:function(b,c){return b===c?0!==b||1/b===1/c:b!==b&&c!==c}});
fa("Array.prototype.includes",function(a){return a?a:function(b,c){var d=this;d instanceof String&&(d=String(d));var e=d.length;c=c||0;for(0>c&&(c=Math.max(c+e,0));c<e;c++){var f=d[c];if(f===b||Object.is(f,b))return!0}return!1}});
fa("String.prototype.includes",function(a){return a?a:function(b,c){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==(this+"").indexOf(b,c||0)}});function ja(a,b){return Object.prototype.hasOwnProperty.call(a,b)}
fa("WeakMap",function(a){function b(m){this.pe=(l+=Math.random()+1).toString();if(m){m=ba(m);for(var p;!(p=m.next()).done;)p=p.value,this.set(p[0],p[1])}}function c(){}function d(m){var p=typeof m;return"object"===p&&null!==m||"function"===p}function e(m){if(!ja(m,h)){var p=new c;ca(m,h,{value:p})}}function f(m){var p=Object[m];p&&(Object[m]=function(q){if(q instanceof c)return q;Object.isExtensible(q)&&e(q);return p(q)})}if(function(){if(!a||!Object.seal)return!1;try{var m=Object.seal({}),p=Object.seal({}),
q=new a([[m,2],[p,3]]);if(2!=q.get(m)||3!=q.get(p))return!1;q.delete(m);q.set(p,4);return!q.has(m)&&4==q.get(p)}catch(u){return!1}}())return a;var h="$jscomp_hidden_"+Math.random();f("freeze");f("preventExtensions");f("seal");var l=0;b.prototype.set=function(m,p){if(!d(m))throw Error("Invalid WeakMap key");e(m);if(!ja(m,h))throw Error("WeakMap key fail: "+m);m[h][this.pe]=p;return this};b.prototype.get=function(m){return d(m)&&ja(m,h)?m[h][this.pe]:void 0};b.prototype.has=function(m){return d(m)&&
ja(m,h)&&ja(m[h],this.pe)};b.prototype.delete=function(m){return d(m)&&ja(m,h)&&ja(m[h],this.pe)?delete m[h][this.pe]:!1};return b});
fa("Map",function(a){function b(){var l={};return l.Ce=l.next=l.head=l}function c(l,m){var p=l[1];return ha(function(){if(p){for(;p.head!=l[1];)p=p.Ce;for(;p.next!=p.head;)return p=p.next,{done:!1,value:m(p)};p=null}return{done:!0,value:void 0}})}function d(l,m){var p=m&&typeof m;"object"==p||"function"==p?f.has(m)?p=f.get(m):(p=""+ ++h,f.set(m,p)):p="p_"+m;var q=l[0][p];if(q&&ja(l[0],p))for(l=0;l<q.length;l++){var u=q[l];if(m!==m&&u.key!==u.key||m===u.key)return{id:p,list:q,index:l,Sb:u}}return{id:p,
list:q,index:-1,Sb:void 0}}function e(l){this[0]={};this[1]=b();this.size=0;if(l){l=ba(l);for(var m;!(m=l.next()).done;)m=m.value,this.set(m[0],m[1])}}if(function(){if(!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var l=Object.seal({x:4}),m=new a(ba([[l,"s"]]));if("s"!=m.get(l)||1!=m.size||m.get({x:4})||m.set({x:4},"t")!=m||2!=m.size)return!1;var p=m.entries(),q=p.next();if(q.done||q.value[0]!=l||"s"!=q.value[1])return!1;q=p.next();return q.done||4!=q.value[0].x||
"t"!=q.value[1]||!p.next().done?!1:!0}catch(u){return!1}}())return a;var f=new WeakMap;e.prototype.set=function(l,m){l=0===l?0:l;var p=d(this,l);p.list||(p.list=this[0][p.id]=[]);p.Sb?p.Sb.value=m:(p.Sb={next:this[1],Ce:this[1].Ce,head:this[1],key:l,value:m},p.list.push(p.Sb),this[1].Ce.next=p.Sb,this[1].Ce=p.Sb,this.size++);return this};e.prototype.delete=function(l){l=d(this,l);return l.Sb&&l.list?(l.list.splice(l.index,1),l.list.length||delete this[0][l.id],l.Sb.Ce.next=l.Sb.next,l.Sb.next.Ce=
l.Sb.Ce,l.Sb.head=null,this.size--,!0):!1};e.prototype.clear=function(){this[0]={};this[1]=this[1].Ce=b();this.size=0};e.prototype.has=function(l){return!!d(this,l).Sb};e.prototype.get=function(l){return(l=d(this,l).Sb)&&l.value};e.prototype.entries=function(){return c(this,function(l){return[l.key,l.value]})};e.prototype.keys=function(){return c(this,function(l){return l.key})};e.prototype.values=function(){return c(this,function(l){return l.value})};e.prototype.forEach=function(l,m){for(var p=this.entries(),
q;!(q=p.next()).done;)q=q.value,l.call(m,q[1],q[0],this)};e.prototype[Symbol.iterator]=e.prototype.entries;var h=0;return e});fa("Array.prototype.fill",function(a){return a?a:function(b,c,d){var e=this.length||0;0>c&&(c=Math.max(0,e+c));if(null==d||d>e)d=e;d=Number(d);0>d&&(d=Math.max(0,e+d));for(c=Number(c||0);c<d;c++)this[c]=b;return this}});function ka(a){return a?a:Array.prototype.fill}fa("Int8Array.prototype.fill",ka);fa("Uint8Array.prototype.fill",ka);fa("Uint8ClampedArray.prototype.fill",ka);
fa("Int16Array.prototype.fill",ka);fa("Uint16Array.prototype.fill",ka);fa("Int32Array.prototype.fill",ka);fa("Uint32Array.prototype.fill",ka);fa("Float32Array.prototype.fill",ka);fa("Float64Array.prototype.fill",ka);
var la={},ma;
var oa=[,2,1,4,3];
var pa=function(){return"object"===typeof self?self:"object"===typeof window?window:"object"===typeof global?global:this}();
var k={};pa.Blockly||(pa.Blockly={});pa.Blockly.Msg||(pa.Blockly.Msg=k);
function qa(a){a=String(a).toLowerCase().trim();var b=ra[a];if(b)return b;b="0x"==a.substring(0,2)?"#"+a.substring(2):a;b="#"==b[0]?b:"#"+b;if(/^#[0-9a-f]{6}$/.test(b))return b;if(/^#[0-9a-f]{3}$/.test(b))return["#",b[1],b[1],b[2],b[2],b[3],b[3]].join("");var c=a.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return c&&(a=Number(c[1]),b=Number(c[2]),c=Number(c[3]),0<=a&&256>a&&0<=b&&256>b&&0<=c&&256>c)?sa(a,b,c):null}
function sa(a,b,c){b=a<<16|b<<8|c;return 16>a?"#"+(16777216|b).toString(16).substr(1):"#"+b.toString(16)}function ta(a){a=qa(a);if(!a)return[0,0,0];a=parseInt(a.substr(1),16);return[a>>16,a>>8&255,a&255]}
function ua(a){var b=0,c=0,d=0,e=Math.floor(a/60),f=a/60-e;a=165.75*.55;var h=165.75*(1-.45*f);f=165.75*(1-.45*(1-f));switch(e){case 1:b=h;c=165.75;d=a;break;case 2:b=a;c=165.75;d=f;break;case 3:b=a;c=h;d=165.75;break;case 4:b=f;c=a;d=165.75;break;case 5:b=165.75;c=a;d=h;break;case 6:case 0:b=165.75,c=f,d=a}return sa(Math.floor(b),Math.floor(c),Math.floor(d))}
function va(a,b,c){a=qa(a);if(!a)return null;b=qa(b);if(!b)return null;a=ta(a);b=ta(b);return sa(Math.round(b[0]+c*(a[0]-b[0])),Math.round(b[1]+c*(a[1]-b[1])),Math.round(b[2]+c*(a[2]-b[2])))}var ra={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"};function n(a,b){this.x=a;this.y=b}function wa(a,b){return a==b?!0:a&&b?a.x==b.x&&a.y==b.y:!1}function xa(a,b){var c=a.x-b.x;a=a.y-b.y;return Math.sqrt(c*c+a*a)}function ya(a,b){return new n(a.x-b.x,a.y-b.y)}function za(a,b){return new n(a.x+b.x,a.y+b.y)}n.prototype.clone=function(){return new n(this.x,this.y)};n.prototype.scale=function(a){this.x*=a;this.y*=a;return this};n.prototype.translate=function(a,b){this.x+=a;this.y+=b;return this};function Aa(a,b,c,d){this.top=a;this.bottom=b;this.left=c;this.right=d}Aa.prototype.contains=function(a,b){return a>=this.left&&a<=this.right&&b>=this.top&&b<=this.bottom};function Ba(a){return a.length?a.reduce(function(b,c){return b.length<c.length?b:c}).length:0}function Ca(a,b){if(!a.length)return 0;if(1==a.length)return a[0].length;var c=0;b=b||Ba(a);for(var d=0;d<b;d++){for(var e=a[0][d],f=1;f<a.length;f++)if(e!=a[f][d])return c;" "==e&&(c=d+1)}for(f=1;f<a.length;f++)if((e=a[f][d])&&" "!=e)return c;return b}
function Da(a,b){if(!a.length)return 0;if(1==a.length)return a[0].length;var c=0;b=b||Ba(a);for(var d=0;d<b;d++){for(var e=a[0].substr(-d-1,1),f=1;f<a.length;f++)if(e!=a[f].substr(-d-1,1))return c;" "==e&&(c=d+1)}for(f=1;f<a.length;f++)if((e=a[f].charAt(a[f].length-d-1))&&" "!=e)return c;return b}
function Ea(a,b){a=a.split("\n");for(var c=0;c<a.length;c++){var d=c;var e=a[c],f=b;if(e.length<=f)var h=e;else{for(var l=e.trim().split(/\s+/),m=0;m<l.length;m++)l[m].length>f&&(f=l[m].length);m=-Infinity;var p=1;do{var q=m;h=e;e=[];var u=l.length/p,y=1;for(m=0;m<l.length-1;m++)y<(m+1.5)/u?(y++,e[m]=!0):e[m]=!1;e=Fa(l,e,f);m=Ga(l,e,f);u=l;y=[];for(var O=0;O<u.length;O++)y.push(u[O]),void 0!==e[O]&&y.push(e[O]?"\n":" ");e=y.join("");p++}while(m>q)}a[d]=h}return a.join("\n")}
function Ga(a,b,c){for(var d=[0],e=[],f=0;f<a.length;f++)d[d.length-1]+=a[f].length,!0===b[f]?(d.push(0),e.push(a[f].charAt(a[f].length-1))):!1===b[f]&&d[d.length-1]++;a=Math.max.apply(Math,d);for(f=b=0;f<d.length;f++)b-=2*Math.pow(Math.abs(c-d[f]),1.5),b-=Math.pow(a-d[f],1.5),-1!=".?!".indexOf(e[f])?b+=c/3:-1!=",;)]}".indexOf(e[f])&&(b+=c/4);1<d.length&&d[d.length-1]<=d[d.length-2]&&(b+=.5);return b}
function Fa(a,b,c){for(var d=Ga(a,b,c),e,f=0;f<b.length-1;f++)if(b[f]!=b[f+1]){var h=[].concat(b);h[f]=!h[f];h[f+1]=!h[f+1];var l=Ga(a,h,c);l>d&&(d=l,e=h)}return e?Fa(a,e,c):b};function Ha(a,b){this.width=a;this.height=b};function Ia(a){var b;(b=Ja(a,"display"))||(b=a.currentStyle?a.currentStyle.display:null);if("none"!=(b||a.style&&a.style.display))return new Ha(a.offsetWidth,a.offsetHeight);b=a.style;var c=b.display,d=b.visibility,e=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";var f=a.offsetWidth;a=a.offsetHeight;b.display=c;b.position=e;b.visibility=d;return new Ha(f,a)}
function Ja(a,b){return document.defaultView&&document.defaultView.getComputedStyle&&(a=document.defaultView.getComputedStyle(a,null))?a[b]||a.getPropertyValue(b)||"":""}function Ka(a){var b=new n(0,0);a=a.getBoundingClientRect();var c=document.documentElement;c=new n(window.pageXOffset||c.scrollLeft,window.pageYOffset||c.scrollTop);b.x=a.left+c.x;b.y=a.top+c.y;return b};var La,Ma,Na,Oa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya;
(function(a){function b(d){return-1!=c.indexOf(d.toUpperCase())}Ya=a;var c=Ya.toUpperCase();La=b("Trident")||b("MSIE");Ma=b("Edge");Na=b("JavaFX");!b("Chrome")&&b("CriOS");Oa=b("WebKit")&&!Ma;Qa=b("Gecko")&&!Oa&&!La&&!Ma;Ra=b("Android");a=pa.navigator&&pa.navigator.maxTouchPoints;Sa=b("iPad")||b("Macintosh")&&0<a;Ta=b("iPod");Ua=b("iPhone")&&!Sa&&!Ta;Va=b("Macintosh");Wa=Sa||Ra&&!b("Mobile")||b("Silk");Xa=!Wa&&(Ta||Ua||Ra||b("IEMobile"))})(pa.navigator&&pa.navigator.userAgent||"");function Za(a){a.preventDefault();a.stopPropagation()}function $a(a){return"textarea"==a.target.type||"text"==a.target.type||"number"==a.target.type||"email"==a.target.type||"password"==a.target.type||"search"==a.target.type||"tel"==a.target.type||"url"==a.target.type||a.target.isContentEditable||a.target.dataset&&"true"==a.target.dataset.tv}
function ab(a){var b=new n(0,0),c=a.getAttribute("x");c&&(b.x=parseInt(c,10));if(c=a.getAttribute("y"))b.y=parseInt(c,10);if(c=(c=a.getAttribute("transform"))&&c.match(bb))b.x+=Number(c[1]),c[3]&&(b.y+=Number(c[3]));(a=a.getAttribute("style"))&&-1<a.indexOf("translate")&&(a=a.match(cb))&&(b.x+=Number(a[1]),a[3]&&(b.y+=Number(a[3])));return b}
function db(a){for(var b=0,c=0;a;){var d=ab(a);b+=d.x;c+=d.y;if(-1!=(" "+(a.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;a=a.parentNode}return new n(b,c)}var bb=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/,cb=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/;function eb(a){return a.ctrlKey&&Va?!0:2==a.button}function fb(a,b,c){var d=b.createSVGPoint();d.x=a.clientX;d.y=a.clientY;c||(c=b.getScreenCTM().inverse());return d.matrixTransform(c)}
function gb(a){switch(a.deltaMode){default:return{x:a.deltaX,y:a.deltaY};case 1:return{x:40*a.deltaX,y:40*a.deltaY};case 2:return{x:125*a.deltaX,y:125*a.deltaY}}}function hb(a){if("string"!=typeof a)return a;a=ib(a,!1);return a.length?String(a[0]):""}function jb(a){for(var b=k,c=a.match(/%{BKY_[A-Z]\w*}/ig),d=0;d<c.length;d++)void 0==b[c[d].toUpperCase().slice(6,-1)]&&console.warn("No message string for "+c[d]+" in "+a)}
function ib(a,b){var c=[],d=a.split("");d.push("");var e=0;a=[];for(var f=null,h=0;h<d.length;h++){var l=d[h];0==e?"%"==l?((l=a.join(""))&&c.push(l),a.length=0,e=1):a.push(l):1==e?"%"==l?(a.push(l),e=0):b&&"0"<=l&&"9">=l?(e=2,f=l,(l=a.join(""))&&c.push(l),a.length=0):"{"==l?e=3:(a.push("%",l),e=0):2==e?"0"<=l&&"9">=l?f+=l:(c.push(parseInt(f,10)),h--,e=0):3==e&&(""==l?(a.splice(0,0,"%{"),h--,e=0):"}"!=l?a.push(l):(e=a.join(""),/[A-Z]\w*/i.test(e)?(l=e.toUpperCase(),(l=0==l.lastIndexOf("BKY_",0)?l.substring(4):
null)&&l in k?(e=k[l],"string"==typeof e?Array.prototype.push.apply(c,ib(e,b)):b?c.push(String(e)):c.push(e)):c.push("%{"+e+"}")):c.push("%{"+e+"}"),e=a.length=0))}(l=a.join(""))&&c.push(l);b=[];for(h=a.length=0;h<c.length;++h)"string"==typeof c[h]?a.push(c[h]):((l=a.join(""))&&b.push(l),a.length=0,b.push(c[h]));(l=a.join(""))&&b.push(l);a.length=0;return b}function lb(){for(var a=mb.length,b=[],c=0;20>c;c++)b[c]=mb.charAt(Math.random()*a);return b.join("")}var mb="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
function nb(){if(void 0!==ob)return ob;if(!pa.getComputedStyle)return!1;var a=document.createElement("p"),b="none",c={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(a,null);for(var d in c)if(void 0!==a.style[d]){a.style[d]="translate3d(1px,1px,1px)";b=pa.getComputedStyle(a);if(!b)return document.body.removeChild(a),!1;b=b.getPropertyValue(c[d])}document.body.removeChild(a);return ob=
"none"!==b}var ob;function pb(a){if("object"!=typeof document)throw Error("Blockly.utils.runAfterPageLoad() requires browser document.");if("complete"==document.readyState)a();else var b=setInterval(function(){"complete"==document.readyState&&(clearInterval(b),a())},10)}function qb(a,b){b=a.indexOf(b);if(-1==b)return!1;a.splice(b,1);return!0}
function rb(a,b){var c=Object.create(null),d=sb(a,!0);b&&(a=tb(a))&&(a=d.indexOf(a),d.splice(a,d.length-a));for(a=0;b=d[a];a++)c[b.type]?c[b.type]++:c[b.type]=1;return c}function ub(a){var b="string"==typeof a?hb(a):a,c=Number(b);if(!isNaN(c)&&0<=c&&360>=c)return{Lt:c,Bi:ua(c)};if(c=qa(b))return{Lt:null,Bi:c};c='Invalid colour: "'+b+'"';a!=b&&(c+=' (from "'+a+'")');throw Error(c);};var vb="ontouchstart"in pa||!!(pa.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!pa.navigator||!pa.navigator.maxTouchPoints&&!pa.navigator.msMaxTouchPoints),wb=null,xb={};
pa.PointerEvent?xb={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]}:vb&&(xb={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]});var yb=0;
function zb(a,b){Ab();a.changedTouches&&1!=a.changedTouches.length||(yb=setTimeout(function(){a.changedTouches&&(a.button=2,a.clientX=a.changedTouches[0].clientX,a.clientY=a.changedTouches[0].clientY);b&&Bb(b,a)},750))}function Ab(){yb&&(clearTimeout(yb),yb=0)}function Cb(a){return void 0!=a.pointerId?a.pointerId:a.changedTouches&&a.changedTouches[0]&&void 0!==a.changedTouches[0].identifier&&null!==a.changedTouches[0].identifier?a.changedTouches[0].identifier:"mouse"}
function Db(a){var b=Cb(a);return void 0!==wb&&null!==wb?wb==b:"mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type?(wb=b,!0):!1}function Eb(a){return 0==a.type.lastIndexOf("touch",0)||0==a.type.lastIndexOf("mouse",0)||0==a.type.lastIndexOf("pointer",0)}function Fb(a){return 0==a.type.lastIndexOf("touch",0)||0==a.type.lastIndexOf("pointer",0)}
function Gb(a){var b=[];if(a.changedTouches)for(var c=0;c<a.changedTouches.length;c++)b[c]={type:a.type,changedTouches:[a.changedTouches[c]],target:a.target,stopPropagation:function(){a.stopPropagation()},preventDefault:function(){a.preventDefault()}};else b.push(a);return b};function r(a,b,c,d,e,f){function h(y){var O=!e;y=Gb(y);for(var Pa=0,na;na=y[Pa];Pa++)if(!O||!Eb(na)||Db(na)){var kb=na;if(0==kb.type.lastIndexOf("touch",0)){var Ze=kb.changedTouches[0];kb.clientX=Ze.clientX;kb.clientY=Ze.clientY}c?d.call(c,na):d(na);l=!0}}var l=!1,m=[];if(pa.PointerEvent&&b in xb)for(var p=0,q;q=xb[b][p];p++)a.addEventListener(q,h,!1),m.push([a,q,h]);else if(a.addEventListener(b,h,!1),m.push([a,b,h]),b in xb){var u=function(y){h(y);var O=!f;l&&O&&y.preventDefault()};for(p=0;q=xb[b][p];p++)a.addEventListener(q,
u,!1),m.push([a,q,u])}return m}function Hb(a,b,c,d){function e(p){c?d.call(c,p):d(p)}var f=[];if(pa.PointerEvent&&b in xb)for(var h=0,l;l=xb[b][h];h++)a.addEventListener(l,e,!1),f.push([a,l,e]);else if(a.addEventListener(b,e,!1),f.push([a,b,e]),b in xb){var m=function(p){if(p.changedTouches&&1==p.changedTouches.length){var q=p.changedTouches[0];p.clientX=q.clientX;p.clientY=q.clientY}e(p);p.preventDefault()};for(h=0;l=xb[b][h];h++)a.addEventListener(l,m,!1),f.push([a,l,m])}return f}
function t(a){for(;a.length;){var b=a.pop();b[0].removeEventListener(b[1],b[2],!1)}};
var Ib=Object.create(null);function Jb(a){this.we=a}Jb.prototype.toString=function(){return this.we};var Kb=new Jb("connectionChecker"),Lb=new Jb("cursor"),Mb=new Jb("event"),Nb=new Jb("field"),Ob=new Jb("renderer"),Pb=new Jb("toolbox"),Qb=new Jb("theme"),Rb=new Jb("toolboxItem"),Sb=new Jb("flyoutsVerticalToolbox"),Tb=new Jb("metricsManager"),Ub=new Jb("blockDragger");
function v(a,b,c){if(!(a instanceof Jb)&&"string"!=typeof a||""==String(a).trim())throw Error('Invalid type "'+a+'". The type must be a non-empty string or a Blockly.registry.Type.');a=String(a).toLowerCase();if("string"!=typeof b||""==b.trim())throw Error('Invalid name "'+b+'". The name must be a non-empty string.');b=b.toLowerCase();if(!c)throw Error("Can not register a null value");var d=Ib[a];d||(d=Ib[a]=Object.create(null));switch(a){case String(Nb):if("function"!=typeof c.N)throw Error('Type "'+
a+'" must have a fromJson function');}if(d[b])throw Error('Name "'+b+'" with type "'+a+'" already registered.');d[b]=c}function Vb(a,b,c){a=String(a).toLowerCase();b=b.toLowerCase();var d=Ib[a];if(!d||!d[b]){b="Unable to find ["+b+"]["+a+"] in the registry.";if(c)throw Error(b+" You must require or register a "+a+" plugin.");console.warn(b);return null}return d[b]}function Wb(a,b,c){b=b.plugins[a.toString()]||"default";return"function"==typeof b?b:Vb(a,b,c)};var Xb="",Yb=!0,w=0,Zb=["create","move"],$b=[];function x(a){0==w&&($b.length||setTimeout(ac,0),$b.push(a))}function ac(){for(var a=bc($b,!0),b=$b.length=0,c;c=a[b];b++)if(c.Eb){var d=cc[c.Eb]||null;if(d){var e=c;if(e.Bb)for(d.wg.push(e),d.Wi.length=0;d.wg.length>d.op&&0<=d.op;)d.wg.shift();for(var f=0;c=d.Ya[f];f++)c(e)}}}
function bc(a,b){a=a.slice();b||a.reverse();for(var c=[],d=Object.create(null),e=0,f;f=a[e];e++)if(!f.Qk()){var h=[f.tn?"ui":f.type,f.ga,f.Eb].join(" "),l=d[h],m=l?l.event:null;if(!l)d[h]={event:f,index:e},c.push(f);else if("move"==f.type&&l.index==e-1)m.jg=f.jg,m.hg=f.hg,m.nf=f.nf,l.index=e;else if("change"==f.type&&f.element==m.element&&f.name==m.name)m.newValue=f.newValue;else if("viewport_change"==f.type)m.$c=f.$c,m.Zc=f.Zc,m.scale=f.scale,m.Qi=f.Qi;else if("click"!=f.type||"bubble_open"!=m.type)d[h]=
{event:f,index:e},c.push(f)}a=c.filter(function(p){return!p.Qk()});b||a.reverse();for(e=1;f=a[e];e++)"change"==f.type&&"mutation"==f.element&&a.unshift(a.splice(e,1)[0]);return a}function z(a){Xb="boolean"==typeof a?a?lb():"":a}function dc(a){var b=[];a=sb(a,!1);for(var c=0,d;d=a[c];c++)b[c]=d.id;return b}function A(a){return Vb(Mb,a)}
function ec(a){if(("move"==a.type||"create"==a.type)&&a.Eb){var b=cc[a.Eb]||null,c=b.fc(a.ga);if(c){a=Yb;try{Yb=!1;var d=c.getParent();if(d&&d.isEnabled()){var e=sb(c,!1);b=0;for(var f;f=e[b];b++)f.bc(!0)}else if((c.v||c.G)&&!b.Xa()){do c.bc(!1),c=tb(c);while(c)}}finally{Yb=a}}}};function fc(a){this.Du=a}fc.prototype.toString=function(){return this.Du};var gc=new fc("animate"),hc=new fc("circle"),ic=new fc("clipPath"),jc=new fc("defs"),kc=new fc("feComposite"),lc=new fc("feGaussianBlur"),mc=new fc("fePointLight"),nc=new fc("feSpecularLighting"),oc=new fc("filter"),pc=new fc("foreignObject"),qc=new fc("g"),rc=new fc("image"),sc=new fc("line"),tc=new fc("path"),uc=new fc("pattern"),vc=new fc("polygon"),wc=new fc("rect"),xc=new fc("svg"),yc=new fc("text"),zc=new fc("tspan");var Ac=null,Bc=0,Cc=null;function B(a,b,c){a=document.createElementNS("http://www.w3.org/2000/svg",String(a));for(var d in b)a.setAttribute(d,b[d]);document.body.runtimeStyle&&(a.runtimeStyle=a.currentStyle=a.style);c&&c.appendChild(a);return a}function C(a,b){var c=a.getAttribute("class")||"";a.setAttribute("class",c+" "+b)}
function Dc(a,b){for(var c=(a.getAttribute("class")||"").split(/\s+/),d=0;d<c.length;d++)c[d]&&c[d]!=b||(c.splice(d,1),d--);c.length?a.setAttribute("class",c.join(" ")):a.removeAttribute("class")}function Ec(a,b){return-1!=(" "+(a.getAttribute("class")||"")+" ").indexOf(" "+b+" ")}function D(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function Fc(a,b){var c=b.nextSibling;b=b.parentNode;if(!b)throw Error("Reference node has no parent.");c?b.insertBefore(a,c):b.appendChild(a)}
function Gc(a,b){a.style.transform=b;a.style["-webkit-transform"]=b}function Hc(){Bc++;Ac||(Ac=Object.create(null))}function Ic(){Bc--;Bc||(Ac=null)}function Jc(a,b,c,d){var e=a.textContent;a=e+"\n"+a.className.baseVal;var f;if(Ac&&(f=Ac[a]))return f;Cc||(f=document.createElement("canvas"),f.className="blocklyComputeCanvas",document.body.appendChild(f),Cc=f.getContext("2d"));Cc.font=c+" "+b+" "+d;f=Cc.measureText(e).width;Ac&&(Ac[a]=f);return f}
function Kc(a,b,c,d){var e=document.createElement("span");e.style.font=c+" "+b+" "+d;e.textContent=a;a=document.createElement("div");a.style.width="1px";a.style.height=0;b=document.createElement("div");b.style.display="flex";b.style.position="fixed";b.style.top=0;b.style.left=0;b.appendChild(e);b.appendChild(a);document.body.appendChild(b);try{c={},b.style.alignItems="baseline",c.Gc=a.offsetTop-e.offsetTop,b.style.alignItems="flex-end",c.height=a.offsetTop-e.offsetTop}finally{document.body.removeChild(b)}return c}
;

function Lc(a,b,c,d,e){this.g=a;b=void 0===b?!0:b;c=void 0===c?!0:c;var f=b&&c;b&&(this.ya=new Mc(a,!0,f,d,e));c&&(this.na=new Mc(a,!1,f,d,e));f&&(this.ii=B(wc,{height:Nc,width:Nc,"class":"blocklyScrollbarBackground"},null),Fc(this.ii,a.qd));this.oa=null}g=Lc.prototype;g.o=function(){D(this.ii);this.oa=this.g=this.ii=null;this.ya&&(this.ya.o(),this.ya=null);this.na&&(this.na.o(),this.na=null)};
g.resize=function(){var a=this.g.Tb();if(a){var b=!1,c=!1;this.oa&&this.oa.ob==a.ob&&this.oa.mb==a.mb&&this.oa.Ob==a.Ob&&this.oa.Fb==a.Fb?(this.oa&&this.oa.scrollWidth==a.scrollWidth&&this.oa.Zc==a.Zc&&this.oa.scrollLeft==a.scrollLeft||(b=!0),this.oa&&this.oa.scrollHeight==a.scrollHeight&&this.oa.$c==a.$c&&this.oa.scrollTop==a.scrollTop||(c=!0)):c=b=!0;if(b||c){try{w++,this.ya&&b&&this.ya.resize(a),this.na&&c&&this.na.resize(a)}finally{w--}Oc(this.g)}this.ya&&this.na&&(this.oa&&this.oa.ob==a.ob&&
this.oa.Fb==a.Fb||this.ii.setAttribute("x",this.na.position.x),this.oa&&this.oa.mb==a.mb&&this.oa.Ob==a.Ob||this.ii.setAttribute("y",this.ya.position.y));this.oa=a}};g.Bl=function(a,b){this.ya&&this.ya.Bl(a,b);this.na&&this.na.Bl(a,b)};g.set=function(a,b,c){this.ya&&this.ya.set(a,!1);this.na&&this.na.set(b,!1);if(c||void 0===c)a={},this.ya&&(a.x=Pc(this.ya)),this.na&&(a.y=Pc(this.na)),this.g.ej(a)};g.pg=function(a){this.ya&&this.ya.pg(a);this.na&&this.na.pg(a)};
g.isVisible=function(){var a=!1;this.ya&&(a=this.ya.isVisible());this.na&&(a=a||this.na.isVisible());return a};
function Mc(a,b,c,d,e){this.g=a;this.sf=c||!1;this.Zf=b;this.dg=void 0!==e?e:.5;this.ratio=this.oa=null;this.ae(d);this.position=new n(0,0);a=Nc;b?(this.Cb.setAttribute("height",a),this.Kd.setAttribute("height",a),this.Bc.setAttribute("height",a-5),this.Bc.setAttribute("y",2.5),this.Sk="width",this.mr="x"):(this.Cb.setAttribute("width",a),this.Kd.setAttribute("width",a),this.Bc.setAttribute("width",a-5),this.Bc.setAttribute("x",2.5),this.Sk="height",this.mr="y");this.gr=r(this.Cb,"mousedown",this,
this.au);this.ir=r(this.Bc,"mousedown",this,this.bu)}var Qc,Rc;g=Mc.prototype;g.lo=new n(0,0);g.Dr=0;g.Vc=0;g.$e=0;g.Ai=0;g.yc=!0;g.Rf=!0;var Nc=15;vb&&(Nc=25);g=Mc.prototype;g.o=function(){Sc();t(this.gr);this.gr=null;t(this.ir);this.ir=null;D(this.Kd);this.Cb=this.u=this.Kd=null;this.Bc&&(this.g.ab.unsubscribe(this.Bc),this.Bc=null);this.g=null};function Tc(a,b){return b=0>=b||isNaN(b)?0:Math.min(b,a.Vc)}function Uc(a,b){a.$e=b;a.Bc.setAttribute(a.Sk,a.$e)}
function Vc(a,b){return b=0>=b||isNaN(b)?0:Math.min(b,a.Vc-a.$e)}function Wc(a,b){a.Ai=b;a.Bc.setAttribute(a.mr,a.Ai)}function Xc(a,b){a.Vc=b;a.Kd.setAttribute(a.Sk,a.Vc);a.Cb.setAttribute(a.Sk,a.Vc)}g.setPosition=function(a,b){this.position.x=a;this.position.y=b;Gc(this.Kd,"translate("+(this.position.x+this.lo.x)+"px,"+(this.position.y+this.lo.y)+"px)")};
g.resize=function(a){if(!a&&(a=this.g.Tb(),!a))return;var b;(b=!this.oa)||(b=this.oa,b=!(a.ob==b.ob&&a.mb==b.mb&&a.Zc==b.Zc&&a.$c==b.$c&&a.Ob==b.Ob&&a.Fb==b.Fb&&a.scrollWidth==b.scrollWidth&&a.scrollHeight==b.scrollHeight&&a.scrollLeft==b.scrollLeft&&a.scrollTop==b.scrollTop));b&&(this.Zf?(b=a,Yc(this,b)?Zc(this,b):$c(this,b)):(b=a,Yc(this,b)?ad(this,b):bd(this,b)),this.oa=a,cd(this))};function Yc(a,b){return a.oa?a.oa.ob!==b.ob||a.oa.mb!==b.mb||a.oa.Fb!==b.Fb||a.oa.Ob!==b.Ob:!0}
function Zc(a,b){var c=b.ob-2*a.dg;a.sf&&(c-=Nc);Xc(a,Math.max(0,c));c=b.Fb+a.dg;a.sf&&a.g.s&&(c+=Nc);a.setPosition(c,b.Ob+b.mb-Nc-a.dg);$c(a,b)}function $c(a,b){if(b.ob>=b.scrollWidth)Uc(a,a.Vc),Wc(a,0),a.sf||a.ma(!1);else{a.sf||a.ma(!0);var c=a.Vc*b.ob/b.scrollWidth;c=Tc(a,c);Uc(a,c);c=b.scrollWidth-b.ob;var d=a.Vc-a.$e;b=(b.Zc-b.scrollLeft)/c*d;b=Vc(a,b);Wc(a,b);a.ratio=d/c}}
function ad(a,b){var c=b.mb-2*a.dg;a.sf&&(c-=Nc);Xc(a,Math.max(0,c));a.setPosition(a.g.s?b.Fb+a.dg:b.Fb+b.ob-Nc-a.dg,b.Ob+a.dg);bd(a,b)}function bd(a,b){if(b.mb>=b.scrollHeight)Uc(a,a.Vc),Wc(a,0),a.sf||a.ma(!1);else{a.sf||a.ma(!0);var c=a.Vc*b.mb/b.scrollHeight;c=Tc(a,c);Uc(a,c);c=b.scrollHeight-b.mb;var d=a.Vc-a.$e;b=(b.$c-b.scrollTop)/c*d;b=Vc(a,b);Wc(a,b);a.ratio=d/c}}
g.ae=function(a){var b="blocklyScrollbar"+(this.Zf?"Horizontal":"Vertical");a&&(b+=" "+a);this.Kd=B(xc,{"class":b},null);this.u=B(qc,{},this.Kd);this.Cb=B(wc,{"class":"blocklyScrollbarBackground"},this.u);a=Math.floor((Nc-5)/2);this.Bc=B(wc,{"class":"blocklyScrollbarHandle",rx:a,ry:a},this.u);this.g.ab.subscribe(this.Bc,"scrollbarColour","fill");this.g.ab.subscribe(this.Bc,"scrollbarOpacity","fill-opacity");Fc(this.Kd,E(this.g))};g.isVisible=function(){return this.yc};
g.pg=function(a){var b=a!=this.Rf;this.Rf=a;b&&this.wj()};g.ma=function(a){var b=a!=this.isVisible();if(this.sf)throw Error("Unable to toggle visibility of paired scrollbars.");this.yc=a;b&&this.wj()};g.wj=function(){this.Rf&&this.isVisible()?this.Kd.setAttribute("display","block"):this.Kd.setAttribute("display","none")};
g.au=function(a){dd(this.g);wb=null;Sc();if(eb(a))a.stopPropagation();else{var b=fb(a,E(this.g),ed(this.g));b=this.Zf?b.x:b.y;var c=db(this.Bc);c=this.Zf?c.x:c.y;var d=this.Ai,e=.95*this.$e;b<=c?d-=e:b>=c+this.$e&&(d+=e);Wc(this,Vc(this,d));cd(this);a.stopPropagation();a.preventDefault()}};
g.bu=function(a){dd(this.g);Sc();eb(a)?a.stopPropagation():(this.zu=this.Ai,fd(this.g),this.Dr=this.Zf?a.clientX:a.clientY,Qc=r(document,"mouseup",this,this.iu),Rc=r(document,"mousemove",this,this.fu),a.stopPropagation(),a.preventDefault())};g.fu=function(a){Wc(this,Vc(this,this.zu+((this.Zf?a.clientX:a.clientY)-this.Dr)));cd(this)};g.iu=function(){gd(this.g);wb=null;Sc()};function Sc(){hd(!0);Qc&&(t(Qc),Qc=null);Rc&&(t(Rc),Rc=null)}function Pc(a){a=a.Ai/(a.Vc-a.$e);isNaN(a)&&(a=0);return a}
function cd(a){var b=Pc(a),c={};a.Zf?c.x=b:c.y=b;a.g.ej(c)}g.set=function(a,b){Wc(this,Vc(this,a*this.ratio));(b||void 0===b)&&cd(this)};g.Bl=function(a,b){this.lo=new n(a,b)};function id(a,b,c){if(c<a){var d=c;c=a;a=d}return Math.max(a,Math.min(b,c))};
function jd(){this.Gd=null;this.Eb=void 0;this.group=Xb;this.Bb=Yb}g=jd.prototype;g.tn=!1;g.S=function(){var a={type:this.type};this.group&&(a.group=this.group);return a};g.N=function(a){this.Gd=!1;this.group=a.group};g.Qk=function(){return!1};g.run=function(){};function kd(a){if(a.Eb)var b=cc[a.Eb]||null;if(!b)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return b};function F(a,b){a.j=b.prototype;a.prototype=Object.create(b.prototype);a.prototype.constructor=a}function ld(a,b){for(var c in b)a[c]=b[c]}function md(a){return Object.values?Object.values(a):Object.keys(a).map(function(b){return a[b]})};function G(a){return document.createElementNS("https://developers.google.com/blockly/xml",a)};function nd(a,b){if(a.Jb()&&(a=od(a,!1)[0],!a))return new DocumentFragment;var c;a.h.s&&(c=a.h.oe());b=pd(a,b);var d=a.ea();b.setAttribute("x",Math.round(a.h.s?c-d.x:d.x));b.setAttribute("y",Math.round(d.y));return b}
function pd(a,b){if(a.Jb())return(a=od(a,!1)[0])?pd(a):new DocumentFragment;var c=G(a.W?"shadow":"block");c.setAttribute("type",a.type);b||c.setAttribute("id",a.id);if(a.sa){var d=a.sa();d&&(d.hasChildNodes()||d.hasAttributes())&&c.appendChild(d)}d=0;for(var e;e=a.B[d];d++)for(var f=0,h;h=e.$[f];f++){var l=!1;h.name&&(h.Nf?l=!0:h.Ih&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),
l=!0));l?(l=G("field"),l.setAttribute("name",h.name||""),h=h.Lr(l)):h=null;h&&c.appendChild(h)}if(d=a.pc.text)e=a.pc.size,f=a.pc.uo,h=G("comment"),h.appendChild(document.createTextNode(d)),h.setAttribute("pinned",f),h.setAttribute("h",e.height),h.setAttribute("w",e.width),c.appendChild(h);a.data&&(d=G("data"),d.appendChild(document.createTextNode(a.data)),c.appendChild(d));for(d=0;e=a.B[d];d++){var m;f=!0;5!=e.type&&(l=e.connection.H(),1==e.type?m=G("value"):3==e.type&&(m=G("statement")),h=e.connection.dh(),
!h||l&&l.W||m.appendChild(qd(h,b)),l&&(h=pd(l,b),h.nodeType==Node.ELEMENT_NODE&&(m.appendChild(h),f=!1)),m.setAttribute("name",e.name),f||c.appendChild(m))}void 0!=a.qe&&a.qe!=a.Nt&&c.setAttribute("inline",a.qe);a.isCollapsed()&&c.setAttribute("collapsed",!0);a.isEnabled()||c.setAttribute("disabled",!0);a.Pc()||a.W||c.setAttribute("deletable",!1);a.hb()||a.W||c.setAttribute("movable",!1);a.Yb()||c.setAttribute("editable",!1);if(d=tb(a))h=pd(d,b),h.nodeType==Node.ELEMENT_NODE&&(m=G("next"),m.appendChild(h),
c.appendChild(m));h=a.C&&a.C.dh();!h||d&&d.W||m.appendChild(qd(h,b));return c}function qd(a,b){for(var c=a=a.cloneNode(!0),d;c;)if(b&&"shadow"==c.nodeName&&c.removeAttribute("id"),c.firstChild)c=c.firstChild;else{for(;c&&!c.nextSibling;)d=c,c=c.parentNode,d.nodeType==Node.TEXT_NODE&&""==d.data.trim()&&c.firstChild!=d&&D(d);c&&(d=c,c=c.nextSibling,d.nodeType==Node.TEXT_NODE&&""==d.data.trim()&&D(d))}return a}
function rd(a){return(new XMLSerializer).serializeToString(a).replace(/<(\w+)([^<]*)\/>/g,"<$1$2></$1>")}function sd(a){var b=(new DOMParser).parseFromString(a,"text/xml");if(!b||!b.documentElement||b.getElementsByTagName("parsererror").length)throw Error("textToDom was unable to parse: "+a);return b.documentElement}
function td(a,b){var c;b.s&&(c=b.oe());var d=[];Hc();var e=Xb;e||z(!0);b.Lb&&b.Lb(!1);var f=!0;try{for(var h=0,l;l=a.childNodes[h];h++){var m=l.nodeName.toLowerCase(),p=l;if("block"==m||"shadow"==m&&!Yb){var q=ud(p,b);d.push(q.id);var u=p.hasAttribute("x")?parseInt(p.getAttribute("x"),10):10,y=p.hasAttribute("y")?parseInt(p.getAttribute("y"),10):10;isNaN(u)||isNaN(y)||q.moveBy(b.s?c-u:u,y);f=!1}else{if("shadow"==m)throw TypeError("Shadow block cannot be a top-level block.");if("variables"==m){if(f)for(var O=
void 0,Pa=b,na=0;O=p.childNodes[na];na++){if(O.nodeType==Node.ELEMENT_NODE){var kb=O.getAttribute("type"),Ze=O.getAttribute("id");Pa.ad(O.textContent,kb,Ze)}}else throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");f=!1}}}}finally{e||z(!1),Ic()}b.Lb&&b.Lb(!0);x(new (A("finished_loading"))(b))}
function ud(a,b){if(a instanceof vd){var c=a;a=b;b=c;console.warn("Deprecated call to Blockly.Xml.domToBlock, swap the arguments.")}w++;c=b.Tf();try{var d=wd(a,b),e=sb(d,!1);if(b.J){xd(d,!1);for(var f=e.length-1;0<=f;f--)e[f].kd();for(f=e.length-1;0<=f;f--)e[f].P(!1);setTimeout(function(){d.Kc||xd(d,!0)},1);yd(d);zd(b)}else for(f=e.length-1;0<=f;f--)e[f].$f()}finally{w--}if(0==w){a=Ad(b,c);for(f=0;f<a.length;f++)b=a[f],x(new (A("var_create"))(b));x(new (A("create"))(d))}return d}
function Bd(a,b){for(var c=0,d;d=a[c];c++){var e=d.textContent,f="true"==d.getAttribute("pinned"),h=parseInt(d.getAttribute("w"),10);d=parseInt(d.getAttribute("h"),10);b.Bf(e);b.pc.uo=f;isNaN(h)||isNaN(d)||(b.pc.size=new Ha(h,d));f&&b.yt&&!b.Ja&&setTimeout(function(){b.Ic.ma(!0)},1)}}function Cd(a){for(var b={Yh:null,Zh:null},c=0,d;d=a.childNodes[c];c++)d.nodeType==Node.ELEMENT_NODE&&("block"==d.nodeName.toLowerCase()?b.Yh=d:"shadow"==d.nodeName.toLowerCase()&&(b.Zh=d));return b}
function wd(a,b,c,d){var e=a.getAttribute("type");if(!e)throw TypeError("Block type unspecified: "+a.outerHTML);var f=a.getAttribute("id");f=b.mf(e,f);for(var h=[],l=[],m=[],p=[],q=[],u=[],y=0,O;O=a.childNodes[y];y++)if(O.nodeType!=Node.TEXT_NODE)switch(O.nodeName.toLowerCase()){case "mutation":h.push(O);break;case "comment":if(!Dd){console.warn("Missing require for Blockly.Comment, ignoring block comment.");break}l.push(O);break;case "data":m.push(O);break;case "title":case "field":p.push(O);break;
case "value":case "statement":q.push(O);break;case "next":u.push(O);break;default:console.warn("Ignoring unknown tag: "+O.nodeName)}y=!1;O=0;for(var Pa;Pa=h[O];O++)f.Na&&(f.Na(Pa),f.kd&&(y=!0));h=y;Bd(l,f);for(l=0;y=m[l];l++)f.data=y.textContent;if(c)if(d)if(f.G)c.connect(f.G);else throw TypeError("Next block does not have previous statement.");else if(f.v)c.connect(f.v);else if(f.G)c.connect(f.G);else throw TypeError("Child block does not have output or previous statement.");for(c=0;l=p[c];c++)m=
l.getAttribute("name"),d=f,(y=Ed(d,m))?y.Bk(l):console.warn("Ignoring non-existent field "+m+" in block "+d.type);for(p=0;d=q[p];p++){m=d.getAttribute("name");c=H(f,m);if(!c){console.warn("Ignoring non-existent input "+m+" in block "+e);break}d=Cd(d);if(d.Yh){if(!c.connection)throw TypeError("Input connection does not exist.");wd(d.Yh,b,c.connection,!1)}d.Zh&&c.connection.hj(d.Zh)}for(e=0;q=u[e];e++){q=Cd(q);if(q.Yh){if(!f.C)throw TypeError("Next statement does not exist.");if(f.C.isConnected())throw TypeError("Next statement is already connected.");
wd(q.Yh,b,f.C,!0)}q.Zh&&f.C&&f.C.hj(q.Zh)}h&&f.kd();(b=a.getAttribute("inline"))&&f.Wc("true"==b);(b=a.getAttribute("disabled"))&&f.bc("true"!=b&&"disabled"!=b);if(b=a.getAttribute("deletable"))f.xm="true"==b;(b=a.getAttribute("movable"))&&f.Al("true"==b);(b=a.getAttribute("editable"))&&f.Io("true"==b);(b=a.getAttribute("collapsed"))&&f.Af("true"==b);if("shadow"==a.nodeName.toLowerCase()){a=od(f,!1);for(b=0;u=a[b];b++)if(!u.W)throw TypeError("Shadow block not allowed non-shadow child.");if(f.me().length)throw TypeError("Shadow blocks cannot have variable references.");
f.Lo(!0)}return f};function Fd(a){Fd.j.constructor.call(this);this.ga=(this.Gd="undefined"==typeof a)?"":a.id;this.Eb=this.Gd?"":a.h.id}F(Fd,jd);Fd.prototype.S=function(){var a=Fd.j.S.call(this);a.blockId=this.ga;return a};Fd.prototype.N=function(a){Fd.j.N.call(this,a);this.ga=a.blockId};function Gd(a,b,c,d,e){Gd.j.constructor.call(this,a);a&&(this.element="undefined"==typeof b?"":b,this.name="undefined"==typeof c?"":c,this.oldValue="undefined"==typeof d?"":d,this.newValue="undefined"==typeof e?"":e)}F(Gd,Fd);g=Gd.prototype;
g.type="change";g.S=function(){var a=Gd.j.S.call(this);a.element=this.element;this.name&&(a.name=this.name);a.oldValue=this.oldValue;a.newValue=this.newValue;return a};g.N=function(a){Gd.j.N.call(this,a);this.element=a.element;this.name=a.name;this.oldValue=a.oldValue;this.newValue=a.newValue};g.Qk=function(){return this.oldValue==this.newValue};
g.run=function(a){var b=kd(this).fc(this.ga);if(b)switch(b.Ab&&b.Ab.ma(!1),a=a?this.newValue:this.oldValue,this.element){case "field":(b=Ed(b,this.name))?b.Oa(a):console.warn("Can't set non-existent field: "+this.name);break;case "comment":b.Bf(a||null);break;case "collapsed":b.Af(!!a);break;case "disabled":b.bc(!a);break;case "inline":b.Wc(!!a);break;case "mutation":var c="";b.sa&&(c=(c=b.sa())&&rd(c));if(b.Na){var d=sd(a||"<mutation/>");b.Na(d)}x(new Gd(b,"mutation",null,c,a));break;default:console.warn("Unknown change type: "+
this.element)}else console.warn("Can't change non-existent block: "+this.ga)};function Hd(a){Hd.j.constructor.call(this,a);a&&(a.W&&(this.Bb=!1),this.xml=a.h.J?nd(a):pd(a),this.ef=dc(a))}F(Hd,Fd);Hd.prototype.type="create";Hd.prototype.S=function(){var a=Hd.j.S.call(this);a.xml=rd(this.xml);a.ids=this.ef;this.Bb||(a.recordUndo=this.Bb);return a};Hd.prototype.N=function(a){Hd.j.N.call(this,a);this.xml=sd(a.xml);this.ef=a.ids;void 0!==a.recordUndo&&(this.Bb=a.recordUndo)};
Hd.prototype.run=function(a){var b=kd(this);if(a)a=G("xml"),a.appendChild(this.xml),td(a,b);else{a=0;for(var c;c=this.ef[a];a++){var d=b.fc(c);d?d.o(!1):c==this.ga&&console.warn("Can't uncreate non-existent block: "+c)}}};function Id(a){Id.j.constructor.call(this,a);if(a){if(a.getParent())throw Error("Connected blocks cannot be deleted.");a.W&&(this.Bb=!1);this.oh=a.h.J?nd(a):pd(a);this.ef=dc(a)}}F(Id,Fd);Id.prototype.type="delete";
Id.prototype.S=function(){var a=Id.j.S.call(this);a.oldXml=rd(this.oh);a.ids=this.ef;this.Bb||(a.recordUndo=this.Bb);return a};Id.prototype.N=function(a){Id.j.N.call(this,a);this.oh=sd(a.oldXml);this.ef=a.ids;void 0!==a.recordUndo&&(this.Bb=a.recordUndo)};Id.prototype.run=function(a){var b=kd(this);if(a){a=0;for(var c;c=this.ef[a];a++){var d=b.fc(c);d?d.o(!1):c==this.ga&&console.warn("Can't delete non-existent block: "+c)}}else a=G("xml"),a.appendChild(this.oh),td(a,b)};
function Jd(a){Jd.j.constructor.call(this,a);a&&(a.W&&(this.Bb=!1),a=Kd(this),this.Zq=a.jr,this.Vq=a.uq,this.Qn=a.Np)}F(Jd,Fd);g=Jd.prototype;g.type="move";g.S=function(){var a=Jd.j.S.call(this);this.jg&&(a.newParentId=this.jg);this.hg&&(a.newInputName=this.hg);this.nf&&(a.newCoordinate=Math.round(this.nf.x)+","+Math.round(this.nf.y));this.Bb||(a.recordUndo=this.Bb);return a};
g.N=function(a){Jd.j.N.call(this,a);this.jg=a.newParentId;this.hg=a.newInputName;if(a.newCoordinate){var b=a.newCoordinate.split(",");this.nf=new n(Number(b[0]),Number(b[1]))}void 0!==a.recordUndo&&(this.Bb=a.recordUndo)};function Ld(a){var b=Kd(a);a.jg=b.jr;a.hg=b.uq;a.nf=b.Np}function Kd(a){var b=kd(a).fc(a.ga);a={};var c=b.getParent();if(c){if(a.jr=c.id,b=Md(c,b))a.uq=b.name}else a.Np=b.ea();return a}g.Qk=function(){return this.Zq==this.jg&&this.Vq==this.hg&&wa(this.Qn,this.nf)};
g.run=function(a){var b=kd(this),c=b.fc(this.ga);if(c){var d=a?this.jg:this.Zq,e=a?this.hg:this.Vq,f=a?this.nf:this.Qn;a=null;if(d&&(a=b.fc(d),!a)){console.warn("Can't connect to non-existent block: "+d);return}c.getParent()&&Nd(c);if(f)e=c.ea(),c.moveBy(f.x-e.x,f.y-e.y);else{c=c.v||c.G;b=c.type;if(e){if(a=H(a,e))var h=a.connection}else 4==b&&(h=a.C);h?c.connect(h):console.warn("Can't connect to non-existent input: "+e)}}else console.warn("Can't move non-existent block: "+this.ga)};
v(Mb,"create",Hd);v(Mb,"delete",Id);v(Mb,"change",Gd);v(Mb,"move",Jd);function Od(a,b){this.m=a;this.type=b}g=Od.prototype;g.L=null;g.Kc=!1;g.Tg=null;g.Dl=null;g.x=0;g.y=0;g.ik=function(a){var b=this.D(),c=a.D();a.isConnected()&&a.disconnect();if(this.isConnected()){var d=this.dh(!0);this.Dl=null;var e=this.H();if(e.W)e.o(!1);else{this.disconnect();var f=e}this.Dl=d}var h;0==w&&(h=new (A("move"))(c));if(!this||!a)throw Error("Cannot connect null connections.");this.L=a;a.L=this;c.Cl(b);h&&(Ld(h),x(h));f&&(a=1===this.type?f.v:f.G,(c=Pd(c,a))?a.connect(c):a.Wn(this))};
g.o=function(){if(this.isConnected()){this.hj(null);var a=this.H();a&&Nd(a)}this.Kc=!0};g.D=function(){return this.m};function Qd(a){return 1==a.type||3==a.type}g.isConnected=function(){return!!this.L};g.Wn=function(){};g.connect=function(a){if(this.L!=a&&0==Rd(this,a,!1)){var b=Xb;b||z(!0);Qd(this)?this.ik(a):a.ik(this);b||z(!1)}};function Sd(a,b){var c=null;b=b.v;for(var d=0,e;e=a.B[d];d++)if((e=e.connection)&&0==Rd(b,e,!1)){if(c)return null;c=e}return c}
function Pd(a,b){if(2===b.type){a:{b=b.D();for(var c;c=Sd(a,b);)if(a=c.H(),!a||a.W){b=c;break a}b=null}return b}return(a=a.Rk(!0))&&0==Rd(b,a,!1)?a:null}g.disconnect=function(){var a=this.L;if(!a)throw Error("Source connection not connected.");if(a.L!=this)throw Error("Target connection not connected to source connection.");if(Qd(this)){var b=this.m;var c=a.D();a=this}else b=a.D(),c=this.m;var d=Xb;d||z(!0);this.Am(b,c);c.W||a.aj();d||z(!1)};
g.Am=function(a,b){var c;0==w&&(c=new (A("move"))(b));this.L=this.L.L=null;b.Cl(null);c&&(Ld(c),x(c))};g.aj=function(){var a=this.D(),b=this.dh();if(a.h&&b)if(a=ud(b,a.h),a.v)this.connect(a.v);else if(a.G)this.connect(a.G);else throw Error("Child block does not have output or previous statement.");};g.H=function(){return this.isConnected()?this.L.D():null};g.dr=function(){!this.isConnected()||this.L&&0==Rd(this,this.L,!1)||Nd(Qd(this)?this.H():this.m)};
g.rb=function(a){a?(Array.isArray(a)||(a=[a]),this.Tg=a,this.dr()):this.Tg=null;return this};g.hj=function(a){this.Dl=a;a=this.H();a?a.W&&(a.o(!1),this.aj()):this.aj()};g.dh=function(a){return a&&this.H().W?pd(this.H()):this.Dl};g.Pq=function(){return[]};g.Dd=function(){for(var a=null,b=this.m.B,c=0;c<b.length;c++)if(b[c].connection===this){a=b[c];break}return a};function Rd(a,b,c,d){if(a&&b){if(Qd(a)){var e=a.D();var f=b.D()}else f=a.D(),e=b.D();e=e==f?1:b.type!=oa[a.type]?2:e.h!==f.h?5:e.W&&!f.W?6:0}else e=3;return 0!=e?e:Td(a,b)?c&&!Ud(a,b,d||0)?7:0:4}function Td(a,b){a=a.Tg;b=b.Tg;if(!a||!b)return!0;for(var c=0;c<a.length;c++)if(-1!=b.indexOf(a[c]))return!0;return!1}
function Ud(a,b,c){if(Vd(a,b)>c||b.D().Jb())return!1;switch(b.type){case 4:return a.L||-1!=Wd.indexOf(b)?a=!1:b.L?(a=b.H(),a=a.Jb()?!(a.G&&a.G.H()):!1):a=!0,a;case 2:if(b.isConnected()&&!b.H().Jb()||a.isConnected())return!1;break;case 1:if(b.isConnected()&&!b.H().hb()&&!b.H().W)return!1;break;case 3:if(b.isConnected()&&!a.D().C&&!b.H().W&&b.H().C)return!1;break;default:return!1}return-1!=Wd.indexOf(b)?!1:!0}v(Kb,"default",function(){});function Xd(){this.name="classic";v(Qb,"classic",this)}Xd.prototype.fd=function(){return this.name+"-theme"};var Yd={};Yd=new Xd;function Zd(a){if(!a)return null;if(a instanceof Element||"string"==typeof a){if(a){if("string"!=typeof a&&(La&&a.outerHTML?a=a.outerHTML:a instanceof Element||(a=null)),"string"==typeof a&&(a=sd(a),"xml"!=a.nodeName.toLowerCase()))throw TypeError("Toolbox should be an <xml> document.");}else a=null;var b={contents:$d(a)};a instanceof Node&&ae(a,b);a=b}b=a.kind;var c=a.contents;if(b&&"flyoutToolbox"!=b&&"categoryToolbox"!=b)throw Error("Invalid toolbox kind "+b+". Please supply either flyoutToolbox or categoryToolbox");
if(!c)throw Error("Toolbox must have a contents attribute.");return a}function be(a){return a?a.contents?a.contents:Array.isArray(a)&&0<a.length&&!a[0].nodeType?a:$d(a):[]}function ce(a){if(!a)return!1;var b=a.kind;return b?"categoryToolbox"==b:!!a.contents.filter(function(c){return"CATEGORY"==c.kind.toUpperCase()}).length}
function $d(a){var b=[],c=a.childNodes;c||(c=a);a=0;for(var d;d=c[a];a++)if(d.tagName){var e={},f=d.tagName.toUpperCase();e.kind=f;"BLOCK"==f?e.blockxml=d:d.childNodes&&0<d.childNodes.length&&(e.contents=$d(d));ae(d,e);b.push(e)}return b}function ae(a,b){for(var c=0;c<a.attributes.length;c++){var d=a.attributes[c];-1<d.nodeName.indexOf("css-")?(b.cssconfig=b.cssconfig||{},b.cssconfig[d.nodeName.replace("css-","")]=d.value):b[d.nodeName]=d.value}};function de(a){var b=!!a.readOnly;if(b)var c=null,d=!1,e=!1,f=!1,h=!1,l=!1,m=!1;else{c=Zd(a.toolbox);d=ce(c);e=a.trashcan;void 0===e&&(e=d);var p=a.maxTrashcanContents;e?void 0===p&&(p=32):p=0;f=a.collapse;void 0===f&&(f=d);h=a.comments;void 0===h&&(h=d);l=a.disable;void 0===l&&(l=d);m=a.sounds;void 0===m&&(m=!0)}var q=!!a.rtl;var u="end"!==a.toolboxPosition==q?3:2;var y=a.css;void 0===y&&(y=!0);var O="https://blockly-demo.appspot.com/static/media/";a.media?O=a.media:a.path&&(O=a.path+"media/");var Pa=
void 0===a.oneBasedIndex?!0:!!a.oneBasedIndex,na=a.renderer||"geras",kb=a.plugins||{};this.s=q;this.ye=Pa;this.collapse=f;this.ai=h;this.disable=l;this.readOnly=b;this.In=a.maxBlocks||Infinity;this.Vk=a.maxInstances;this.uf=O;this.kq=d;b=a.move||{};f={};void 0===b.scrollbars&&void 0===a.scrollbars?f.scrollbars=d:"object"==typeof b.scrollbars?(f.scrollbars={},f.scrollbars.Ci=!!b.scrollbars.horizontal,f.scrollbars.vertical=!!b.scrollbars.vertical,f.scrollbars.Ci&&f.scrollbars.vertical?f.scrollbars=
!0:f.scrollbars.Ci||f.scrollbars.vertical||(f.scrollbars=!1)):f.scrollbars=!!b.scrollbars||!!a.scrollbars;f.Eh=f.scrollbars&&void 0!==b.wheel?!!b.wheel:"object"==typeof f.scrollbars;f.je=f.scrollbars?void 0===b.drag?!0:!!b.drag:!1;this.Kb=f;this.nq=e;this.Wk=p;this.Kt=m;this.It=y;this.Jd=c;c=a.grid||{};d={};d.spacing=Number(c.spacing)||0;d.fk=c.colour||"#888";d.length=void 0===c.length?1:Number(c.length);d.zv=0<d.spacing&&!!c.snap;this.jq=d;c=a.zoom||{};d={};d.controls=void 0===c.controls?!1:!!c.controls;
d.Eh=void 0===c.wheel?!1:!!c.wheel;d.Er=void 0===c.startScale?1:Number(c.startScale);d.Mi=void 0===c.maxScale?3:Number(c.maxScale);d.Oi=void 0===c.minScale?.3:Number(c.minScale);d.zr=void 0===c.scaleSpeed?1.2:Number(c.scaleSpeed);d.lr=void 0===c.pinch?d.Eh||d.controls:!!c.pinch;this.Ga=d;this.bb=u;this.Zi=na;this.$i=a.rendererOverrides;this.fn=null;this.Sa=a.parentWorkspace;this.plugins=kb};function ee(a){ee.j.constructor.call(this);this.If=(this.Gd="undefined"==typeof a)?"":a.T();this.Eb=this.Gd?"":a.h.id}F(ee,jd);ee.prototype.S=function(){var a=ee.j.S.call(this);a.varId=this.If;return a};ee.prototype.N=function(a){ee.j.S.call(this);this.If=a.varId};function fe(a){fe.j.constructor.call(this,a);a&&(this.zg=a.type,this.yg=a.name)}F(fe,ee);fe.prototype.type="var_create";fe.prototype.S=function(){var a=fe.j.S.call(this);a.varType=this.zg;a.varName=this.yg;return a};
fe.prototype.N=function(a){fe.j.N.call(this,a);this.zg=a.varType;this.yg=a.varName};fe.prototype.run=function(a){var b=kd(this);a?b.ad(this.yg,this.zg,this.If):b.ge(this.If)};function ge(a){ge.j.constructor.call(this,a);a&&(this.zg=a.type,this.yg=a.name)}F(ge,ee);ge.prototype.type="var_delete";ge.prototype.S=function(){var a=ge.j.S.call(this);a.varType=this.zg;a.varName=this.yg;return a};ge.prototype.N=function(a){ge.j.N.call(this,a);this.zg=a.varType;this.yg=a.varName};
ge.prototype.run=function(a){var b=kd(this);a?b.ge(this.If):b.ad(this.yg,this.zg,this.If)};function he(a,b){he.j.constructor.call(this,a);a&&(this.Rn=a.name,this.On="undefined"==typeof b?"":b)}F(he,ee);he.prototype.type="var_rename";he.prototype.S=function(){var a=he.j.S.call(this);a.oldName=this.Rn;a.newName=this.On;return a};he.prototype.N=function(a){he.j.N.call(this,a);this.Rn=a.oldName;this.On=a.newName};he.prototype.run=function(a){var b=kd(this);a?b.yf(this.If,this.On):b.yf(this.If,this.Rn)};
v(Mb,"var_create",fe);v(Mb,"var_delete",ge);v(Mb,"var_rename",he);
function ie(a){this.X=Object.create(null);this.h=a}g=ie.prototype;g.clear=function(){this.X=Object.create(null)};g.yf=function(a,b){var c=this.jd(a);if(!c)throw Error("Tried to rename a variable that didn't exist. ID: "+a);a=this.Nc(b,c.type);var d=je(this.h);z(!0);try{if(a&&a.T()!=c.T()){var e=c.type;b!=a.name&&ke(a,b,d);for(b=0;b<d.length;b++)d[b].vl(c.T(),a.T());x(new (A("var_delete"))(c));this.X[e].splice(this.zi(e).indexOf(c),1)}else ke(c,b,d)}finally{z(!1)}};
function ke(a,b,c){x(new (A("var_rename"))(a,b));a.name=b;for(b=0;b<c.length;b++)c[b].Kl(a)}g.ad=function(a,b,c){var d=this.Nc(a,b);if(d){if(c&&d.T()!=c)throw Error('Variable "'+a+'" is already in use and its id is "'+d.T()+'" which conflicts with the passed in id, "'+c+'".');return d}if(c&&this.jd(c))throw Error('Variable id, "'+c+'", is already in use.');b=b||"";d=new le(this.h,a,b,c||lb());a=this.X[b]||[];a.push(d);delete this.X[b];this.X[b]=a;return d};
g.ge=function(a){var b=this.jd(a);if(b){var c=b.name,d=this.dn(a);a=0;for(var e;e=d[a];a++)if("procedures_defnoreturn"==e.type||"procedures_defreturn"==e.type){a=I(e,"NAME");c=k.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",c).replace("%2",a);me(c);return}var f=this;1<d.length?(c=k.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(d.length)).replace("%2",c),ne(c,function(h){h&&b&&oe(f,b,d)})):oe(f,b,d)}else console.warn("Can't delete non-existent variable: "+a)};
function oe(a,b,c){var d=Xb;d||z(!0);try{for(var e=0;e<c.length;e++)c[e].o(!0);var f=a.X[b.type];a=0;for(var h;h=f[a];a++)if(h.T()==b.T()){f.splice(a,1);x(new (A("var_delete"))(b));break}}finally{d||z(!1)}}g.Nc=function(a,b){if(b=this.X[b||""])for(var c=0,d;d=b[c];c++)if(pe(d.name,a))return d;return null};g.jd=function(a){for(var b=Object.keys(this.X),c=0;c<b.length;c++)for(var d=b[c],e=0,f;f=this.X[d][e];e++)if(f.T()==a)return f;return null};g.zi=function(a){return(a=this.X[a||""])?a.slice():[]};
g.cn=function(a){var b={};ld(b,this.X);a&&a.vf&&ld(b,a.vf.X);a=Object.keys(b);b=!1;for(var c=0;c<a.length;c++)""==a[c]&&(b=!0);b||a.push("");return a};g.Tf=function(){var a=[],b;for(b in this.X)a=a.concat(this.X[b]);return a};g.Um=function(){var a=[],b;for(b in this.X)for(var c=this.X[b],d=0,e;e=c[d];d++)a.push(e.name);return a};g.dn=function(a){for(var b=[],c=je(this.h),d=0;d<c.length;d++){var e=c[d].me();if(e)for(var f=0;f<e.length;f++)e[f].T()==a&&b.push(c[d])}return b};function vd(a){this.id=lb();cc[this.id]=this;this.options=a||new de({});this.s=!!this.options.s;this.bb=this.options.bb;new (Wb(Kb,this.options,!0))(this);this.sj=[];this.Jl=[];Object.create(null);this.Ya=[];this.wg=[];this.Wi=[];this.hm=Object.create(null);this.Me=Object.create(null);this.X=new ie(this);this.vf=null}g=vd.prototype;g.J=!1;g.rn=!1;g.op=1024;g.kk=null;g.o=function(){this.Ya.length=0;this.clear();delete cc[this.id]};
g.Td=function(a,b){a=a.ea();b=b.ea();return a.y+vd.prototype.Td.offset*a.x-(b.y+vd.prototype.Td.offset*b.x)};g.Wj=function(a){this.sj.push(a)};g.ul=function(a){if(!qb(this.sj,a))throw Error("Block not present in workspace's list of top-most blocks.");};g.fb=function(a){var b=[].concat(this.sj);a&&1<b.length&&(this.Td.offset=Math.sin(3*Math.PI/180),this.s&&(this.Td.offset*=-1),b.sort(this.Td));return b};function qe(a,b){return a.Me[b]?a.Me[b].slice(0):[]}
function je(a){var b=a.fb(!1);for(a=0;a<b.length;a++)b.push.apply(b,od(b[a],!1));return b.filter(function(c){return!c.Jb()})}g.clear=function(){this.rn=!0;try{var a=Xb;for(a||z(!0);this.sj.length;)this.sj[0].o(!1);for(;this.Jl.length;)this.Jl[this.Jl.length-1].o(!1);a||z(!1);this.X.clear();this.vf&&this.vf.clear()}finally{this.rn=!1}};g.yf=function(a,b){this.X.yf(a,b)};g.ad=function(a,b,c){return this.X.ad(a,b,c)};g.dn=function(a){return this.X.dn(a)};g.ge=function(a){this.X.ge(a)};
g.Nc=function(a,b){return this.X.Nc(a,b)};g.jd=function(a){return this.X.jd(a)};g.zi=function(a){return this.X.zi(a)};g.cn=function(){return this.X.cn(this)};g.Tf=function(){return this.X.Tf()};g.Um=function(){return this.X.Um()};g.oe=function(){return 0};g.mf=function(a,b){return new re(this,a,b)};function se(a){return isNaN(a.options.In)?Infinity:a.options.In-je(a).length}
function te(a,b){if(!ue(a))return!0;var c=0,d;for(d in b){if(b[d]>(a.options.Vk?(void 0!==a.options.Vk[d]?a.options.Vk[d]:Infinity)-qe(a,d).length:Infinity))return!1;c+=b[d]}return c>se(a)?!1:!0}function ue(a){return Infinity!=a.options.In||!!a.options.Vk}function ve(a,b){var c=b?a.Wi:a.wg;a=b?a.wg:a.Wi;var d=c.pop();if(d){for(var e=[d];c.length&&d.group&&d.group==c[c.length-1].group;)e.push(c.pop());for(c=0;d=e[c];c++)a.push(d);e=bc(e,b);Yb=!1;try{for(c=0;d=e[c];c++)d.run(b)}finally{Yb=!0}}}
function we(a,b){a.Ya.push(b)}g.fc=function(a){return this.hm[a]||null};g.No=function(a){this.X=a};var cc=Object.create(null);function xe(){var a=[],b;for(b in cc)a.push(cc[b]);return a};function ye(a,b,c,d,e,f){this.g=a;this.gi=b;this.xu=c;this.ao=this.$n=this.Ln=this.Do=null;this.Kc=!1;c=ze;this.g.s&&(c=-c);this.ct=c*Math.PI/180;a.qd.appendChild(this.ae(b,!(!e||!f)));this.Pa=d;this.wl&&Ae(this);e&&f||(a=this.gi.getBBox(),e=a.width+2*Be,f=a.height+2*Be);this.dj(e,f);Ae(this);Ce(this);this.wl=!0}var Be=6,ze=20,De=null,Ee=null;function Fe(){De&&(t(De),De=null);Ee&&(t(Ee),Ee=null)}function Ge(){wb=null;Fe()}g=ye.prototype;g.wl=!1;g.Pa=null;g.Nd=0;g.xf=0;g.ra=0;g.yb=0;g.gm=!0;
g.ae=function(a,b){this.Hc=B(qc,{},null);var c={filter:"url(#"+this.g.Ea.F().yk+")"};Na&&(c={});c=B(qc,c,this.Hc);this.Fp=B(tc,{},c);this.$j=B(wc,{"class":"blocklyDraggable",x:0,y:0,rx:Be,ry:Be},c);b?(this.De=B(qc,{"class":this.g.s?"blocklyResizeSW":"blocklyResizeSE"},this.Hc),b=2*Be,B(vc,{points:"0,x x,x x,0".replace(/x/g,b.toString())},this.De),B(sc,{"class":"blocklyResizeLine",x1:b/3,y1:b-1,x2:b-1,y2:b/3},this.De),B(sc,{"class":"blocklyResizeLine",x1:2*b/3,y1:b-1,x2:b-1,y2:2*b/3},this.De)):this.De=
null;this.g.options.readOnly||(this.$n=r(this.$j,"mousedown",this,this.ft),this.De&&(this.ao=r(this.De,"mousedown",this,this.su)));this.Hc.appendChild(a);return this.Hc};g.R=function(){return this.Hc};function He(a,b){a.Hc.dataset&&(a.Hc.dataset.blockId=b)}g.ft=function(a){var b=this.g.ke(a);if(b){if(b.Wf)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");b.Ac||(b.Ac=this);b.Qc=a}};g.jj=function(){};g.Pc=function(){return!1};g.Ho=function(){};
g.su=function(a){Ie(this);Fe();eb(a)||(this.g.mj(a,new n(this.g.s?-this.ra:this.ra,this.yb)),De=r(document,"mouseup",this,Ge),Ee=r(document,"mousemove",this,this.tu),hd());a.stopPropagation()};g.tu=function(a){this.gm=!1;var b=this.g;a=fb(a,E(b),ed(b));a.x/=b.scale;a.y/=b.scale;b=za(b.Xp,a);this.dj(this.g.s?-b.x:b.x,b.y);this.g.s&&Ae(this)};function Ie(a){var b=a.Hc.parentNode;return b.lastChild!==a.Hc?(b.appendChild(a.Hc),!0):!1}
function Je(a,b,c){var d=a.g.s?a.Pa.x-b.x-a.ra:b.x+a.Pa.x;b=b.y+a.Pa.y;return Math.max(0,Math.min(1,(Math.min(d+a.ra,c.left+c.width)-Math.max(d,c.left))*(Math.min(b+a.yb,c.top+c.height)-Math.max(b,c.top))/(a.ra*a.yb)))}function Ae(a){var b=a.Pa.x;b=a.g.s?b-(a.Nd+a.ra):b+a.Nd;a.moveTo(b,a.xf+a.Pa.y)}g.moveTo=function(a,b){this.Hc.setAttribute("transform","translate("+a+","+b+")")};g.Cf=function(a){!a&&this.Ln&&this.Ln()};g.Vm=function(){return new Ha(this.ra,this.yb)};
g.dj=function(a,b){var c=2*Be;a=Math.max(a,c+45);b=Math.max(b,c+20);this.ra=a;this.yb=b;this.$j.setAttribute("width",a);this.$j.setAttribute("height",b);this.De&&(this.g.s?this.De.setAttribute("transform","translate("+2*Be+","+(b-c)+") scale(-1 1)"):this.De.setAttribute("transform","translate("+(a-c)+","+(b-c)+")"));if(this.gm){a=Ke(this.g.ac,!0);b=-this.ra/4;if(!(this.ra>a.width)){if(this.g.s){c=this.Pa.x-b;var d=c-this.ra;var e=a.left+a.width,f=a.left+Nc/this.g.scale}else d=b+this.Pa.x,c=d+this.ra,
f=a.left,e=a.left+a.width-Nc/this.g.scale;this.g.s?d<f?b=-(f-this.Pa.x+this.ra):c>e&&(b=-(e-this.Pa.x)):d<f?b=f-this.Pa.x:c>e&&(b=e-this.Pa.x-this.ra)}d=b;b=-this.yb/4;if(!(this.yb>a.height)){c=this.Pa.y+b;e=c+this.yb;f=a.top;var h=a.top+a.height-Nc/this.g.scale,l=this.Pa.y;c<f?b=f-l:e>h&&(b=h-l-this.yb)}f=b;e=this.xu.getBBox();b={x:d,y:-this.yb-this.g.Ea.F().Lh};c={x:-this.ra-30,y:f};f={x:e.width,y:f};h={x:d,y:e.height};d=e.width<e.height?f:h;e=e.width<e.height?h:f;f=Je(this,b,a);h=Je(this,c,a);
l=Je(this,d,a);a=Math.max(f,h,l,Je(this,e,a));f==a?(this.Nd=b.x,this.xf=b.y):h==a?(this.Nd=c.x,this.xf=c.y):l==a?(this.Nd=d.x,this.xf=d.y):(this.Nd=e.x,this.xf=e.y)}Ae(this);Ce(this);this.Do&&this.Do()};
function Ce(a){var b=[],c=a.ra/2,d=a.yb/2,e=-a.Nd,f=-a.xf;if(c==e&&d==f)b.push("M "+c+","+d);else{f-=d;e-=c;a.g.s&&(e*=-1);var h=Math.sqrt(f*f+e*e),l=Math.acos(e/h);0>f&&(l=2*Math.PI-l);var m=l+Math.PI/2;m>2*Math.PI&&(m-=2*Math.PI);var p=Math.sin(m),q=Math.cos(m),u=a.Vm();m=(u.width+u.height)/5;m=Math.min(m,u.width,u.height)/4;u=1-8/h;e=c+u*e;f=d+u*f;u=c+m*q;var y=d+m*p;c-=m*q;d-=m*p;p=l+a.ct;p>2*Math.PI&&(p-=2*Math.PI);l=Math.sin(p)*h/4;h=Math.cos(p)*h/4;b.push("M"+u+","+y);b.push("C"+(u+h)+","+
(y+l)+" "+e+","+f+" "+e+","+f);b.push("C"+e+","+f+" "+(c+h)+","+(d+l)+" "+c+","+d)}b.push("z");a.Fp.setAttribute("d",b.join(" "))}g.ib=function(a){this.$j.setAttribute("fill",a);this.Fp.setAttribute("fill",a)};g.o=function(){this.$n&&t(this.$n);this.ao&&t(this.ao);Fe();D(this.Hc);this.Kc=!0};g.Mn=function(a,b){a?a.vg(b.x,b.y):this.moveTo(b.x,b.y);this.Nd=this.g.s?this.Pa.x-b.x-this.ra:b.x-this.Pa.x;this.xf=b.y-this.Pa.y;Ce(this)};
g.ea=function(){return new n(this.g.s?-this.Nd+this.Pa.x-this.ra:this.Pa.x+this.Nd,this.Pa.y+this.xf)};function Le(a){var b=B(yc,{"class":"blocklyText blocklyBubbleText blocklyNoPointerEvents",y:Be},null);a=a.split("\n");for(var c=0;c<a.length;c++)B(zc,{dy:"1em",x:Be},b).appendChild(document.createTextNode(a[c]));return b}
function Me(a,b,c){c=new ye(b.h,a,b.pa.ua,c,null,null);He(c,b.id);if(b.s){b=a.getBBox().width;for(var d=0,e;e=a.childNodes[d];d++)e.setAttribute("text-anchor","end"),e.setAttribute("x",b+Be)}return c};var Ne=!1;function Oe(a){if(Ne)throw Error("CSS already injected");Array.prototype.push.apply(Pe,a);a.length=0}
var Pe=[".blocklySvg {","background-color: #fff;","outline: none;","overflow: hidden;","position: absolute;","display: block;","}",".blocklyWidgetDiv {","display: none;","position: absolute;","z-index: 99999;","}",".injectionDiv {","height: 100%;","position: relative;","overflow: hidden;","touch-action: none;","}",".blocklyNonSelectable {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","}",".blocklyWsDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;",
"}",".blocklyWsDragSurface.blocklyOverflowVisible {","overflow: visible;","}",".blocklyBlockDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","right: 0;","bottom: 0;","overflow: visible !important;","z-index: 50;","}",".blocklyBlockCanvas.blocklyCanvasTransitioning,",".blocklyBubbleCanvas.blocklyCanvasTransitioning {","transition: transform .5s;","}",".blocklyTooltipDiv {","background-color: #ffffc7;","border: 1px solid #ddc;","box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);",
"color: #000;","display: none;","font: 9pt sans-serif;","opacity: .9;","padding: 2px;","position: absolute;","z-index: 100000;","}",".blocklyDropDownDiv {","position: absolute;","left: 0;","top: 0;","z-index: 1000;","display: none;","border: 1px solid;","border-color: #dadce0;","background-color: #fff;","border-radius: 2px;","padding: 4px;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv.blocklyFocused {","box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownContent {",
"max-height: 300px;","overflow: auto;","overflow-x: hidden;","position: relative;","}",".blocklyDropDownArrow {","position: absolute;","left: 0;","top: 0;","width: 16px;","height: 16px;","z-index: -1;","background-color: inherit;","border-color: inherit;","}",".blocklyDropDownButton {","display: inline-block;","float: left;","padding: 0;","margin: 4px;","border-radius: 4px;","outline: none;","border: 1px solid;","transition: box-shadow .1s;","cursor: pointer;","}",".blocklyArrowTop {","border-top: 1px solid;",
"border-left: 1px solid;","border-top-left-radius: 4px;","border-color: inherit;","}",".blocklyArrowBottom {","border-bottom: 1px solid;","border-right: 1px solid;","border-bottom-right-radius: 4px;","border-color: inherit;","}",".blocklyResizeSE {","cursor: se-resize;","fill: #aaa;","}",".blocklyResizeSW {","cursor: sw-resize;","fill: #aaa;","}",".blocklyResizeLine {","stroke: #515A5A;","stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","fill: none;","stroke: #fc3;","stroke-width: 4px;",
"}",".blocklyPathLight {","fill: none;","stroke-linecap: round;","stroke-width: 1;","}",".blocklySelected>.blocklyPathLight {","display: none;","}",".blocklyDraggable {",'cursor: url("<<<PATH>>>/handopen.cur"), auto;',"cursor: grab;","cursor: -webkit-grab;","}",".blocklyDragging {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDraggable:active {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;",
"}",".blocklyBlockDragSurface .blocklyDraggable {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging.blocklyDraggingDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {","fill-opacity: .8;","stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {","display: none;","}",".blocklyDisabled>.blocklyPath {","fill-opacity: .5;","stroke-opacity: .5;",
"}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {","display: none;","}",".blocklyInsertionMarker>.blocklyPath,",".blocklyInsertionMarker>.blocklyPathLight,",".blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: .2;","stroke: none;","}",".blocklyMultilineText {","font-family: monospace;","}",".blocklyNonEditableText>text {","pointer-events: none;","}",".blocklyFlyout {","position: absolute;","z-index: 20;","}",".blocklyText text {","cursor: default;","}",".blocklySvg text,",
".blocklyBlockDragSurface text {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","cursor: inherit;","}",".blocklyHidden {","display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","display: block;","}",".blocklyIconGroup {","cursor: default;","}",".blocklyIconGroup:not(:hover),",".blocklyIconGroupReadonly {","opacity: .6;","}",".blocklyIconShape {","fill: #00f;","stroke: #fff;","stroke-width: 1px;","}",".blocklyIconSymbol {","fill: #fff;","}",".blocklyMinimalBody {",
"margin: 0;","padding: 0;","}",".blocklyHtmlInput {","border: none;","border-radius: 4px;","height: 100%;","margin: 0;","outline: none;","padding: 0;","width: 100%;","text-align: center;","display: block;","box-sizing: border-box;","}",".blocklyHtmlInput::-ms-clear {","display: none;","}",".blocklyMainBackground {","stroke-width: 1;","stroke: #c6c6c6;","}",".blocklyMutatorBackground {","fill: #fff;","stroke: #ddd;","stroke-width: 1;","}",".blocklyFlyoutBackground {","fill: #ddd;","fill-opacity: .8;",
"}",".blocklyMainWorkspaceScrollbar {","z-index: 20;","}",".blocklyFlyoutScrollbar {","z-index: 30;","}",".blocklyScrollbarHorizontal,",".blocklyScrollbarVertical {","position: absolute;","outline: none;","}",".blocklyScrollbarBackground {","opacity: 0;","}",".blocklyScrollbarHandle {","fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyScrollbarHandle:hover {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarHandle {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",
".blocklyFlyout .blocklyScrollbarHandle:hover {","fill: #aaa;","}",".blocklyInvalidInput {","background: #faa;","}",".blocklyVerticalMarker {","stroke-width: 3px;","fill: rgba(255,255,255,.5);","pointer-events: none;","}",".blocklyComputeCanvas {","position: absolute;","width: 0;","height: 0;","}",".blocklyNoPointerEvents {","pointer-events: none;","}",".blocklyContextMenu {","border-radius: 4px;","max-height: 100%;","}",".blocklyDropdownMenu {","border-radius: 2px;","padding: 0 !important;","}",
".blocklyDropdownMenu .blocklyMenuItem {","padding-left: 28px;","}",".blocklyDropdownMenu .blocklyMenuItemRtl {","padding-left: 5px;","padding-right: 28px;","}",".blocklyWidgetDiv .blocklyMenu {","background: #fff;","border: 1px solid transparent;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","font: normal 13px Arial, sans-serif;","margin: 0;","outline: none;","padding: 4px 0;","position: absolute;","overflow-y: auto;","overflow-x: hidden;","max-height: 100%;","z-index: 20000;","}",".blocklyWidgetDiv .blocklyMenu.blocklyFocused {",
"box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv .blocklyMenu {","background: inherit;","border: inherit;",'font: normal 13px "Helvetica Neue", Helvetica, sans-serif;',"outline: none;","position: relative;","z-index: 20000;","}",".blocklyMenuItem {","border: none;","color: #000;","cursor: pointer;","list-style: none;","margin: 0;","min-width: 7em;","padding: 6px 15px;","white-space: nowrap;","}",".blocklyMenuItemDisabled {","color: #ccc;","cursor: inherit;","}",".blocklyMenuItemHighlight {",
"background-color: rgba(0,0,0,.1);","}",".blocklyMenuItemCheckbox {","height: 16px;","position: absolute;","width: 16px;","}",".blocklyMenuItemSelected .blocklyMenuItemCheckbox {","background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;","float: left;","margin-left: -24px;","position: static;","}",".blocklyMenuItemRtl .blocklyMenuItemCheckbox {","float: right;","margin-right: -24px;","}"];function Qe(a){Qe.j.constructor.call(this);this.Gd="undefined"==typeof a;this.Eb=a?a:"";this.Bb=!1}F(Qe,jd);Qe.prototype.tn=!0;function Re(a,b,c,d){Re.j.constructor.call(this,a?a.h.id:void 0);this.ga=a?a.id:null;this.element="undefined"==typeof b?"":b;this.oldValue="undefined"==typeof c?"":c;this.newValue="undefined"==typeof d?"":d}F(Re,Qe);Re.prototype.type="ui";
Re.prototype.S=function(){var a=Re.j.S.call(this);a.element=this.element;void 0!==this.newValue&&(a.newValue=this.newValue);this.ga&&(a.blockId=this.ga);return a};Re.prototype.N=function(a){Re.j.N.call(this,a);this.element=a.element;this.newValue=a.newValue;this.ga=a.blockId};v(Mb,"ui",Re);function Se(a,b,c){Se.j.constructor.call(this,a?a.h.id:void 0);this.ga=a?a.id:null;this.kh=b;this.jm=c}F(Se,Qe);Se.prototype.type="bubble_open";Se.prototype.S=function(){var a=Se.j.S.call(this);a.isOpen=this.kh;a.bubbleType=this.jm;a.blockId=this.ga;return a};Se.prototype.N=function(a){Se.j.N.call(this,a);this.kh=a.isOpen;this.jm=a.bubbleType;this.ga=a.blockId};v(Mb,"bubble_open",Se);function Te(a){this.A=a;this.Wb=null}g=Te.prototype;g.Lp=!0;g.Rj=17;g.La=null;g.df=null;function Ue(a){a.Wb||(a.Wb=B(qc,{"class":"blocklyIconGroup"},null),a.A.Ja&&C(a.Wb,"blocklyIconGroupReadonly"),a.Em(a.Wb),a.A.R().appendChild(a.Wb),r(a.Wb,"mouseup",a,a.ln),a.Ne())}g.o=function(){D(this.Wb);this.Wb=null;this.ma(!1);this.A=null};g.Ne=function(){};g.isVisible=function(){return!!this.La};g.ln=function(a){this.A.h.Xa()||this.A.Ja||eb(a)||this.ma(!this.isVisible())};
g.Ka=function(){this.isVisible()&&this.La.ib(this.A.style.Te)};function Ve(a){var b=a.A.ea(),c=ab(a.Wb);b=new n(b.x+c.x+a.Rj/2,b.y+c.y+a.Rj/2);wa(a.df,b)||(a.df=b,a.isVisible()&&(a=a.La,a.Pa=b,a.wl&&Ae(a)))};function We(a){We.j.constructor.call(this,a);Ue(this);this.Je=Object.create(null)}F(We,Te);g=We.prototype;g.Lp=!1;g.Em=function(a){B(tc,{"class":"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},a);B(tc,{"class":"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},a);B(wc,{"class":"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},a)};g.ma=function(a){a!=this.isVisible()&&(x(new (A("bubble_open"))(this.A,a,"warning")),a?this.lk():this.wk())};
g.lk=function(){this.lg=Le(this.Vb());this.La=Me(this.lg,this.A,this.df);this.Ka()};g.wk=function(){this.La.o();this.lg=this.La=null};function Xe(a,b,c){a.Je[c]!=b&&(b?a.Je[c]=b:delete a.Je[c],a.isVisible()&&(a.ma(!1),a.ma(!0)))}g.Vb=function(){var a=[],b;for(b in this.Je)a.push(this.Je[b]);return a.join("\n")};g.o=function(){this.A.Ec=null;Te.prototype.o.call(this)};function Dd(a){Dd.j.constructor.call(this,a);this.zb=a.pc;this.zb.text=this.zb.text||"";this.mm="";this.dl=this.$k=this.ol=this.qf=null;Ue(this)}F(Dd,Te);g=Dd.prototype;
g.Em=function(a){B(hc,{"class":"blocklyIconShape",r:"8",cx:"8",cy:"8"},a);B(tc,{"class":"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},a);B(wc,{"class":"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},a)};
g.tm=function(){this.wi=B(pc,{x:Be,y:Be},null);var a=document.createElementNS("http://www.w3.org/1999/xhtml","body");a.setAttribute("xmlns","http://www.w3.org/1999/xhtml");a.className="blocklyMinimalBody";var b=this.ug=document.createElementNS("http://www.w3.org/1999/xhtml","textarea");b.className="blocklyCommentTextarea";b.setAttribute("dir",this.A.s?"RTL":"LTR");b.value=this.zb.text;Ye(this);a.appendChild(b);this.wi.appendChild(a);this.qf=r(b,"mouseup",this,this.Au,!0,!0);this.ol=r(b,"wheel",this,
function(c){c.stopPropagation()});this.$k=r(b,"change",this,function(){this.mm!=this.zb.text&&x(new (A("change"))(this.A,"comment",null,this.mm,this.zb.text))});this.dl=r(b,"input",this,function(){this.zb.text=b.value});setTimeout(b.focus.bind(b),0);return this.wi};g.Ne=function(){Dd.j.Ne.call(this);this.isVisible()&&(this.wk(),this.lk())};g.Xt=function(){this.isVisible()&&(this.zb.size=this.La.Vm(),Ye(this))};
function Ye(a){var b=a.zb.size,c=2*Be,d=b.width-c;b=b.height-c;a.wi.setAttribute("width",d);a.wi.setAttribute("height",b);a.ug.style.width=d-4+"px";a.ug.style.height=b-4+"px"}g.ma=function(a){a!=this.isVisible()&&(x(new (A("bubble_open"))(this.A,a,"comment")),(this.zb.uo=a)?this.lk():this.wk())};
g.lk=function(){!this.A.Yb()||La?(this.lg=Le(this.A.pc.text),this.La=Me(this.lg,this.A,this.df)):(this.La=new ye(this.A.h,this.tm(),this.A.pa.ua,this.df,this.zb.size.width,this.zb.size.height),He(this.La,this.A.id),this.La.Do=this.Xt.bind(this));this.Ka()};g.wk=function(){this.qf&&(t(this.qf),this.qf=null);this.ol&&(t(this.ol),this.ol=null);this.$k&&(t(this.$k),this.$k=null);this.dl&&(t(this.dl),this.dl=null);this.La.o();this.lg=this.wi=this.ug=this.La=null};
g.Au=function(){Ie(this.La)&&this.ug.focus();this.mm=this.zb.text};g.Vm=function(){return this.zb.size};g.dj=function(a,b){this.La?this.La.dj(a,b):(this.zb.size.width=a,this.zb.size.height=b)};g.o=function(){this.A.$h=null;Te.prototype.o.call(this)};Oe(".blocklyCommentTextarea {,background-color: #fef49c;,border: 0;,outline: 0;,margin: 0;,padding: 3px;,resize: none;,display: block;,text-overflow: hidden;,}".split(","));
var $e,af,bf,cf=null,df=null,ef=null,ff=null,gf="",hf="";
function jf(){if(!$e){var a=document.createElement("div");a.className="blocklyDropDownDiv";(kf||document.body).appendChild(a);$e=a;var b=document.createElement("div");b.className="blocklyDropDownContent";a.appendChild(b);af=b;b=document.createElement("div");b.className="blocklyDropDownArrow";a.appendChild(b);bf=b;$e.style.opacity=0;$e.style.transition="transform 0.25s, opacity 0.25s";a.addEventListener("focusin",function(){C(a,"blocklyFocused")});a.addEventListener("focusout",function(){Dc(a,"blocklyFocused")})}}
function lf(a,b){var c=mf(a);var d=new Aa(c.top,c.bottom,c.left,c.right);c=d.left+(d.right-d.left)/2;var e=d.bottom;d=d.top;for(var f=a.D(),h=f.h;h.options.Sa;)h=h.options.Sa;cf=E(h).parentNode;f=f.s;df=a;ff=b||null;a=$e;a.style.direction=f?"rtl":"ltr";b=nf;gf=b.Ea.fd();hf=b.le().fd();C(a,gf);C(a,hf);a=Ka(cf);b=Ia(cf);a={left:a.x,right:a.x+b.width,top:a.y,bottom:a.y+b.height,width:b.width,height:b.height};b=Ia($e);e+b.height<a.bottom?c=of(c,e,a,b):d-b.height>a.top?c=pf(c,d,a,b):e+b.height<document.documentElement.clientHeight?
c=of(c,e,a,b):d-b.height>document.documentElement.clientTop?c=pf(c,d,a,b):(c=qf(c,a.left,a.right,b.width),c={nn:c.Yg,on:0,Pm:c.Yg,Qm:0,dm:null,Pg:null,fm:null,em:!1});a=c;a.em?(bf.style.display="",bf.style.transform="translate("+a.Pg+"px,"+a.fm+"px) rotate(45deg)",bf.setAttribute("class",a.dm?"blocklyDropDownArrow blocklyArrowTop":"blocklyDropDownArrow blocklyArrowBottom")):bf.style.display="none";c=Math.floor(a.nn);e=Math.floor(a.on);d=Math.floor(a.Pm);a=Math.floor(a.Qm);b=$e;b.style.left=c+"px";
b.style.top=e+"px";b.style.display="block";b.style.opacity=1;b.style.transform="translate("+(d-c)+"px,"+(a-e)+"px)"}function of(a,b,c,d){a=qf(a,c.left,c.right,d.width);return{nn:a.Yg,on:b,Pm:a.Yg,Qm:b+16,Pg:a.Pg,fm:-9,dm:!0,em:!0}}function pf(a,b,c,d){a=qf(a,c.left,c.right,d.width);return{nn:a.Yg,on:b-d.height,Pm:a.Yg,Qm:b-d.height-16,Pg:a.Pg,fm:d.height-2-8,dm:!1,em:!0}}function qf(a,b,c,d){var e=a;a=id(b,a-d/2,c-d);b=id(12,e-8-a,d-12-16);return{Pg:b,Yg:a}}
function rf(){var a=$e;a.style.transform="translate(0, 0)";a.style.opacity=0;ef=setTimeout(function(){sf()},250);ff&&(ff(),ff=null)}function sf(){if(df){ef&&clearTimeout(ef);var a=$e;a.style.transform="";a.style.left="";a.style.top="";a.style.opacity=0;a.style.display="none";a.style.backgroundColor="";a.style.borderColor="";ff&&(ff(),ff=null);af.textContent="";af.style.width="";df=null;gf&&(Dc(a,gf),gf="");hf&&(Dc(a,hf),hf="");dd(nf)}};var tf=0,uf=null;function vf(a,b,c,d){var e=(new Date-c)/150;1<e?D(a):(a.setAttribute("transform","translate("+(a.Iu+(b?-1:1)*a.Cp.width*d/2*e)+","+(a.Ju+a.Cp.height*d*e)+") scale("+(1-e)*d+")"),setTimeout(vf,10,a,b,c,d))}function wf(a,b,c){var d=(new Date-b)/150;1<d?D(a):(a.setAttribute("r",25*d*c),a.style.opacity=1-d,tf=setTimeout(wf,10,a,b,c))}
function xf(a,b,c){var d=(new Date-c)/200;1<d?a.kj="":(a.kj="skewX("+Math.round(Math.sin(d*Math.PI*3)*(1-d)*b)+")",uf=a,tf=setTimeout(xf,10,a,b,c));a.setAttribute("transform",a.uj+a.kj)}function yf(){if(uf){clearTimeout(tf);var a=uf;a.kj="";a.setAttribute("transform",a.uj);uf=null}};function zf(a,b,c){zf.j.constructor.call(this,a?a.h.id:void 0);this.ga=a?a.id:null;this.zq=b;this.Ep=c}F(zf,Qe);zf.prototype.type="drag";zf.prototype.S=function(){var a=zf.j.S.call(this);a.isStart=this.zq;a.blockId=this.ga;a.blocks=this.Ep;return a};zf.prototype.N=function(a){zf.j.N.call(this,a);this.zq=a.isStart;this.ga=a.blockId;this.Ep=a.blocks};v(Mb,"drag",zf);function Af(){this.Ve=Object.create(null);this.Rg=Object.create(null)}function Bf(a,b){var c=b.component.id;if(a.Ve[c])throw Error('Plugin "'+c+'" with capabilities "'+a.Ve[c].xd+'" already added.');a.Ve[c]=b;for(var d=[],e=0;e<b.xd.length;e++){var f=String(b.xd[e]).toLowerCase();d.push(f);void 0===a.Rg[f]?a.Rg[f]=[c]:a.Rg[f].push(c)}a.Ve[c].xd=d}
function Cf(a,b){var c=a.Ve[b];if(c){for(var d=0;d<c.xd.length;d++){var e=String(c.xd[d]).toLowerCase();a.Rg[e].splice(a.Rg[e].indexOf(b),1)}delete a.Ve[b]}}function Df(a,b){var c=Ef;c=String(c).toLowerCase();return-1!==a.Ve[b].xd.indexOf(c)}function Ff(a,b){b=String(b).toLowerCase();b=a.Rg[b];if(!b)return[];var c=[],d=[],e=a.Ve;b.forEach(function(f){d.push(e[f])});d.sort(function(f,h){return f.weight-h.weight});d.forEach(function(f){c.push(f.component)});return c}function Gf(a){this.we=a}
Gf.prototype.toString=function(){return this.we};var Hf=new Gf("positionable"),If=new Gf("drag_target"),Ef=new Gf("delete_area"),Jf=new Gf("autohideable");function Kf(a){this.Hf=J=a;this.g=a.h;this.jf=this.wn=null;this.si=Lf(this,this.Hf);this.Zb=this.Va=null;this.sd=!1;this.ri=this.jn=this.eg=null;this.Yj=Mf(this)}Kf.prototype.o=function(){this.Yj.length=0;w++;try{this.si&&this.si.o(),this.jf&&this.jf.o()}finally{w--}};
Kf.prototype.update=function(a,b){var c=28;for(var d=null,e=null,f=0;f<this.Yj.length;f++){var h=this.Yj[f],l=h.closest(c,a);l.connection&&(d=l.connection,e=h,c=l.rl)}c={closest:d,local:e,rl:c};if((this.sd=this.Po(c,b))||Nf(this,c,a)){w++;c.closest?(a=this.Va!=c.closest,b=this.Zb!=c.local,this.Va&&this.Zb&&(a||b||this.sd)&&Of(this)):Of(this);this.Zb=this.Va=this.eg=null;if(!this.sd&&(a=c.closest,b=c.local,a))if(a==this.Va||a.D().Jb())console.log("Trying to connect to an insertion marker");else{this.Va=
a;this.Zb=b;a=this.Va;b=this.Zb;c=this.Hf;2==b.type||4==b.type?((d=!a.isConnected())||(d=a.H(),d=!!Pd(c,2===b.type?d.v:d.G)),b=d?0:2):b=0;switch(b){case 1:this.jn=this.Va.D();break;case 0:d=this.Zb;b=this.Va;c=this.wn&&d==this.wn?this.jf:this.si;d=c.$m(d.D(),d);if(d==this.eg)throw Error("Made it to showInsertionMarker_ even though the marker isn't changing");c.P();c.J=!0;c.R().setAttribute("visibility","visible");d&&b&&(3!=d.type&&1!=d.type||c.moveBy(b.x-d.x,b.y-d.y));b&&d.connect(b);this.eg=d;break;
case 2:this.ri=this.Va.H(),Pf(this.ri.pa,"blocklyReplaceable",!0)}a&&(c=a.m.h.Ea.F(),b=Qf(c,a),1==a.type||2==a.type?(c=c.Og,b=Rf(0,-c)+K("v",c)+b.Sc+K("v",c)):(c=c.Mh-c.za,b=Rf(-c,0)+K("h",c)+b.tf+K("h",c)),c=a.m.ea(),Od.rq=B(tc,{"class":"blocklyHighlightedConnectionPath",d:b,transform:"translate("+(a.x-c.x)+","+(a.y-c.y)+")"+(a.m.s?" scale(-1 1)":"")},a.m.R()))}w--}};
function Lf(a,b){var c=b.type;w++;try{var d=a.g.mf(c);d.Br(!0);if(b.sa){var e=b.sa();e&&d.Na(e)}for(a=0;a<b.B.length;a++){var f=b.B[a];if("_TEMP_COLLAPSED_INPUT"!=f.name){var h=d.B[a];if(!h)throw Error("The insertion marker manager tried to create a marker but the result is missing an input. If you are using a mutator, make sure your domToMutation method is properly defined.");for(c=0;c<f.$.length;c++){var l=f.$[c],m=h.$[c];if(!m)throw Error("The insertion marker manager tried to create a marker but the result is missing a field. If you are using a mutator, make sure your domToMutation method is properly defined.");
m.Oa(l.Ra())}}}d.Af(b.isCollapsed());d.Wc(Sf(b));d.kd();d.R().setAttribute("visibility","hidden")}finally{w--}return d}function Mf(a){var b=a.Hf.gd(!1),c=a.Hf.Rk(!0);if(c&&c!=a.Hf.C){b.push(c);a.wn=c;if(a.jf){w++;try{a.jf.o()}finally{w--}}a.jf=Lf(a,c.D())}return b}
function Nf(a,b,c){var d=b.local,e=b.closest;b=b.rl;if(d&&e){if(a.Zb&&a.Va){if(a.Va==e&&a.Zb==d)return!1;d=a.Zb.x+c.x-a.Va.x;a=a.Zb.y+c.y-a.Va.y;a=Math.sqrt(d*d+a*a);return!(e&&b>a-8)}if(a.Zb||a.Va)console.error("Only one of localConnection_ and closestConnection_ was set.");else return!0}else return!(!a.Zb||!a.Va);console.error("Returning true from shouldUpdatePreviews, but it's not clear why.");return!0}Kf.prototype.Po=function(a,b){return b&&Df(this.g.qc,b.id)?b.cp(this.Hf,a&&!!a.closest):!1};
function Of(a){a.Va&&a.Va.H()&&(D(Od.rq),delete Od.rq);if(a.ri)Pf(a.ri.pa,"blocklyReplaceable",!1),a.ri=null;else if(a.jn)a.jn=null;else if(a.eg)if(a.eg){var b=a.eg,c=b.D(),d=c.C,e=c.G,f=c.v;f=1==b.type&&!(f&&f.L);!(b!=d||e&&e.L)||f?Nd(b.H(),!1):3==b.type&&b!=d?(d=b.L,Nd(d.D(),!1),e=e?e.L:null,Nd(c,!0),e&&e.connect(d)):Nd(c,!0);if(b.L)throw Error("markerConnection_ still connected at the end of disconnectInsertionMarker");a.eg=null;(a=c.R())&&a.setAttribute("visibility","hidden")}else console.log("No insertion marker connection to disconnect")}
Kf.prototype.bh=function(){var a=[];this.si&&a.push(this.si);this.jf&&a.push(this.jf);return a};function Tf(a,b){this.Ca=a;this.g=b;this.Bd=new Kf(this.Ca);this.Wa=null;this.sd=!1;this.Ge=this.Ca.ea();b=[];a=sb(a,!1);for(var c=0,d;d=a[c];c++){d=Uf(d);for(var e=0;e<d.length;e++)b.push({location:d[e].df,icon:d[e]})}this.xk=b}g=Tf.prototype;g.o=function(){this.xk.length=0;this.Bd&&this.Bd.o()};
g.mj=function(a,b){Xb||z(!0);var c=new (A("drag"))(this.Ca,!0,sb(this.Ca,!1));x(c);this.g.Ii&&Vf(this.Ca);Hc();this.g.Lb(!1);yf();if(this.Ca.getParent()||b&&this.Ca.C&&this.Ca.C.H())Nd(this.Ca,b),a=this.ph(a),a=za(this.Ge,a),this.Ca.translate(a.x,a.y),a=this.Ca,a.h.vd.play("disconnect"),1>a.h.scale||(b=Wf(a).height,b=Math.atan(10/b)/Math.PI*180,a.s||(b*=-1),xf(a.R(),b,new Date)),a=this.Bd,a.Yj=Mf(a);this.Ca.Cf(!0);a=this.Ca;a.Aj&&(b=a.ea(),a.R().removeAttribute("transform"),a.h.nc.vg(b.x,b.y),(b=
a.R())&&Xf(a.h.nc,b))};g.je=function(a,b){b=this.ph(b);this.Ca.Mn(za(this.Ge,b));for(var c=0;c<this.xk.length;c++){var d=this.xk[c],e=d.icon;d=za(d.location,b);e.df=d;e.isVisible()&&(e=e.La,e.Pa=d,e.wl&&Ae(e))}c=this.Wa;this.Wa=Yf(this.g,a);this.Bd.update(b,this.Wa);a=this.sd;this.sd=this.Bd.sd;a!=this.sd&&this.Ca.Ho(this.sd);this.Wa!==c&&(c&&c.bl(),this.Wa&&this.Wa.Un());this.Wa&&this.Wa.Vn()};
g.oi=function(a,b){this.je(a,b);this.xk=[];a=new (A("drag"))(this.Ca,!1,sb(this.Ca,!1));x(a);Ic();yf();b=this.ph(b);a=za(this.Ge,b);var c=this.Ca;c.Aj&&(c.translate(a.x,a.y),c.h.nc.dk(c.h.ta));this.Wa&&this.Wa.cl();this.sd?(Zf(this),this.Ca.o(!1,!0),Wd=[],a=!0):a=!1;if(!a)if(this.Ca.Cf(!1),b){$f(this.Ca,b.x,b.y);Zf(this);if(this.Bd.Va){if(b=this.Bd,b.Va&&(w++,Of(b),w--,b.Zb.connect(b.Va),b.Hf.J)){c=(Qd(b.Zb)?b.Va:b.Zb).D();var d=c.h;a=d.scale;d.vd.play("click");if(!(1>a)){var e=ag(d,c.R());c.v?(e.x+=
(c.s?3:-3)*a,e.y+=13*a):c.G&&(e.x+=(c.s?-23:23)*a,e.y+=3*a);c=B(hc,{cx:e.x,cy:e.y,r:0,fill:"none",stroke:"#888","stroke-width":10},E(d));wf(c,new Date,a)}Vf(b.Hf.hd())}}else this.Ca.P();bg(this.Ca)}else cg(this.Ca.h,this.g.ac.Ze(!0),this.Ca);this.g.Lb(!0);z(!1)};function Zf(a){var b=new (A("move"))(a.Ca);b.Qn=a.Ge;Ld(b);x(b)}g.ph=function(a){a=new n(a.x/this.g.scale,a.y/this.g.scale);this.g.Ii&&a.scale(1/this.g.options.Sa.scale);return a};g.bh=function(){return this.Bd&&this.Bd.bh?this.Bd.bh():[]};
v(Ub,"default",Tf);function dg(a,b){this.dc=a;this.g=b;this.Wa=null;this.Cj=!1;this.Ge=this.dc.ea();this.Sf=nb()&&b.nc?b.nc:null}dg.prototype.o=function(){this.Sf=this.g=this.dc=null};function eg(a,b,c){c=a.ph(c);a.dc.Mn(a.Sf,za(a.Ge,c));c=a.Wa;a.Wa=Yf(a.g,b);b=a.Cj;a.Cj=a.Po(a.Wa);b!=a.Cj&&a.dc.Ho(a.Cj);a.Wa!==c&&(c&&c.bl(),a.Wa&&a.Wa.Un());a.Wa&&a.Wa.Vn()}dg.prototype.Po=function(a){return a&&Df(this.g.qc,a.id)?a.cp(this.dc,!1):!1};
function fg(a,b,c){eg(a,b,c);b=a.ph(c);b=za(a.Ge,b);a.dc.moveTo(b.x,b.y);a.Wa&&a.Wa.cl();a.Cj?a.dc.o(!1,!0):(a.Sf&&a.Sf.dk(a.g.qd),a.dc.Cf&&a.dc.Cf(!1));a.g.Lb(!0);z(!1)}dg.prototype.ph=function(a){a=new n(a.x/this.g.scale,a.y/this.g.scale);this.g.Ii&&a.scale(1/this.g.options.Sa.scale);return a};function gg(a,b,c){gg.j.constructor.call(this,a?a.h.id:b);this.ga=a?a.id:null;this.Ir=c}F(gg,Qe);gg.prototype.type="click";gg.prototype.S=function(){var a=gg.j.S.call(this);a.targetType=this.Ir;this.ga&&(a.blockId=this.ga);return a};gg.prototype.N=function(a){gg.j.N.call(this,a);this.Ir=a.targetType;this.ga=a.blockId};v(Mb,"click",gg);var hg=!1,ig=!1,jg=0,kg=0,lg=0,mg=0,ng=null,og=null,pg=null;function qg(a){for(;a&&a.Yc;){if("string"==typeof a.Yc||"function"==typeof a.Yc)return a;a=a.Yc}return null}function rg(a){a.St=Hb(a,"mouseover",null,sg);a.Qt=Hb(a,"mouseout",null,tg);a.addEventListener("mousemove",ug,!1)}function vg(a){a&&(t(a.St),t(a.Qt),a.removeEventListener("mousemove",ug))}function sg(a){ig||(a=qg(a.currentTarget),ng!=a&&(wg(),og=null,ng=a),clearTimeout(jg))}
function tg(){ig||(jg=setTimeout(function(){og=ng=null;wg()},1),clearTimeout(kg))}function ug(a){if(ng&&ng.Yc&&!ig)if(hg){var b=lg-a.pageX;a=mg-a.pageY;10<Math.sqrt(b*b+a*a)&&wg()}else og!=ng&&(clearTimeout(kg),lg=a.pageX,mg=a.pageY,kg=setTimeout(xg,750))}function wg(){hg&&(hg=!1,pg&&(pg.style.display="none"));kg&&clearTimeout(kg)}
function xg(){if(!ig&&(og=ng,pg)){pg.textContent="";var a;if(a=qg(ng)){for(a=a.Yc;"function"==typeof a;)a=a();if("string"!=typeof a)throw Error("Tooltip function must return a string.");}else a="";a=Ea(a,50);a=a.split("\n");for(var b=0;b<a.length;b++){var c=document.createElement("div");c.appendChild(document.createTextNode(a[b]));pg.appendChild(c)}a=ng.s;b=document.documentElement.clientWidth;c=document.documentElement.clientHeight;pg.style.direction=a?"rtl":"ltr";pg.style.display="block";hg=!0;
var d=lg;d=a?d-(0+pg.offsetWidth):d+0;var e=mg+10;e+pg.offsetHeight>c+window.scrollY&&(e-=pg.offsetHeight+20);a?d=Math.max(5-window.scrollX,d):d+pg.offsetWidth>b+window.scrollX-10&&(d=b-pg.offsetWidth-10);pg.style.top=e+"px";pg.style.left=d+"px"}};function yg(a){this.g=a;this.tq=zg(this.g);this.Vr=Ag(this.g);this.Cu=new n(a.scrollX,a.scrollY)}yg.prototype.o=function(){this.g=null};yg.prototype.mj=function(){J&&Bg(J);fd(this.g)};yg.prototype.oi=function(a){this.je(a);gd(this.g)};yg.prototype.je=function(a){a=za(this.Cu,a);if(this.tq&&this.Vr)this.g.scroll(a.x,a.y);else if(this.tq)this.g.scroll(a.x,this.g.scrollY);else if(this.Vr)this.g.scroll(this.g.scrollX,a.y);else throw new TypeError("Invalid state.");};function Cg(a,b){this.Nq=null;this.Qb=new n(0,0);this.$a=this.Db=this.zh=this.Ah=this.Ac=null;this.um=b;this.Gi=this.ag=this.Hi=this.Vf=!1;this.Qc=a;this.K=this.Bg=this.wd=this.Se=this.ml=this.ll=null;this.oq=this.Mk=this.Wf=this.Hp=!1}g=Cg.prototype;g.o=function(){wb=null;ig=!1;this.um.Hb=null;this.ll&&t(this.ll);this.ml&&t(this.ml);this.wd&&this.wd.o();this.Bg&&this.Bg.o();this.Se&&this.Se.o()};
function Dg(a,b){a.Qb=ya(new n(b.clientX,b.clientY),a.Nq);if(a.Vf)var c=!1;else c=a.Qb,a.Vf=Math.sqrt(c.x*c.x+c.y*c.y)>(a.K?10:5),c=a.Vf;if(c){if(a.Hp)throw Error("updateIsDragging_ should only be called once per gesture.");a.Hp=!0;a.Ac?(a.Gi=!0,a.Se=new dg(a.Ac,a.$a),c=a.Se,Xb||z(!0),c.g.Lb(!1),c.dc.gm=!1,c.Sf&&(c.dc.moveTo(0,0),c.Sf.vg(c.Ge.x,c.Ge.y),Xf(c.Sf,c.dc.R())),c.dc.Cf&&c.dc.Cf(!0),eg(a.Se,a.Qc,a.Qb),c=!0):c=!1;if(!c){if(a.Db){if(a.K){if(a.Db&&a.Db.isEnabled()){if(!(c=!Eg(a.K))){c=a.Qb;
c=Math.atan2(c.y,c.x)/Math.PI*180;var d=a.K.st;c=c<d&&c>-d||c<-180+d||c>180-d?!0:!1}c?(a.$a=a.K.V,Fg(a.$a),Xb||z(!0),a.zh=null,a.Db=Gg(a.K,a.Db),a.Db.select(),c=!0):c=!1}else c=!1;a.ag=c}else a.Db.hb()&&(a.ag=!0);a.ag?(a.wd=new (Wb(Ub,a.um.options,!0))(a.Db,a.$a),a.wd.mj(a.Qb,a.oq),a.wd.je(a.Qc,a.Qb),c=!0):c=!1}else c=!1;if(c=!c)if(a.K)c=Eg(a.K);else if(c=a.$a)c=a.$a,c=c.options.Kb&&c.options.Kb.je;c&&(a.Bg=new yg(a.$a),a.Hi=!0,a.Bg.mj())}Ab()}a.Qc=b}
g.Bm=function(a){$a(a)?this.cancel():(this.Wf=!0,yf(),Fg(this.$a),this.$a.Ii&&this.$a.resize(),hd(!!this.K),dd(this.$a),this.Qc=a,wg(),ig=!0,this.Db&&this.Db.select(),eb(a)?Bb(this,a):("touchstart"!=a.type.toLowerCase()&&"pointerdown"!=a.type.toLowerCase()||"mouse"==a.pointerType||zb(a,this),this.Nq=new n(a.clientX,a.clientY),this.oq=a.altKey||a.ctrlKey||a.metaKey,this.Dp(a)))};
g.Dp=function(a){this.ll=r(document,"mousemove",null,this.fh.bind(this));this.ml=r(document,"mouseup",null,this.Hk.bind(this));a.preventDefault();a.stopPropagation()};g.fh=function(a){Dg(this,a);this.Hi?this.Bg.je(this.Qb):this.ag?this.wd.je(this.Qc,this.Qb):this.Gi&&eg(this.Se,this.Qc,this.Qb);a.preventDefault();a.stopPropagation()};
g.Hk=function(a){Dg(this,a);Ab();if(this.Mk)console.log("Trying to end a gesture recursively.");else{this.Mk=!0;if(this.Gi)fg(this.Se,a,this.Qb);else if(this.ag)this.wd.oi(a,this.Qb);else if(this.Hi)this.Bg.oi(this.Qb);else if(this.Ac&&!this.Vf)this.Ac.vu&&this.Ac.vu(),this.Ac.select&&this.Ac.select();else if(Hg(this)){var b=this.Ah,c=this.Qc;Ig(b)&&b.Sd(c);Jg(this)}else!this.zh||this.Vf||Hg(this)?this.zh||this.Ac||this.Ah||this.Vf||(b=this.um,J&&Bg(J),b=this.$a||b,x(new (A("click"))(null,b.id,"workspace"))):
(this.K&&this.K.Re?this.Db.isEnabled()&&(Xb||z(!0),bg(Gg(this.K,this.Db))):(b=new (A("click"))(this.zh,this.$a.id,"block"),x(b)),Jg(this),z(!1));a.preventDefault();a.stopPropagation();this.o()}};g.cancel=function(){this.Mk||(Ab(),this.Gi?fg(this.Se,this.Qc,this.Qb):this.ag?this.wd.oi(this.Qc,this.Qb):this.Hi&&this.Bg.oi(this.Qb),this.o())};function Bb(a,b){a.Db?(Jg(a),hd(!!a.K),a.Db.jj(b)):a.Ac?a.Ac.jj(b):a.$a&&!a.K&&(hd(),a.$a.jj(b));b.preventDefault();b.stopPropagation();a.o()}
function Kg(a,b,c){if(a.Wf)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");a.$a||(a.$a=c);a.Qc=b;a.Bm(b)}function Lg(a,b,c){if(a.Wf)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");a.K||(a.K=c);Kg(a,b,c.g)}function Jg(a){a.Db&&!a.K&&Vf(a.Db)}function Mg(a,b){a.zh||a.Ac||(a.zh=b,b.Ja&&b!=b.hd()?Ng(a,b.hd()):Ng(a,b))}function Ng(a,b){b.W?Ng(a,b.getParent()):a.Db=b}
function Hg(a){return(a.Ah?Ig(a.Ah):!1)&&!a.Vf&&(!a.K||!a.K.Re)}g.Xa=function(){return this.Hi||this.ag||this.Gi};g.bh=function(){return this.wd?this.wd.bh():[]};function Og(){for(var a=xe(),b=0,c;c=a[b];b++)if(c.Hb)return!0;return!1};function Pg(a,b,c){if(!b)throw Error("Cannot create a node without a location.");this.vj=a;this.U=b;this.Yr=null;(a=c||null)&&a.Xr&&(this.Yr=a.Xr)}var Qg=!1;function Rg(a){return a?new Pg("field",a):null}function Sg(a){if(!a)return null;var b=a.type;return 1==b||3==b&&a.Dd()?Tg(a.Dd()):3==b?new Pg("next",a):2==b?new Pg("output",a):4==b?new Pg("previous",a):null}function Tg(a){return a&&a.connection?new Pg("input",a.connection):null}function Ug(a){return a?new Pg("block",a):null}
function Vg(a){return a?new Pg("stack",a):null}g=Pg.prototype;g.getType=function(){return this.vj};function Wg(a,b){a=a.U;a instanceof re||(a=a.D());if(!a||!a.h)return null;var c=a.hd();a=c.h.fb(!0);for(var d=0,e;e=a[d];d++)if(c.id==e.id)return b=d+(b?1:-1),-1==b||b==a.length?null:Vg(a[b]);throw Error("Couldn't find "+(b?"next":"previous")+" stack?!");}function Xg(a){if(!a)return null;do var b=a.G&&a.G.H();while(b&&tb(b)==a&&(a=b));return(b=a.G||a.v)&&b.L&&b.L.Dd()?Tg(b.L.Dd()):Vg(a)}
g.D=function(){return"block"===this.getType()?this.U:"stack"===this.getType()?this.U:"workspace"===this.getType()?null:this.U.D()};
g.next=function(){switch(this.vj){case "stack":return Wg(this,!0);case "output":var a=this.U;return Ug(a.D());case "field":a:{var b=this.U,c=b.Dd();a=b.D();b=c.$.indexOf(b)+1;c=a.B.indexOf(c);for(var d;d=a.B[c];c++){for(var e=d.$;b<e.length;){if(Ig(e[b])||Qg){a=Rg(e[b]);break a}b++}b=0;if(d.connection){a=Tg(d);break a}}a=null}return a;case "input":a:{b=this.U.Dd();a=b.D();for(b=a.B.indexOf(b)+1;c=a.B[b];b++){d=c.$;e=0;for(var f;f=d[e];e++)if(Ig(f)||Qg){a=Rg(f);break a}if(c.connection){a=Tg(c);break a}}a=
null}return a;case "block":return Sg(this.U.C);case "previous":return a=this.U,Ug(a.D());case "next":return a=this.U,Sg(a.L)}return null};g.ff=function(){switch(this.vj){case "workspace":var a=this.U.fb(!0);if(0<a.length)return Vg(a[0]);break;case "stack":a=this.U;var b=a.G||a.v;return b?Sg(b):Ug(a);case "block":a=this.U;a:{a=a.B;b=0;for(var c;c=a[b];b++){for(var d=c.$,e=0,f;f=d[e];e++)if(Ig(f)||Qg){a=Rg(f);break a}if(c.connection){a=Tg(c);break a}}a=null}return a;case "input":return Sg(this.U.L)}return null};
g.Be=function(){switch(this.vj){case "stack":return Wg(this,!1);case "field":a:{var a=this.U;var b=a.Dd();var c=a.D();a=b.$.indexOf(a)-1;for(var d=c.B.indexOf(b),e;e=c.B[d];d--){if(e.connection&&e!==b){b=Tg(e);break a}for(e=e.$;-1<a;){if(Ig(e[a])||Qg){b=Rg(e[a]);break a}a--}0<=d-1&&(a=c.B[d-1].$.length-1)}b=null}return b;case "input":a:{b=this.U.Dd();c=b.D();for(a=c.B.indexOf(b);d=c.B[a];a--){if(d.connection&&d!==b){b=Tg(d);break a}d=d.$;e=d.length-1;for(var f;f=d[e];e--)if(Ig(f)||Qg){b=Rg(f);break a}}b=
null}return b;case "block":return b=this.U,Sg(b.G||b.v);case "previous":b=this.U;if((b=b.L)&&!b.Dd())return Sg(b);break;case "next":return b=this.U,Ug(b.D())}return null};
g.rf=function(){switch(this.vj){case "stack":var a=this.U,b=a.ea();a=a.h;return(b=new n(b.x,b.y+-20),a)?new Pg("workspace",a,{Xr:b}):null;case "output":return b=this.U,(a=b.L)?Sg(a):Vg(b.D());case "field":return Ug(this.U.D());case "input":return b=this.U,Ug(b.D());case "block":return a=this.U,Xg(a);case "previous":return b=this.U,Xg(b.D());case "next":return b=this.U,Xg(b.D())}return null};function Yg(){this.Lc=this.tc=this.fk=null;this.type="marker"}function Zg(a,b){var c=a.tc;a.tc=b;a.Lc&&a.Lc.dd(c,a.tc)}Yg.prototype.dd=function(){this.Lc&&this.Lc.dd(this.tc,this.tc)};Yg.prototype.qb=function(){this.Lc&&this.Lc.qb()};Yg.prototype.o=function(){this.Lc&&this.Lc.o()};function $g(){$g.j.constructor.call(this);this.type="cursor"}F($g,Yg);$g.prototype.next=function(){var a=this.tc;if(!a)return null;for(a=a.next();a&&a.next()&&("next"==a.getType()||"block"==a.getType());)a=a.next();a&&Zg(this,a);return a};$g.prototype.ff=function(){var a=this.tc;if(!a)return null;if("previous"==a.getType()||"output"==a.getType())a=a.next();(a=a.ff())&&Zg(this,a);return a};
$g.prototype.Be=function(){var a=this.tc;if(!a)return null;for(a=a.Be();a&&a.Be()&&("next"==a.getType()||"block"==a.getType());)a=a.Be();a&&Zg(this,a);return a};$g.prototype.rf=function(){var a=this.tc;if(!a)return null;(a=a.rf())&&"block"==a.getType()&&(a=a.Be()||a);a&&Zg(this,a);return a};v(Lb,"default",$g);function ah(a){this.ce=this.Jc=null;this.Li=Object.create(null);this.g=a}g=ah.prototype;g.ah=function(){return this.Jc};g.yi=function(a){return this.Li[a]||null};g.Ee=function(a){a?(this.g.ta.appendChild(a),this.ce=a):this.ce=null};g.Df=function(a){a?this.g.ta&&(this.ce?this.g.ta.insertBefore(a,this.ce):this.g.ta.appendChild(a)):this.ve=null};
g.o=function(){for(var a=Object.keys(this.Li),b=0,c;c=a[b];b++){var d=this.Li[c];if(d)d.o(),delete this.Li[c];else throw Error("Marker with ID "+c+" does not exist. Can only unregister markers that exist.");}this.Li=null;this.Jc&&(this.Jc.o(),this.Jc=null)};var bh,ch=null,dh=null,eh="",fh="";function gh(a,b,c){hh();ch=a;dh=c;a=bh;a.style.direction=b?"rtl":"ltr";a.style.display="block";b=nf;eh=b.Ea.fd();fh=b.le().fd();C(a,eh);C(a,fh)}function hh(){if(ch){ch=null;var a=bh;a.style.display="none";a.style.left="";a.style.top="";dh&&dh();dh=null;a.textContent="";eh&&(Dc(a,eh),eh="");fh&&(Dc(a,fh),fh="");dd(nf)}}function ih(a,b,c){bh.style.left=a+"px";bh.style.top=b+"px";bh.style.height=c+"px"};function jh(a,b,c){this.qa=this.Kf;this.Or=this.xg=null;this.sb=new Ha(0,0);this.i=this.Kn=this.Ie=this.jb=this.xa=this.ec=this.ve=this.ce=null;c&&this.Gb(c);this.Oa(a);b&&(this.xg=b)}g=jh.prototype;g.Kf=null;g.name=void 0;g.Kc=!1;g.Mq=50;g.m=null;g.Id=!0;g.Jf=!0;g.ek=null;g.Ih=!0;g.Nf=!1;g.Gb=function(a){var b=a.tooltip;"string"==typeof b&&(b=hb(a.tooltip));b&&this.Ua(b)};g.Mo=function(a){if(this.m)throw Error("Field already bound to a block.");this.m=a};
g.F=function(){!this.i&&this.m&&this.m.h&&this.m.h.J&&(this.i=this.m.h.Ea.F());return this.i};g.D=function(){return this.m};g.I=function(){this.ec||(this.ec=B(qc,{},null),this.isVisible()||(this.ec.style.display="none"),this.m.R().appendChild(this.ec),this.gf(),this.Ne(),this.Ua(this.Or),rg(kh(this)),this.Kn=r(kh(this),"mousedown",this,this.pf),this.$f())};g.gf=function(){lh(this);mh(this)};g.$f=function(){};
function lh(a){a.xa=B(wc,{rx:a.F().Jj,ry:a.F().Jj,x:0,y:0,height:a.sb.height,width:a.sb.width,"class":"blocklyFieldRect"},a.ec)}function mh(a){a.jb=B(yc,{"class":"blocklyText"},a.ec);a.F().Ol&&a.jb.setAttribute("dominant-baseline","central");a.Ie=document.createTextNode("");a.jb.appendChild(a.Ie)}g.Bk=function(a){this.Oa(a.textContent)};g.Lr=function(a){a.textContent=this.Ra();return a};g.o=function(){df===this&&rf();ch==this&&hh();vg(kh(this));this.Kn&&t(this.Kn);D(this.ec);this.Kc=!0};
g.Ne=function(){var a=this.ec;this.Ih&&a&&(this.m.Yb()?(C(a,"blocklyEditableText"),Dc(a,"blocklyNonEditableText"),a.style.cursor=this.Gj):(C(a,"blocklyNonEditableText"),Dc(a,"blocklyEditableText"),a.style.cursor=""))};function Ig(a){return!!a.m&&a.m.Yb()&&!!a.Sd&&"function"===typeof a.Sd}g.isVisible=function(){return this.Jf};g.ma=function(a){if(this.Jf!=a){this.Jf=a;var b=this.R();b&&(b.style.display=a?"block":"none")}};function nh(a,b){a.xg=b}g.iq=function(){return this.xg};g.R=function(){return this.ec};
g.Ka=function(){};g.vh=function(){this.Ie&&(this.Ie.nodeValue=this.Fk());this.Zo()};g.Zo=function(a){var b=this.F();a=void 0!=a?a:this.xa?this.F().Dg:0;var c=2*a,d=b.Kj,e=0;this.jb&&(e=Jc(this.jb,b.Fg+"pt",b.Gg,b.Eg),c+=e);this.xa&&(d=Math.max(d,b.Ml));this.sb.height=d;this.sb.width=c;oh(this,a,e);ph(this)};function oh(a,b,c){if(a.jb){var d=a.F(),e=a.sb.height/2;a.jb.setAttribute("x",a.m.s?a.sb.width-c-b:b);a.jb.setAttribute("y",d.Ol?e:e-d.Kj/2+d.kp)}}
function ph(a){a.xa&&(a.xa.setAttribute("width",a.sb.width),a.xa.setAttribute("height",a.sb.height),a.xa.setAttribute("rx",a.F().Jj),a.xa.setAttribute("ry",a.F().Jj))}g.getSize=function(){if(!this.isVisible())return new Ha(0,0);this.Id?(this.vh(),this.Id=!1):this.Jf&&0==this.sb.width&&(console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead."),this.vh());return this.sb};
function mf(a){if(a.xa)b=a.xa.getBoundingClientRect(),a=Ka(a.xa),d=b.width,b=b.height;else{var b=Wf(a.m),c=a.m.h.scale;a=Ka(kh(a));var d=b.width*c;b=b.height*c;Qa?(a.x+=1.5*c,a.y+=1.5*c):Ma||La||(a.x-=.5*c,a.y-=.5*c);d+=1*c;b+=1*c}return new Aa(a.y,a.y+b,a.x,a.x+d)}g.Fk=function(){var a=this.Vb();if(!a)return"\u00a0";a.length>this.Mq&&(a=a.substring(0,this.Mq-2)+"\u2026");a=a.replace(/\s/g,"\u00a0");this.m&&this.m.s&&(a+="\u200f");return a};
g.Vb=function(){if(this.Gk){var a=this.Gk.call(this);if(null!==a)return String(a)}return String(this.Ra())};g.Ki=function(){this.Id=!0;this.i=null};function qh(a){a.Id=!0;a.m&&a.m.J&&(a.m.P(),a.m.Ma(),a.Yo())}
g.Oa=function(a){if(null!==a){var b=this.ie(a);a=rh(this,a,b);if(!(a instanceof Error)){if(b=this.iq())if(b=b.call(this,a),a=rh(this,a,b),a instanceof Error)return;b=this.m;if(!b||!b.Kc){var c=this.Ra();c===a?this.cd(a):(b&&0==w&&x(new (A("change"))(b,"field",this.name||null,c,a)),this.cd(a),this.Id&&qh(this))}}}};function rh(a,b,c){if(null===c)return a.Wp(),a.Id&&qh(a),Error();void 0!==c&&(b=c);return b}g.Ra=function(){return this.qa};g.ie=function(a){return null===a||void 0===a?null:a};
g.cd=function(a){this.qa=a;this.Id=!0};g.Wp=function(){};g.pf=function(a){if(this.m&&this.m.h&&(a=this.m.h.ke(a))){if(a.Wf)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");a.Ah||(a.Ah=this)}};g.Ua=function(a){a||""===a||(a=this.m);var b=kh(this);b?b.Yc=a:this.Or=a};function kh(a){return a.ek||a.R()}g.Xi=function(){return!1};g.Dd=function(){for(var a=null,b=this.m,c=b.B,d=0;d<b.B.length;d++)for(var e=c[d],f=e.$,h=0;h<f.length;h++)if(f[h]===this){a=e;break}return a};
g.fq=function(){return!1};g.Aq=function(){return!1};g.Ee=function(a){a?(this.ec.appendChild(a),this.ce=a):this.ce=null};g.Df=function(a){a?(this.ec.appendChild(a),this.ve=a):this.ve=null};g.Yo=function(){var a=this.m.h;a.mh&&this.ce&&a.ah().dd();a.mh&&this.ve&&a.yi("local_marker_1").dd()};function sh(a){var b=Vb(Nb,a.type);return b?b.N(a):(console.warn("Blockly could not create a field of type "+a.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null)};function th(a,b){a.setAttribute("role",b)}function uh(a,b,c){Array.isArray(c)&&(c=c.join(" "));a.setAttribute("aria-"+b,c)};var vh=0;function wh(){return"blockly-"+(vh++).toString(36)};function xh(a,b,c){xh.j.constructor.call(this,a,b,c);this.xe=this.jl=this.il=this.kl=this.al=this.cf=this.Ae=null}F(xh,jh);xh.N=function(a){return new xh(a.colour,void 0,a)};g=xh.prototype;g.Nf=!0;g.Gj="default";g.Id=!1;g.qm=null;g.Kr=null;g.hk=0;g.Gb=function(a){xh.j.Gb.call(this,a);a.colourOptions&&(this.qm=a.colourOptions,this.Kr=a.colourTitles);a.columns&&(this.hk=a.columns)};
g.gf=function(){this.sb=new Ha(this.F().us,this.F().ts);this.F().ip?this.ek=this.m.R():(lh(this),this.xa.style.fillOpacity="1")};g.Ka=function(){this.F().ip?(this.m.pa.ua.setAttribute("fill",this.Ra()),this.m.pa.ua.setAttribute("stroke","#fff")):this.xa&&(this.xa.style.fill=this.Ra())};g.ie=function(a){return"string"!=typeof a?null:qa(a)};g.cd=function(a){this.qa=a;this.xa?this.xa.style.fill=a:this.m&&this.m.J&&(this.m.pa.ua.setAttribute("fill",a),this.m.pa.ua.setAttribute("stroke","#fff"))};
g.Vb=function(){var a=this.qa;/^#(.)\1(.)\2(.)\3$/.test(a)&&(a="#"+a[1]+a[3]+a[5]);return a};var yh="#ffffff #cccccc #c0c0c0 #999999 #666666 #333333 #000000 #ffcccc #ff6666 #ff0000 #cc0000 #990000 #660000 #330000 #ffcc99 #ff9966 #ff9900 #ff6600 #cc6600 #993300 #663300 #ffff99 #ffff66 #ffcc66 #ffcc33 #cc9933 #996633 #663333 #ffffcc #ffff33 #ffff00 #ffcc00 #999900 #666600 #333300 #99ff99 #66ff99 #33ff33 #33cc00 #009900 #006600 #003300 #99ffff #33ffff #66cccc #00cccc #339999 #336666 #003333 #ccffff #66ffff #33ccff #3366ff #3333ff #000099 #000066 #ccccff #9999ff #6666cc #6633ff #6600cc #333399 #330099 #ffccff #ff99ff #cc66cc #cc33cc #993399 #663366 #330033".split(" ");
xh.prototype.Kf=yh[0];var zh=[],Ah=7;g=xh.prototype;g.Sd=function(){this.Km();af.appendChild(this.Ae);lf(this,this.Lm.bind(this));this.Ae.focus({preventScroll:!0})};g.Tn=function(a){a=(a=a.target)&&a.label;null!==a&&(this.Oa(a),df===this&&rf())};
g.Zn=function(a){var b=!1;if(38===a.keyCode)Bh(this,0,-1),b=!0;else if(40===a.keyCode)Bh(this,0,1),b=!0;else if(37===a.keyCode)Bh(this,-1,0),b=!0;else if(39===a.keyCode)Bh(this,1,0),b=!0;else if(13===a.keyCode){if(b=Ch(this))b=b&&b.label,null!==b&&this.Oa(b);sf();b=!0}b&&a.stopPropagation()};
function Bh(a,b,c){var d=a.qm||yh,e=a.hk||Ah,f=a.cf%e,h=Math.floor(a.cf/e);f+=b;h+=c;0>b?0>f&&0<h?(f=e-1,h--):0>f&&(f=0):0<b?f>e-1&&h<Math.floor(d.length/e)-1?(f=0,h++):f>e-1&&f--:0>c?0>h&&(h=0):0<c&&h>Math.floor(d.length/e)-1&&(h=Math.floor(d.length/e)-1);Dh(a,a.Ae.childNodes[h].childNodes[f],h*e+f)}g.gu=function(a){var b=(a=a.target)&&Number(a.getAttribute("data-index"));null!==b&&b!==this.cf&&Dh(this,a,b)};g.cu=function(){this.Ae.focus({preventScroll:!0})};
g.du=function(){this.Ae.blur();var a=Ch(this);a&&Dc(a,"blocklyColourHighlighted")};function Ch(a){var b=a.hk||Ah,c=a.Ae.childNodes[Math.floor(a.cf/b)];return c?c.childNodes[a.cf%b]:null}function Dh(a,b,c){var d=Ch(a);d&&Dc(d,"blocklyColourHighlighted");C(b,"blocklyColourHighlighted");a.cf=c;uh(a.Ae,"activedescendant",b.getAttribute("id"))}
g.Km=function(){var a=this.hk||Ah,b=this.qm||yh,c=this.Kr||zh,d=this.Ra(),e=document.createElement("table");e.className="blocklyColourTable";e.tabIndex=0;e.dir="ltr";th(e,"grid");uh(e,"expanded",!0);uh(e,"rowcount",Math.floor(b.length/a));uh(e,"colcount",a);for(var f,h=0;h<b.length;h++){0==h%a&&(f=document.createElement("tr"),th(f,"row"),e.appendChild(f));var l=document.createElement("td");f.appendChild(l);l.label=b[h];l.title=c[h]||b[h];l.id=wh();l.setAttribute("data-index",h);th(l,"gridcell");uh(l,
"label",b[h]);uh(l,"selected",b[h]==d);l.style.backgroundColor=b[h];b[h]==d&&(l.className="blocklyColourSelected",this.cf=h)}this.al=r(e,"click",this,this.Tn,!0);this.kl=r(e,"mousemove",this,this.gu,!0);this.il=r(e,"mouseenter",this,this.cu,!0);this.jl=r(e,"mouseleave",this,this.du,!0);this.xe=r(e,"keydown",this,this.Zn);this.Ae=e};
g.Lm=function(){this.al&&(t(this.al),this.al=null);this.kl&&(t(this.kl),this.kl=null);this.il&&(t(this.il),this.il=null);this.jl&&(t(this.jl),this.jl=null);this.xe&&(t(this.xe),this.xe=null);this.cf=this.Ae=null};
Oe([".blocklyColourTable {","border-collapse: collapse;","display: block;","outline: none;","padding: 1px;","}",".blocklyColourTable>tr>td {","border: .5px solid #888;","box-sizing: border-box;","cursor: pointer;","display: inline-block;","height: 20px;","padding: 0;","width: 20px;","}",".blocklyColourTable>tr>td.blocklyColourHighlighted {","border-color: #eee;","box-shadow: 2px 2px 7px 2px rgba(0,0,0,.3);","position: relative;","}",".blocklyColourSelected, .blocklyColourSelected:hover {","border-color: #eee !important;",
"outline: 1px solid #333;","position: relative;","}"]);v(Nb,"field_colour",xh);function Eh(a,b,c,d){this.g=a;this.Il=b;this.Je=c.text;this.mg=new n(0,0);this.re=d;this.bk=c.callbackKey||c.callbackkey;this.Op=c["web-class"]||null;this.qf=null;this.info=c}g=Eh.prototype;g.width=0;g.height=0;
g.Ba=function(){var a=this.re?"blocklyFlyoutLabel":"blocklyFlyoutButton";this.Op&&(a+=" "+this.Op);this.u=B(qc,{"class":a},this.g.ta);if(!this.re)var b=B(wc,{"class":"blocklyFlyoutButtonShadow",rx:4,ry:4,x:1,y:1},this.u);a=B(wc,{"class":this.re?"blocklyFlyoutLabelBackground":"blocklyFlyoutButtonBackground",rx:4,ry:4},this.u);var c=B(yc,{"class":this.re?"blocklyFlyoutLabelText":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.u),d=hb(this.Je);this.g.s&&(d+="\u200f");c.textContent=d;this.re&&(this.Uo=
c,this.g.ab.subscribe(this.Uo,"flyoutForegroundColour","fill"));var e=Ja(c,"fontSize"),f=Ja(c,"fontWeight"),h=Ja(c,"fontFamily");this.width=Jc(c,e,f,h);d=Kc(d,e,f,h);this.height=d.height;this.re||(this.width+=10,this.height+=4,b.setAttribute("width",this.width),b.setAttribute("height",this.height));a.setAttribute("width",this.width);a.setAttribute("height",this.height);c.setAttribute("x",this.width/2);c.setAttribute("y",this.height/2-d.height/2+d.Gc);Fh(this);this.qf=r(this.u,"mouseup",this,this.ju);
return this.u};g.show=function(){Fh(this);this.u.setAttribute("display","block")};function Fh(a){a.u.setAttribute("transform","translate("+a.mg.x+","+a.mg.y+")")}g.moveTo=function(a,b){this.mg.x=a;this.mg.y=b;Fh(this)};g.o=function(){this.qf&&t(this.qf);this.u&&D(this.u);this.Uo&&this.g.ab.unsubscribe(this.Uo)};
g.ju=function(a){(a=this.Il.ke(a))&&a.cancel();this.re&&this.bk?console.warn("Labels should not have callbacks. Label text: "+this.Je):this.re||this.bk&&Gh(this.Il,this.bk)?this.re||Gh(this.Il,this.bk)(this):console.warn("Buttons should have callbacks. Button text: "+this.Je)};Oe(".blocklyFlyoutButton {,fill: #888;,cursor: default;,},.blocklyFlyoutButtonShadow {,fill: #666;,},.blocklyFlyoutButton:hover {,fill: #aaa;,},.blocklyFlyoutLabel {,cursor: default;,},.blocklyFlyoutLabelBackground {,opacity: 0;,}".split(","));var L=Object.create(null);var Hh=Object.create(null);function Ih(a,b){if("string"!=typeof a||""==a.trim())throw Error('Error: Invalid extension name "'+a+'"');if(Hh[a])throw Error('Error: Extension "'+a+'" is already registered.');if("function"!=typeof b)throw Error('Error: Extension "'+a+'" must be a function');Hh[a]=b}function Jh(a,b){if(!b||"object"!=typeof b)throw Error('Error: Mixin "'+a+'" must be a object');Ih(a,function(){Kh(this,b)})}
function Lh(a,b,c,d){var e='Error when registering mutator "'+a+'": ';Mh(e,b.Na,"domToMutation");Mh(e,b.sa,"mutationToDom");var f=Nh(b,e);if(c&&"function"!=typeof c)throw Error('Extension "'+a+'" is not a function');Ih(a,function(){if(f){if(!Oh)throw Error(e+"Missing require for Blockly.Mutator");this.fj(new Oh(d||[]))}Kh(this,b);c&&c.apply(this)})}
function Ph(a,b,c){var d=Hh[a];if("function"!=typeof d)throw Error('Error: Extension "'+a+'" not found.');if(c){if(Qh(b).length)throw Error('Error: tried to apply mutation "'+a+'" to a block that already has mutator functions.  Block id: '+b.id);}else var e=Qh(b);d.apply(b);if(c){a='Error after applying mutator "'+a+'": ';if("function"!=typeof b.Na)throw Error(a+'Applying a mutator didn\'t add "domToMutation"');if("function"!=typeof b.sa)throw Error(a+'Applying a mutator didn\'t add "mutationToDom"');
Nh(b,a)}else{a:if(c=e,b=Qh(b),b.length!=c.length)b=!1;else{for(d=0;d<b.length;d++)if(c[d]!=b[d]){b=!1;break a}b=!0}if(!b)throw Error('Error when applying extension "'+a+'": mutation properties changed when applying a non-mutator extension.');}}function Mh(a,b,c){if(!b)throw Error(a+'missing required property "'+c+'"');if("function"!=typeof b)throw Error(a+'" required property "'+c+'" must be a function');}
function Nh(a,b){var c=void 0!==a.$d,d=void 0!==a.fe;if(c&&d){if("function"!=typeof a.$d)throw Error(b+"compose must be a function.");if("function"!=typeof a.fe)throw Error(b+"decompose must be a function.");return!0}if(!c&&!d)return!1;throw Error(b+'Must have both or neither of "compose" and "decompose"');}function Qh(a){var b=[];void 0!==a.Na&&b.push(a.Na);void 0!==a.sa&&b.push(a.sa);void 0!==a.$d&&b.push(a.$d);void 0!==a.fe&&b.push(a.fe);return b}
function Rh(a,b){var c=[];"object"==typeof document&&pb(function(){for(var d in b)jb(b[d])});return function(){this.type&&-1==c.indexOf(this.type)&&(Sh(this,a,b),c.push(this.type));this.Ua(function(){var d=String(I(this,a)),e=b[d];null==e?-1==c.indexOf(this.type)&&(d="No tooltip mapping for value "+d+" of field "+a,null!=this.type&&(d+=" of block type "+this.type),console.warn(d+".")):e=hb(e);return e}.bind(this))}}
function Sh(a,b,c){var d=Ed(a,b);if(!Th(d)){d=Uh(d);for(var e=0;e<d.length;++e){var f=d[e][1];null==c[f]&&console.warn("No tooltip mapping for value "+f+" of field "+b+" of block type "+a.type)}}}function Vh(a){"object"==typeof document&&pb(function(){jb(a)});return function(){this.Ua(function(){var b=Ed(this,"VAR");return hb(a).replace("%1",b?b.Vb():"")}.bind(this))}}Ih("parent_tooltip_when_inline",function(){this.Fu=this.Yc;this.Ua(function(){var a=this.getParent();return a&&Sf(a)&&a.Yc||this.Fu}.bind(this))});function Wh(a,b,c){this.ck=null;Wh.j.constructor.call(this,a,null,c);c||(this.ck=b||null)}F(Wh,jh);Wh.prototype.Kf="";Wh.N=function(a){var b=hb(a.text);return new Wh(b,void 0,a)};Wh.prototype.Ih=!1;Wh.prototype.Gb=function(a){Wh.j.Gb.call(this,a);this.ck=a["class"]};Wh.prototype.gf=function(){mh(this);this.ck&&C(this.jb,this.ck)};Wh.prototype.ie=function(a){return null===a||void 0===a?null:String(a)};v(Nb,"field_label",Wh);function Xh(a,b,c,d){if(5!=a&&!b)throw Error("Value inputs and statement inputs must have non-empty name.");this.type=a;this.name=b;this.m=c;this.connection=d;this.$=[]}g=Xh.prototype;g.align=-1;g.Jf=!0;g.D=function(){return this.m};function M(a,b,c){Yh(a,a.$.length,b,c);return a}
function Yh(a,b,c,d){if(0>b||b>a.$.length)throw Error("index "+b+" out of bounds.");if(!(c||""==c&&d))return b;"string"==typeof c&&(c=sh({type:"field_label",text:c}));c.Mo(a.m);a.m.J&&(c.I(),c.Ka());c.name=d;c.ma(a.isVisible());c.wo&&(b=Yh(a,b,c.wo));a.$.splice(b,0,c);++b;c.To&&(b=Yh(a,b,c.To));a.m.J&&(a.m=a.m,a.m.P(),a.m.Ma());return b}g.isVisible=function(){return this.Jf};
g.ma=function(a){if(this.Jf!=a){this.Jf=a;for(var b=0,c;c=this.$[b];b++)c.ma(a);if(this.connection){this.connection=this.connection;if(a)Zh(this.connection);else if(b=this.connection,$h(b,!1),b.L)for(b=sb(b.H(),!1),c=0;c<b.length;c++){for(var d=b[c],e=d.gd(!0),f=0;f<e.length;f++)$h(e[f],!1);d=Uf(d);for(f=0;f<d.length;f++)d[f].ma(!1)}if(b=this.connection.H())b.R().style.display=a?"block":"none"}}};g.Ki=function(){for(var a=0,b;b=this.$[a];a++)b.Ki()};
g.rb=function(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.rb(a);return this};function ai(a,b){a.align=b;a.m.J&&(a.m=a.m,a.m.P());return a}g.hj=function(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.hj(a)};g.dh=function(){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.dh()};g.I=function(){if(this.m.h.J)for(var a=0;a<this.$.length;a++)this.$[a].I()};
g.o=function(){for(var a=0,b;b=this.$[a];a++)b.o();this.connection&&this.connection.o();this.m=null};function re(a,b,c){if(bi&&"undefined"!=typeof bi.prototype[b])throw Error('Block prototypeName "'+b+'" conflicts with Blockly.Generator members.');this.id=c&&!a.fc(c)?c:lb();a.hm[this.id]=this;this.G=this.C=this.v=null;this.B=[];this.qe=void 0;this.disabled=!1;this.Yc="";this.contextMenu=!0;this.Ld=null;this.Xd=[];this.Zp=this.Oq=this.xm=!0;this.Qf=this.W=!1;this.$h=null;this.pc={text:null,uo:!1,size:new Ha(160,80)};this.Zr=new n(0,0);this.h=a;this.Ja=a.ld;this.s=a.s;this.jh=!1;this.Ed=void 0;this.J=
null;if(b){this.type=b;c=L[b];if(!c||"object"!=typeof c)throw TypeError("Unknown block type: "+b);ld(this,c)}a.Wj(this);a.Me[this.type]||(a.Me[this.type]=[]);a.Me[this.type].push(this);(a=Xb)||z(!0);b=Yb;try{"function"==typeof this.I&&(Yb=!1,this.I(),Yb=b),0==w&&x(new (A("create"))(this))}finally{a||z(!1),Yb=b}this.Nt=this.qe;if("function"==typeof this.onchange){if((a=this.onchange)&&"function"!=typeof a)throw Error("onchange must be a function.");this.Ri&&qb(this.h.Ya,this.Ri);if(this.onchange=a)this.Ri=
a.bind(this),we(this.h,this.Ri)}}g=re.prototype;g.data=null;g.Kc=!1;g.wb="#000000";g.sg="";
g.o=function(a){if(this.h){this.Ri&&qb(this.h.Ya,this.Ri);Nd(this,a);0==w&&x(new (A("delete"))(this));w++;try{if(this.h){this.h.ul(this);var b=this.h;b.Me[this.type].splice(b.Me[this.type].indexOf(this),1);b.Me[this.type].length||delete b.Me[this.type];delete this.h.hm[this.id];this.h=null}J==this&&(J=null);for(var c=this.Xd.length-1;0<=c;c--)this.Xd[c].o(!1);c=0;for(var d;d=this.B[c];c++)d.o();this.B.length=0;var e=this.gd(!0);c=0;for(var f;f=e[c];c++)f.o()}finally{w--,this.Kc=!0}}};
g.$f=function(){for(var a=0,b;b=this.B[a];a++)for(var c=0,d;d=b.$[c];c++)d.$f&&d.$f()};
function Nd(a,b){if(a.v){var c=null;a.v.isConnected()&&(c=a.v.L,a.v.disconnect());if(c&&b){a:{b=null;for(var d=0;d<a.B.length;d++){var e=a.B[d].connection;if(e&&1==e.type&&e.L){if(b){a=null;break a}b=e}}a=b}a&&a.isConnected()&&!a.H().W&&(a=a.L,a.disconnect(),0==Rd(a,c,!1)?c.connect(a):a.Wn(c))}}else a.G&&(c=null,a.G.isConnected()&&(c=a.G.L,a.G.disconnect()),d=tb(a),b&&d&&!d.W&&(a=a.C.L,a.disconnect(),c&&0==Rd(c,a,!1)&&c.connect(a)))}
g.gd=function(){var a=[];this.v&&a.push(this.v);this.G&&a.push(this.G);this.C&&a.push(this.C);for(var b=0,c;c=this.B[b];b++)c.connection&&a.push(c.connection);return a};g.Rk=function(a){for(var b=this.C;b;){var c=b.H();if(!c||a&&c.W)return b;b=c.C}return null};g.Ma=function(){};g.getParent=function(){return this.Ld};function Md(a,b){for(var c=0,d;d=a.B[c];c++)if(d.connection&&d.connection.H()==b)return d;return null}
function ci(a){do{var b=a;a=a.getParent();if(!a)return null}while(tb(a)==b);return a}function tb(a){return a.C&&a.C.H()}g.hd=function(){var a=this;do{var b=a;a=b.Ld}while(a);return b};function od(a,b){if(!b)return a.Xd;b=[];for(var c=0,d;d=a.B[c];c++)d.connection&&(d=d.connection.H())&&b.push(d);(a=tb(a))&&b.push(a);return b}
g.Cl=function(a){if(a!=this.Ld){if(this.Ld){qb(this.Ld.Xd,this);if(this.G&&this.G.isConnected())throw Error("Still connected to previous block.");if(this.v&&this.v.isConnected())throw Error("Still connected to parent block.");this.Ld=null}else this.h.ul(this);(this.Ld=a)?a.Xd.push(this):this.h.Wj(this)}};function sb(a,b){var c=[a];a=od(a,b);for(var d,e=0;d=a[e];e++)c.push.apply(c,sb(d,b));return c}g.Pc=function(){return this.xm&&!this.W&&!(this.h&&this.h.options.readOnly)};
g.hb=function(){return this.Oq&&!this.W&&!(this.h&&this.h.options.readOnly)};g.Al=function(a){this.Oq=a};g.Lo=function(a){this.W=a};g.Jb=function(){return this.jh};g.Br=function(a){this.jh=a};g.Yb=function(){return this.Zp&&!(this.h&&this.h.options.readOnly)};g.Io=function(a){this.Zp=a;a=0;for(var b;b=this.B[a];a++)for(var c=0,d;d=b.$[c];c++)d.Ne()};
g.$m=function(a,b){var c=this.gd(!0);a=a.gd(!0);if(c.length!=a.length)throw Error("Connection lists did not match in length.");for(var d=0;d<a.length;d++)if(a[d]==b)return c[d];return null};g.Ua=function(a){this.Yc=a};g.Ym=function(){return this.wb};g.ib=function(a){this.wb=ub(a).Bi};g.Fe=function(a){this.sg=a};
function Ed(a,b){if("string"!==typeof b)throw TypeError("Blockly.Block.prototype.getField expects a string with the field name but received "+(void 0===b?"nothing":b+" of type "+typeof b)+" instead");for(var c=0,d;d=a.B[c];c++)for(var e=0,f;f=d.$[e];e++)if(f.name===b)return f;return null}g.ne=function(){for(var a=[],b=0,c;c=this.B[b];b++)for(var d=0,e;e=c.$[d];d++)e.Xi()&&a.push(e.Ra());return a};
g.me=function(){for(var a=[],b=0,c;c=this.B[b];b++)for(var d=0,e;e=c.$[d];d++)e.Xi()&&(e=this.h.jd(e.Ra()))&&a.push(e);return a};g.Kl=function(a){for(var b=0,c;c=this.B[b];b++)for(var d=0,e;e=c.$[d];d++)e.Xi()&&a.T()==e.Ra()&&qh(e)};g.vl=function(a,b){for(var c=0,d;d=this.B[c];c++)for(var e=0,f;f=d.$[e];e++)f.Xi()&&a==f.Ra()&&f.Oa(b)};function I(a,b){return(a=Ed(a,b))?a.Ra():null}function di(a,b,c){a=Ed(a,c);if(!a)throw Error('Field "'+c+'" not found.');a.Oa(b)}
g.Rd=function(a,b){if(a){void 0===b&&(b=null);if(!this.G){if(this.v)throw Error("Remove output connection prior to adding previous connection.");this.G=this.Ji(4)}this.G.rb(b)}else if(this.G){if(this.G.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.G.o();this.G=null}};
g.Pd=function(a,b){if(a)void 0===b&&(b=null),this.C||(this.C=this.Ji(3)),this.C.rb(b);else if(this.C){if(this.C.isConnected())throw Error("Must disconnect next statement before removing connection.");this.C.o();this.C=null}};
g.Qd=function(a,b){if(a){void 0===b&&(b=null);if(!this.v){if(this.G)throw Error("Remove previous connection prior to adding output connection.");this.v=this.Ji(2)}this.v.rb(b)}else if(this.v){if(this.v.isConnected())throw Error("Must disconnect output value before removing connection.");this.v.o();this.v=null}};g.Wc=function(a){this.qe!=a&&(x(new (A("change"))(this,"inline",null,this.qe,a)),this.qe=a)};
function Sf(a){if(void 0!=a.qe)return a.qe;for(var b=1;b<a.B.length;b++)if(5==a.B[b-1].type&&5==a.B[b].type)return!1;for(b=1;b<a.B.length;b++)if(1==a.B[b-1].type&&5==a.B[b].type)return!0;return!1}g.isEnabled=function(){return!this.disabled};g.bc=function(a){this.isEnabled()!=a&&(x(new (A("change"))(this,"disabled",null,this.disabled,!a)),this.disabled=!a)};function ei(a){for(a=ci(a);a;){if(a.disabled)return!0;a=ci(a)}return!1}g.isCollapsed=function(){return this.Qf};
g.Af=function(a){this.Qf!=a&&(x(new (A("change"))(this,"collapsed",null,this.Qf,a)),this.Qf=a)};
g.toString=function(a,b){function c(p){var q=p.Tg;!q&&p.L&&(q=p.L.Tg);return!!q&&(-1!=q.indexOf("Boolean")||-1!=q.indexOf("Number"))}function d(){h&&h.getType()==l.getType()&&h.U==l.U&&(h=null)}var e=[];b=b||"?";var f=Qg;Qg=!0;for(var h=Ug(this),l=h;h;){switch(h.getType()){case "input":var m=h.U;h.ff()?c(m)&&e.push("("):e.push(b);break;case "field":m=h.U,"_TEMP_COLLAPSED_FIELD"!=m.name&&e.push(m.Vb())}m=h;h=m.ff()||m.next();if(!h){h=m.rf();for(d();h&&!h.next();)h=h.rf(),d(),h&&"input"==h.getType()&&
c(h.U)&&e.push(")");h&&(h=h.next())}}Qg=f;for(b=2;b<e.length;b++)"("==e[b-2]&&")"==e[b]&&(e[b-2]=e[b-1],e.splice(b-1,2));e=e.reduce(function(p,q){return p+("("==p.substr(-1)||")"==q?"":" ")+q},"");e=e.trim()||"???";a&&e.length>a&&(e=e.substring(0,a-3)+"...");return e};function N(a,b){return a.wa(5,b||"")}
function fi(a,b){var c=b.type?'Block "'+b.type+'": ':"";if(b.output&&b.previousStatement)throw Error(c+"Must not have both an output and a previousStatement.");b.style&&b.style.Ed&&(a.Ed=b.style.Ed,b.style=null);if(b.style&&b.colour)throw Error(c+"Must not have both a colour and a style.");if(b.style){var d=b.style;try{a.Fe(d)}catch(kb){console.warn(c+"Style does not exist: ",d)}}else if("colour"in b)if(void 0===b.colour)console.warn(c+"Undefined colour value.");else{d=b.colour;try{a.ib(d)}catch(kb){console.warn(c+
"Illegal colour value: ",d)}}for(d=0;void 0!==b["message"+d];){var e=a,f=b["args"+d]||[],h=b["lastDummyAlign"+d],l=c,m=ib(b["message"+d],!0),p=e;var q=m;for(var u=f.length,y=[],O=0,Pa=0;Pa<q.length;Pa++){var na=q[Pa];if("number"==typeof na){if(1>na||na>u)throw Error('Block "'+p.type+'": Message index %'+na+" out of range.");if(y[na])throw Error('Block "'+p.type+'": Message index %'+na+" duplicated.");y[na]=!0;O++}}if(O!=u)throw Error('Block "'+p.type+'": Message does not reference all '+u+" arg(s).");
p=f;f=[];for(q=0;q<m.length;q++){u=m[q];"number"==typeof u&&(u=p[u-1]);if("string"==typeof u&&(u=gi(u),!u))continue;f.push(u)}(m=f.length)&&!hi(f[m-1].type)&&(m={type:"input_dummy"},h&&(m.align=h),f.push(m));h=f;f=[];for(m=0;q=h[m];m++)if(hi(q.type)){p=e;u=l;O={LEFT:-1,RIGHT:1,CENTRE:0,CENTER:0};y=null;switch(q.type){case "input_value":y=p.wa(1,q.name);break;case "input_statement":y=p.wa(3,q.name);break;case "input_dummy":y=N(p,q.name)}y?(q.check&&y.rb(q.check),q.align&&(p=O[q.align.toUpperCase()],
void 0===p?console.warn(u+"Illegal align value: ",q.align):ai(y,p)),p=y):p=null;if(p){for(q=0;u=f[q];q++)M(p,u[0],u[1]);f.length=0}}else(p=ii(e,q))&&f.push([p,q.name]);d++}void 0!==b.inputsInline&&a.Wc(b.inputsInline);void 0!==b.output&&a.Qd(!0,b.output);void 0!==b.previousStatement&&a.Rd(!0,b.previousStatement);void 0!==b.nextStatement&&a.Pd(!0,b.nextStatement);void 0!==b.tooltip&&(d=b.tooltip,d=hb(d),a.Ua(d));void 0!==b.enableContextMenu&&(d=b.enableContextMenu,a.contextMenu=!!d);void 0!==b.helpUrl&&
(d=b.helpUrl,d=hb(d),a.Ib=d);"string"==typeof b.extensions&&(console.warn(c+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+b.type+"' block."),b.extensions=[b.extensions]);void 0!==b.mutator&&Ph(b.mutator,a,!0);b=b.extensions;if(Array.isArray(b))for(c=0;c<b.length;++c)Ph(b[c],a,!1)}function Kh(a,b){var c=[],d;for(d in b)void 0!==a[d]&&c.push(d);if(c.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(c));ld(a,b)}
function ii(a,b){var c=sh(b);return!c&&b.alt?"string"==typeof b.alt?(b=gi(b.alt))?ii(a,b):null:ii(a,b.alt):c}function hi(a){return"input_value"==a||"input_statement"==a||"input_dummy"==a}function gi(a){return(a=a.trim())?{type:"field_label",text:a}:null}g.wa=function(a,b){var c=null;if(1==a||3==a)c=this.Ji(a);a=new Xh(a,b,this,c);this.B.push(a);return a};
function ji(a,b,c){if(b!=c){for(var d=-1,e=c?-1:a.B.length,f=0,h;h=a.B[f];f++)if(h.name==b){if(d=f,-1!=e)break}else if(c&&h.name==c&&(e=f,-1!=d))break;if(-1==d)throw Error('Named input "'+b+'" not found.');if(-1==e)throw Error('Reference input "'+c+'" not found.');a.Nn(d,e)}}
g.Nn=function(a,b){if(a==b)throw Error("Can't move input to itself.");if(a>=this.B.length)throw RangeError("Input index "+a+" out of bounds.");if(b>this.B.length)throw RangeError("Reference input "+b+" out of bounds.");var c=this.B[a];this.B.splice(a,1);a<b&&b--;this.B.splice(b,0,c)};g.Za=function(a,b){for(var c=0,d;d=this.B[c];c++)if(d.name==a)return d.o(),this.B.splice(c,1),!0;if(b)return!1;throw Error("Input not found: "+a);};
function H(a,b){for(var c=0,d;d=a.B[c];c++)if(d.name==b)return d;return null}function ki(a,b){return(a=H(a,b))&&a.connection&&a.connection.H()}g.Bf=function(a){this.pc.text!=a&&(x(new (A("change"))(this,"comment",null,this.pc.text,a)),this.$h=this.pc.text=a)};g.yh=function(){};g.fj=function(){};g.ea=function(){return this.Zr};g.moveBy=function(a,b){if(this.Ld)throw Error("Block has parent.");var c=new (A("move"))(this);this.Zr.translate(a,b);Ld(c);x(c)};g.Ji=function(a){return new Od(this,a)};function bi(a){this.we=a;this.As=new RegExp(this.td,"g")}g=bi.prototype;g.Lj=null;g.cc=null;g.vb=null;g.Mb="  ";g.hs=60;g.Qj=[];g.Nk=null;function li(a,b){return b+a.replace(/(?!\n$)\n/g,"\n"+b)}
function mi(a,b){!1===a.Nk&&console.warn("Generator init was not called before blockToCode was called.");if(!b)return"";if(!b.isEnabled())return mi(a,tb(b));if(b.Jb())return mi(a,od(b,!1)[0]);var c=a[b.type];if("function"!=typeof c)throw Error('Language "'+a.we+'" does not know how to generate code for block type "'+b.type+'".');c=c.call(b,b);if(Array.isArray(c)){if(!b.v)throw TypeError("Expecting string from statement block: "+b.type);return[a.zl(b,c[0]),c[1]]}if("string"==typeof c)return a.cc&&
!b.Ff&&(c=ni(a.cc,b)+c),a.vb&&!b.Ff&&(c+=ni(a.vb,b)),a.zl(b,c);if(null===c)return"";throw SyntaxError("Invalid code generated: "+c);}
function P(a,b,c,d){if(isNaN(d))throw TypeError("Expecting valid order from block: "+b.type);var e=ki(b,c);if(!e)return"";c=mi(a,e);if(""===c)return"";if(!Array.isArray(c))throw TypeError("Expecting tuple from value block: "+e.type);b=c[0];c=c[1];if(isNaN(c))throw TypeError("Expecting valid order from value block: "+e.type);if(!b)return"";e=!1;var f=Math.floor(d),h=Math.floor(c);if(f<=h&&(f!=h||0!=f&&99!=f))for(e=!0,f=0;f<a.Qj.length;f++)if(a.Qj[f][0]==d&&a.Qj[f][1]==c){e=!1;break}e&&(b="("+b+")");
return b}function oi(a,b){var c=Q;a=ki(a,b);b=mi(c,a);if("string"!=typeof b)throw TypeError("Expecting code from statement block: "+(a&&a.type));b&&(b=li(b,c.Mb));return b}function pi(a,b){var c=Q;c.Lj&&(a=li(ni(c.Lj,b),c.Mb)+a);c.vb&&!b.Ff&&(a=li(ni(c.vb,b),c.Mb)+a);c.cc&&!b.Ff&&(a+=li(ni(c.cc,b),c.Mb));return a}function ni(a,b){b=b.id.replace(/\$/g,"$$$$");return a.replace(/%1/g,"'"+b+"'")}g.Wl="";function qi(a){var b=Q;b.Wl+=a+","}g.td="{leCUI8hutHZI4480Dc}";
function ri(a,b){var c=Q;if(!c.Xg[a]){var d=si(c.Da,a,"PROCEDURE");c.Tm[a]=d;b=b.join("\n").replace(c.As,d);for(var e;e!=b;)e=b,b=b.replace(/^(( {2})*) {2}/gm,"$1\x00");b=b.replace(/\0/g,c.Mb);c.Xg[a]=b}return c.Tm[a]}g.I=function(){this.Xg=Object.create(null);this.Tm=Object.create(null)};g.zl=function(a,b){return b};g.finish=function(a){delete this.Xg;delete this.Tm;return a};g.Ar=function(a){return a};var Q=new bi("JavaScript");qi("break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,new,return,super,switch,this,throw,try,typeof,var,void,while,with,yield,enum,implements,interface,let,package,private,protected,public,static,await,null,true,false,arguments,"+Object.getOwnPropertyNames(pa).join(","));Q.Qe=0;Q.av=1.1;Q.cb=1.2;Q.Ha=2;Q.Zu=3;Q.Vu=3;Q.Ru=4.1;Q.cv=4.2;Q.Rh=4.3;Q.Ph=4.4;Q.bv=4.5;Q.dv=4.6;Q.Wu=4.7;Q.Pu=4.8;
Q.Xu=5;Q.Ul=5.1;Q.Oh=5.2;Q.Qh=5.3;Q.Mg=6.1;Q.Lf=6.2;Q.Tu=7;Q.Ns=8;Q.Yu=8;Q.$u=8;Q.qp=9;Q.Qu=10;Q.Uu=11;Q.Su=12;Q.Sl=13;Q.Tl=14;Q.Pj=15;Q.Mf=16;Q.ev=17;Q.Nh=18;Q.va=99;Q.Qj=[[Q.Ha,Q.cb],[Q.Ha,Q.Ha],[Q.cb,Q.cb],[Q.cb,Q.Ha],[Q.Ph,Q.Ph],[Q.Ul,Q.Ul],[Q.Lf,Q.Lf],[Q.Sl,Q.Sl],[Q.Tl,Q.Tl]];Q.Nk=!1;
Q.I=function(a){Object.getPrototypeOf(this).I.call(this);this.Da?this.Da.reset():this.Da=new ti(this.Wl);this.Da.No(a.X);for(var b=this.Da,c=ui(a),d=0;d<c.length;d++)b.Ub(c[d].T(),"VARIABLE");b=this.Da;c=vi(a);c=c[0].concat(c[1]);for(d=0;d<c.length;d++)b.Ub(c[d][0],"PROCEDURE");b=[];c=je(a);d=Object.create(null);for(var e=0,f;f=c[e];e++){var h=f.qv;!h&&f.zt&&(h=f.zt,wi[f.type]||(console.warn("Function getDeveloperVars() deprecated. Use getDeveloperVariables() (block type '"+f.type+"')"),wi[f.type]=
!0));if(h)for(f=h(),h=0;h<f.length;h++)d[f[h]]=!0}d=Object.keys(d);for(c=0;c<d.length;c++)b.push(this.Da.Ub(d[c],xi));a=ui(a);for(c=0;c<a.length;c++)b.push(this.Da.Ub(a[c].T(),"VARIABLE"));b.length&&(this.Xg.variables="var "+b.join(", ")+";");this.Nk=!0};Q.finish=function(a){var b=md(this.Xg);a=Object.getPrototypeOf(this).finish.call(this,a);this.Nk=!1;this.Da.reset();return b.join("\n\n")+"\n\n\n"+a};Q.Ar=function(a){return a+";\n"};
Q.rh=function(a){a=a.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'");return"'"+a+"'"};Q.xv=function(a){return a.split(/\n/g).map(this.rh).join(" + '\\n' +\n")};
Q.zl=function(a,b){var c="";if(!a.v||!a.v.L){var d=a.pc.text;d&&(d=Ea(d,this.hs-3),c+=li(d+"\n","// "));for(var e=0;e<a.B.length;e++)if(1==a.B[e].type){var f=a.B[e].connection.H();if(f){d=[];f=sb(f,!0);for(var h=0;h<f.length;h++){var l=f[h].pc.text;l&&d.push(l)}d.length&&d.push("");(d=d.join("\n"))&&(c+=li(d,"// "))}}}a=a.C&&a.C.H();a=mi(this,a);return c+b+a};
Q.Cd=function(a,b,c,d,e){c=c||0;e=e||this.va;a.h.options.ye&&c--;var f=a.h.options.ye?"1":"0";a=0<c?P(this,a,b,this.Lf)||f:0>c?P(this,a,b,this.Mg)||f:d?P(this,a,b,this.Rh)||f:P(this,a,b,e)||f;if(yi(a))a=Number(a)+c,d&&(a=-a);else{if(0<c){a=a+" + "+c;var h=this.Lf}else 0>c&&(a=a+" - "+-c,h=this.Mg);d&&(a=c?"-("+a+")":"-"+a,h=this.Rh);h=Math.floor(h);e=Math.floor(e);h&&e>=h&&(a="("+a+")")}return a};function zi(){this.od=[];this.og=this.xb=this.fl=this.Yk=this.Xk=this.Yd=this.Zk=this.Yf=this.jo=null}g=zi.prototype;
g.P=function(a){var b=document.createElement("div");b.className="blocklyMenu goog-menu blocklyNonSelectable";b.tabIndex=0;this.og&&th(b,this.og);this.xb=b;for(var c=0,d;d=this.od[c];c++)b.appendChild(d.Ba());this.Zk=r(b,"mouseover",this,this.Gt,!0);this.Yd=r(b,"click",this,this.Bt,!0);this.Xk=r(b,"mouseenter",this,this.Et,!0);this.Yk=r(b,"mouseleave",this,this.Ft,!0);this.fl=r(b,"keydown",this,this.Ct);a.appendChild(b)};g.focus=function(){var a=this.xb;a&&(a.focus({preventScroll:!0}),C(a,"blocklyFocused"))};
g.gj=function(a){this.og=a};g.o=function(){this.Zk&&(t(this.Zk),this.Zk=null);this.Yd&&(t(this.Yd),this.Yd=null);this.Xk&&(t(this.Xk),this.Xk=null);this.Yk&&(t(this.Yk),this.Yk=null);this.fl&&(t(this.fl),this.fl=null);for(var a=0,b;b=this.od[a];a++)b.o();this.xb=null};function Ai(a,b){for(var c=a.xb;b&&b!=c;){if(Ec(b,"blocklyMenuItem"))for(var d=0,e;e=a.od[d];d++)if(e.xb==b)return e;b=b.parentElement}return null}
g.pd=function(a){var b=this.Yf;b&&(b.pd(!1),this.Yf=null);if(a){a.pd(!0);this.Yf=a;b=this.xb;var c=a.xb,d=Ka(c),e=Ka(b);var f=Ja(b,"borderLeftWidth");Ja(b,"borderRightWidth");var h=Ja(b,"borderTopWidth");Ja(b,"borderBottomWidth");f=d.x-e.x-parseFloat(f);d=d.y-e.y-parseFloat(h);c=new Ha(c.offsetWidth,c.offsetHeight);e=b.clientHeight-c.height;h=b.scrollLeft;var l=b.scrollTop;h+=Math.min(f,Math.max(f-(b.clientWidth-c.width),0));l+=Math.min(d,Math.max(d-e,0));f=new n(h,l);b.scrollLeft=f.x;b.scrollTop=
f.y;uh(b,"activedescendant",a.T())}};function Bi(a,b,c){b+=c;for(var d;d=a.od[b];){if(d.isEnabled()){a.pd(d);break}b+=c}}g.Gt=function(a){(a=Ai(this,a.target))&&(a.isEnabled()?this.Yf!=a&&this.pd(a):this.pd(null))};g.Bt=function(a){var b=this.jo;this.jo=null;b&&"number"==typeof a.clientX&&1>xa(b,new n(a.clientX,a.clientY))||(a=Ai(this,a.target))&&a.isEnabled()&&a.Vh&&a.Vh(a)};g.Et=function(){this.focus()};g.Ft=function(){if(this.xb){var a=this.xb;a&&(a.blur(),Dc(a,"blocklyFocused"));this.pd(null)}};
g.Ct=function(a){if(this.od.length&&!(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)){var b=this.Yf;switch(a.keyCode){case 13:case 32:b&&b.isEnabled()&&b.Vh&&b.Vh(b);break;case 38:b=this.od.indexOf(this.Yf);Bi(this,0>b?this.od.length:b,-1);break;case 40:Bi(this,this.od.indexOf(this.Yf),1);break;case 33:case 36:Bi(this,-1,1);break;case 34:case 35:Bi(this,this.od.length,-1);break;default:return}a.preventDefault();a.stopPropagation()}};
g.getSize=function(){var a=this.xb,b=Ia(a);b.height=a.scrollHeight;return b};function Ci(a,b){this.gi=a;this.qa=b;this.zk=!0;this.xb=null;this.Fo=!1;this.og=null;this.qq=this.om=this.nm=!1;this.Vh=null}g=Ci.prototype;
g.Ba=function(){var a=document.createElement("div");a.id=wh();this.xb=a;a.className="blocklyMenuItem goog-menuitem "+(this.zk?"":"blocklyMenuItemDisabled goog-menuitem-disabled ")+(this.om?"blocklyMenuItemSelected goog-option-selected ":"")+(this.qq?"blocklyMenuItemHighlight goog-menuitem-highlight ":"")+(this.Fo?"blocklyMenuItemRtl goog-menuitem-rtl ":"");var b=document.createElement("div");b.className="blocklyMenuItemContent goog-menuitem-content";if(this.nm){var c=document.createElement("div");
c.className="blocklyMenuItemCheckbox goog-menuitem-checkbox";b.appendChild(c)}c=this.gi;"string"==typeof this.gi&&(c=document.createTextNode(this.gi));b.appendChild(c);a.appendChild(b);this.og&&th(a,this.og);uh(a,"selected",this.nm&&this.om||!1);uh(a,"disabled",!this.zk);return a};g.o=function(){this.xb=null};g.T=function(){return this.xb.id};g.Ra=function(){return this.qa};g.gj=function(a){this.og=a};
g.pd=function(a){this.qq=a;var b=this.xb;b&&this.isEnabled()&&(a?(C(b,"blocklyMenuItemHighlight"),C(b,"goog-menuitem-highlight")):(Dc(b,"blocklyMenuItemHighlight"),Dc(b,"goog-menuitem-highlight")))};g.isEnabled=function(){return this.zk};g.bc=function(a){this.zk=a};function Di(a,b,c){a.Vh=b.bind(c)};var Ei={mk:null,$b:null,show:function(a,b,c){gh(Ei,c,Ei.o);if(b.length){var d=Ei.lu(b,c);Ei.$b=d;Ei.mg(d,a,c);setTimeout(function(){d.focus()},1);Ei.mk=null}else Ei.qb()},lu:function(a,b){var c=new zi;c.gj("menu");for(var d=0,e;e=a[d];d++){var f=new Ci(e.text);f.Fo=b;f.gj("menuitem");c.od.push(f);f.bc(e.enabled);e.enabled&&Di(f,function(){Ei.qb();this.ka(this.scope)},e)}return c},mg:function(a,b,c){var d=document.body;var e=document.documentElement;d=new n(d.scrollLeft||e.scrollLeft,d.scrollTop||
e.scrollTop);d=new Aa(d.y,document.documentElement.clientHeight+d.y,d.x,document.documentElement.clientWidth+d.x);var f=new Aa(b.clientY+d.top,b.clientY+d.top,b.clientX+d.left,b.clientX+d.left);Ei.kt(a);b=a.getSize();c&&(f.left+=b.width,f.right+=b.width,d.left+=b.width,d.right+=b.width);e=f.bottom+b.height>=d.bottom?f.top-b.height:f.bottom;c?(c=Math.max(f.right-b.width,d.left),c=Math.min(c,d.right-b.width)):(c=Math.min(f.left,d.right-b.width),c=Math.max(c,d.left));0>e?ih(c,0,b.height+e):ih(c,e,b.height);
a.focus()},kt:function(a){a.P(bh);var b=a.xb;C(b,"blocklyContextMenu");r(b,"contextmenu",null,Za);a.focus()},qb:function(){ch==Ei&&hh();Ei.mk=null},o:function(){Ei.$b&&(Ei.$b.o(),Ei.$b=null)},ak:function(a,b){return function(){w++;try{var c=ud(b,a.h),d=a.ea();d.x=a.s?d.x-28:d.x+28;d.y+=56;c.moveBy(d.x,d.y)}finally{w--}0==w&&!c.W&&x(new (A("create"))(c));c.select()}}};function Fi(){Gi=this;this.Tc=Object.create(null)}var Gi=null;Fi.prototype.register=function(a){if(this.Tc[a.id])throw Error('Menu item with ID "'+a.id+'" is already registered.');this.Tc[a.id]=a};Fi.prototype.unregister=function(a){if(!this.Tc[a])throw Error('Menu item with ID "'+a+'" not found.');delete this.Tc[a]};Fi.prototype.getItem=function(a){return this.Tc[a]||null};
function Hi(a,b){var c=[],d=Gi.Tc;Object.keys(d).forEach(function(e){e=d[e];if(a==e.zc){var f=e.Ta(b);"hidden"!=f&&(e={text:"function"==typeof e.Rb?e.Rb(b):e.Rb,enabled:"enabled"==f,ka:e.ka,scope:b,weight:e.weight},c.push(e))}});c.sort(function(e,f){return e.weight-f.weight});return c}new Fi;function Ii(a,b,c){Ii.j.constructor.call(this,c);this.Uq=a;this.Qq=b}F(Ii,Qe);Ii.prototype.type="selected";Ii.prototype.S=function(){var a=Ii.j.S.call(this);a.oldElementId=this.Uq;a.newElementId=this.Qq;return a};Ii.prototype.N=function(a){Ii.j.N.call(this,a);this.Uq=a.oldElementId;this.Qq=a.newElementId};v(Mb,"selected",Ii);function Ji(a,b){Ji.j.constructor.call(this,a,b);this.zd=a.h.kk[b];this.Pp=a.h.kk[oa[b]];this.kg=new n(0,0);this.Le=Ki;this.L=null}F(Ji,Od);var Ki=-1;g=Ji.prototype;g.o=function(){Ji.j.o.call(this);1==this.Le&&Li(this.zd,this,this.y)};g.D=function(){return Ji.j.D.call(this)};g.H=function(){return Ji.j.H.call(this)};function Vd(a,b){var c=a.x-b.x;a=a.y-b.y;return Math.sqrt(c*c+a*a)}
function Mi(a,b){if(!a.m.h.Xa()){var c=a.m.hd();if(!c.Ja){var d=!1;if(!c.hb()){c=b.D().hd();if(!c.hb())return;b=a;d=!0}var e=J==c;e||c.Vj();var f=b.x+28+Math.floor(10*Math.random())-a.x,h=b.y+28+Math.floor(10*Math.random())-a.y;d&&(h=-h);c.s&&(f=b.x-28-Math.floor(10*Math.random())-a.x);c.moveBy(f,h);e||c.Yi()}}}
g.moveTo=function(a,b){if(this.Le==Ki){var c=this.zd;c.Qa.splice(Ni(c,b),0,this);this.Le=1}else 1==this.Le&&(Li(this.zd,this,this.y),c=this.zd,c.Qa.splice(Ni(c,b),0,this));this.x=a;this.y=b};g.moveBy=function(a,b){this.moveTo(this.x+a,this.y+b)};function Oi(a,b){a.moveTo(b.x+a.kg.x,b.y+a.kg.y)}function Pi(a,b,c){a.kg.x=b;a.kg.y=c}
function Qi(a){var b=a.L.x-a.x,c=a.L.y-a.y;if(0!=b||0!=c){a=a.H();var d=a.R();if(!d)throw Error("block is not rendered.");d=ab(d);a.R().setAttribute("transform","translate("+(d.x-b)+","+(d.y-c)+")");$f(a,-b,-c)}}
g.closest=function(a,b){var c=this.Pp;if(c.Qa.length){var d=this.y,e=this.x;this.x=e+b.x;this.y=d+b.y;var f=Ni(c,this.y);b=null;for(var h=a,l,m=f-1;0<=m&&Math.abs(c.Qa[m].y-this.y)<=a;)l=c.Qa[m],0==Rd(this,l,!0,h)&&(b=l,h=Vd(l,this)),m--;for(;f<c.Qa.length&&Math.abs(c.Qa[f].y-this.y)<=a;)l=c.Qa[f],0==Rd(this,l,!0,h)&&(b=l,h=Vd(l,this)),f++;this.x=e;this.y=d;a={connection:b,rl:h}}else a={connection:null,rl:a};return a};
function $h(a,b){b&&1==a.Le||!b&&0==a.Le||a.m.Ja||(b?(b=a.zd,b.Qa.splice(Ni(b,a.y),0,a),a.Le=1):(1==a.Le&&Li(a.zd,a,a.y),a.Le=0))}function Zh(a){$h(a,!0);var b=[];if(1!=a.type&&3!=a.type)return b;if(a=a.H()){if(a.isCollapsed()){var c=[];a.v&&c.push(a.v);a.C&&c.push(a.C);a.G&&c.push(a.G)}else c=a.gd(!0);for(var d=0;d<c.length;d++)b.push.apply(b,Zh(c[d]));b.length||(b[0]=a)}return b}
g.Wn=function(a){var b=this.D();if(Yb){var c=Xb;setTimeout(function(){b.Kc||b.getParent()||(z(c),Mi(this,a),z(!1))}.bind(this),250)}};g.Am=function(a,b){Ji.j.Am.call(this,a,b);a.J&&a.P();b.J&&(yd(b),b.P(),b.R().style.display="block")};g.aj=function(){Ji.j.aj.call(this);var a=this.H();a&&(a.kd(),a.P(!1),a=this.D(),a.J&&a.P())};g.Pq=function(a){return Ri(this.Pp,this,a)};
g.ik=function(a){Ji.j.ik.call(this,a);var b=this.D();a=a.D();var c=b.J,d=a.J;c&&yd(b);d&&yd(a);c&&d&&(3==this.type||4==this.type?a.P():b.P());if(b=Md(b,a))b=b.isVisible(),a.R().style.display=b?"block":"none"};g.dr=function(){!this.isConnected()||this.L&&0==Rd(this,this.L,!1)||(Nd(Qd(this)?this.H():this.m),this.m.Ma())};function Si(){Si.j.constructor.call(this)}F(Si,$g);g=Si.prototype;g.next=function(){var a=this.tc;if(!a)return null;(a=Ti(this,a,this.$o))&&Zg(this,a);return a};g.ff=function(){return this.next()};g.Be=function(){var a=this.tc;if(!a)return null;(a=Ui(this,a,this.$o))&&Zg(this,a);return a};g.rf=function(){return this.Be()};function Ti(a,b,c){if(!b)return null;var d=b.ff()||b.next();if(c(d))return d;if(d)return Ti(a,d,c);b=Vi(a,b.rf());return c(b)?b:b?Ti(a,b,c):null}
function Ui(a,b,c){if(!b)return null;var d=b.Be();d=d?Wi(a,d):b.rf();return c(d)?d:d?Ui(a,d,c):null}g.$o=function(a){var b=!1;a=a&&a.getType();if("output"==a||"input"==a||"field"==a||"next"==a||"previous"==a||"workspace"==a)b=!0;return b};function Vi(a,b){if(!b)return null;var c=b.next();return c?c:Vi(a,b.rf())}function Wi(a,b){if(!b.ff())return b;for(b=b.ff();b.next();)b=b.next();return Wi(a,b)}v(Lb,"basicCursor",Si);function Xi(){Xi.j.constructor.call(this)}F(Xi,Si);Xi.prototype.$o=function(a){var b=!1,c=a&&a.getType();a&&(a=a.U,"field"==c&&a&&a.Aq()&&Ig(a)&&(b=!0));return b};function R(a,b,c){this.u=B(qc,{},null);this.u.uj="";this.style=Yi(a.Ea.F(),null);this.pa=a.Ea.Kq(this.u,this.style);this.Co=this.J=!1;this.h=a;this.G=this.C=this.v=null;this.Aj=nb()&&!!a.nc;var d=this.pa.ua;d.Yc=this;rg(d);R.j.constructor.call(this,a,b,c);this.u.dataset?this.u.dataset.id=this.id:La&&this.u.setAttribute("data-id",this.id)}F(R,re);g=R.prototype;g.height=0;g.width=0;g.lc=null;
g.kd=function(){if(!this.h.J)throw TypeError("Workspace is headless.");for(var a=0,b;b=this.B[a];a++)b.I();b=Uf(this);for(a=0;a<b.length;a++)Ue(b[a]);this.Ka();Pf(this.pa,"blocklyDraggable",this.hb());a=this.R();this.h.options.readOnly||this.ut||!a||r(a,"mousedown",this,this.pf);this.ut=!0;a.parentNode||this.h.ta.appendChild(a)};
g.select=function(){if(this.W&&this.getParent())this.getParent().select();else if(J!=this){var a=null;if(J){a=J.id;w++;try{Bg(J)}finally{w--}}a=new (A("selected"))(a,this.id,this.h.id);x(a);J=this;this.Vj()}};function Bg(a){if(J==a){var b=new (A("selected"))(a.id,null,a.h.id);b.Eb=a.h.id;x(b);J=null;a.Yi()}}g.Ab=null;g.$h=null;g.Ic=null;g.Ec=null;function Uf(a){var b=[];a.Ab&&b.push(a.Ab);a.Ic&&b.push(a.Ic);a.Ec&&b.push(a.Ec);return b}
g.Cl=function(a){var b=this.Ld;if(a!=b){Hc();R.j.Cl.call(this,a);Ic();var c=this.R();if(!this.h.rn&&c){var d=this.ea();a?(a.R().appendChild(c),a=this.ea(),$f(this,a.x-d.x,a.y-d.y)):b&&(this.h.ta.appendChild(c),this.translate(d.x,d.y));this.Ka()}}};g.ea=function(){var a=0,b=0,c=this.Aj?this.h.nc.Ad:null,d=this.R();if(d){do{var e=ab(d);a+=e.x;b+=e.y;this.Aj&&this.h.nc.Ad.firstChild==d&&(e=this.h.nc.an(),a+=e.x,b+=e.y);d=d.parentNode}while(d&&d!=this.h.ta&&d!=c)}return new n(a,b)};
g.moveBy=function(a,b){if(this.Ld)throw Error("Block has parent.");var c=0==w;if(c)var d=new (A("move"))(this);var e=this.ea();this.translate(e.x+a,e.y+b);$f(this,a,b);c&&(Ld(d),x(d));zd(this.h)};g.translate=function(a,b){this.R().setAttribute("transform","translate("+a+","+b+")")};g.moveTo=function(a){var b=this.ea();this.moveBy(a.x-b.x,a.y-b.y)};g.Mn=function(a){this.Aj?this.h.nc.vg(a.x,a.y):(this.u.uj="translate("+a.x+","+a.y+")",this.u.setAttribute("transform",this.u.uj+this.u.kj))};
function Zi(a){if(a.h&&!a.h.Xa()&&!a.getParent()&&!a.Ja){var b=a.h.Oc;if(b&&b.yu){var c=b.Qo,d=c/2,e=a.ea();b=Math.round((e.x-d)/c)*c+d-e.x;c=Math.round((e.y-d)/c)*c+d-e.y;b=Math.round(b);c=Math.round(c);0==b&&0==c||a.moveBy(b,c)}}}g.$g=function(){var a=this.ea(),b=Wf(this);if(this.s){var c=a.x-b.width;var d=a.x}else c=a.x,d=a.x+b.width;return new Aa(a.y,a.y+b.height,c,d)};g.Ki=function(){this.pa.di=this.h.Ea.F();for(var a=0,b;b=this.B[a];a++)b.Ki()};
g.Af=function(a){this.Qf!=a&&(R.j.Af.call(this,a),a?this.J&&this.P():$i(this))};function $i(a){for(var b=a.isCollapsed(),c=0,d;d=a.B[c];c++)"_TEMP_COLLAPSED_INPUT"!=d.name&&d.ma(!b);if(b){d=Uf(a);for(c=0;b=d[c];c++)b.ma(!1);c=a.toString(30);(d=Ed(a,"_TEMP_COLLAPSED_FIELD"))?d.Oa(c):(d=H(a,"_TEMP_COLLAPSED_INPUT")||N(a,"_TEMP_COLLAPSED_INPUT"),M(d,new Wh(c),"_TEMP_COLLAPSED_FIELD"))}else yd(a),a.Za("_TEMP_COLLAPSED_INPUT")}
g.pf=function(a){var b=this.h&&this.h.ke(a);if(b){if(b.Wf)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");Mg(b,this);b.Qc=a}};g.showHelp=function(){var a="function"==typeof this.Ib?this.Ib():this.Ib;a&&window.open(a)};g.jj=function(a){if(this.h.options.readOnly||!this.contextMenu)var b=null;else b=Hi("block",{block:this}),this.ee&&this.ee(b);b&&b.length&&(Ei.show(a,b,this.s),Ei.mk=this)};
function $f(a,b,c){if(a.J){for(var d=a.gd(!1),e=0;e<d.length;e++)d[e].moveBy(b,c);d=Uf(a);for(e=0;e<d.length;e++)Ve(d[e]);for(e=0;e<a.Xd.length;e++)$f(a.Xd[e],b,c)}}g.Cf=function(a){if(a){var b=this.R();b.uj="";b.kj="";Wd=Wd.concat(this.gd(!0));C(this.u,"blocklyDragging")}else Wd=[],Dc(this.u,"blocklyDragging");for(b=0;b<this.Xd.length;b++)this.Xd[b].Cf(a)};g.Al=function(a){R.j.Al.call(this,a);Pf(this.pa,"blocklyDraggable",a)};g.Io=function(a){R.j.Io.call(this,a);a=Uf(this);for(var b=0;b<a.length;b++)a[b].Ne()};
g.Lo=function(a){R.j.Lo.call(this,a);this.Ka()};g.Br=function(a){this.jh!=a&&(this.jh=a)&&(this.ib(this.h.Ea.F().Es),Pf(this.pa,"blocklyInsertionMarker",!0))};g.R=function(){return this.u};
g.o=function(a,b){if(this.h){og=ng=null;wg();vg(this.pa.ua);Hc();var c=this.h;J==this&&(Bg(this),aj(this.h));Ei.mk==this&&Ei.qb();if(b&&this.J){Nd(this,a);b=this.h;var d=this.R();b.vd.play("delete");var e=ag(b,d);d=d.cloneNode(!0);d.Iu=e.x;d.Ju=e.y;d.setAttribute("transform","translate("+e.x+","+e.y+")");E(b).appendChild(d);d.Cp=d.getBBox();vf(d,b.s,new Date,b.scale)}this.J=!1;if(this.lc){for(var f in this.lc)clearTimeout(this.lc[f]);this.lc=null}f=Uf(this);for(b=0;b<f.length;b++)f[b].o();R.j.o.call(this,
!!a);D(this.u);zd(c);this.u=null;Ic()}};g.Ka=function(){this.pa.Ka(this);for(var a=Uf(this),b=0;b<a.length;b++)a[b].Ka();for(a=0;b=this.B[a];a++)for(var c=0,d;d=b.$[c];c++)d.Ka()};function yd(a){var b=od(a,!1);a.Ka();if(!a.isCollapsed()){a=0;for(var c;c=b[a];a++)c.J&&yd(c)}}g.yt=function(){return this.Ic};
g.Bf=function(a){if(!Dd)throw Error("Missing require for Blockly.Comment");this.pc.text!=a&&(R.j.Bf.call(this,a),a=null!=a,!!this.Ic==a?(a=this.Ic,a.ug?a.ug.value=a.zb.text:a.lg&&(a.lg.firstChild.textContent=a.zb.text)):(a?this.$h=this.Ic=new Dd(this):(this.Ic.o(),this.$h=this.Ic=null),this.J&&(this.P(),this.Ma())))};
g.yh=function(a,b){if(!We)throw Error("Missing require for Blockly.Warning");this.lc||(this.lc=Object.create(null));var c=b||"";if(c)this.lc[c]&&(clearTimeout(this.lc[c]),delete this.lc[c]);else for(var d in this.lc)clearTimeout(this.lc[d]),delete this.lc[d];if(this.h.Xa()){var e=this;this.lc[c]=setTimeout(function(){e.h&&(delete e.lc[c],e.yh(a,c))},100)}else{this.Ja&&(a=null);b=!1;if("string"==typeof a){d=ci(this);for(var f=null;d;)d.isCollapsed()&&(f=d),d=ci(d);f&&f.yh(k.COLLAPSED_WARNINGS_WARNING,
"TEMP_COLLAPSED_WARNING_");this.Ec||(this.Ec=new We(this),b=!0);Xe(this.Ec,a,c)}else this.Ec&&!c?(this.Ec.o(),b=!0):this.Ec&&(b=this.Ec.Vb(),Xe(this.Ec,"",c),(d=this.Ec.Vb())||this.Ec.o(),b=b!=d);b&&this.J&&(this.P(),this.Ma())}};g.fj=function(a){this.Ab&&this.Ab!==a&&this.Ab.o();a&&(a.A=this,this.Ab=a,Ue(a));this.J&&(this.P(),this.Ma())};g.bc=function(a){this.isEnabled()!=a&&(R.j.bc.call(this,a),this.J&&!ei(this)&&yd(this))};g.pd=function(a){this.J&&this.pa.Qr(a)};
g.Vj=function(){Pf(this.pa,"blocklySelected",!0)};g.Yi=function(){Pf(this.pa,"blocklySelected",!1)};g.Ho=function(a){Pf(this.pa,"blocklyDraggingDelete",a)};g.Ym=function(){return this.style.Te};g.ib=function(a){R.j.ib.call(this,a);a=bj(this.h.Ea.F(),this.wb);this.pa.Fe(a.style);this.style=a.style;this.sg=a.name;this.Ka()};g.Fe=function(a){var b=Yi(this.h.Ea.F(),a);this.sg=a;if(b)this.Ed=b.Ed,this.pa.Fe(b),this.wb=b.Te,this.style=b,this.Ka();else throw Error("Invalid style name: "+a);};
function Vf(a){do{var b=a.R(),c=b.parentNode,d=c.childNodes;d[d.length-1]!==b&&c.appendChild(b);a=a.getParent()}while(a)}g.Rd=function(a,b){R.j.Rd.call(this,a,b);this.J&&(this.P(),this.Ma())};g.Pd=function(a,b){R.j.Pd.call(this,a,b);this.J&&(this.P(),this.Ma())};g.Qd=function(a,b){R.j.Qd.call(this,a,b);this.J&&(this.P(),this.Ma())};g.Wc=function(a){R.j.Wc.call(this,a);this.J&&(this.P(),this.Ma())};g.Za=function(a,b){a=R.j.Za.call(this,a,b);this.J&&(this.P(),this.Ma());return a};
g.Nn=function(a,b){R.j.Nn.call(this,a,b);this.J&&(this.P(),this.Ma())};g.wa=function(a,b){a=R.j.wa.call(this,a,b);this.J&&(this.P(),this.Ma());return a};function xd(a,b){a.G&&$h(a.G,b);a.v&&$h(a.v,b);if(a.C){$h(a.C,b);var c=a.C.H();c&&xd(c,b)}if(!a.Qf)for(c=0;c<a.B.length;c++){var d=a.B[c].connection;d&&($h(d,b),(d=d.H())&&xd(d,b))}}
g.gd=function(a){var b=[];if(a||this.J)if(this.v&&b.push(this.v),this.G&&b.push(this.G),this.C&&b.push(this.C),a||!this.Qf){a=0;for(var c;c=this.B[a];a++)c.connection&&b.push(c.connection)}return b};g.Rk=function(a){return R.j.Rk.call(this,a)};g.$m=function(a,b){return R.j.$m.call(this,a,b)};g.Ji=function(a){return new Ji(this,a)};
g.Ma=function(){if(this.h&&!this.h.Xa()){var a=this.hd();if(!a.Ja)for(var b=this.gd(!1),c=0,d;d=b[c];c++){d.isConnected()&&Qd(d)&&d.H().Ma();for(var e=d.Pq(28),f=0,h;h=e[f];f++)d.isConnected()&&h.isConnected()||h.D().hd()!=a&&(Qd(d)?Mi(h,d):Mi(d,h))}}};function bg(a){var b=Xb;setTimeout(function(){z(b);Zi(a);z(!1)},125);setTimeout(function(){z(b);a.Ma();z(!1)},250)}g.getParent=function(){return R.j.getParent.call(this)};g.hd=function(){return R.j.hd.call(this)};
g.P=function(a){if(!this.Co){this.Co=!0;try{this.J=!0;Hc();this.isCollapsed()&&$i(this);this.h.Ea.P(this);var b=this.ea();this.G&&Oi(this.G,b);this.v&&Oi(this.v,b);for(var c=0;c<this.B.length;c++){var d=this.B[c].connection;d&&(Oi(d,b),d.isConnected()&&Qi(d))}this.C&&(Oi(this.C,b),this.C.isConnected()&&Qi(this.C));if(!1!==a){var e=this.getParent();e?e.P(!0):zd(this.h)}Ic();this.Yo()}finally{this.Co=!1}}};g.Yo=function(){this.h.mh&&this.pa.li&&this.h.ah().dd();this.h.mh&&this.pa.Gn&&this.h.yi("local_marker_1").dd()};
g.Ee=function(a){this.pa.Ee(a)};g.Df=function(a){this.pa.Df(a)};function Wf(a){var b=a.height,c=a.width,d=tb(a);d&&(d=Wf(d),a=a.h.Ea.F().Rl,b+=d.height-a,c=Math.max(c,d.width));return{height:b,width:c}};function cj(){}cj.prototype.Un=function(){};cj.prototype.Vn=function(){};cj.prototype.bl=function(){};cj.prototype.cl=function(){};function dj(){dj.j.constructor.call(this);this.Cg=!1}F(dj,cj);dj.prototype.cp=function(a,b){a instanceof R?(a=!a.getParent()&&a.Pc(),this.zj(a&&!b)):this.zj(a.Pc());return this.Cg};dj.prototype.zj=function(a){this.Cg=a};function ej(a,b,c){ej.j.constructor.call(this,c);this.Wq=a;this.Rq=b}F(ej,Qe);ej.prototype.type="toolbox_item_select";ej.prototype.S=function(){var a=ej.j.S.call(this);a.oldItem=this.Wq;a.newItem=this.Rq;return a};ej.prototype.N=function(a){ej.j.N.call(this,a);this.Wq=a.oldItem;this.Rq=a.newItem};v(Mb,"toolbox_item_select",ej);function fj(a,b,c){this.pe=a.toolboxitemid||wh();this.yn=(this.ze=c||null)?this.ze.yn+1:0;this.Nr=a;this.po=b;this.g=this.po.g}g=fj.prototype;g.I=function(){};g.Zm=function(){return null};g.T=function(){return this.pe};g.getParent=function(){return null};g.se=function(){return!1};g.o=function(){};function gj(a,b,c){gj.j.constructor.call(this,a,b,c);this.we=hb(a.name);this.wb=hj(this,a.colour);this.vn=this.mn=this.bj=this.Uc=this.ic=null;this.bd={container:"blocklyToolboxCategory",row:"blocklyTreeRow",rowcontentcontainer:"blocklyTreeRowContentContainer",icon:"blocklyTreeIcon",label:"blocklyTreeLabel",contents:"blocklyToolboxContents",selected:"blocklyTreeSelected",openicon:"blocklyTreeIconOpen",closedicon:"blocklyTreeIconClosed"};ld(this.bd,a.cssconfig||a.cssConfig);this.Ot=this.xq=!1;this.Zg=
[];b=a.contents;if(a.custom)this.Zg=a.custom;else if(b)for(a=0;c=b[a];a++)this.Zg.push(c)}F(gj,fj);g=gj.prototype;g.I=function(){this.ae();"true"==this.Nr.hidden&&this.qb()};
g.ae=function(){this.ic=this.sm();th(this.ic,"treeitem");uh(this.ic,"selected",!1);uh(this.ic,"level",this.yn);var a=document.createElement("div");C(a,this.bd.row);var b=19*this.yn;b=b.toString()+"px";this.g.s?a.style.paddingRight=b:a.style.paddingLeft=b;this.Uc=a;this.Uc.style.pointerEvents="auto";this.ic.appendChild(this.Uc);a=document.createElement("div");C(a,this.bd.rowcontentcontainer);this.bj=a;this.bj.style.pointerEvents="none";this.Uc.appendChild(this.bj);a=document.createElement("span");
C(a,this.bd.icon);a.style.display="inline-block";this.mn=a;th(this.mn,"presentation");this.bj.appendChild(this.mn);a=this.we;b=document.createElement("span");b.setAttribute("id",this.T()+".label");b.textContent=a;C(b,this.bd.label);this.vn=b;this.bj.appendChild(this.vn);uh(this.ic,"labelledby",this.vn.getAttribute("id"));ij(this,this.wb);return this.ic};g.sm=function(){var a=document.createElement("div");C(a,this.bd.container);return a};g.sh=function(){this.wb=hj(this,this.Nr.colour);ij(this,this.wb)};
function ij(a,b){b&&(b="8px solid "+(b||"#ddd"),a.g.s?a.Uc.style.borderRight=b:a.Uc.style.borderLeft=b)}g.xt=function(){return this.Uc};function hj(a,b){b=hb(b);if(null==b||""===b)return"";var c=Number(b);if(isNaN(c)){if(c=qa(b))return c;console.warn('Toolbox category "'+a.we+'" has unrecognized colour attribute: '+b);return""}return ua(c)}function jj(a,b){a.ic.style.display=b?"block":"none";a.xq=!b;a.po.lb==a&&kj(a.po,null)}g.qb=function(){jj(this,!1)};g.show=function(){jj(this,!0)};
g.isVisible=function(){var a;if(a=!this.xq)a:{for(a=this;a.getParent();)if(a=a.getParent(),!a.rv()){a=!1;break a}a=!0}return a};g.se=function(){return this.isVisible()&&!this.Ot};function lj(a,b){if(b){var c=hj(a,"#57e");a.Uc.style.backgroundColor=a.wb||c;C(a.Uc,a.bd.selected)}else a.Uc.style.backgroundColor="",Dc(a.Uc,a.bd.selected);uh(a.ic,"selected",b)}g.Ub=function(){return this.we};g.getParent=function(){return this.ze};g.Zm=function(){return this.ic};g.o=function(){D(this.ic)};
Oe([".blocklyTreeRow:not(.blocklyTreeSelected):hover {","background-color: rgba(255, 255, 255, 0.2);","}",'.blocklyToolboxDiv[layout="h"] .blocklyToolboxCategory {',"margin: 1px 5px 1px 0;","}",'.blocklyToolboxDiv[dir="RTL"][layout="h"] .blocklyToolboxCategory {',"margin: 1px 0 1px 5px;","}",".blocklyTreeRow {","height: 22px;","line-height: 22px;","margin-bottom: 3px;","padding-right: 8px;","white-space: nowrap;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {',"margin-left: 8px;","padding-right: 0px",
"}",".blocklyTreeIcon {","background-image: url(<<<PATH>>>/sprites.png);","height: 16px;","vertical-align: middle;","visibility: hidden;","width: 16px;","}",".blocklyTreeIconClosed {","background-position: -32px -1px;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeIconClosed {',"background-position: 0 -1px;","}",".blocklyTreeSelected>.blocklyTreeIconClosed {","background-position: -32px -17px;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeSelected>.blocklyTreeIconClosed {',"background-position: 0 -17px;",
"}",".blocklyTreeIconOpen {","background-position: -16px -1px;","}",".blocklyTreeSelected>.blocklyTreeIconOpen {","background-position: -16px -17px;","}",".blocklyTreeLabel {","cursor: default;","font: 16px sans-serif;","padding: 0 3px;","vertical-align: middle;","}",".blocklyToolboxDelete .blocklyTreeLabel {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyTreeSelected .blocklyTreeLabel {","color: #fff;","}"]);v(Rb,"category",gj);function mj(a,b){mj.j.constructor.call(this,a,b);this.bd={container:"blocklyTreeSeparator"};ld(this.bd,a.cssconfig||a.cssConfig)}F(mj,fj);mj.prototype.I=function(){this.ae()};mj.prototype.ae=function(){var a=document.createElement("div");C(a,this.bd.container);return this.ic=a};mj.prototype.Zm=function(){return this.ic};mj.prototype.o=function(){D(this.ic)};Oe('.blocklyTreeSeparator {,border-bottom: solid #e5e5e5 1px;,height: 0;,margin: 5px 0;,},.blocklyToolboxDiv[layout="h"] .blocklyTreeSeparator {,border-right: solid #e5e5e5 1px;,border-bottom: none;,height: auto;,margin: 0 5px 0 5px;,padding: 5px 0;,width: 0;,}'.split(","));
v(Rb,"sep",mj);function nj(a){nj.j.constructor.call(this);this.g=a;this.id="toolbox";this.Mr=a.options.Jd||{contents:[]};this.Xe=this.mc=null;this.yc=!1;this.Aa=[];this.yb=this.ra=0;this.s=a.options.s;this.K=null;this.rm=Object.create(null);this.bb=a.options.bb;this.lb=null;this.Wh=[]}F(nj,dj);g=nj.prototype;
g.I=function(){var a=this.g,b=E(a),c=this.g,d=new de({parentWorkspace:c,rtl:c.s,oneBasedIndex:c.options.ye,renderer:c.options.Zi,rendererOverrides:c.options.$i,move:{scrollbars:!0}});d.bb=c.options.bb;this.K=new (Wb(Sb,c.options,!0))(d);this.mc=this.ae(this.g);Fc(this.K.Ba("svg"),b);this.ma(!0);this.K.I(a);this.P(this.Mr);a=a.ab;a.subscribe(this.mc,"toolboxBackgroundColour","background-color");a.subscribe(this.mc,"toolboxForegroundColour","color");Bf(this.g.qc,{component:this,weight:1,xd:[Jf,Ef,If]})};
g.ae=function(a){var b=E(a);a=this.sm();var c=document.createElement("div");C(c,"blocklyToolboxContents");this.Xe=c;this.Xe.tabIndex=0;th(this.Xe,"tree");a.appendChild(this.Xe);b.parentNode.insertBefore(a,b);b=this.Xe;c=r(a,"click",this,this.Tn,!1,!0);this.Wh.push(c);b=r(b,"keydown",this,this.Zn,!1,!0);this.Wh.push(b);return a};
g.sm=function(){var a=document.createElement("div");a.setAttribute("layout","v");C(a,"blocklyToolboxDiv");C(a,"blocklyNonSelectable");a.setAttribute("dir",this.s?"RTL":"LTR");return a};g.Tn=function(a){if(eb(a)||a.target==this.mc)hd(!1);else{if(a=a.target.getAttribute("id"))a=this.rm[a]||null,a.se()&&kj(this,a);hd(!0)}wb=null};
g.Zn=function(a){var b=!1;switch(a.keyCode){case 40:a:{if(this.lb&&(b=this.Aa.indexOf(this.lb)+1,-1<b&&b<this.Aa.length)){for(var c=this.Aa[b];c&&!c.se();)c=this.Aa[++b];if(c&&c.se()){kj(this,c);b=!0;break a}}b=!1}break;case 38:a:{if(this.lb&&(b=this.Aa.indexOf(this.lb)-1,-1<b&&b<this.Aa.length)){for(c=this.Aa[b];c&&!c.se();)c=this.Aa[--b];if(c&&c.se()){kj(this,c);b=!0;break a}}b=!1}break;case 37:this.lb?this.lb.getParent()&&this.lb.getParent().se()?(kj(this,this.lb.getParent()),b=!0):b=!1:b=!1;break;
case 39:b=!1;break;case 13:case 32:break;default:b=!1}!b&&this.lb&&this.lb.Yn&&(b=this.lb.Yn(a));b&&a.preventDefault()};
g.P=function(a){this.Mr=a;for(var b=0;b<this.Aa.length;b++){var c=this.Aa[b];c&&c.o()}this.Aa=[];this.rm=Object.create(null);a=a.contents;b=document.createDocumentFragment();c=0;for(var d;d=a[c];c++){var e=d;d=b;var f=Vb(Rb,e.kind.toLowerCase());f&&(f=e=new f(e,this),this.Aa.push(f),this.rm[f.T()]=f,e.I(),(f=e.Zm())&&d.appendChild(f),e.xt&&e.Uc.setAttribute("id",e.T()))}this.Xe.appendChild(b);this.position();a=this.g;b=this.mc.getBoundingClientRect();a.translate(2==this.bb?a.scrollX+b.width:a.scrollX,
a.scrollY);oj(a)};g.Xm=function(){if(!this.mc||!this.yc)return null;var a=this.mc.getBoundingClientRect(),b=a.left;a=b+a.width;return 2==this.bb?new Aa(-1E7,1E7,-1E7,a):new Aa(-1E7,1E7,b,1E7)};g.cp=function(a){a instanceof R?this.zj(!a.getParent()&&a.Pc()):this.zj(a.Pc());return this.Cg};g.Un=function(){pj(this,!0)};g.bl=function(){pj(this,!1)};g.cl=function(){pj(this,!1)};g.zj=function(a){a!==this.Cg&&(pj(this,!1),this.Cg=a,pj(this,!0))};
function pj(a,b){var c=a.Cg?"blocklyToolboxDelete":"blocklyToolboxGrab";b?C(a.mc,c):Dc(a.mc,c)}g.oe=function(){return this.ra};g.vc=function(){return this.K};g.position=function(){var a=this.g.Tb(),b=this.mc;b&&(3==this.bb?b.style.right="0":b.style.left="0",b.style.height="100%",this.ra=b.offsetWidth,this.yb=a.mb,this.K.position())};g.sh=function(){for(var a=0;a<this.Aa.length;a++){var b=this.Aa[a];b.sh&&b.sh()}};g.ma=function(a){this.yc!==a&&(this.mc.style.display=a?"block":"none",this.yc=a,qj(this.g))};
g.Bp=function(a){!a&&this.K&&this.K.Re&&kj(this,null)};function kj(a,b){var c=a.lb;if((b||c)&&(!b||b.se())){null!=c&&null!=c&&(a.lb=null,lj(c,!1),uh(a.Xe,"activedescendant",""));null!=b&&b!=c&&null!=b&&(a.lb=b,lj(b,!0),uh(a.Xe,"activedescendant",b.T()));c!=b&&b&&b.Zg.length?(a.K.show(b.Zg),a.K.Go()):a.K.qb();var d=c&&c.Ub(),e=b&&b.Ub();c==b&&(e=null);a=new (A("toolbox_item_select"))(d,e,a.g.id);x(a)}}
g.o=function(){Cf(this.g.qc,"toolbox");this.K.o();for(var a=0;a<this.Aa.length;a++)this.Aa[a].o();for(a=0;a<this.Wh.length;a++)t(this.Wh[a]);this.Wh=[];this.Aa=[];this.g.ab.unsubscribe(this.mc);D(this.mc)};
Oe([".blocklyToolboxDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyToolboxGrab {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyToolboxDiv {","background-color: #ddd;","overflow-x: visible;","overflow-y: auto;","padding: 4px 0 4px 0;","position: absolute;","z-index: 70;","-webkit-tap-highlight-color: transparent;","}",".blocklyToolboxContents {","display: flex;","flex-wrap: wrap;","flex-direction: column;",
"}",".blocklyToolboxContents:focus {","outline: none;","}"]);v(Pb,"default",nj);function rj(a,b){rj.j.constructor.call(this,b);this.kh=a}F(rj,Qe);rj.prototype.type="trashcan_open";rj.prototype.S=function(){var a=rj.j.S.call(this);a.isOpen=this.kh;return a};rj.prototype.N=function(a){rj.j.N.call(this,a);this.kh=a.isOpen};v(Mb,"trashcan_open",rj);function sj(a,b,c,d,e,f){var h=f.la&&!!f.la.na;0===a.Ci?(c=e.Uj.left+c,h&&f.s&&(c+=Nc)):(c=e.Uj.left+e.Wr.width-b.width-c,h&&!f.s&&(c-=Nc));0===a.vertical?a=e.Uj.top+d:(a=e.Uj.top+e.Wr.height-b.height-d,f.la&&f.la.ya&&(a-=Nc));return new Aa(a,a+b.height,c,c+b.width)}function tj(a){return{Ci:2!==a.Eu.position?0:1,vertical:1}}
function uj(a,b,c,d){for(var e=a.left,f=a.right-a.left,h=a.bottom-a.top,l=0,m;m=d[l];l++)a.left>m.right||a.right<m.left||a.top>m.bottom||a.bottom<m.top||(a=0===c?m.top-h-b:m.bottom+b,a=new Aa(a,a+h,e,e+f),l=-1);return a};function vj(a){vj.j.constructor.call(this);this.g=a;this.id="trashcan";this.Aa=[];this.Mc=null;0>=this.g.options.Wk||(a=new de({scrollbars:!0,parentWorkspace:this.g,rtl:this.g.s,oneBasedIndex:this.g.options.ye,renderer:this.g.options.Zi,rendererOverrides:this.g.options.$i,move:{scrollbars:!0}}),a.bb=3==this.g.bb?2:3,this.Mc=new (Wb(Sb,this.g.options,!0))(a),we(this.g,this.Yt.bind(this)))}F(vj,dj);g=vj.prototype;g.Vd=47;g.Fj=44;g.Jg=16;g.Kh=20;g.Ql=20;g.Oj=10;g.Xl=0;g.Yl=32;g.Ds=.1;g.Ok=!1;g.Jn=0;
g.u=null;g.Hl=null;g.zn=0;g.kf=0;g.te=0;g.Ke=0;g.Di=!1;
g.Ba=function(){this.u=B(qc,{"class":"blocklyTrash"},null);var a=String(Math.random()).substring(2);var b=B(ic,{id:"blocklyTrashBodyClipPath"+a},this.u);B(wc,{width:this.Vd,height:this.Fj,y:this.Jg},b);var c=B(rc,{width:96,x:-this.Xl,height:124,y:-this.Yl,"clip-path":"url(#blocklyTrashBodyClipPath"+a+")"},this.u);c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.g.options.uf+"sprites.png");b=B(ic,{id:"blocklyTrashLidClipPath"+a},this.u);B(wc,{width:this.Vd,height:this.Jg},b);this.Hl=
B(rc,{width:96,x:-this.Xl,height:124,y:-this.Yl,"clip-path":"url(#blocklyTrashLidClipPath"+a+")"},this.u);this.Hl.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.g.options.uf+"sprites.png");Hb(this.u,"mousedown",this,this.dt);Hb(this.u,"mouseup",this,this.click);Hb(c,"mouseover",this,this.Tt);Hb(c,"mouseout",this,this.Rt);this.bm();return this.u};
g.I=function(){0<this.g.options.Wk&&(Fc(this.Mc.Ba(xc),E(this.g)),this.Mc.I(this.g));Bf(this.g.qc,{component:this,weight:1,xd:[Jf,Ef,If,Hf]});this.Di=!0;this.xh(!1)};g.o=function(){Cf(this.g.qc,"trashcan");this.u&&(D(this.u),this.u=null);this.g=this.Hl=null;clearTimeout(this.zn)};g.Bp=function(a){!a&&this.Mc&&this.Mc&&this.Mc.isVisible()&&(this.Mc.qb(),wj(this,!1))};
g.position=function(a,b){if(this.Di){var c=tj(a);a=uj(sj(c,new Ha(this.Vd,this.Fj+this.Jg),this.Ql,this.Kh,a,this.g),this.Kh,0===c.vertical?1:0,b);this.Ke=a.top;this.te=a.left;this.u.setAttribute("transform","translate("+this.te+","+this.Ke+")")}};g.$g=function(){return new Aa(this.Ke,this.Ke+this.Fj+this.Jg,this.te,this.te+this.Vd)};
g.Xm=function(){if(!this.u)return null;var a=this.u.getBoundingClientRect(),b=a.top+this.Yl-this.Oj;a=a.left+this.Xl-this.Oj;return new Aa(b,b+this.Jg+this.Fj+2*this.Oj,a,a+this.Vd+2*this.Oj)};g.Vn=function(){this.xh(this.Cg)};g.bl=function(){this.xh(!1)};g.cl=function(){setTimeout(this.xh.bind(this,!1),100)};g.xh=function(a){this.Ok!=a&&(clearTimeout(this.zn),this.Ok=a,this.bm())};
g.bm=function(){this.kf+=this.Ok?.2:-.2;this.kf=Math.min(Math.max(this.kf,this.Jn),1);xj(this,45*this.kf);this.u.style.opacity=.4+.4*this.kf;this.kf>this.Jn&&1>this.kf&&(this.zn=setTimeout(this.bm.bind(this),20))};function xj(a,b){var c=3==a.g.bb;a.Hl.setAttribute("transform","rotate("+(c?-b:b)+","+(c?4:a.Vd-4)+","+(a.Jg-2)+")")}g.click=function(){if(this.Aa.length&&(!this.Mc||!this.Mc.isVisible())){var a=this.Aa.map(sd);this.Mc.show(a);wj(this,!0)}};
function wj(a,b){a=new (A("trashcan_open"))(b,a.g.id);x(a)}g.dt=function(a){this.Mc&&this.Mc.isVisible()||!this.Aa.length||a.stopPropagation()};g.Tt=function(){this.Aa.length&&this.xh(!0)};g.Rt=function(){this.xh(!1)};
g.Yt=function(a){if(!(0>=this.g.options.Wk)&&"delete"==a.type&&a.oh.tagName&&"shadow"!=a.oh.tagName.toLowerCase()){for(var b=a=a.oh.cloneNode(!0);b;){b.removeAttribute&&(b.removeAttribute("x"),b.removeAttribute("y"),b.removeAttribute("id"),b.removeAttribute("disabled"),"comment"==b.nodeName&&(b.removeAttribute("h"),b.removeAttribute("w"),b.removeAttribute("pinned")));var c=b.firstChild||b.nextSibling;if(!c)for(c=b.parentNode;c;){if(c.nextSibling){c=c.nextSibling;break}c=c.parentNode}b=c}a=rd(a);if(-1==
this.Aa.indexOf(a)){for(this.Aa.unshift(a);this.Aa.length>this.g.options.Wk;)this.Aa.pop();this.Jn=a=this.Ds;this.Ok||xj(this,45*a)}}};function yj(a){this.g=a}function zj(a){var b=0,c=0;a&&(b=a.oe(),c=a.yb);return new Ha(b,c)}function Aj(a){var b=zj(a.g.vc(!0));return{width:b.width,height:b.height,position:a.g.bb}}function Bj(a){var b=zj(a.g.Fa);return{width:b.width,height:b.height,position:a.g.bb}}function Cj(a){var b=0,c=Bj(a),d=Aj(a),e=!!a.g.Fa;a=!!a.g.vc(!0);var f=2==(e?c.position:d.position);e&&f?b=c.width:a&&f&&(b=d.width);return{top:0,left:b}}
function Ke(a,b){b=b?a.g.scale:1;var c=Dj(a.g),d=Bj(a),e=Aj(a),f=a.g.Fa?d.position:e.position;if(a.g.Fa){if(2==f||3==f)c.width-=d.width}else!a.g.vc(!0)||2!=f&&3!=f||(c.width-=e.width);return{height:c.height/b,width:c.width/b,top:-a.g.scrollY/b,left:-a.g.scrollX/b}}
yj.prototype.Ek=function(){var a=this.g.scale;var b=[].concat(this.g.tj);if(b.length){for(var c=b[0].$g(),d=1;d<b.length;d++){var e=b[d];e.Jb&&e.Jb()||(e=e.$g(),e.top<c.top&&(c.top=e.top),e.bottom>c.bottom&&(c.bottom=e.bottom),e.left<c.left&&(c.left=e.left),e.right>c.right&&(c.right=e.right))}b=c}else b=new Aa(0,0,0,0);return{height:(b.bottom-b.top)*a,width:(b.right-b.left)*a,top:b.top*a,left:b.left*a}};
yj.prototype.Ze=function(a,b,c){a=a?this.g.scale:1;var d=b||Ke(this,!1);c=c||this.Ek();if(zg(this.g)&&Ag(this.g))b={};else{b=zg(this.g);var e=Ag(this.g),f=d||Ke(this,!1);var h={};e||(h.top=f.top,h.bottom=f.top+f.height);b||(h.left=f.left,h.right=f.left+f.width);b=h}h=c.top+c.height;e=c.left+c.width;f=d.width;var l=d.height;var m=f/2,p=l/2;d=Math.min(c.top-p,h-l);h=Math.max(h+p,c.top+l);l=Math.min(c.left-m,e-f);c=Math.max(e+m,c.left+f);d=void 0!==b.top?b.top:d;e=void 0!==b.left?b.left:l;return{top:d/
a,left:e/a,width:((void 0!==b.right?b.right:c)-e)/a,height:((void 0!==b.bottom?b.bottom:h)-d)/a}};yj.prototype.Tb=function(){var a=Bj(this),b=Aj(this),c=Dj(this.g),d=Cj(this),e=Ke(this),f=this.Ek(),h=this.Ze(!1,e,f);return{hv:f.height,mv:f.width,kv:f.top,jv:f.left,scrollHeight:h.height,scrollWidth:h.width,scrollTop:h.top,scrollLeft:h.left,mb:e.height,ob:e.width,$c:e.top,Zc:e.left,Ob:d.top,Fb:d.left,Gr:c.height,Hr:c.width,Dv:a.width,Cv:a.height,bb:a.position,pv:b.width,ov:b.height}};
v(Tb,"default",yj);function Ej(a,b){this.K=b;Ej.j.constructor.call(this,a)}F(Ej,yj);Ej.prototype.Ek=function(){try{var a=this.g.ta.getBBox()}catch(c){a={height:0,y:0,width:0,x:0}}var b=this.g.scale;return{height:a.height*b,width:a.width*b,top:a.y*b,left:a.x*b}};Ej.prototype.Ze=function(a,b,c){b=c||this.Ek();c=this.K.Kg*this.g.scale;a=a?this.g.scale:1;return{height:(b.height+2*c)/a,width:(b.width+b.left+c)/a,top:0,left:0}};function Fj(){this.Qa=[]}function Gj(a,b,c){if(!a.Qa.length)return-1;var d=Ni(a,c);if(d>=a.Qa.length)return-1;c=b.y;for(var e=d;0<=e&&a.Qa[e].y==c;){if(a.Qa[e]==b)return e;e--}for(e=d;e<a.Qa.length&&a.Qa[e].y==c;){if(a.Qa[e]==b)return e;e++}return-1}function Ni(a,b){if(!a.Qa.length)return 0;for(var c=0,d=a.Qa.length;c<d;){var e=Math.floor((c+d)/2);if(a.Qa[e].y<b)c=e+1;else if(a.Qa[e].y>b)d=e;else{c=e;break}}return c}
function Li(a,b,c){b=Gj(a,b,c);if(-1==b)throw Error("Unable to find connection in connectionDB.");a.Qa.splice(b,1)}function Ri(a,b,c){function d(p){var q=f-e[p].x,u=h-e[p].y;Math.sqrt(q*q+u*u)<=c&&m.push(e[p]);return u<c}var e=a.Qa,f=b.x,h=b.y;a=0;for(var l=b=e.length-2;a<l;)e[l].y<h?a=l:b=l,l=Math.floor((a+b)/2);var m=[];b=a=l;if(e.length){for(;0<=a&&d(a);)a--;do b++;while(b<e.length&&d(b))}return m};function Hj(a,b){Hj.j.constructor.call(this,b);this.Jr=a}F(Hj,Qe);Hj.prototype.type="theme_change";Hj.prototype.S=function(){var a=Hj.j.S.call(this);a.themeName=this.Jr;return a};Hj.prototype.N=function(a){Hj.j.N.call(this,a);this.Jr=a.themeName};v(Mb,"theme_change",Hj);function Ij(a,b,c,d,e){Ij.j.constructor.call(this,d);this.$c=a;this.Zc=b;this.scale=c;this.Qi=e}F(Ij,Qe);Ij.prototype.type="viewport_change";Ij.prototype.S=function(){var a=Ij.j.S.call(this);a.viewTop=this.$c;a.viewLeft=this.Zc;a.scale=this.scale;a.oldScale=this.Qi;return a};Ij.prototype.N=function(a){Ij.j.N.call(this,a);this.$c=a.viewTop;this.Zc=a.viewLeft;this.scale=a.scale;this.Qi=a.oldScale};v(Mb,"viewport_change",Ij);function Jj(a,b){this.eh=a;this.Qo=b.spacing;this.Gq=b.length;this.Pt=(this.An=a.firstChild)&&this.An.nextSibling;this.yu=b.snap}Jj.prototype.zf=1;Jj.prototype.o=function(){this.eh=null};Jj.prototype.update=function(a){this.zf=a;var b=this.Qo*a||100;this.eh.setAttribute("width",b);this.eh.setAttribute("height",b);b=Math.floor(this.Qo/2)+.5;var c=b-this.Gq/2,d=b+this.Gq/2;b*=a;c*=a;d*=a;Kj(this.An,a,c,d,b,b);Kj(this.Pt,a,b,b,c,d)};
function Kj(a,b,c,d,e,f){a&&(a.setAttribute("stroke-width",b),a.setAttribute("x1",c),a.setAttribute("y1",e),a.setAttribute("x2",d),a.setAttribute("y2",f))}Jj.prototype.moveTo=function(a,b){this.eh.setAttribute("x",a);this.eh.setAttribute("y",b);(La||Ma)&&this.update(this.zf)};function Lj(a){var b=Yd;this.g=a;this.rj=b;this.nj=[];this.Ue=Object.create(null)}g=Lj.prototype;g.le=function(){return this.rj};g.ij=function(a){var b=this.rj;this.rj=a;if(a=Mj(this.g))b&&Dc(a,b.fd()),C(a,this.rj.fd());for(b=0;a=this.nj[b];b++)a.sh();hd()};g.subscribe=function(a,b,c){this.Ue[b]||(this.Ue[b]=[]);this.Ue[b].push({element:a,propertyName:c});a.style[c]=""};
g.unsubscribe=function(a){if(a)for(var b=Object.keys(this.Ue),c=0,d;d=b[c];c++){for(var e=this.Ue[d],f=e.length-1;0<=f;f--)e[f].element===a&&e.splice(f,1);this.Ue[d].length||delete this.Ue[d]}};g.o=function(){this.Ue=this.nj=this.rj=null};function Nj(a,b){Nj.j.constructor.call(this,a,b);this.Pk=!1;this.oc=Object.create(null);this.Cr=this.Ui=0;this.yq=this.bo=null}F(Nj,Cg);g=Nj.prototype;g.Bm=function(a){this.yq=this.$a.options.Ga&&this.$a.options.Ga.lr;Nj.j.Bm.call(this,a);!this.Mk&&Fb(a)&&Oj(this,a)};g.Dp=function(a){this.bo=r(document,"mousedown",null,this.Ht.bind(this),!0);this.ll=r(document,"mousemove",null,this.fh.bind(this),!0);this.ml=r(document,"mouseup",null,this.Hk.bind(this),!0);a.preventDefault();a.stopPropagation()};
g.Ht=function(a){!this.Xa()&&Fb(a)&&(Oj(this,a),this.Pk&&Ab())};g.fh=function(a){if(this.Xa())Eb(a)&&!Db(a)||Nj.j.fh.call(this,a);else if(this.Pk){if(Fb(a)){this.oc[Cb(a)]=Pj(this,a);var b=Object.keys(this.oc);if(this.yq&&2===b.length){b=Object.keys(this.oc);b=xa(this.oc[b[0]],this.oc[b[1]])/this.Cr;if(0<this.Ui&&Infinity>this.Ui){var c=b-this.Ui;c=0<c?5*c:6*c;var d=this.$a,e=fb(a,E(d),ed(d));d.zoom(e.x,e.y,c)}this.Ui=b;a.preventDefault()}else Nj.j.fh.call(this,a)}Ab()}else Nj.j.fh.call(this,a)};
g.Hk=function(a){if(Fb(a)&&!this.Xa()){var b=Cb(a);this.oc[b]&&delete this.oc[b];2>Object.keys(this.oc).length&&(this.oc=Object.create(null),this.Ui=0)}!this.Pk||this.Xa()?Eb(a)&&!Db(a)||Nj.j.Hk.call(this,a):(a.preventDefault(),a.stopPropagation(),this.o())};g.o=function(){Nj.j.o.call(this);this.bo&&t(this.bo)};function Oj(a,b){a.oc[Cb(b)]=Pj(a,b);var c=Object.keys(a.oc);2==c.length&&(a.Cr=xa(a.oc[c[0]],a.oc[c[1]]),a.Pk=!0,b.preventDefault())}
function Pj(a,b){return a.$a?new n(b.changedTouches?b.changedTouches[0].pageX:b.pageX,b.changedTouches?b.changedTouches[0].pageY:b.pageY):null};function Qj(a){this.qo=a;this.Th=Object.create(null)}g=Qj.prototype;g.xn=null;g.o=function(){this.Th=this.qo=null};g.load=function(a,b){if(a.length){try{var c=new pa.Audio}catch(l){return}for(var d,e=0;e<a.length;e++){var f=a[e],h=f.match(/\.(\w+)$/);if(h&&c.canPlayType("audio/"+h[1])){d=new pa.Audio(f);break}}d&&d.play&&(this.Th[b]=d)}};g.preload=function(){for(var a in this.Th){var b=this.Th[a];b.volume=.01;var c=b.play();void 0!==c?c.then(b.pause).catch(function(){}):b.pause();if(Sa||Ua)break}};
g.play=function(a,b){var c=this.Th[a];c?(a=new Date,null!=this.xn&&100>a-this.xn||(this.xn=a,c=Sa||Ra?c:c.cloneNode(),c.volume=void 0===b?1:b,c.play())):this.qo&&this.qo.vd.play(a,b)};function Rj(a){this.ei=a;this.Ba()}g=Rj.prototype;g.Z=null;g.ei=null;g.Ba=function(){this.Z||(this.Z=B(xc,{xmlns:"http://www.w3.org/2000/svg","xmlns:html":"http://www.w3.org/1999/xhtml","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1","class":"blocklyWsDragSurface blocklyOverflowVisible"},null),this.ei.appendChild(this.Z))};g.vg=function(a,b){a=a.toFixed(0);b=b.toFixed(0);this.Z.style.display="block";Gc(this.Z,"translate3d("+a+"px, "+b+"px, 0px)")};g.an=function(){return ab(this.Z)};
g.dk=function(a){if(!a)throw Error("Couldn't clear and hide the drag surface: missing new surface.");var b=this.Z.childNodes[0],c=this.Z.childNodes[1];if(!(b&&c&&Ec(b,"blocklyBlockCanvas")&&Ec(c,"blocklyBubbleCanvas")))throw Error("Couldn't clear and hide the drag surface. A node was missing.");null!=this.zo?Fc(b,this.zo):a.insertBefore(b,a.firstChild);Fc(c,b);this.Z.style.display="none";if(this.Z.childNodes.length)throw Error("Drag surface was not cleared.");Gc(this.Z,"");this.zo=null};
function Sj(a,b,c){Sj.j.constructor.call(this,a);this.ac=new (Wb(Tb,a,!0))(this);this.Tb=a.Tb||this.ac.Tb.bind(this.ac);this.ej=a.ej||Tj;this.qc=new Af;var d=[];d[1]=new Fj;d[2]=new Fj;d[3]=new Fj;d[4]=new Fj;this.kk=d;b&&(this.nc=b);c&&(this.Ag=c);this.Ll=!!this.Ag&&nb();this.Jk=[];this.vd=new Qj(a.Sa);this.Oc=this.options.fn?new Jj(this.options.fn,a.jq):null;this.nd=new ah(this);this.Vo=Object.create(null);this.Sm=Object.create(null);Uj&&Vj&&Wj(this,"VARIABLE",Vj);Xj&&Yj&&(Wj(this,"PROCEDURE",Yj),
we(this,Zj));this.ab=this.options.Sa?this.options.Sa.ab:new Lj(this);this.ab.nj.push(this);c=this.options.Zi||"geras";a=this.le();b=this.options.$i;c=new (Vb(Ob,c))(c);c.I(a,b);this.Ea=c;this.lm=null;this.mh=!1;this.tj=[];this.Cm=[];this.km=new Ha(0,0)}F(Sj,vd);g=Sj.prototype;g.xl=null;g.J=!0;g.yc=!0;g.ld=!1;g.Ii=!1;g.Eo=!0;g.scrollX=0;g.scrollY=0;g.Xp=null;g.scale=1;g.Sn=1;g.$q=0;g.Xq=0;g.Dh=null;g.la=null;g.K=null;g.Fa=null;g.Hb=null;g.nc=null;g.Ag=null;g.Ll=!1;g.Lk=!1;g.pn=null;g.Fq=null;g.V=null;
g.wq=null;g.qn=!0;g.Ee=function(a){this.nd.Ee(a)};g.Df=function(a){this.nd.Df(a)};g.yi=function(a){return this.nd?this.nd.yi(a):null};g.ah=function(){return this.nd?this.nd.ah():null};g.le=function(){return this.ab.le()};g.ij=function(a){a||(a=Yd);this.ab.ij(a)};g.sh=function(){this.u&&this.Ea.Bo(this.u,this.le());ak(je(this).filter(function(b){return!!b.sg}));bk(this);this.Fa&&this.Fa.sh();this.isVisible()&&this.ma(!0);var a=new (A("theme_change"))(this.le().name,this.id);x(a)};
function ak(a){for(var b=0,c;c=a[b];b++){var d=c.sg;if(d&&(c.Fe(d),c.Ab)){var e=c.Ab.g;if(e&&je(e)){var f=je(e);for(d=0;c=f[d];d++)c.Fe(c.sg);if(c=e.vc())for(e=je(c.g),d=0;c=e[d];d++)c.Fe(c.sg)}}}}function ed(a){if(a.qn){var b=E(a).getScreenCTM();b&&(a.wq=b.inverse(),a.qn=!1)}return a.wq}g.xj=function(){this.qn=!0};g.isVisible=function(){return this.yc};
function ag(a,b){var c=0,d=0,e=1;if(a.ta.contains(b)||a.qd.contains(b))e=a.scale;do{var f=ab(b);if(b==a.ta||b==a.qd)e=1;c+=f.x*e;d+=f.y*e;b=b.parentNode}while(b&&b!=E(a));return new n(c,d)}function Dj(a){a=a.km;return new Ha(a.width,a.height)}function Mj(a){if(!a.pn)for(var b=a.u;b;){if(-1!=(" "+(b.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){a.pn=b;break}b=b.parentNode}return a.pn}
g.Ba=function(a){this.u=B(qc,{"class":"blocklyWorkspace"},null);a&&(this.Cb=B(wc,{height:"100%",width:"100%","class":a},this.u),"blocklyMainBackground"==a&&this.Oc?this.Cb.style.fill="url(#"+this.Oc.eh.id+")":this.ab.subscribe(this.Cb,"workspaceBackgroundColour","fill"));this.ta=B(qc,{"class":"blocklyBlockCanvas"},this.u);this.qd=B(qc,{"class":"blocklyBubbleCanvas"},this.u);this.ld||(r(this.u,"mousedown",this,this.pf,!1,!0),r(this.u,"wheel",this,this.ku));this.options.kq&&(this.Fa=new (Wb(Pb,this.options,
!0))(this));this.Oc&&this.Oc.update(this.scale);qj(this);var b=Wb(Lb,this.options);b&&(a=this.nd,b=new b,a.Jc&&a.Jc.Lc&&a.Jc.Lc.o(),a.Jc=b,a.Jc&&(b=a.Jc,b=new ck(a.g,a.g.Ea.F(),b),a.Jc.Lc=b,a.Ee(a.Jc.Lc.Ba())));this.Ea.Ba(this.u,this.le());return this.u};
g.o=function(){this.J=!1;this.Hb&&this.Hb.cancel();this.u&&(D(this.u),this.u=null);this.qd=this.ta=null;this.Fa&&(this.Fa.o(),this.Fa=null);this.K&&(this.K.o(),this.K=null);this.Dh&&(this.Dh.o(),this.Dh=null);this.la&&(this.la.o(),this.la=null);this.Dj&&(this.Dj.o(),this.Dj=null);this.vd&&(this.vd.o(),this.vd=null);this.Oc&&(this.Oc.o(),this.Oc=null);this.Ea.o();this.nd&&(this.nd.o(),this.nd=null);Sj.j.o.call(this);if(this.ab){var a=this.ab,b=a.nj.indexOf(this);if(0>b)throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.");
a.nj.splice(b,1);this.ab.unsubscribe(this.Cb);this.options.Sa||(this.ab.o(),this.ab=null)}this.Sm=this.Vo=this.kk=null;this.options.Sa||(a=E(this))&&a.parentNode&&D(a.parentNode);this.xl&&(t(this.xl),this.xl=null)};g.mf=function(a,b){return new R(this,a,b)};
function dk(a,b){var c=new de({parentWorkspace:a,rtl:a.s,oneBasedIndex:a.options.ye,renderer:a.options.Zi,rendererOverrides:a.options.$i,move:{scrollbars:!0}});c.bb=a.options.bb;a.K=new (Wb(Sb,a.options,!0))(c);a.K.Re=!1;a.K.g.ma(!0);return a.K.Ba(b)}g.vc=function(a){return this.K||a?this.K:this.Fa?this.Fa.vc():null};function zd(a){a.Eo&&a.J&&(a.la&&a.la.resize(),a.xj())}
g.resize=function(){this.Fa&&this.Fa.position();this.K&&this.K.position();var a=Ff(this.qc,Hf);var b=this.ac;b={Wr:Ke(b),Uj:Cj(b),Eu:Bj(b)};for(var c=[],d=0,e;e=a[d];d++)e.position(b,c),(e=e.$g())&&c.push(e);this.la&&this.la.resize();this.xj();qj(this)};function Fg(a){var b=document.documentElement;var c=window;b=La&&c.pageYOffset!=b.scrollTop?new n(b.scrollLeft,b.scrollTop):new n(c.pageXOffset||b.scrollLeft,c.pageYOffset||b.scrollTop);wa(a.Fq,b)||(a.Fq=b,a.xj(),qj(a))}
function ek(a,b,c){E(a);b&&(a.km.width=b);c&&(a.km.height=c)}function E(a){if(!a.lm)for(var b=a.u;b;){if("svg"==b.tagName){a.lm=b;break}b=b.parentNode}return a.lm}function Oc(a){if(0==w){var b=a.scale,c=-a.scrollY,d=-a.scrollX;if(!(b==a.Sn&&1>Math.abs(c-a.$q)&&1>Math.abs(d-a.Xq))){var e=new (A("viewport_change"))(c,d,b,a.id,a.Sn);a.Sn=b;a.$q=c;a.Xq=d;x(e)}}}
g.translate=function(a,b){if(this.Ll&&this.Lk)this.Ag.vg(a,b);else{var c="translate("+a+","+b+") scale("+this.scale+")";this.ta.setAttribute("transform",c);this.qd.setAttribute("transform",c)}if(this.nc){c=this.nc;var d=this.scale;c.zf=d;var e=a.toFixed(0),f=b.toFixed(0);c.Kp.x=parseInt(e,10);c.Kp.y=parseInt(f,10);c.Ad.setAttribute("transform","translate("+e+","+f+") scale("+d+")")}this.Oc&&this.Oc.moveTo(a,b);Oc(this)};
function gd(a){if(a.Ll){a.Lk=!1;var b=a.Ag.an();a.Ag.dk(a.u);b="translate("+b.x+","+b.y+") scale("+a.scale+")";a.ta.setAttribute("transform",b);a.qd.setAttribute("transform",b)}}
function fd(a){if(a.Ll&&!a.Lk){a.Lk=!0;var b=a.ta.previousSibling,c=parseInt(E(a).getAttribute("width"),10),d=parseInt(E(a).getAttribute("height"),10),e=ab(a.ta),f=a.Ag,h=a.ta,l=a.qd,m=a.scale;if(f.Z.childNodes.length)throw Error("Already dragging a block.");f.zo=b;h.setAttribute("transform","translate(0, 0) scale("+m+")");l.setAttribute("transform","translate(0, 0) scale("+m+")");f.Z.setAttribute("width",c);f.Z.setAttribute("height",d);f.Z.appendChild(h);f.Z.appendChild(l);f.Z.style.display="block";
a.Ag.vg(e.x,e.y)}}g.oe=function(){var a=this.Tb();return a?a.ob/this.scale:0};g.ma=function(a){this.yc=a;if(this.u)if(this.la&&this.la.pg(a),this.vc()&&this.vc().pg(a),E(this).style.display=a?"block":"none",this.Fa&&this.Fa.ma(a),a){a=je(this);for(var b=a.length-1;0<=b;b--)a[b].Ki();this.P();this.Fa&&this.Fa.position()}else hd(!0)};g.P=function(){for(var a=je(this),b=a.length-1;0<=b;b--)a[b].P(!1);if(this.Hb)for(a=this.Hb.bh(),b=0;b<a.length;b++)a[b].P(!1);b=this.nd;b.g.mh&&b.ce&&b.g.ah().dd()};
function fk(a){for(var b=gk,c=0,d;d=b.Jk[c];c++)d.pd(!1);b.Jk.length=0;if(d=a?b.fc(a):null)-1==b.Jk.indexOf(d)&&b.Jk.push(d),d.pd(!0)}
function hk(a){var b=ik;if(a.J&&b.tagName&&!(b.getElementsByTagName("block").length>=se(a)))if(a.Hb&&a.Hb.cancel(),"comment"==b.tagName.toLowerCase()){w++;try{var c=la.gv.Bk(b),d=parseInt(b.getAttribute("x"),10),e=parseInt(b.getAttribute("y"),10);isNaN(d)||isNaN(e)||(a.s&&(d=-d),c.moveBy(d+50,e+50))}finally{w--}0==w&&la.fv.nv(c);c.select()}else{w++;try{var f=ud(b,a),h=parseInt(b.getAttribute("x"),10),l=parseInt(b.getAttribute("y"),10);if(!isNaN(h)&&!isNaN(l)){a.s&&(h=-h);do{b=!1;var m=je(a);c=0;for(var p;p=
m[c];c++){var q=p.ea();if(1>=Math.abs(h-q.x)&&1>=Math.abs(l-q.y)){b=!0;break}}if(!b){var u=f.gd(!1);c=0;for(var y;y=u[c];c++)if(y.closest(28,new n(h,l)).connection){b=!0;break}}b&&(h=a.s?h-28:h+28,l+=56)}while(b);f.moveBy(h,l)}}finally{w--}0==w&&!f.W&&x(new (A("create"))(f));f.select()}}function bk(a){(a=a.ld?a.V:a)&&!a.Hb&&a.Fa&&a.Fa.vc()&&(a=a.Fa,a.lb&&a.lb.se()&&a.lb.Zg.length&&a.K.show(a.lb.Zg))}g.yf=function(a,b){Sj.j.yf.call(this,a,b);bk(this)};g.ge=function(a){Sj.j.ge.call(this,a);bk(this)};
g.ad=function(a,b,c){a=Sj.j.ad.call(this,a,b,c);bk(this);return a};function qj(a){var b=Ff(a.qc,If);a.Cm=[];for(var c=0,d;d=b[c];c++){var e=d.Xm();e&&a.Cm.push({component:d,gt:e})}}function Yf(a,b){for(var c=0,d;d=a.Cm[c];c++)if(d.gt.contains(b.clientX,b.clientY))return d.component;return null}g.pf=function(a){var b=this.ke(a);b&&Kg(b,a,this)};g.mj=function(a,b){a=fb(a,E(this),ed(this));a.x/=this.scale;a.y/=this.scale;this.Xp=ya(b,a)};g.Xa=function(){return null!=this.Hb&&this.Hb.Xa()};
g.hb=function(){return this.options.Kb&&!!this.options.Kb.scrollbars||this.options.Kb&&this.options.Kb.Eh||this.options.Kb&&this.options.Kb.je||this.options.Ga&&this.options.Ga.Eh||this.options.Ga&&this.options.Ga.lr};function zg(a){var b=!!a.la;return a.hb()&&(!b||b&&!!a.la.ya)}function Ag(a){var b=!!a.la;return a.hb()&&(!b||b&&!!a.la.na)}
g.ku=function(a){if(Og())a.preventDefault(),a.stopPropagation();else{var b=this.options.Ga&&this.options.Ga.Eh,c=this.options.Kb&&this.options.Kb.Eh;if(b||c){var d=gb(a);!b||!a.ctrlKey&&c?(b=this.scrollX-d.x,c=this.scrollY-d.y,a.shiftKey&&!d.x&&(b=this.scrollX-d.y,c=this.scrollY),this.scroll(b,c)):(d=-d.y/50,b=fb(a,E(this),ed(this)),this.zoom(b.x,b.y,d));a.preventDefault()}}};g.jj=function(a){if(!this.options.readOnly&&!this.ld){var b=Hi("workspace",{h:this});this.ht&&this.ht(b,a);Ei.show(a,b,this.s)}};
function dd(a){if(a.options.Sa)dd(a.options.Sa);else{nf=a;document.activeElement&&document.activeElement.blur&&document.activeElement.blur();try{E(a).focus({preventScroll:!0})}catch(b){try{E(a).parentNode.setActive()}catch(c){E(a).parentNode.focus({preventScroll:!0})}}}}
g.zoom=function(a,b,c){c=Math.pow(this.options.Ga.zr,c);var d=this.scale*c;if(this.scale!=d){d>this.options.Ga.Mi?c=this.options.Ga.Mi/this.scale:d<this.options.Ga.Oi&&(c=this.options.Ga.Oi/this.scale);var e=this.ta.getCTM(),f=E(this).createSVGPoint();f.x=a;f.y=b;f=f.matrixTransform(e.inverse());a=f.x;b=f.y;e=e.translate(a*(1-c),b*(1-c)).scale(c);this.scrollX=e.e;this.scrollY=e.f;this.setScale(d)}};
function jk(a,b){var c=a.Tb();if(a.K){var d=c.Hr?c.Hr/2:0;c=c.Gr?c.Gr/2:0}else d=c.ob/2+c.Fb,c=c.mb/2+c.Ob;a.zoom(d,c,b)}g.tt=function(){Dc(this.ta,"blocklyCanvasTransitioning");Dc(this.qd,"blocklyCanvasTransitioning")};
g.setScale=function(a){this.options.Ga.Mi&&a>this.options.Ga.Mi?a=this.options.Ga.Mi:this.options.Ga.Oi&&a<this.options.Ga.Oi&&(a=this.options.Ga.Oi);this.scale=a;hd(!1);this.K&&(this.K.Ao(),qj(this));this.Oc&&this.Oc.update(this.scale);a=this.Tb();this.scrollX-=a.Fb;this.scrollY-=a.Ob;a.Zc+=a.Fb;a.$c+=a.Ob;this.scroll(this.scrollX,this.scrollY);if(this.la)if(this.K){var b=this.la;b.ya&&Zc(b.ya,a);b.na&&ad(b.na,a)}else b=this.la,b.ya&&$c(b.ya,a),b.na&&bd(b.na,a)};
function kk(a){return a.options.Sa?kk(a.options.Sa):a.scale}g.scroll=function(a,b){hd(!0);var c=this.Tb();a=Math.min(a,-c.scrollLeft);b=Math.min(b,-c.scrollTop);var d=c.scrollTop+Math.max(0,c.scrollHeight-c.mb);a=Math.max(a,-(c.scrollLeft+Math.max(0,c.scrollWidth-c.ob)));b=Math.max(b,-d);this.scrollX=a;this.scrollY=b;this.la&&this.la.set(-(a+c.scrollLeft),-(b+c.scrollTop),!1);a+=c.Fb;b+=c.Ob;this.translate(a,b)};
function Tj(a){var b=this.Tb();"number"==typeof a.x&&(this.scrollX=-(b.scrollLeft+(b.scrollWidth-b.ob)*a.x));"number"==typeof a.y&&(this.scrollY=-(b.scrollTop+(b.scrollHeight-b.mb)*a.y));this.translate(this.scrollX+b.Fb,this.scrollY+b.Ob)}g.fc=function(a){return Sj.j.fc.call(this,a)};g.fb=function(a){return Sj.j.fb.call(this,a)};g.Wj=function(a){this.tj.push(a);Sj.j.Wj.call(this,a)};g.ul=function(a){qb(this.tj,a);Sj.j.ul.call(this,a)};g.Lb=function(a){var b=!this.Eo&&a;this.Eo=a;b&&zd(this)};
g.clear=function(){this.Lb(!1);Sj.j.clear.call(this);this.tj=[];this.Lb(!0)};function lk(a,b){if("function"!=typeof b)throw TypeError("Button callbacks must be functions.");a.Sm.CREATE_VARIABLE=b}function Gh(a,b){return(a=a.Sm[b])?a:null}function Wj(a,b,c){if("function"!=typeof c)throw TypeError("Toolbox category callbacks must be functions.");a.Vo[b]=c}
g.ke=function(a){var b="mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type,c=this.Hb;return c?b&&c.Wf?(console.warn("Tried to start the same gesture twice."),c.cancel(),null):c:b?this.Hb=new Nj(a,this):null};function aj(a){a.Hb&&a.Hb.cancel()};function mk(a){mk.j.constructor.call(this);a.ej=this.wu.bind(this);var b=this.g=new Sj(a),c=new Ej(this.g,this);b.ac=c;b.Tb=b.ac.Tb.bind(b.ac);this.g.ld=!0;this.g.ma(this.yc);this.id=lb();this.s=!!a.s;this.Gf=a.bb;this.Nm=[];this.Uk=[];this.Xh=[];this.Ya=[];this.to=[];this.Ch=this.g.Ea.F().Tj;this.V=null}F(mk,dj);g=mk.prototype;g.Re=!0;g.yc=!1;g.Rf=!0;g.za=8;g.Kg=mk.prototype.za;g.Cs=3*mk.prototype.Kg;g.Us=2.5;g.ra=0;g.yb=0;g.st=70;
g.Ba=function(a){this.u=B(a,{"class":"blocklyFlyout",style:"display: none"},null);this.Cb=B(tc,{"class":"blocklyFlyoutBackground"},this.u);this.u.appendChild(this.g.Ba());this.g.ab.subscribe(this.Cb,"flyoutBackgroundColour","fill");this.g.ab.subscribe(this.Cb,"flyoutOpacity","fill-opacity");return this.u};
g.I=function(a){this.V=a;this.g.V=a;this.g.la=new Lc(this.g,!1,!0,"blocklyFlyoutScrollbar",this.Us);this.qb();Array.prototype.push.apply(this.Nm,r(this.u,"wheel",this,this.Mu));this.Re||(this.Ak=this.Om.bind(this),we(this.V,this.Ak));Array.prototype.push.apply(this.Nm,r(this.Cb,"mousedown",this,this.pf));this.g.ke=this.V.ke.bind(this.V);this.g.No(this.V.X);var b=this.g;b.vf=new ie(b);Bf(a.qc,{component:this,weight:1,xd:[Ef,If]})};
g.o=function(){this.qb();Cf(this.g.qc,this.id);t(this.Nm);this.Ak&&(qb(this.V.Ya,this.Ak),this.Ak=null);this.g&&(this.g.ab.unsubscribe(this.Cb),this.g.V=null,this.g.o(),this.g=null);this.u&&(D(this.u),this.u=null);this.V=this.Cb=null};g.oe=function(){return this.ra};g.isVisible=function(){return this.yc};g.ma=function(a){var b=a!=this.isVisible();this.yc=a;b&&(this.Re||qj(this.g),this.wj())};g.pg=function(a){var b=a!=this.Rf;this.Rf=a;b&&this.wj()};
g.wj=function(){var a=this.Rf?this.isVisible():!1;this.u.style.display=a?"block":"none";this.g.la.pg(a)};g.qb=function(){if(this.isVisible()){this.ma(!1);for(var a=0,b;b=this.Ya[a];a++)t(b);this.Ya.length=0;this.wf&&(qb(this.g.Ya,this.wf),this.wf=null)}};
g.show=function(a){this.g.Lb(!1);this.qb();nk(this);"string"==typeof a&&(a=ok(this,a));this.ma(!0);a=be(a);a=pk(this,a);qk(this,a.jt,a.wt);this.Ya.push(r(this.Cb,"mouseover",this,function(){for(var b=this.g.fb(!1),c=0,d;d=b[c];c++)d.Yi()}));this.ra=0;this.g.Lb(!0);this.Ao();this.Om();this.position();this.wf=this.Ao.bind(this);we(this.g,this.wf)};
function pk(a,b){var c=[],d=[];a.to.length=0;for(var e=a.Cs,f=0,h;h=b[f];f++){if(h.custom){var l=ok(a,h.custom);l=be(l);b.splice.apply(b,[f,1].concat(l));h=b[f]}switch(h.kind.toUpperCase()){case "BLOCK":l=h;var m=l;h=null;var p=m.blockxml;p&&"string"!=typeof p?h=p:p&&"string"==typeof p?(h=sd(p),m.blockxml=h):m.type&&(h=G("xml"),h.setAttribute("type",m.type),h.setAttribute("disabled",m.disabled),m.blockxml=h);if(!h)throw Error("Error: Invalid block definition. Block definition must have blockxml or type.");
m=h;h=a;p=ud(m,h.g);p.isEnabled()||h.to.push(p);h=p;l=parseInt(l.gap||m.getAttribute("gap"),10);d.push(isNaN(l)?e:l);c.push({type:"block",block:h});break;case "SEP":l=d;m=e;h=parseInt(h.gap,10);!isNaN(h)&&0<l.length?l[l.length-1]=h:l.push(m);break;case "LABEL":l=rk(a,h,!0);c.push({type:"button",button:l});d.push(e);break;case "BUTTON":l=rk(a,h,!1),c.push({type:"button",button:l}),d.push(e)}}return{jt:c,wt:d}}
function ok(a,b){b=a.g.V.Vo[b]||null;if("function"!=typeof b)throw TypeError("Couldn't find a callback function when opening a toolbox category.");a=b(a.g.V);if(!Array.isArray(a))throw new TypeError("Result of toolbox category callback must be an array.");return a}function rk(a,b,c){if(!Eh)throw Error("Missing require for Blockly.FlyoutButton");return new Eh(a.g,a.V,b,c)}
function nk(a){for(var b=a.g.fb(!1),c=0,d;d=b[c];c++)d.h==a.g&&d.o(!1,!1);for(c=0;c<a.Uk.length;c++)if(b=a.Uk[c])vg(b),D(b);for(c=a.Uk.length=0;b=a.Xh[c];c++)b.o();a.Xh.length=0;a.g.vf.clear()}function sk(a,b){return function(c){var d=a.V.ke(c);d&&(Mg(d,b),Lg(d,c,a))}}g.pf=function(a){var b=this.V.ke(a);b&&Lg(b,a,this)};
function Gg(a,b){var c=null;w++;var d=a.V.Tf();a.V.Lb(!1);try{var e=a.V;if(!b.R())throw Error("oldBlock is not rendered.");var f=pd(b,!0);e.Lb(!1);var h=ud(f,e);if(!h.R())throw Error("block is not rendered.");var l=db(e.ta),m=db(a.g.ta),p=b.ea();p.scale(a.g.scale);var q=ya(za(m,p),l);q.scale(1/e.scale);h.moveBy(q.x,q.y);c=h}finally{w--}hd();b=Ad(a.V,d);if(0==w){z(!0);for(d=0;d<b.length;d++)e=b[d],x(new (A("var_create"))(e));x(new (A("create"))(c))}a.Re?a.qb():a.Om();return c}
g.Om=function(){for(var a=this.g.fb(!1),b=0,c;c=a[b];b++)if(-1==this.to.indexOf(c))for(var d=te(this.V,rb(c));c;)c.bc(d),c=tb(c)};
g.Ao=function(){this.wf&&qb(this.g.Ya,this.wf);this.g.scale=this.V.scale;for(var a=0,b=this.g.fb(!1),c=0,d;d=b[c];c++){var e=Wf(d).width;d.v&&(e-=this.Ch);a=Math.max(a,e)}for(c=0;d=this.Xh[c];c++)a=Math.max(a,d.width);a+=1.5*this.Kg+this.Ch;a*=this.g.scale;a+=Nc;if(this.ra!=a){for(c=0;d=b[c];c++){if(this.s){e=d.ea().x;var f=a/this.g.scale-this.Kg;d.v||(f-=this.Ch);d.moveBy(f-e,0)}d.bq&&(e=d.bq,f=d,d=Wf(f),e.setAttribute("width",d.width),e.setAttribute("height",d.height),f=f.ea(),e.setAttribute("y",
f.y),e.setAttribute("x",this.s?f.x-d.width:f.x))}if(this.s)for(c=0;d=this.Xh[c];c++)d.moveTo(a/this.g.scale-d.width-this.Kg-this.Ch,d.mg.y);this.V.bb!=this.Gf||2!=this.Gf||this.V.Fa||this.V.translate(this.V.scrollX+a,this.V.scrollY);this.ra=a;this.position();qj(this.V)}this.wf&&we(this.g,this.wf)};function Eg(a){return a.g.la?a.g.la.isVisible():!1};function tk(a){tk.j.constructor.call(this,a)}F(tk,mk);g=tk.prototype;g.wu=function(a){if(this.isVisible()){var b=this.g.ac,c=b.Ze(),d=Ke(b);b=Cj(b);"number"==typeof a.y&&(this.g.scrollY=-(c.top+(c.height-d.height)*a.y));this.g.translate(this.g.scrollX+b.left,this.g.scrollY+b.top)}};
g.position=function(){if(this.isVisible()&&this.V.isVisible()){var a=Ke(this.V.ac);this.yb=a.height;var b=this.ra-this.za;a=a.height-2*this.za;var c=3==this.Gf,d=b+this.za;d=["M "+(c?d:0)+",0"];d.push("h",c?-b:b);d.push("a",this.za,this.za,0,0,c?0:1,c?-this.za:this.za,this.za);d.push("v",Math.max(0,a));d.push("a",this.za,this.za,0,0,c?0:1,c?this.za:-this.za,this.za);d.push("h",c?b:-b);d.push("z");this.Cb.setAttribute("d",d.join(" "));this.isVisible()?(c=this.V.ac,b=Cj(c),a=Ke(c),c=Bj(c),c=this.V.bb==
this.Gf?this.V.Fa?2==this.Gf?c.width:a.width-this.ra:2==this.Gf?0:a.width:2==this.Gf?0:a.width+b.left-this.ra):c=0;b=this.ra;a=this.yb;this.u.setAttribute("width",b);this.u.setAttribute("height",a);ek(this.g,b,a);"svg"==this.u.tagName?Gc(this.u,"translate("+c+"px,0px)"):this.u.setAttribute("transform","translate("+c+",0)");if(b=this.g.la)b.Bl(c,0),b.resize(),b.ya&&b.ya.setPosition(b.ya.position.x,b.ya.position.y),b.na&&b.na.setPosition(b.na.position.x,b.na.position.y)}};
g.Go=function(){var a=this.g.la;a.na&&a.na.set(0,!0)};g.Mu=function(a){var b=gb(a);if(b.y){var c=this.g.ac,d=c.Ze();b=Ke(c).top-d.top+b.y;c=this.g.la;c.na&&c.na.set(b,!0);hh();sf()}a.preventDefault();a.stopPropagation()};
function qk(a,b,c){a.g.scale=a.V.scale;for(var d=a.Kg,e=a.s?d:d+a.Ch,f=0,h;h=b[f];f++)if("block"==h.type){h=h.block;for(var l=sb(h,!1),m=0,p;p=l[m];m++)p.Ja=!0;h.P();p=h.R();l=Wf(h);m=h.v?e-a.Ch:e;h.moveBy(m,d);var q=a,u=h,y=f;m=B(wc,{"fill-opacity":0,x:a.s?m-l.width:m,y:d,height:l.height,width:l.width},null);m.Yc=u;rg(m);q.g.ta.insertBefore(m,u.R());u.bq=m;q.Uk[y]=m;q=a;q.Ya.push(r(p,"mousedown",null,sk(q,h)));q.Ya.push(r(m,"mousedown",null,sk(q,h)));q.Ya.push(Hb(p,"mouseenter",h,h.Vj));q.Ya.push(Hb(p,
"mouseleave",h,h.Yi));q.Ya.push(Hb(m,"mouseenter",h,h.Vj));q.Ya.push(Hb(m,"mouseleave",h,h.Yi));d+=l.height+c[f]}else"button"==h.type&&(l=a,m=h.button,p=e,q=d,u=m.Ba(),m.moveTo(p,q),m.show(),l.Ya.push(r(u,"mousedown",l,l.pf)),l.Xh.push(m),d+=h.button.height+c[f])}g.Xm=function(){if(!this.u||this.Re||!this.isVisible())return null;var a=this.u.getBoundingClientRect(),b=a.left;return 2==this.Gf?new Aa(-1E9,1E9,-1E9,b+a.width):new Aa(-1E9,1E9,b,1E9)};v(Sb,"default",tk);
function uk(a){this.g=a;this.id="zoomControls";this.Oe=this.Ej=this.Hh=this.ho=this.co=this.io=null}g=uk.prototype;g.Vd=32;g.Pe=32;g.Sj=2;g.Nj=11;g.Kh=20;g.Ql=20;g.u=null;g.te=0;g.Ke=0;g.Di=!1;
g.Ba=function(){this.u=B(qc,{},null);var a=String(Math.random()).substring(2);this.Ej=B(qc,{"class":"blocklyZoom"},this.u);var b=B(ic,{id:"blocklyZoomoutClipPath"+a},this.Ej);B(wc,{width:32,height:32},b);B(rc,{width:96,height:124,x:-64,y:-92,"clip-path":"url(#blocklyZoomoutClipPath"+a+")"},this.Ej).setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.g.options.uf+"sprites.png");this.ho=r(this.Ej,"mousedown",null,this.$r.bind(this,-1));this.Hh=B(qc,{"class":"blocklyZoom"},this.u);b=B(ic,
{id:"blocklyZoominClipPath"+a},this.Hh);B(wc,{width:32,height:32},b);B(rc,{width:96,height:124,x:-32,y:-92,"clip-path":"url(#blocklyZoominClipPath"+a+")"},this.Hh).setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.g.options.uf+"sprites.png");this.co=r(this.Hh,"mousedown",null,this.$r.bind(this,1));this.g.hb()&&(this.Oe=B(qc,{"class":"blocklyZoom"},this.u),b=B(ic,{id:"blocklyZoomresetClipPath"+a},this.Oe),B(wc,{width:32,height:32},b),B(rc,{width:96,height:124,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+
a+")"},this.Oe).setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.g.options.uf+"sprites.png"),this.io=r(this.Oe,"mousedown",null,this.qu.bind(this)));return this.u};g.I=function(){Bf(this.g.qc,{component:this,weight:2,xd:[Hf]});this.Di=!0};g.o=function(){Cf(this.g.qc,"zoomControls");this.u&&D(this.u);this.io&&t(this.io);this.co&&t(this.co);this.ho&&t(this.ho)};g.$g=function(){var a=this.Sj+2*this.Pe;this.Oe&&(a+=this.Nj+this.Pe);return new Aa(this.Ke,this.Ke+a,this.te,this.te+this.Vd)};
g.position=function(a,b){if(this.Di){var c=tj(a),d=this.Sj+2*this.Pe;this.Oe&&(d+=this.Nj+this.Pe);var e=c.vertical;a=uj(sj(c,new Ha(this.Vd,d),this.Ql,this.Kh,a,this.g),this.Kh,0===e?1:0,b);0===e?(e=this.Sj+this.Pe,this.Hh.setAttribute("transform","translate(0, "+e+")"),this.Oe&&this.Oe.setAttribute("transform","translate(0, "+(e+this.Nj+this.Pe)+")")):(e=this.Oe?this.Nj+this.Pe:0,this.Hh.setAttribute("transform","translate(0, "+e+")"),this.Ej.setAttribute("transform","translate(0, "+(e+this.Sj+
this.Pe)+")"));this.Ke=a.top;this.te=a.left;this.u.setAttribute("transform","translate("+this.te+","+this.Ke+")")}};g.$r=function(a,b){dd(this.g);jk(this.g,a);vk(this);wb=null;b.stopPropagation();b.preventDefault()};
g.qu=function(a){dd(this.g);var b=Math.log(this.g.options.Ga.Er/this.g.scale)/Math.log(this.g.options.Ga.zr),c=this.g;C(c.ta,"blocklyCanvasTransitioning");C(c.qd,"blocklyCanvasTransitioning");jk(this.g,b);b=this.g;if(b.hb()){c=b.Tb();var d=(c.scrollWidth-c.ob)/2,e=(c.scrollHeight-c.mb)/2;d=-d-c.scrollLeft;e=-e-c.scrollTop;b.scroll(d,e)}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.");setTimeout(this.g.tt.bind(this.g),500);vk(this);wb=null;
a.stopPropagation();a.preventDefault()};function vk(a){a=new (A("click"))(null,a.g.id,"zoom_controls");x(a)}Oe([".blocklyZoom>image, .blocklyZoom>svg>image {","opacity: .4;","}",".blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {","opacity: .6;","}",".blocklyZoom>image:active, .blocklyZoom>svg>image:active {","opacity: .8;","}"]);function wk(a){this.Gd="undefined"==typeof a;this.Eb=a?a.id:"";this.group=Xb;this.Bb=!1}F(wk,jd);wk.prototype.type="finished_loading";wk.prototype.S=function(){var a={type:this.type};this.group&&(a.group=this.group);this.Eb&&(a.workspaceId=this.Eb);return a};wk.prototype.N=function(a){this.Gd=!1;this.Eb=a.workspaceId;this.group=a.group};v(Mb,"finished_loading",wk);function xk(a){this.ei=a;this.Ba()}g=xk.prototype;g.Z=null;g.Ad=null;g.ei=null;g.zf=1;g.oj=null;g.Kp=new n(0,0);g.Ba=function(){this.Z||(this.Z=B(xc,{xmlns:"http://www.w3.org/2000/svg","xmlns:html":"http://www.w3.org/1999/xhtml","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1","class":"blocklyBlockDragSurface"},this.ei),this.Ad=B(qc,{},this.Z))};
function Xf(a,b){if(a.Ad.childNodes.length)throw Error("Already dragging a block.");a.Ad.appendChild(b);a.Z.style.display="block";a.oj=new n(0,0)}g.vg=function(a,b){this.oj=new n(a*this.zf,b*this.zf);a=this.oj.x;b=this.oj.y;a=a.toFixed(0);b=b.toFixed(0);this.Z.style.display="block";Gc(this.Z,"translate3d("+a+"px, "+b+"px, 0px)")};g.an=function(){var a=ab(this.Z);return new n(a.x/this.zf,a.y/this.zf)};g.R=function(){return this.Z};
g.dk=function(a){a?a.appendChild(this.Ad.firstChild):this.Ad.removeChild(this.Ad.firstChild);this.Z.style.display="none";if(this.Ad.childNodes.length)throw Error("Drag group was not cleared.");this.oj=null};function yk(a,b){"string"==typeof a&&(a=document.getElementById(a)||document.querySelector(a));if(!document.contains(a))throw Error("Error: container is not in current document");b=new de(b||{});var c=document.createElement("div");c.className="injectionDiv";c.tabIndex=0;uh(c,"label",k.WORKSPACE_ARIA_LABEL);a.appendChild(c);a=zk(c,b);var d=new xk(c),e=new Rj(c),f=Ak(a,b,d,e);Bk(f);nf=f;oj(f);c.addEventListener("focusin",function(){nf=f});return f}
function zk(a,b){a.setAttribute("dir","LTR");var c=b.It,d=b.uf;if(!Ne){Ne=!0;var e=Pe.join("\n");Pe.length=0;c&&(c=d.replace(/[\\/]$/,""),e=e.replace(/<<<PATH>>>/g,c),c=document.createElement("style"),c.id="blockly-common-style",c.appendChild(document.createTextNode(e)),document.head.insertBefore(c,document.head.firstChild))}a=B(xc,{xmlns:"http://www.w3.org/2000/svg","xmlns:html":"http://www.w3.org/1999/xhtml","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1","class":"blocklySvg",tabindex:"0"},
a);c=B(jc,{},a);e=b.jq;c=B(uc,{id:"blocklyGridPattern"+String(Math.random()).substring(2),patternUnits:"userSpaceOnUse"},c);0<e.length&&0<e.spacing?(B(sc,{stroke:e.colour},c),1<e.length&&B(sc,{stroke:e.colour},c)):B(sc,{},c);b.fn=c;return a}
function Ak(a,b,c,d){b.Sa=null;b=new Sj(b,c,d);c=b.options;b.scale=c.Ga.Er;a.appendChild(b.Ba("blocklyMainBackground"));C(Mj(b),b.Ea.fd());C(Mj(b),b.le().fd());!c.kq&&c.Jd&&(d=dk(b,xc),Fc(d,a));if(c.nq){if(!vj)throw Error("Missing require for Blockly.Trashcan");b.Dh=new vj(b);d=b.Dh.Ba();b.u.insertBefore(d,b.ta)}if(c.Ga&&c.Ga.controls){if(!uk)throw Error("Missing require for Blockly.ZoomControls");b.Dj=new uk(b);c=b.Dj.Ba();b.u.appendChild(c)}b.ab.subscribe(a,"workspaceBackgroundColour","background-color");
b.translate(0,0);we(b,Ck(b));oj(b);bh||(bh=document.createElement("div"),bh.className="blocklyWidgetDiv",(kf||document.body).appendChild(bh));jf();pg||(pg=document.createElement("div"),pg.className="blocklyTooltipDiv",(kf||document.body).appendChild(pg));return b}function Dk(a){var b=a.ac;if(!(zg(b.g)&&Ag(b.g)||a.Xa())){b=b.Ze(!0);for(var c=[].concat(a.tj),d=0,e;e=c[d];d++)cg(a,b,e)}}
function Ck(a){return function(b){var c=a.ac;if(!(zg(c.g)&&Ag(c.g)||a.Xa()))if(-1!==Zb.indexOf(b.type)){c=c.Ze(!0);var d=null;switch(b.type){case "create":case "move":(d=a.fc(b.ga))&&(d=d.hd())}if(d){var e=Xb;z(b.group);cg(a,c,d)&&!b.group&&console.warn("Moved object in bounds but there was no event group. This may break undo.");null!==e&&z(e)}}else"viewport_change"===b.type&&b.scale>b.Qi&&Dk(a)}}
function cg(a,b,c){var d=c.$g(),e=id(b.top,d.top,b.top+b.height-(d.bottom-d.top))-d.top,f=b.left;b=b.left+b.width-(d.right-d.left);a.s?f=Math.min(b,f):b=Math.max(f,b);return(a=id(f,d.left,b)-d.left)||e?(c.moveBy(a,e),!0):!1}
function Bk(a){var b=a.options,c=E(a);r(c.parentNode,"contextmenu",null,function(e){$a(e)||e.preventDefault()});c=r(window,"resize",null,function(){hd(!0);oj(a);Dk(a)});a.xl=c;Ek();if(b.Jd){c=a.Fa;var d=a.vc(!0);c?c.I():d&&(d.I(a),d.show(b.Jd),"function"==typeof d.Go&&d.Go())}b.nq&&a.Dh.I();b.Ga&&b.Ga.controls&&a.Dj.I();b.Kb&&b.Kb.scrollbars?(a.la=new Lc(a,!0===b.Kb.scrollbars||!!b.Kb.scrollbars.Ci,!0===b.Kb.scrollbars||!!b.Kb.scrollbars.vertical,"blocklyMainWorkspaceScrollbar"),a.la.resize()):a.ej({x:.5,
y:.5});b.Kt&&Fk(b.uf,a)}function Ek(){ma||(r(document,"scroll",null,function(){for(var a=xe(),b=0,c;c=a[b];b++)c.xj&&c.xj()}),r(document,"keydown",null,Gk),Hb(document,"touchend",null,Ab),Hb(document,"touchcancel",null,Ab),Sa&&r(window,"orientationchange",document,function(){oj(nf)}));ma=!0}
function Fk(a,b){function c(){for(;e.length;)t(e.pop());d.preload()}var d=b.vd;d.load([a+"click.mp3",a+"click.wav",a+"click.ogg"],"click");d.load([a+"disconnect.wav",a+"disconnect.mp3",a+"disconnect.ogg"],"disconnect");d.load([a+"delete.mp3",a+"delete.ogg",a+"delete.wav"],"delete");var e=[];e.push(r(document,"mousemove",null,c,!0));e.push(r(document,"touchstart",null,c,!0))};function ti(a){this.Ur="";this.yr=Object.create(null);if(a){a=a.split(",");for(var b=0;b<a.length;b++)this.yr[a[b]]=!0}this.reset()}var xi="DEVELOPER_VARIABLE";ti.prototype.reset=function(){this.zd=Object.create(null);this.Qp=Object.create(null);this.X=null};ti.prototype.No=function(a){this.X=a};
ti.prototype.Ub=function(a,b){var c=a;"VARIABLE"==b&&(this.X?a=(a=this.X.jd(a))?a.name:null:(console.warn("Deprecated call to Blockly.Names.prototype.getName without defining a variable map. To fix, add the following code in your generator's init() function:\nBlockly.YourGeneratorName.nameDB_.setVariableMap(workspace.getVariableMap());"),a=null),a&&(c=a));a=c.toLowerCase();var d="VARIABLE"==b||b==xi?this.Ur:"";b in this.zd||(this.zd[b]=Object.create(null));var e=this.zd[b];if(a in e)return d+e[a];
b=si(this,c,b);e[a]=b.substr(d.length);return b};function si(a,b,c){b?(b=encodeURI(b.replace(/ /g,"_")).replace(/[^\w]/g,"_"),-1!="0123456789".indexOf(b[0])&&(b="my_"+b)):b=k.UNNAMED_KEY||"unnamed";for(var d="";a.Qp[b+d]||b+d in a.yr;)d=d?d+1:2;b+=d;a.Qp[b]=!0;return("VARIABLE"==c||c==xi?a.Ur:"")+b}function pe(a,b){return a.toLowerCase()==b.toLowerCase()};var Xj={};function vi(a){var b=qe(a,"procedures_defnoreturn").map(function(c){return c.Ye()});a=qe(a,"procedures_defreturn").map(function(c){return c.Ye()});b.sort(Hk);a.sort(Hk);return[b,a]}function Hk(a,b){return a[0].localeCompare(b[0],void 0,{sensitivity:"base"})}function Ik(a,b){if(b.Ja)return a;for(a=a||k.UNNAMED_KEY||"unnamed";Jk(a,b.h,b);){var c=a.match(/^(.*?)(\d+)$/);a=c?c[1]+(parseInt(c[2],10)+1):a+"2"}return a}
function Jk(a,b,c){b=je(b);for(var d=0;d<b.length;d++)if(b[d]!=c&&b[d].Ye){var e=b[d].Ye();if(pe(e[0],a))return!0}return!1}function Kk(a){a=a.trim();var b=Ik(a,this.D()),c=this.Ra();if(c!=a&&c!=b){a=je(this.D().h);for(var d=0;d<a.length;d++)a[d].uh&&a[d].uh(c,b)}return b}
function Yj(a){function b(f,h){for(var l=0;l<f.length;l++){var m=f[l][0],p=f[l][1],q=G("block");q.setAttribute("type",h);q.setAttribute("gap",16);var u=G("mutation");u.setAttribute("name",m);q.appendChild(u);for(m=0;m<p.length;m++){var y=G("arg");y.setAttribute("name",p[m]);u.appendChild(y)}c.push(q)}}var c=[];if(L.procedures_defnoreturn){var d=G("block");d.setAttribute("type","procedures_defnoreturn");d.setAttribute("gap",16);var e=G("field");e.setAttribute("name","NAME");e.appendChild(document.createTextNode(k.PROCEDURES_DEFNORETURN_PROCEDURE));
d.appendChild(e);c.push(d)}L.procedures_defreturn&&(d=G("block"),d.setAttribute("type","procedures_defreturn"),d.setAttribute("gap",16),e=G("field"),e.setAttribute("name","NAME"),e.appendChild(document.createTextNode(k.PROCEDURES_DEFRETURN_PROCEDURE)),d.appendChild(e),c.push(d));L.procedures_ifreturn&&(d=G("block"),d.setAttribute("type","procedures_ifreturn"),d.setAttribute("gap",16),c.push(d));c.length&&c[c.length-1].setAttribute("gap",24);a=vi(a);b(a[0],"procedures_callnoreturn");b(a[1],"procedures_callreturn");
return c}
function Lk(a){for(var b=[],c=qe(a,"procedures_mutatorarg"),d=0,e;e=c[d];d++)b.push(I(e,"NAME"));c=G("xml");d=G("block");d.setAttribute("type","procedures_mutatorarg");e=G("field");e.setAttribute("name","NAME");e.appendChild(document.createTextNode(Mk("x",b)));d.appendChild(e);c.appendChild(d);if(b=Zd(c)){if(!a.options.Jd)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(ce(b)){if(!a.Fa)throw Error("Existing toolbox has no categories.  Can't change mode.");a.options.Jd=b;a.Fa.P(b)}else{if(!a.K)throw Error("Existing toolbox has categories.  Can't change mode.");
a.options.Jd=b;a.K.show(b)}}else if(a.options.Jd)throw Error("Can't nullify an existing toolbox.");}function Zj(a){if("bubble_open"==a.type&&"mutator"===a.jm&&a.kh){a=(cc[a.Eb]||null).fc(a.ga);var b=a.type;if("procedures_defnoreturn"==b||"procedures_defreturn"==b)a=a.Ab.g,Lk(a),we(a,Nk)}}function Nk(a){"create"!=a.type&&"delete"!=a.type&&"change"!=a.type||Lk(cc[a.Eb]||null)}
function Ok(a){var b=Yb,c=a.Ye()[0],d=a.sa(!0),e=[];a=je(a.h);for(var f=0;f<a.length;f++)if(a[f].wc){var h=a[f].wc();h&&pe(h,c)&&e.push(a[f])}for(c=0;a=e[c];c++)f=(f=a.sa())&&rd(f),a.Na(d),h=(h=a.sa())&&rd(h),f!=h&&(Yb=!1,x(new (A("change"))(a,"mutation",null,f,h)),Yb=b)}function Pk(a,b){b=je(b);for(var c=0;c<b.length;c++)if(b[c].Ye){var d=b[c].Ye();if(d&&pe(d[0],a))return b[c]}return null};function Qk(){Rk=this;this.Tc=Object.create(null);this.lh=Object.create(null)}var Rk,Sk={Shift:16,Control:17,Alt:18,Meta:91};Qk.prototype.register=function(a,b){if(this.Tc[a.name]&&!b)throw Error('Shortcut with name "'+a.name+'" already exists.');this.Tc[a.name]=a};
Qk.prototype.unregister=function(a){if(!this.Tc[a])return console.warn('Keyboard shortcut with name "'+a+'" not found.'),!1;for(var b in this.lh){var c=b,d=this.lh[c],e=d.indexOf(a);-1<e&&(d.splice(e,1),0==d.length&&delete this.lh[c])}delete this.Tc[a];return!0};function Tk(a,b){var c=Rk;a=String(a);var d=c.lh[a];if(d)throw Error('Shortcut with name "'+b+'" collides with shortcuts '+d.toString());c.lh[a]=[b]}
Qk.prototype.Yn=function(a,b){var c="";for(d in Sk)b.getModifierState(d)&&(""!=c&&(c+="+"),c+=d);""!=c&&b.keyCode?c=c+"+"+b.keyCode:b.keyCode&&(c=b.keyCode.toString());c=this.lh[c]||[];if(!c)return!1;var d=0;for(var e;e=c[d];d++)if(e=this.Tc[e],(!e.Ta||e.Ta(a))&&e.ka&&e.ka(a,b,e))return!0;return!1};
function Uk(a,b){var c="";if(b){for(var d=md(Sk),e=0,f;f=b[e];e++)if(0>d.indexOf(f))throw Error(f+" is not a valid modifier key.");for(var h in Sk)-1<b.indexOf(Sk[h])&&(""!=c&&(c+="+"),c+=h)}""!=c&&a?c=c+"+"+a:a&&(c=a.toString());return c}new Qk;function le(a,b,c,d){this.h=a;this.name=b;this.type=c||"";this.pe=d||lb();x(new (A("var_create"))(this))}le.prototype.T=function(){return this.pe};function Vk(a,b){return a.name.localeCompare(b.name,void 0,{sensitivity:"base"})};var Uj={};function ui(a){var b=je(a);a=Object.create(null);for(var c=0;c<b.length;c++){var d=b[c].me();if(d)for(var e=0;e<d.length;e++){var f=d[e],h=f.T();h&&(a[h]=f)}}b=[];for(h in a)b.push(a[h]);return b}var wi={};function Vj(a){var b=[],c=document.createElement("button");c.setAttribute("text","%{BKY_NEW_VARIABLE}");c.setAttribute("callbackKey","CREATE_VARIABLE");lk(a,function(d){Wk(d.Il)});b.push(c);a=Xk(a);return b=b.concat(a)}
function Xk(a){a=a.zi("");var b=[];if(0<a.length){var c=a[a.length-1];if(L.variables_set){var d=G("block");d.setAttribute("type","variables_set");d.setAttribute("gap",L.math_change?8:24);d.appendChild(Yk(c));b.push(d)}L.math_change&&(d=G("block"),d.setAttribute("type","math_change"),d.setAttribute("gap",L.variables_get?20:8),d.appendChild(Yk(c)),c=sd('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),d.appendChild(c),b.push(d));if(L.variables_get){a.sort(Vk);
c=0;for(var e;e=a[c];c++)d=G("block"),d.setAttribute("type","variables_get"),d.setAttribute("gap",8),d.appendChild(Yk(e)),b.push(d)}}return b}function Mk(a,b){if(!b.length)return a;for(var c="",d="ijkmnopqrstuvwxyzabcdefgh".indexOf(a);;){for(var e=!1,f=0;f<b.length;f++)if(b[f].toLowerCase()==a){e=!0;break}if(!e)return a;d++;25==d&&(d=0,c=Number(c)+1);a="ijkmnopqrstuvwxyzabcdefgh".charAt(d)+c}}
function Wk(a){function b(c){Zk(k.NEW_VARIABLE_TITLE,c,function(d){if(d){var e=$k(d,a);if(e){if(""==e.type)var f=k.VARIABLE_ALREADY_EXISTS.replace("%1",e.name);else f=k.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,f=f.replace("%1",e.name).replace("%2",e.type);me(f,function(){b(d)})}else a.ad(d,"")}})}b("")}
function al(a,b){function c(d){var e=k.RENAME_VARIABLE_TITLE.replace("%1",b.name);Zk(e,d,function(f){if(f){var h=bl(f,b.type,a);h?(h=k.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",h.name).replace("%2",h.type),me(h,function(){c(f)})):a.yf(b.T(),f)}})}c("")}function Zk(a,b,c){cl(a,b,function(d){d&&(d=d.replace(/[\s\xa0]+/g," ").trim(),d==k.RENAME_VARIABLE||d==k.NEW_VARIABLE)&&(d=null);c(d)})}
function bl(a,b,c){c=c.X.Tf();a=a.toLowerCase();for(var d=0,e;e=c[d];d++)if(e.name.toLowerCase()==a&&e.type!=b)return e;return null}function $k(a,b){b=b.X.Tf();a=a.toLowerCase();for(var c=0,d;d=b[c];c++)if(d.name.toLowerCase()==a)return d;return null}function Yk(a){var b=G("field");b.setAttribute("name","VAR");b.setAttribute("id",a.T());b.setAttribute("variabletype",a.type);b.appendChild(document.createTextNode(a.name));return b}
function dl(a,b,c,d){var e=el(a,b,c,d);e||(e=a.vf,c||(c=Mk("i",(a.ld?a.V:a).Um())),e=e?e.ad(c,d,b):a.ad(c,d,b));return e}function el(a,b,c,d){var e=a.vf,f=null;if(b&&(f=a.jd(b),!f&&e&&(f=e.jd(b)),f))return f;if(c){if(void 0==d)throw Error("Tried to look up a variable by name without a type");f=a.Nc(c,d);!f&&e&&(f=e.Nc(c,d))}return f}function Ad(a,b){a=a.Tf();var c=[];if(b.length!=a.length)for(var d=0;d<a.length;d++){var e=a[d];-1==b.indexOf(e)&&c.push(e)}return c};var nf=null,J=null,Wd=[],ik=null,fl=null,gl=null,kf=null;function oj(a){for(;a.options.Sa;)a=a.options.Sa;var b=E(a),c=Dj(a),d=b.parentNode;if(d){var e=d.offsetWidth;d=d.offsetHeight;c.width!=e&&(b.setAttribute("width",e+"px"),ek(a,e,null));c.height!=d&&(b.setAttribute("height",d+"px"),ek(a,null,d));a.resize()}}function Gk(a){var b=nf;!b||$a(a)||b.J&&!b.isVisible()||Rk.Yn(b,a)}function hl(a){a.h.ld||(z(!0),hd(),a.v?a.o(!1,!0):a.o(!0,!0),z(!1))}
function il(a){if(a.jh)a=null;else{for(var b=pd(a,!0),c=0,d;d=b.childNodes[c];c++)if("next"==d.nodeName.toLowerCase()){b.removeChild(d);break}c=a.ea();b.setAttribute("x",a.s?-c.x:c.x);b.setAttribute("y",c.y);a={xml:b,source:a.h,Ku:rb(a,!0)}}a&&(ik=a.xml,fl=a.source,gl=a.Ku)}function jl(){if(!ik)return!1;var a=fl;a.ld&&(a=a.V);return gl&&te(a,gl)?(z(!0),hk(a),z(!1),!0):!1}function hd(a){wg();hh();sf();var b=!!a;Ff(nf.qc,Jf).forEach(function(c){c.Bp(b)})}function me(a,b){alert(a);b&&b()}
function ne(a,b){b(confirm(a))}function cl(a,b,c){c(prompt(a,b))}function kl(a){return function(){fi(this,a)}}function ll(a){for(var b=0;b<a.length;b++){var c=a[b];if(c){var d=c.type;null==d||""===d?console.warn("Block definition #"+b+" in JSON array is missing a type attribute. Skipping."):(L[d]&&console.warn("Block definition #"+b+' in JSON array overwrites prior definition of "'+d+'".'),L[d]={I:kl(c)})}else console.warn("Block definition #"+b+" in JSON array is "+c+". Skipping.")}}
function yi(a){return/^\s*-?\d+(\.\d+)?\s*$/.test(a)};var ml={am:"\u12a0\u121b\u122d\u129b",ar:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",be:"\u0431\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0456","be-tarask":"Tara\u0161kievica",bg:"\u0431\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438 \u0435\u0437\u0438\u043a",bn:"\u09ac\u09be\u0982\u09b2\u09be",br:"Brezhoneg",ca:"Catal\u00e0",cs:"\u010cesky",da:"Dansk",de:"Deutsch",el:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",en:"English",eo:"Esperanto",es:"Espa\u00f1ol",eu:"Euskara",fa:"\u0641\u0627\u0631\u0633\u06cc",
fi:"Suomi",fo:"F\u00f8royskt",fr:"Fran\u00e7ais",gl:"Galego",ha:"Hausa",he:"\u05e2\u05d1\u05e8\u05d9\u05ea",hi:"\u0939\u093f\u0928\u094d\u0926\u0940",hr:"Hrvatski",hu:"Magyar",hy:"\u0570\u0561\u0575\u0565\u0580\u0567\u0576",ia:"Interlingua",id:"Bahasa Indonesia",ig:"As\u1ee5s\u1ee5 Igbo",is:"\u00cdslenska",it:"Italiano",ja:"\u65e5\u672c\u8a9e",kab:"Taqbaylit",kn:"\u0c95\u0ca8\u0ccd\u0ca8\u0ca1",ko:"\ud55c\uad6d\uc5b4",lt:"Lietuvi\u0173",lv:"Latvie\u0161u",ms:"Bahasa Melayu",my:"\u1019\u103c\u1014\u103a\u1019\u102c\u1005\u102c",
nb:"Norsk (bokm\u00e5l)",nl:"Nederlands, Vlaams",pl:"Polski",pms:"Piemont\u00e8is",pt:"Portugu\u00eas","pt-br":"Portugu\u00eas Brasileiro",ro:"Rom\u00e2n\u0103",ru:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",sc:"Sardu",sk:"Sloven\u010dina",sl:"Sloven\u0161\u010dina",sq:"Shqip",sr:"\u0421\u0440\u043f\u0441\u043a\u0438","sr-latn":"Srpski",sv:"Svenska",th:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",ti:"\u1275\u130d\u122d\u129b",tr:"T\u00fcrk\u00e7e",uk:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",
ur:"\u0627\u064f\u0631\u062f\u064f\u0648\u202c",vi:"Ti\u1ebfng Vi\u1ec7t",yo:"\u00c8d\u00e8 Yor\u00f9b\u00e1","zh-hans":"\u7b80\u4f53\u4e2d\u6587","zh-hant":"\u6b63\u9ad4\u4e2d\u6587"},nl=window.BlocklyGamesLang,ol=window.BlocklyGamesLanguages,pl=["ar","fa","he","ur"].includes(nl),ql=/\.html$/.test(window.location.pathname),S=document.getElementById.bind(document);
function rl(a){try{if(a.lineno||a.colno){var b=Date.now();if(!(rl.Eq+1E4>b)){rl.Eq=b;var c=new XMLHttpRequest,d="error="+encodeURIComponent(a.error&&a.error.stack||a.message+" "+a.filename+" "+a.lineno+":"+a.colno)+"&amp;url="+encodeURIComponent(window.location);c.open("POST","/errorReporter");c.setRequestHeader("Content-Type","application/x-www-form-urlencoded");c.send(d);console.log("Error reported.")}}}catch(e){console.log(a.error)}}rl.Eq=0;ql||window.addEventListener("error",rl);
var T,sl=Math,tl=sl.floor,ul=Number,vl,wl=window.location.search.match(RegExp("[?&]level=([^&]+)"));vl=wl?decodeURIComponent(wl[1].replace(/\+/g,"%20")):"NaN";var xl=tl.call(sl,ul(vl));T=isNaN(xl)?1:Math.max(1,Math.min(xl,10));
function yl(a){document.title=U("Games.name",!1)+(a&&" : ")+a;document.dir=pl?"rtl":"ltr";document.head.parentElement.setAttribute("lang",nl);if(a=S("languageMenu")){for(var b=[],c=ba(ol),d=c.next();!d.done;d=c.next())d=d.value,b.push([ml[d],d]);b.sort(function(e,f){return e[0]>f[0]?1:e[0]<f[0]?-1:0});a.options.length=0;b=ba(b);for(c=b.next();!c.done;c=b.next())d=ba(c.value),c=d.next().value,d=d.next().value,c=new Option(c,d),d===nl&&(c.selected=!0),a.options.add(c);1>=a.options.length&&(a.style.display=
"none")}for(a=1;10>=a;a++)b=S("level"+a),c=!!zl(a),b&&c&&(b.className+=" level_done");(a=document.querySelector('meta[name="viewport"]'))&&725>screen.availWidth&&a.setAttribute("content","width=725, initial-scale=.35, user-scalable=no");ql||setTimeout(Al,1)}function zl(a){var b=Bl;try{var c=window.localStorage[b+a]}catch(d){}return c}
function Cl(a,b){if(!a)throw TypeError("Element not found: "+a);"string"===typeof a&&(a=S(a));a.addEventListener("click",b,!0);a.addEventListener("touchend",function(c){c.preventDefault();b(c)},!0)}function U(a,b){a=window.BlocklyGamesMsg[a];void 0===a&&(a="[Unknown message: ${name}]");return b?Dl(a):a}function Dl(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}
function Al(){function a(c){(a.q=a.q||[]).push(arguments)}window.GoogleAnalyticsObject="GoogleAnalyticsFunction";window.GoogleAnalyticsFunction=a;a.l=1*new Date;var b=document.createElement("script");b.async=1;b.src="//www.google-analytics.com/analytics.js";document.head.appendChild(b);a("create","UA-50448074-1","auto");a("send","pageview")};function El(a,b){for(var c=0,d=0;d<b.length;d++)for(var e=b[d];e;)setTimeout(e.Af.bind(e,a),c),e=tb(e),c+=10}function Fl(a,b){if(a.Pc())Array.prototype.push.apply(b,sb(a,!1));else{a=od(a,!1);for(var c=0;c<a.length;c++)Fl(a[c],b)}}function Gl(a){var b=[];a=a.fb(!0);for(var c=0;c<a.length;c++)Fl(a[c],b);return b}function Hl(a,b){z(b);var c=a.shift();c&&(c.h?(c.o(!1,!0),setTimeout(Hl,10,a,b)):Hl(a,b));z(!1)}
Gi.register({Rb:function(){return k.UNDO},Ta:function(a){return 0<a.h.wg.length?"enabled":"disabled"},ka:function(a){ve(a.h,!1)},zc:"workspace",id:"undoWorkspace",weight:1});Gi.register({Rb:function(){return k.REDO},Ta:function(a){return 0<a.h.Wi.length?"enabled":"disabled"},ka:function(a){ve(a.h,!0)},zc:"workspace",id:"redoWorkspace",weight:2});
Gi.register({Rb:function(){return k.CLEAN_UP},Ta:function(a){return a.h.hb()?1<a.h.fb(!1).length?"enabled":"disabled":"hidden"},ka:function(a){a=a.h;a.Lb(!1);z(!0);for(var b=a.fb(!0),c=0,d=0,e;e=b[d];d++)if(e.hb()){var f=e.ea();e.moveBy(-f.x,c-f.y);Zi(e);c=e.ea().y+Wf(e).height+a.Ea.F().Lh}z(!1);a.Lb(!0)},zc:"workspace",id:"cleanWorkspace",weight:3});
Gi.register({Rb:function(){return k.COLLAPSE_ALL},Ta:function(a){if(a.h.options.collapse){a=a.h.fb(!1);for(var b=0;b<a.length;b++)for(var c=a[b];c;){if(!c.isCollapsed())return"enabled";c=tb(c)}return"disabled"}return"hidden"},ka:function(a){El(!0,a.h.fb(!0))},zc:"workspace",id:"collapseWorkspace",weight:4});
Gi.register({Rb:function(){return k.EXPAND_ALL},Ta:function(a){if(a.h.options.collapse){a=a.h.fb(!1);for(var b=0;b<a.length;b++)for(var c=a[b];c;){if(c.isCollapsed())return"enabled";c=tb(c)}return"disabled"}return"hidden"},ka:function(a){El(!1,a.h.fb(!0))},zc:"workspace",id:"expandWorkspace",weight:5});
Gi.register({Rb:function(a){if(a.h)return a=Gl(a.h).length,1==a?k.DELETE_BLOCK:k.DELETE_X_BLOCKS.replace("%1",String(a))},Ta:function(a){if(a.h)return 0<Gl(a.h).length?"enabled":"disabled"},ka:function(a){if(a.h){aj(a.h);var b=Gl(a.h),c=lb();2>b.length?Hl(b,c):ne(k.DELETE_ALL_BLOCKS.replace("%1",b.length),function(d){d&&Hl(b,c)})}},zc:"workspace",id:"workspaceDelete",weight:6});
Gi.register({Rb:function(){return k.DUPLICATE_BLOCK},Ta:function(a){a=a.block;return!a.Ja&&a.Pc()&&a.hb()?(ue(a.h)?te(a.h,rb(a,!0)):1)?"enabled":"disabled":"hidden"},ka:function(a){if(a.block){a=a.block;var b=ik,c=fl;il(a);hk(a.h);ik=b;fl=c}},zc:"block",id:"blockDuplicate",weight:1});
Gi.register({Rb:function(a){return a.block.Ic?k.REMOVE_COMMENT:k.ADD_COMMENT},Ta:function(a){a=a.block;return La||a.Ja||!a.h.options.ai||a.isCollapsed()||!a.Yb()?"hidden":"enabled"},ka:function(a){a=a.block;a.Ic?a.Bf(null):a.Bf("")},zc:"block",id:"blockComment",weight:2});
Gi.register({Rb:function(a){return Sf(a.block)?k.EXTERNAL_INPUTS:k.INLINE_INPUTS},Ta:function(a){a=a.block;if(!a.Ja&&a.hb()&&!a.isCollapsed())for(var b=1;b<a.B.length;b++)if(3!=a.B[b-1].type&&3!=a.B[b].type)return"enabled";return"hidden"},ka:function(a){a.block.Wc(!Sf(a.block))},zc:"block",id:"blockInline",weight:3});
Gi.register({Rb:function(a){return a.block.isCollapsed()?k.EXPAND_BLOCK:k.COLLAPSE_BLOCK},Ta:function(a){a=a.block;return!a.Ja&&a.hb()&&a.h.options.collapse?"enabled":"hidden"},ka:function(a){a.block.Af(!a.block.isCollapsed())},zc:"block",id:"blockCollapseExpand",weight:4});
Gi.register({Rb:function(a){return a.block.isEnabled()?k.DISABLE_BLOCK:k.ENABLE_BLOCK},Ta:function(a){a=a.block;return!a.Ja&&a.h.options.disable&&a.Yb()?ei(a)?"disabled":"enabled":"hidden"},ka:function(a){a=a.block;var b=Xb;b||z(!0);a.bc(!a.isEnabled());b||z(!1)},zc:"block",id:"blockDisable",weight:5});
Gi.register({Rb:function(a){var b=a.block;a=sb(b,!1).length;(b=tb(b))&&(a-=sb(b,!1).length);return 1==a?k.DELETE_BLOCK:k.DELETE_X_BLOCKS.replace("%1",String(a))},Ta:function(a){return!a.block.Ja&&a.block.Pc()?"enabled":"hidden"},ka:function(a){z(!0);a.block&&hl(a.block);z(!1)},zc:"block",id:"blockDelete",weight:6});
Gi.register({Rb:function(){return k.HELP},Ta:function(a){a=a.block;return("function"==typeof a.Ib?a.Ib():a.Ib)?"enabled":"hidden"},ka:function(a){a.block.showHelp()},zc:"block",id:"blockHelp",weight:7});function V(a,b){return" "+a+","+b+" "}function Il(a,b){return" "+a+b.join("")}function Jl(a,b){return" M "+a+","+b+" "}function Rf(a,b){return" m "+a+","+b+" "}function Kl(a,b){return" l "+a+","+b+" "}function K(a,b){return" "+a+" "+b+" "}function Ll(a,b,c){return"a "+b+" "+b+" "+a+c};function Ml(){this.ud=0;this.Vs=3;this.Fc=5;this.pp=8;this.Nb=10;this.vp=this.Fc;this.Uh=15;this.Og=5;this.Tj=8;this.Ms=15;this.Rl=4;this.Ls=12;this.ns=16;this.ls=this.gp=this.Uh;this.za=8;this.Zs=this.Mh=15;this.tp=0;this.up=20;this.ds=4;this.$s=this.Fc;this.bt=this.Nb;this.gs=this.Fc;this.fs=this.Nb;this.ep=!1;this.Xs=15;this.Ys=100;this.Ws=15;this.Lh=24;this.ps=14.5;this.os=this.Uh+11;this.rs=2;this.qs=this.Lh;this.sp=Rf(0,0);this.Gs=12;this.Hs=6;this.Fg=11;this.Gg="normal";this.Eg="sans-serif";
this.kp=this.Kj=-1;this.Jj=4;this.Ml=16;this.Dg=5;this.hp="#fff";this.Ol=!La&&!Ma;this.jp=this.Ml;this.ws=this.vs=this.Nl=!1;this.ys=this.Dg;this.Jh=12;this.xs="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";
this.ip=this.zs=!1;this.us=26;this.ts=this.Ml;this.ss=this.Dg-3;this.tl=String(Math.random()).substring(2);this.yk="";this.Mm=null;this.Vp="";this.ki=this.Rp=this.zm=null;this.fp="#cc0a0a";this.np="#4286f4";this.Ij=100;this.wp=5;this.Hj=10;this.js=2;this.ks=4;this.lp=!1;this.Es="#000000";this.mp=.2;this.rp={Ps:1,Lg:2}}g=Ml.prototype;
g.I=function(){this.Hg=this.Cn();this.Lg=this.Dn();this.Ng=this.Fn();this.Vl=this.En();var a=this.za;this.Mj={width:a,height:a,so:Ll("0 0,0",a,V(-a,a)),ql:Ll("0 0,0",a,V(a,a))};a=this.za;this.Sh={Wo:Rf(0,a)+Ll("0 0,1",a,V(a,-a)),Gu:Ll("0 0,1",a,V(a,a)),et:Ll("0 0,1",a,V(-a,a)),im:Ll("0 0,1",a,V(-a,-a)),uu:a}};g.ij=function(){this.Zj=Object.create(null);var a=Kc("Hg",this.Fg+"pt",this.Gg,this.Eg);this.Kj=a.height;this.kp=a.Gc};
function bj(a,b){var c="auto_"+b;a.Zj[c]||(a.Zj[c]=Nl({colourPrimary:b}));return{style:a.Zj[c],name:c}}function Yi(a,b){return a.Zj[b||""]||(b&&0==b.indexOf("auto_")?bj(a,b.substring(5)).style:Nl({colourPrimary:"#000000"}))}function Nl(a){var b={};a&&ld(b,a);a=ub(b.colourPrimary||"#000");b.Te=a.Bi;b.colourSecondary?a=ub(b.colourSecondary).Bi:(a=b.Te,a=va("#fff",a,.6)||a);b.gk=a;b.colourTertiary?a=ub(b.colourTertiary).Bi:(a=b.Te,a=va("#fff",a,.3)||a);b.Zd=a;b.Ed=b.hat||"";return b}
g.o=function(){this.Mm&&D(this.Mm);this.zm&&D(this.zm);this.Rp&&D(this.Rp);this.ki=null};g.Cn=function(){var a=this.Gs,b=this.Hs;return{height:a,width:b,path:" l"+[V(b,a/4),V(2*-b,a/2),V(b,a/4)].join("")}};g.Fn=function(){var a=this.Xs,b=this.Ys;return{height:a,width:b,path:Il("c",[V(30,-a),V(70,-a),V(b,0)])}};
g.En=function(){function a(f){f=f?-1:1;var h=-f,l=c/2;return Il("c",[V(0,f*(l+2.5)),V(-b,h*(l+.5)),V(-b,f*l)])+Il("s",[V(b,2.5*h),V(b,f*l)])}var b=this.Tj,c=this.Uh,d=a(!0),e=a(!1);return{type:this.rp.Ps,width:b,height:c,Sc:e,Si:d}};g.Dn=function(){function a(h){return" l"+[V(h*d,c),V(3*h,0),V(h*d,-c)].join("")}var b=this.Ms,c=this.Rl,d=(b-3)/2,e=a(1),f=a(-1);return{type:this.rp.Lg,width:b,height:c,tf:e,kr:f}};
function Qf(a,b){switch(b.type){case 1:case 2:return a.Vl;case 4:case 3:return a.Lg;default:throw Error("Unknown connection type");}}
g.Ba=function(a,b,c){c=this.Wm(c);b="blockly-renderer-style-"+b;this.ki=document.getElementById(b);c=c.join("\n");if(this.ki)this.ki.firstChild.textContent=c;else{var d=document.createElement("style");d.id=b;d.appendChild(document.createTextNode(c));document.head.insertBefore(d,document.head.firstChild);this.ki=d}a=B(jc,{},a);b=B(oc,{id:"blocklyEmbossFilter"+this.tl},a);B(lc,{"in":"SourceAlpha",stdDeviation:1,result:"blur"},b);c=B(nc,{"in":"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,
"lighting-color":"white",result:"specOut"},b);B(mc,{x:-5E3,y:-1E4,z:2E4},c);B(kc,{"in":"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},b);B(kc,{"in":"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},b);this.yk=b.id;this.Mm=b;a=B(uc,{id:"blocklyDisabledPattern"+this.tl,patternUnits:"userSpaceOnUse",width:10,height:10},a);B(wc,{width:10,height:10,fill:"#aaa"},a);B(tc,{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},a);this.Vp=a.id;this.zm=a};
g.Wm=function(a){return[a+" .blocklyText, ",a+" .blocklyFlyoutLabelText {","font: "+this.Gg+" "+this.Fg+"pt "+this.Eg+";","}",a+" .blocklyText {","fill: #fff;","}",a+" .blocklyNonEditableText>rect,",a+" .blocklyEditableText>rect {","fill: "+this.hp+";","fill-opacity: .6;","stroke: none;","}",a+" .blocklyNonEditableText>text,",a+" .blocklyEditableText>text {","fill: #000;","}",a+" .blocklyFlyoutLabelText {","fill: #000;","}",a+" .blocklyText.blocklyBubbleText {","fill: #000;","}",a+" .blocklyEditableText:not(.editing):hover>rect {",
"stroke: #fff;","stroke-width: 2;","}",a+" .blocklyHtmlInput {","font-family: "+this.Eg+";","font-weight: "+this.Gg+";","}",a+" .blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",a+" .blocklyHighlightedConnectionPath {","stroke: #fc3;","}",a+" .blocklyReplaceable .blocklyPath {","fill-opacity: .5;","}",a+" .blocklyReplaceable .blocklyPathLight,",a+" .blocklyReplaceable .blocklyPathDark {","display: none;","}",a+" .blocklyInsertionMarker>.blocklyPath {","fill-opacity: "+this.mp+
";","stroke: none;","}"]};function Ol(a){this.Sg=this.Y=this.type=this.height=this.width=0;this.i=a;this.Rc=this.i.Mh};function Pl(a,b){Pl.j.constructor.call(this,a);this.Pb=b;this.shape=Qf(this.i,b);this.cg=!!this.shape.isDynamic;this.type|=1024}F(Pl,Ol);function Ql(a,b){Ql.j.constructor.call(this,a,b);this.type|=8192;this.height=this.cg?0:this.shape.height;this.Xc=this.width=this.cg?0:this.shape.width;this.rc=this.i.Og;this.ci=0}F(Ql,Pl);function Rl(a,b){Rl.j.constructor.call(this,a,b);this.type|=2048;this.height=this.shape.height;this.width=this.shape.width}F(Rl,Pl);
function Sl(a,b){Sl.j.constructor.call(this,a,b);this.type|=4096;this.height=this.shape.height;this.width=this.shape.width}F(Sl,Pl);function Tl(a,b){Tl.j.constructor.call(this,a,b.connection);this.type|=128;this.input=b;this.align=b.align;(this.We=b.connection&&b.connection.H()?b.connection.H():null)?(a=Wf(this.We),this.bi=a.width,this.jk=a.height):this.jk=this.bi=0;this.rc=this.ci=0}F(Tl,Pl);
function Ul(a,b){Ul.j.constructor.call(this,a,b);this.type|=256;this.We?(this.width=this.bi,this.height=this.jk):(this.height=this.i.os,this.width=this.i.ps);this.Ug=this.cg?this.shape.height(this.height):this.shape.height;this.yd=this.cg?this.shape.width(this.height):this.shape.width;this.We||(this.width+=this.yd*(this.cg?2:1));this.rc=this.cg?this.shape.rc(this.Ug):this.i.Og;this.ci=this.cg?this.shape.ci(this.yd):0}F(Ul,Tl);
function Vl(a,b){Vl.j.constructor.call(this,a,b);this.type|=512;this.height=this.We?this.jk+this.i.tp:this.i.qs;this.width=this.i.Zs+this.shape.width}F(Vl,Tl);function Wl(a,b){Wl.j.constructor.call(this,a,b);this.type|=64;this.height=this.We?this.jk-this.i.Og-this.i.Fc:this.shape.height;this.width=this.shape.width+this.i.rs;this.rc=this.i.Og;this.Ug=this.shape.height;this.yd=this.shape.width}F(Wl,Tl);function Xl(a,b){Xl.j.constructor.call(this,a);this.icon=b;this.isVisible=b.isVisible();this.type|=4;a=new Ha(Te.prototype.Rj,Te.prototype.Rj-2);this.height=a.height;this.width=a.width}F(Xl,Ol);function Yl(a){Yl.j.constructor.call(this,a);this.type|=524288;this.height=this.i.Hg.height;this.width=this.i.Hg.width}F(Yl,Ol);function Zl(a,b){Zl.j.constructor.call(this,a);this.$p=b;this.Yb=b.Ih;this.vt=b.fq();this.type|=1;a=this.$p.getSize();this.height=a.height;this.width=a.width}F(Zl,Ol);
function $l(a){$l.j.constructor.call(this,a);this.type|=2;this.height=this.i.Ng.height;this.width=this.i.Ng.width;this.Qg=this.height}F($l,Ol);function am(a,b){am.j.constructor.call(this,a);this.type=(b&&"left"!=b?131072:32768)|16384;this.width=this.height=this.i.ud}F(am,Ol);function bm(a,b){bm.j.constructor.call(this,a);this.type=(b&&"left"!=b?262144:65536)|16384;this.width=this.i.za;this.height=this.i.za/2}F(bm,Ol);
function cm(a,b){cm.j.constructor.call(this,a);this.type|=40;this.width=b;this.height=this.i.Ws}F(cm,Ol);function dm(a){this.type=1048576;this.elements=[];this.Y=this.pb=this.rd=this.minWidth=this.minHeight=this.width=this.height=0;this.lq=this.gh=this.gn=this.gb=this.af=!1;this.i=a;this.Rc=this.i.Mh;this.align=null}dm.prototype.measure=function(){throw Error("Unexpected attempt to measure a base Row.");};function em(a){for(var b=a.elements.length-1,c;c=a.elements[b];b--)if(c.type&128)return c;return null}dm.prototype.Gl=function(){return!0};dm.prototype.pi=function(){return!0};
function fm(a){fm.j.constructor.call(this,a);this.type|=2097152;this.Qg=this.Wd=0;this.Jt=!1;this.connection=null}F(fm,dm);fm.prototype.hn=function(a){var b=(a.Ed?"cap"===a.Ed:this.i.ep)&&!a.v&&!a.G,c=a.G&&a.G.H();return!!a.v||b||(c?tb(c)==a:!1)};
fm.prototype.measure=function(){for(var a=0,b=0,c=0,d=0,e;e=this.elements[d];d++)b+=e.width,e.type&8||(e.type&2?c=Math.max(c,e.Qg):a=Math.max(a,e.height));this.width=Math.max(this.minWidth,b);this.height=Math.max(this.minHeight,a)+c;this.Wd=this.Qg=c;this.rd=this.width};fm.prototype.Gl=function(){return!1};fm.prototype.pi=function(){return!1};function gm(a){gm.j.constructor.call(this,a);this.type|=4194304;this.mq=!1;this.connection=null;this.Gc=this.mi=0}F(gm,dm);
gm.prototype.hn=function(a){return!!a.v||!!tb(a)};gm.prototype.measure=function(){for(var a=0,b=0,c=0,d=0,e;e=this.elements[d];d++)b+=e.width,e.type&8||(e.type&4096?c=Math.max(c,e.height):a=Math.max(a,e.height));this.width=Math.max(this.minWidth,b);this.height=Math.max(this.minHeight,a)+c;this.mi=c;this.rd=this.width};gm.prototype.Gl=function(){return!1};gm.prototype.pi=function(){return!1};
function hm(a,b,c){hm.j.constructor.call(this,a);this.type|=24;this.width=c;this.height=b;this.cq=!1;this.rd=0;this.elements=[new cm(this.i,c)]}F(hm,dm);hm.prototype.measure=function(){};function im(a){im.j.constructor.call(this,a);this.type|=8388608;this.Mp=0}F(im,dm);
im.prototype.measure=function(){this.width=this.minWidth;this.height=this.minHeight;for(var a=0,b=0,c;c=this.elements[b];b++)this.width+=c.width,c.type&128&&(c.type&512?a+=c.bi:c.type&64&&0!=c.bi&&(a+=c.bi-c.yd)),c.type&8||(this.height=Math.max(this.height,c.height));this.Mp=a;this.rd=this.width+a};im.prototype.pi=function(){return!this.af&&!this.gb};function jm(a,b){this.A=b;this.Ea=a;this.i=this.Ea.F();this.v=b.v?new Ql(this.i,b.v):null;this.ih=Sf(b)&&!b.isCollapsed();this.isCollapsed=b.isCollapsed();this.Jb=b.Jb();this.s=b.s;this.Ef=this.width=this.Fh=this.height=0;this.rows=[];this.vq=[];this.pq=[];this.kb=new fm(this.i);this.Ia=new gm(this.i);this.Fl=this.Xc=0}g=jm.prototype;
g.measure=function(){var a=!!this.A.G,b=(this.A.Ed?"cap"===this.A.Ed:this.i.ep)&&!this.v&&!a,c=this.kb.hn(this.A)?am:bm;this.kb.elements.push(new c(this.i));b?(a=new $l(this.i),this.kb.elements.push(a),this.kb.Wd=a.Qg):a&&(this.kb.Jt=!0,this.kb.connection=new Rl(this.i,this.A.G),this.kb.elements.push(this.kb.connection));this.A.B.length&&3==this.A.B[0].type&&!this.A.isCollapsed()?this.kb.minHeight=this.i.bt:this.kb.minHeight=this.i.$s;c=am;this.kb.elements.push(new c(this.i,"right"));this.rows.push(this.kb);
a=new im(this.i);this.vq.push(a);c=Uf(this.A);b=0;for(var d;d=c[b];b++){var e=new Xl(this.i,d);this.isCollapsed&&d.Lp?this.pq.push(e):a.elements.push(e)}d=null;for(b=0;c=this.A.B[b];b++)if(c.isVisible()){!d||3!=c.type&&3!=d.type&&(1!=c.type&&5!=c.type||this.ih)||(this.rows.push(a),a=new im(this.i),this.vq.push(a));for(d=0;e=c.$[d];d++)a.elements.push(new Zl(this.i,e,c));this.Ap(c,a);d=c}this.isCollapsed&&(a.lq=!0,a.elements.push(new Yl(this.i)));(a.elements.length||a.gh)&&this.rows.push(a);this.vo();
this.rows.push(this.Ia);this.zp();a=this.rows;this.rows=[];for(b=0;b<a.length;b++)if(this.rows.push(a[b]),b!=a.length-1){c=this.rows;d=c.push;e=a[b];var f=a[b+1],h=new hm(this.i,this.gq(e,f),this.width-this.Xc);e.gb&&(h.cq=!0);f.gb&&(h.yv=!0);d.call(c,h)}for(d=c=b=a=0;e=this.rows[d];d++)e.measure(),b=Math.max(b,e.width),e.gb&&(a=Math.max(a,e.width-em(e).width)),c=Math.max(c,e.rd);this.Ef=a;this.width=b;for(d=0;e=this.rows[d];d++)e.gb&&(e.Ef=this.Ef);this.Fh=Math.max(b,c);this.v&&(this.Xc=this.v.width,
this.width+=this.v.width,this.Fh+=this.v.width);this.$l();this.aq()};g.vo=function(){this.Ia.mq=!!this.A.C;this.Ia.minHeight=this.A.B.length&&3==this.A.B[this.A.B.length-1].type?this.i.fs:this.i.gs;this.Ia.hn(this.A)?this.Ia.elements.push(new am(this.i)):this.Ia.elements.push(new bm(this.i));this.Ia.mq&&(this.Ia.connection=new Sl(this.i,this.A.C),this.Ia.elements.push(this.Ia.connection));this.Ia.elements.push(new am(this.i,"right"))};
g.Ap=function(a,b){this.ih&&1==a.type?(b.elements.push(new Ul(this.i,a)),b.gn=!0):3==a.type?(b.elements.push(new Vl(this.i,a)),b.gb=!0):1==a.type?(b.elements.push(new Wl(this.i,a)),b.af=!0):5==a.type&&(b.minHeight=Math.max(b.minHeight,a.D()&&a.D().W?this.i.ls:this.i.gp),b.gh=!0);null==b.align&&(b.align=a.align)};
g.zp=function(){for(var a=0,b;b=this.rows[a];a++){var c=b.elements;b.elements=[];b.Gl()&&b.elements.push(new cm(this.i,this.Uf(null,c[0])));if(c.length){for(var d=0;d<c.length-1;d++)b.elements.push(c[d]),b.elements.push(new cm(this.i,this.Uf(c[d],c[d+1])));b.elements.push(c[c.length-1]);b.pi()&&b.elements.push(new cm(this.i,this.Uf(c[c.length-1],null)))}}};
g.Uf=function(a,b){if(!a&&b&&b.type&512)return this.i.up;if(a&&a.type&128&&!b){if(a.type&64)return this.i.ud;if(a.type&256)return this.i.Nb;if(a.type&512)return this.i.ud}return a&&a.type&32768&&b&&(b.type&2048||b.type&4096)?b.Rc:a&&a.type&65536&&b&&(b.type&2048||b.type&4096)?b.Rc-this.i.za:this.i.Fc};g.$l=function(){for(var a=0,b;b=this.rows[a];a++)if(b.gb)km(this,b);else{var c=this.xi(b)-b.width;0<c&&lm(b,c);b.type&6291456&&(b.rd=b.width)}};g.xi=function(){return this.width-this.Xc};
function lm(a,b){a:{var c=0;for(var d;d=a.elements[c];c++)if(d.type&8){c=d;break a}c=null}a:{d=a.elements.length-1;for(var e;e=a.elements[d];d--)if(e.type&8){d=e;break a}d=null}if(a.af||a.gb)a.rd+=b;-1==a.align?d.width+=b:0==a.align?(c.width+=b/2,d.width+=b/2):1==a.align?c.width+=b:d.width+=b;a.width+=b}function km(a,b){var c=em(b),d=b.width-c.width,e=a.Ef;d=e-d;0<d&&lm(b,d);d=b.width;e=a.xi(b);c.width+=e-d;c.height=Math.max(c.height,b.height);b.width+=e-d;b.rd=Math.max(b.width,a.Ef+b.Mp)}g.gq=function(){return this.i.Fc};
g.eq=function(a,b){return b.type&8?a.pb+b.height/2:a.type&4194304?(a=a.pb+a.height-a.mi,b.type&4096?a+b.height/2:a-b.height/2):a.type&2097152?b.type&2?a.Wd-b.height/2:a.Wd+b.height/2:a.pb+a.height/2};function mm(a,b){for(var c=b.Y,d=0,e;e=b.elements[d];d++)e.type&8&&(e.height=b.height),e.Y=c,e.Sg=a.eq(b,e),c+=e.width}
g.aq=function(){for(var a=0,b=0,c=0,d;d=this.rows[c];c++)d.pb=b,d.Y=this.Xc,b+=d.height,a=Math.max(a,d.rd),mm(this,d);this.v&&this.A.C&&this.A.C.isConnected()&&(a=Math.max(a,Wf(this.A.C.H()).width));this.Fh=a+this.Xc;this.height=b;this.Fl=this.kb.Wd;this.Ia.Gc=b-this.Ia.mi};function nm(a,b){this.A=a;this.O=b;a.ea();this.Kk=this.aa="";this.i=b.Ea.F()}g=nm.prototype;g.dd=function(){om(this);pm(this);qm(this);this.A.pa.Jo(this.aa+"\n"+this.Kk);this.O.s&&this.A.pa.Rm();rm(this)};function rm(a){a.A.height=a.O.height;a.A.width=a.O.Fh}function om(a){for(var b=0,c;c=a.O.pq[b];b++)c.icon.Wb.setAttribute("display","none")}function pm(a){a.Im();for(var b=1;b<a.O.rows.length-1;b++){var c=a.O.rows[b];c.lq?a.ni(c):c.gb?a.Hm(c):c.af?a.Jm(c):a.Yp(c)}a.Dm();a.Gm()}
g.Im=function(){var a=this.O.kb,b=a.elements,c=this.O.kb;if(c.connection){var d=c.Y+c.Rc;Pi(c.connection.Pb,this.O.s?-d:d,0)}this.aa+=Rf(a.Y,this.O.Fl);for(c=0;d=b[c];c++)d.type&65536?this.aa+=this.i.Sh.Wo:d.type&262144?this.aa+=this.i.Sh.Gu:d.type&2048?this.aa+=d.shape.tf:d.type&2?this.aa+=this.i.Ng.path:d.type&8&&(this.aa+=K("h",d.width));this.aa+=K("v",a.height)};g.ni=function(a){this.aa+=this.i.Hg.path+K("v",a.height-this.i.Hg.height)};
g.Jm=function(a){var b=em(a);this.nr(a);var c="function"==typeof b.shape.Sc?b.shape.Sc(b.height):b.shape.Sc;this.aa+=K("H",b.Y+b.width)+c+K("v",a.height-b.Ug)};g.Hm=function(a){var b=em(a);this.aa+=K("H",b.Y+b.Rc+b.shape.width)+(b.shape.kr+K("h",-(b.Rc-this.i.Mj.width))+this.i.Mj.so)+K("v",a.height-2*this.i.Mj.height)+this.i.Mj.ql+K("H",a.Y+a.width);this.rr(a)};g.Yp=function(a){this.aa+=K("V",a.pb+a.height)};
g.Dm=function(){var a=this.O.Ia,b=a.elements;this.qr();for(var c=0,d="",e=b.length-1,f;f=b[e];e--)f.type&4096?d+=f.shape.kr:f.type&32768?d+=K("H",a.Y):f.type&65536?d+=this.i.Sh.im:f.type&262144?(d+=this.i.Sh.et,c=this.i.Sh.uu):f.type&8&&(d+=K("h",-1*f.width));this.aa+=K("V",a.Gc-c);this.aa+=d};
g.Gm=function(){var a=this.O.v;if(this.O.v){var b=this.O.Xc+this.O.v.ci;Pi(this.A.v,this.O.s?-b:b,this.O.v.rc)}a&&(b=a.rc+a.height,a="function"==typeof a.shape.Si?a.shape.Si(a.height):a.shape.Si,this.aa+=K("V",b)+a);this.aa+="z"};
function qm(a){for(var b=0,c;c=a.O.rows[b];b++)for(var d=0,e;e=c.elements[d];d++)if(e.type&256)a.Fm(e);else if(e.type&4||e.type&1){var f=a;if(e.type&1)var h=e.$p.R();else e.type&4&&(h=e.icon.Wb);var l=e.Sg-e.height/2,m=e.Y,p="";f.O.s&&(m=-(m+e.width),e.vt&&(m+=e.width,p="scale(-1 1)"));e.type&4?(h.setAttribute("display","block"),h.setAttribute("transform","translate("+m+","+l+")"),Ve(e.icon)):h.setAttribute("transform","translate("+m+","+l+")"+p);f.O.Jb&&h.setAttribute("display","none")}}
g.Fm=function(a){var b=a.height,c=a.rc;this.Kk+=Jl(a.Y+a.yd,a.Sg-b/2)+K("v",c)+a.shape.Sc+K("v",b-(a.Ug+c))+K("h",a.width-a.yd)+K("v",-b)+"z";this.pr(a)};g.pr=function(a){var b=a.Sg-a.height/2;if(a.Pb){var c=a.Y+a.yd+a.ci;this.O.s&&(c*=-1);Pi(a.Pb,c,b+a.rc)}};g.rr=function(a){var b=em(a);if(b.Pb){var c=a.Y+a.Ef+b.Rc;this.O.s&&(c*=-1);Pi(b.Pb,c,a.pb)}};g.nr=function(a){var b=em(a);if(b.Pb){var c=a.Y+a.width;this.O.s&&(c*=-1);Pi(b.Pb,c,a.pb)}};
g.qr=function(){var a=this.O.Ia;if(a.connection){var b=a.connection,c=b.Y;Pi(b.Pb,this.O.s?-c:c,a.Gc)}};function sm(a,b,c,d){var e=a?a.h.id:void 0;d&&"workspace"==d.getType()&&(e=d.U.id);sm.j.constructor.call(this,e);this.ga=a?a.id:null;this.Yq=c;this.Sq=d;this.Hd=b}F(sm,Qe);sm.prototype.type="marker_move";sm.prototype.S=function(){var a=sm.j.S.call(this);a.isCursor=this.Hd;a.blockId=this.ga;a.oldNode=this.Yq;a.newNode=this.Sq;return a};sm.prototype.N=function(a){sm.j.N.call(this,a);this.Hd=a.isCursor;this.ga=a.blockId;this.Yq=a.oldNode;this.Sq=a.newNode};v(Mb,"marker_move",sm);function ck(a,b,c){this.g=a;this.Hn=c;this.ze=null;this.i=b;this.Wg=null;a=this.Hd()?this.i.fp:this.i.np;this.wb=c.fk||a}g=ck.prototype;g.R=function(){return this.u};g.yi=function(){return this.Hn};g.Hd=function(){return"cursor"==this.Hn.type};
g.Ba=function(){var a=this.Hd()?"blocklyCursor":"blocklyMarker";this.u=B(qc,{"class":a},null);this.ve=B(qc,{width:this.i.Ij,height:this.i.wp},this.u);this.lf=B(wc,{width:this.i.Ij,height:this.i.wp},this.ve);this.gg=B(wc,{"class":"blocklyVerticalMarker",rx:10,ry:10},this.ve);this.fg=B(tc,{transform:""},this.ve);this.ue=B(tc,{transform:"",fill:"none","stroke-width":this.i.ks},this.ve);this.qb();this.Hd()&&(a={attributeType:"XML",attributeName:"fill",dur:"1s",values:this.wb+";transparent;transparent;",
repeatCount:"indefinite"},B(gc,a,this.lf),B(gc,a,this.fg),a.attributeName="stroke",B(gc,a,this.ue));return this.u};function tm(a,b){a.Hd()?(a.ze&&a.ze.Ee(null),b.Ee(a.R())):(a.ze&&a.ze.Df(null),b.Df(a.R()));a.ze=b}
g.dd=function(a,b){if(b){this.i=this.g.Ea.F();var c=this.Hd()?this.i.fp:this.i.np;this.wb=this.Hn.fk||c;this.lf.setAttribute("fill",this.wb);this.gg.setAttribute("stroke",this.wb);this.fg.setAttribute("fill",this.wb);this.ue.setAttribute("stroke",this.wb);this.Hd()&&(c=this.wb+";transparent;transparent;",this.lf.firstChild.setAttribute("values",c),this.fg.firstChild.setAttribute("values",c),this.ue.firstChild.setAttribute("values",c));c=b.U.type;if("block"==b.getType())um(this,b);else if("output"==
b.getType())um(this,b);else if(1==c){var d=b.U;c=d.D();var e=d.kg.x,f=d.kg.y;d=Jl(0,0)+Qf(this.i,d).Sc;this.fg.setAttribute("d",d);this.fg.setAttribute("transform","translate("+e+","+f+")"+(this.g.s?" scale(-1 1)":""));this.Wg=this.fg;tm(this,c);vm(this)}else if(3==c)f=b.U,c=f.D(),e=0,f=f.kg.y,d=Wf(c).width,this.g.s&&(e=-d),wm(this,e,f,d),tm(this,c),vm(this);else if("previous"==b.getType())um(this,b);else if("field"==b.getType())c=b.U,e=c.getSize().width,f=c.getSize().height,xm(this,0,0,e,f),tm(this,
c),vm(this);else if("workspace"==b.getType())e=b.Yr,c=e.x,e=e.y,this.g.s&&(c-=this.i.Ij),wm(this,c,e,this.i.Ij),tm(this,this.g),vm(this);else if("stack"==b.getType()){c=b.U;f=Wf(c);e=f.width+this.i.Hj;f=f.height+this.i.Hj;var h=d=-this.i.Hj/2,l=-this.i.Hj/2;this.g.s&&(h=-(e+d));xm(this,h,l,e,f);tm(this,c);vm(this)}c=b.D();a=new (A("marker_move"))(c,this.Hd(),a,b);x(a);a=this.Wg.childNodes[0];void 0!==a&&a.beginElement&&a.beginElement()}else this.qb()};
function um(a,b){b=b.D();var c=b.width,d=b.height,e=.75*d,f=a.i.js;if(b.G){var h=Qf(a.i,b.G);a.ue.setAttribute("d",Rf(-f,e)+K("V",-f)+K("H",a.i.Mh)+h.tf+K("H",c+2*f)+K("V",e))}else b.v?(h=Qf(a.i,b.v),a.ue.setAttribute("d",Rf(c,0)+K("h",-(c-h.width))+K("v",a.i.Og)+h.Sc+K("V",d)+K("H",c))):a.ue.setAttribute("d",Rf(-f,e)+K("V",-f)+K("H",c+2*f)+K("V",e));a.g.s&&a.ui(a.ue);a.Wg=a.ue;tm(a,b);vm(a)}function vm(a){a.qb();a.Wg.style.display=""}
function wm(a,b,c,d){a.lf.setAttribute("x",b);a.lf.setAttribute("y",c);a.lf.setAttribute("width",d);a.Wg=a.lf}function xm(a,b,c,d,e){a.gg.setAttribute("x",b);a.gg.setAttribute("y",c);a.gg.setAttribute("width",d);a.gg.setAttribute("height",e);a.Wg=a.gg}g.ui=function(a){a.setAttribute("transform","scale(-1 1)")};g.qb=function(){this.lf.style.display="none";this.gg.style.display="none";this.fg.style.display="none";this.ue.style.display="none"};g.o=function(){this.u&&D(this.u)};function ym(a,b,c){this.di=c;this.Ud=a;this.ua=B(tc,{"class":"blocklyPath"},this.Ud);this.style=b;this.Gn=this.li=null}g=ym.prototype;g.Jo=function(a){this.ua.setAttribute("d",a)};g.Rm=function(){this.ua.setAttribute("transform","scale(-1 1)")};g.Ee=function(a){a?(this.Ud.appendChild(a),this.li=a):this.li=null};g.Df=function(a){a?(this.li?this.Ud.insertBefore(a,this.li):this.Ud.appendChild(a),this.Gn=a):this.Gn=null};
g.Ka=function(a){this.ua.setAttribute("stroke",this.style.Zd);this.ua.setAttribute("fill",this.style.Te);this.Rr(a.W);this.Xo(!a.isEnabled()||ei(a))};g.Fe=function(a){this.style=a};function Pf(a,b,c){c?C(a.Ud,b):Dc(a.Ud,b)}g.Qr=function(a){a?this.ua.setAttribute("filter","url(#"+this.di.yk+")"):this.ua.setAttribute("filter","none")};g.Rr=function(a){a&&(this.ua.setAttribute("stroke","none"),this.ua.setAttribute("fill",this.style.gk))};
g.Xo=function(a){Pf(this,"blocklyDisabled",a);a&&this.ua.setAttribute("fill","url(#"+this.di.Vp+")")};function zm(a){this.name=a;this.no=this.i=null}g=zm.prototype;g.fd=function(){return this.name+"-renderer"};g.I=function(a,b){this.i=this.Bn();b&&(this.no=b,ld(this.i,b));this.i.ij(a);this.i.I()};g.Ba=function(a,b){this.i.Ba(a,this.name+"-"+b.name,"."+this.fd()+"."+b.fd())};g.Bo=function(a,b){var c=this.F();c.o();this.i=this.Bn();this.no&&ld(this.i,this.no);this.i.tl=c.tl;this.i.ij(b);this.i.I();this.Ba(a,b)};g.o=function(){this.i&&this.i.o()};g.Bn=function(){return new Ml};
g.Lq=function(a){return new jm(this,a)};g.Jq=function(a,b){return new nm(a,b)};g.Kq=function(a,b){return new ym(a,b,this.i)};g.F=function(){return this.i};g.P=function(a){var b=this.Lq(a);b.measure();this.Jq(a,b).dd()};function Am(){Am.j.constructor.call(this);this.Ol=!1;this.tb=1;this.Ks=30;this.tp=-this.Rl/2}F(Am,Ml);Am.prototype.Wm=function(a){return Am.j.Wm.call(this,a).concat([a+" .blocklyInsertionMarker>.blocklyPathLight,",a+" .blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: "+this.mp+";","stroke: none;","}"])};function Bm(a){this.O=a;this.Ei=this.M="";this.ub=this.O.s;a=a.Ea;this.i=a.F();this.xc=a.xc;this.hc=this.xc.OFFSET;this.mo=this.xc.Os;this.hh=this.xc.Fs;this.Vi=this.xc.Vl;this.Ut=this.xc.Lg;this.Bu=this.xc.Ng;this.Bq=this.xc.Hg}Bm.prototype.ni=function(a){this.O.s&&(this.M+=this.Bq.tf+K("v",a.height-this.Bq.height-this.hc))};function Cm(a,b){var c=b.Y+b.width-a.hc;b.cq&&(a.M+=K("H",c));a.ub&&(a.M+=K("H",c),b.height>a.hc&&(a.M+=K("V",b.pb+b.height-a.hc)))};function Dm(a,b){Dm.j.constructor.call(this,a,b);this.We&&(this.width+=this.i.tb,this.height+=this.i.tb)}F(Dm,Ul);function Em(a,b){Em.j.constructor.call(this,a,b);this.We&&(this.height+=this.i.tb)}F(Em,Vl);function Fm(a,b){Fm.j.constructor.call(this,a,b)}F(Fm,jm);g=Fm.prototype;g.vo=function(){Fm.j.vo.call(this);this.A.B.length&&3==this.A.B[this.A.B.length-1].type||(this.Ia.minHeight=this.i.Fc-this.i.tb)};g.Ap=function(a,b){this.ih&&1==a.type?(b.elements.push(new Dm(this.i,a)),b.gn=!0):3==a.type?(b.elements.push(new Em(this.i,a)),b.gb=!0):1==a.type?(b.elements.push(new Wl(this.i,a)),b.af=!0):5==a.type&&(b.minHeight=Math.max(b.minHeight,this.i.gp),b.gh=!0);this.ih||null!=b.align||(b.align=a.align)};
g.zp=function(){for(var a=!1,b=0,c;c=this.rows[b];b++)c.af&&(a=!0);for(b=0;c=this.rows[b];b++){var d=c.elements;c.elements=[];c.Gl()&&c.elements.push(new cm(this.i,this.Uf(null,d[0])));if(d.length){for(var e=0;e<d.length-1;e++){c.elements.push(d[e]);var f=this.Uf(d[e],d[e+1]);c.elements.push(new cm(this.i,f))}c.elements.push(d[d.length-1]);c.pi()&&(f=this.Uf(d[d.length-1],null),a&&c.gh&&(f+=this.i.Tj),c.elements.push(new cm(this.i,f)))}}};
g.Uf=function(a,b){if(!a)return b&&b.type&1&&b.Yb?this.i.Fc:b&&b.type&256?this.i.pp:b&&b.type&512?this.i.up:this.i.Nb;if(!(a.type&128)&&(!b||b.type&512))return a.type&1&&a.Yb?this.i.Fc:a.type&4?2*this.i.Nb+1:a.type&2?this.i.ud:a.type&6144?this.i.Nb:a.type&65536?this.i.Ls:a.type&524288?this.i.ud:this.i.Nb;if(a.type&128&&!b){if(a.type&64)return this.i.ud;if(a.type&256)return this.i.Nb;if(a.type&512)return this.i.ud}if(!(a.type&128)&&b&&b.type&128){if(a.type&1&&a.Yb){if(b.type&256||b.type&64)return this.i.Vs}else{if(b.type&
256||b.type&64)return this.i.pp;if(b.type&512)return this.i.Nb}return this.i.Nb-1}if(a.type&4&&b&&!(b.type&128))return this.i.Nb;if(a.type&256&&b&&b.type&1)return b.Yb?this.i.Fc:this.i.Nb;if(a.type&32768&&b){if(b.type&2)return this.i.ud;if(b.type&2048)return b.Rc;if(b.type&4096)return a=(this.s?1:-1)*this.i.tb/2,b.Rc+a}if(a.type&65536&&b){if(b.type&2048)return b.Rc-this.i.za;if(b.type&4096)return a=(this.s?1:-1)*this.i.tb/2,b.Rc-this.i.za+a}return a.type&1&&b&&b.type&1&&a.Yb==b.Yb||b&&b.type&524288?
this.i.Nb:this.i.Fc};g.gq=function(a,b){return a.type&2097152&&b.type&4194304?this.i.ns:a.type&2097152||b.type&4194304?this.i.ud:a.af&&b.af?this.i.Nb:!a.gb&&b.gb?this.i.ds:a.gb&&b.gb||!a.gb&&b.gh||a.gh?this.i.Nb:this.i.Fc};
g.eq=function(a,b){if(b.type&8)return a.pb+b.height/2;if(a.type&4194304)return a=a.pb+a.height-a.mi,b.type&4096?a+b.height/2:a-b.height/2;if(a.type&2097152)return b.type&2?a.Wd-b.height/2:a.Wd+b.height/2;var c=a.pb;b.type&1||b.type&4?(c+=b.height/2,(a.gn||a.gb)&&b.height+this.i.vp<=a.height&&(c+=this.i.vp)):c=b.type&256?c+b.height/2:c+a.height/2;return c};
g.$l=function(){if(this.ih){for(var a=0,b=null,c=this.rows.length-1,d;d=this.rows[c];c--)d.Pn=a,d.type&8388608&&(d.gb&&km(this,d),b&&b.gb&&d.width<b.width?d.Pn=b.width:a=d.width,b=d);for(c=a=0;d=this.rows[c];c++)d.gb?a=this.xi(d):d.type&8?d.width=Math.max(a,d.Pn):(a=Math.max(a,d.Pn)-d.width,0<a&&lm(d,a),a=d.width)}else Fm.j.$l.call(this)};g.xi=function(a){return this.ih&&a.gb?this.Ef+this.i.Ks+this.Xc:Fm.j.xi.call(this,a)};
g.aq=function(){for(var a=0,b=0,c=0,d;d=this.rows[c];c++){d.pb=b;d.Y=this.Xc;b+=d.height;a=Math.max(a,d.rd);var e=b-this.kb.Qg;d==this.Ia&&e<this.i.Lh&&(e=this.i.Lh-e,this.Ia.height+=e,b+=e);mm(this,d)}this.v&&this.A.C&&this.A.C.isConnected()&&(a=Math.max(a,Wf(this.A.C.H()).width-this.i.tb));this.Ia.Gc=b-this.Ia.mi;this.Fh=a+this.Xc+this.i.tb;this.width+=this.i.tb;this.height=b+this.i.tb;this.Fl=this.kb.Wd};function Gm(a,b){Gm.j.constructor.call(this,a,b);this.Fd=new Bm(b)}F(Gm,nm);g=Gm.prototype;g.dd=function(){om(this);pm(this);qm(this);var a=this.A.pa;a.Jo(this.aa+"\n"+this.Kk);var b=this.Fd;a.tg.setAttribute("d",b.M+"\n"+b.Ei);this.O.s&&a.Rm();rm(this)};
g.Im=function(){var a=this.Fd,b=this.O.kb;a.M+=Rf(b.Y,a.O.Fl);for(var c=0,d;d=b.elements[c];c++)d.type&32768?a.M+=a.xc.sp:d.type&65536?a.M+=a.mo.Wo(a.ub):d.type&2048?a.M+=a.Ut.tf:d.type&2?a.M+=a.Bu.path(a.ub):d.type&8&&0!=d.width&&(a.M+=K("H",d.Y+d.width-a.hc));a.M+=K("H",b.Y+b.width-a.hc);Cm(this.Fd,this.O.kb);Gm.j.Im.call(this)};g.ni=function(a){this.Fd.ni(a);Gm.j.ni.call(this,a)};
g.Jm=function(a){var b=this.Fd,c=em(a);if(b.ub){var d=a.height-c.Ug;b.M+=Jl(c.Y+c.width-b.hc,a.pb)+b.Vi.Sc(b.ub)+K("v",d)}else b.M+=Jl(c.Y+c.width,a.pb)+b.Vi.Sc(b.ub);Gm.j.Jm.call(this,a)};g.Hm=function(a){var b=this.Fd,c=em(a);if(b.ub){var d=a.height-2*b.hh.height;b.M+=Jl(c.Y,a.pb)+b.hh.so(b.ub)+K("v",d)+b.hh.ql(b.ub)+Kl(a.width-c.Y-b.hh.width,0)}else b.M+=Jl(c.Y,a.pb+a.height)+b.hh.ql(b.ub)+Kl(a.width-c.Y-b.hh.width,0);Gm.j.Hm.call(this,a)};
g.Yp=function(a){Cm(this.Fd,a);this.aa+=K("H",a.Y+a.width)+K("V",a.pb+a.height)};g.Dm=function(){var a=this.Fd,b=this.O.Ia;if(a.ub)a.M+=K("V",b.Gc-a.hc);else{var c=a.O.Ia.elements[0];c.type&32768?a.M+=Jl(b.Y+a.hc,b.Gc-a.hc):c.type&65536&&(a.M+=Jl(b.Y,b.Gc),a.M+=a.mo.im())}Gm.j.Dm.call(this)};
g.Gm=function(){var a=this.Fd,b=a.O.v;b&&(b=b.rc+b.height,a.ub?a.M+=Jl(a.O.Xc,b):(a.M+=Jl(a.O.Xc+a.hc,a.O.Ia.Gc-a.hc),a.M+=K("V",b)),a.M+=a.Vi.Si(a.ub));a.ub||(b=a.O.kb,a.M=b.elements[0].type&65536?a.M+K("V",a.mo.height):a.M+K("V",b.Wd+a.hc));Gm.j.Gm.call(this)};
g.Fm=function(a){var b=this.Fd,c=b.hc,d=a.Y+a.yd,e=a.Sg-a.height/2,f=a.width-a.yd,h=e+c;b.ub?(e=a.height-(a.rc+a.Ug)+c,b.Ei+=Jl(d-c,h)+K("v",a.rc-c)+b.Vi.Sc(b.ub)+K("v",e)+K("h",f)):b.Ei+=Jl(a.Y+a.width+c,h)+K("v",a.height)+K("h",-f)+Jl(d,e+a.rc)+b.Vi.Sc(b.ub);Gm.j.Fm.call(this,a)};g.pr=function(a){var b=a.Sg-a.height/2;if(a.Pb){var c=a.Y+a.yd+this.i.tb;this.O.s&&(c*=-1);Pi(a.Pb,c,b+a.rc+this.i.tb)}};
g.rr=function(a){var b=em(a);if(b.Pb){var c=a.Y+a.Ef+b.Rc;c=this.O.s?-1*c:c+this.i.tb;Pi(b.Pb,c,a.pb+this.i.tb)}};g.nr=function(a){var b=em(a);if(b.Pb){var c=a.Y+a.width+this.i.tb;this.O.s&&(c*=-1);Pi(b.Pb,c,a.pb)}};g.qr=function(){var a=this.O.Ia;if(a.connection){var b=a.connection,c=b.Y;Pi(b.Pb,(this.O.s?-c:c)+this.i.tb/2,a.Gc+this.i.tb)}};function Hm(a){this.Vg=a;this.OFFSET=.5;this.sp=Rf(this.OFFSET,this.OFFSET)}g=Hm.prototype;g.I=function(){this.Fs=Im(this);this.Os=Jm(this);this.Vl=this.En();this.Lg=this.Dn();this.Hg=this.Cn();this.Ng=this.Fn()};function Im(a){var b=a.Vg.za;a=a.OFFSET;var c=(1-Math.SQRT1_2)*(b+a)-a,d=Rf(c,c)+Ll("0 0,0",b,V(-c-a,b-c)),e=Ll("0 0,0",b+a,V(b+a,b+a)),f=Rf(c,-c)+Ll("0 0,0",b+a,V(b-c,c+a));return{width:b+a,height:b,so:function(h){return h?d:""},ql:function(h){return h?e:f}}}
function Jm(a){var b=a.Vg.za;a=a.OFFSET;var c=(1-Math.SQRT1_2)*(b-a)+a,d=Rf(c,c)+Ll("0 0,1",b-a,V(b-c,-c+a)),e=Rf(a,b)+Ll("0 0,1",b-a,V(b,-b+a)),f=-c,h=Rf(c,f)+Ll("0 0,1",b-a,V(-c+a,-f-b));return{height:b,Wo:function(l){return l?d:e},im:function(){return h}}}
g.En=function(){var a=this.Vg.Tj,b=this.Vg.Uh,c=Rf(-2,-b+3.4)+Kl(-.45*a,-2.1),d=K("v",2.5)+Rf(.97*-a,2.5)+Il("q",[V(.05*-a,10),V(.3*a,9.5)])+Rf(.67*a,-1.9)+K("v",2.5),e=K("v",-1.5)+Rf(-.92*a,-.5)+Il("q",[V(-.19*a,-5.5),V(0,-11)])+Rf(.92*a,1),f=Rf(-5,b-.7)+Kl(.46*a,-2.1);return{width:a,height:b,Si:function(h){return h?c:e},Sc:function(h){return h?d:f}}};g.Dn=function(){return{tf:K("h",this.OFFSET)+this.Vg.Lg.tf}};g.Cn=function(){return{tf:Kl(5.1,2.6)+Rf(-10.2,6.8)+Kl(5.1,2.6),height:12,width:10.2}};
g.Fn=function(){var a=Rf(25,-8.7)+Il("c",[V(29.7,-6.2),V(57.2,-.5),V(75,8.7)]),b=Il("c",[V(17.8,-9.2),V(45.3,-14.9),V(75,-8.7)])+Jl(100.5,this.Vg.Ng.height+.5);return{path:function(c){return c?a:b}}};function Km(a,b,c){this.di=c;this.Ud=a;this.qj=B(tc,{"class":"blocklyPathDark",transform:"translate(1,1)"},this.Ud);this.ua=B(tc,{"class":"blocklyPath"},this.Ud);this.tg=B(tc,{"class":"blocklyPathLight"},this.Ud);this.pm="#000000";this.style=b}F(Km,ym);g=Km.prototype;g.Jo=function(a){this.ua.setAttribute("d",a);this.qj.setAttribute("d",a)};g.Rm=function(){this.ua.setAttribute("transform","scale(-1 1)");this.tg.setAttribute("transform","scale(-1 1)");this.qj.setAttribute("transform","translate(1,1) scale(-1 1)")};
g.Ka=function(a){this.tg.style.display="";this.qj.style.display="";this.tg.setAttribute("stroke",this.style.Zd);this.qj.setAttribute("fill",this.pm);Km.j.Ka.call(this,a);this.ua.setAttribute("stroke","none")};g.Fe=function(a){this.style=a;this.pm=va("#000",this.style.Te,.2)||this.pm};g.Qr=function(a){a?(this.ua.setAttribute("filter","url(#"+this.di.yk+")"),this.tg.style.display="none"):(this.ua.setAttribute("filter","none"),this.tg.style.display="inline")};
g.Rr=function(a){a&&(this.tg.style.display="none",this.qj.setAttribute("fill",this.style.gk),this.ua.setAttribute("stroke","none"),this.ua.setAttribute("fill",this.style.gk))};g.Xo=function(a){Km.j.Xo.call(this,a);a&&this.ua.setAttribute("stroke","none")};function Lm(a){Lm.j.constructor.call(this,a);this.xc=null}F(Lm,zm);g=Lm.prototype;g.I=function(a,b){Lm.j.I.call(this,a,b);this.xc=new Hm(this.F());this.xc.I()};g.Bo=function(a,b){Lm.j.Bo.call(this,a,b);this.xc.I()};g.Bn=function(){return new Am};g.Lq=function(a){return new Fm(this,a)};g.Jq=function(a,b){return new Gm(a,b)};g.Kq=function(a,b){return new Km(a,b,this.F())};v(Ob,"geras",Lm);(function(){var a={name:"escape",Ta:function(b){return!b.options.readOnly},ka:function(){hd();return!0}};Rk.register(a);Tk(27,a.name)})();(function(){var a={name:"delete",Ta:function(b){return!b.options.readOnly&&J&&J.Pc()},ka:function(b,c){c.preventDefault();if(Og())return!1;hl(J);return!0}};Rk.register(a);Tk(46,a.name);Tk(8,a.name)})();
(function(){var a={name:"copy",Ta:function(c){return!c.options.readOnly&&!Og()&&J&&J.Pc()&&J.hb()},ka:function(c,d){d.preventDefault();hd();il(J);return!0}};Rk.register(a);var b=Uk(67,[17]);Tk(b,a.name);b=Uk(67,[18]);Tk(b,a.name);b=Uk(67,[91]);Tk(b,a.name)})();(function(){var a={name:"cut",Ta:function(c){return!c.options.readOnly&&!Og()&&J&&J.Pc()&&J.hb()&&!J.h.ld},ka:function(){il(J);hl(J);return!0}};Rk.register(a);var b=Uk(88,[17]);Tk(b,a.name);b=Uk(88,[18]);Tk(b,a.name);b=Uk(88,[91]);Tk(b,a.name)})();
(function(){var a={name:"paste",Ta:function(c){return!c.options.readOnly&&!Og()},ka:function(){return jl()}};Rk.register(a);var b=Uk(86,[17]);Tk(b,a.name);b=Uk(86,[18]);Tk(b,a.name);b=Uk(86,[91]);Tk(b,a.name)})();(function(){var a={name:"undo",Ta:function(c){return!c.options.readOnly&&!Og()},ka:function(c){hd();ve(c,!1);return!0}};Rk.register(a);var b=Uk(90,[17]);Tk(b,a.name);b=Uk(90,[18]);Tk(b,a.name);b=Uk(90,[91]);Tk(b,a.name)})();
(function(){var a={name:"redo",Ta:function(c){return!Og()&&!c.options.readOnly},ka:function(c){hd();ve(c,!0);return!0}};Rk.register(a);var b=Uk(90,[16,17]);Tk(b,a.name);b=Uk(90,[16,18]);Tk(b,a.name);b=Uk(90,[16,91]);Tk(b,a.name);b=Uk(89,[17]);Tk(b,a.name)})();var Mm=null,Nm=null,Om=null;function Pm(){var a=Mm();Qm("/storage","xml="+encodeURIComponent(a),Rm)}var Sm=new Map;function Qm(a,b,c){var d=void 0===d?"POST":d;Sm.has(a)&&Sm.get(a).abort();var e=new XMLHttpRequest;Sm.set(a,e);e.onload=function(){200===this.status?c&&c.call(e):Tm(U("Games.httpRequestError",!1)+"\nXHR status: "+e.status);Sm.delete(a)};e.open(d,a);"POST"===d&&e.setRequestHeader("Content-Type","application/x-www-form-urlencoded");e.send(b)}
function Rm(){window.location.hash=this.responseText.trim();Tm(U("Games.linkAlert",!1).replace("%1",window.location.href));Om=Mm()}function Um(){var a=this.responseText.trim();a.length?(a=a.replace(/^\{\[\(< UNTRUSTED CONTENT >\)\]\}\n/,""),Nm(a)):Tm(U("Games.hashError",!1).replace("%1",window.location.hash));Om=Mm()}function Tm(a){if("object"===typeof W){var b=S("linkButton");W.Fr(b,a)}else alert(a)};var gk=null,Vm="";function Wm(){var a=U("Games.turtle",!1);yl(a);if(a=S("linkButton"))ql?a.style.display="none":(Mm=Xm,Nm=Ym,Cl(a,Pm));(a=S("languageMenu"))&&a.addEventListener("change",Zm,!0)}
function $m(){var a=10===T?'<xml><block type="turtle_move" x="70" y="70"><value name="VALUE"><shadow type="math_number"><field name="NUM">10</field></shadow></value></block></xml>':'<xml><block type="turtle_move_internal" x="70" y="70"><field name="VALUE">100</field></block></xml>',b=10!==T||an;if(!ql&&1<window.location.hash.length)Qm("/storage","key="+encodeURIComponent(window.location.hash.substring(1)),Um);else{try{var c=window.sessionStorage.Iq}catch(f){}c&&delete window.sessionStorage.Iq;var d=
zl(T),e=b&&zl(T-1);e&&"function"===typeof b&&(e=b(e));(a=c||d||e||a)&&Ym(a)}}function Ym(a){a=sd(a);gk.clear();td(a,gk);a=gk;a.wg.length=0;a=a.Wi.length=0;for(var b;b=$b[a];a++)b.Bb=!1}
function Xm(){for(var a=gk,b=G("xml"),c=ui(a),d=G("variables"),e=0,f;f=c[e];e++){var h=G("variable");h.appendChild(document.createTextNode(f.name));f.type&&h.setAttribute("type",f.type);h.id=f.T();d.appendChild(h)}d.hasChildNodes()&&b.appendChild(d);d=[].concat(a.Jl);1<d.length&&(a.Td.offset=Math.sin(3*Math.PI/180),a.s&&(a.Td.offset*=-1),d.sort(a.Td));for(c=0;e=d[c];c++)b.appendChild(e.Bv(!0));a=a.fb(!0);for(c=0;d=a[c];c++)b.appendChild(nd(d,!0));1===gk.fb(!1).length&&b.querySelector&&(a=b.querySelector("block"))&&
(a.removeAttribute("x"),a.removeAttribute("y"));return rd(b)}function bn(){null!==Om&&Om!==Xm()&&(window.location.hash="",Om=null)}function cn(){var a={rtl:pl,trashcan:!0,zoom:10===T?{controls:!0,wheel:!0}:null},b=S("toolbox");b&&(a.toolbox=b);a.media="third-party/blockly/media/";a.oneBasedIndex=!1;gk=yk("blockly",a);we(gk,bn)}function dn(){window.location=(ql?"index.html":"./")+"?lang="+nl}
function Zm(){window.sessionStorage&&(window.sessionStorage.Iq=Xm());var a=S("languageMenu");a=encodeURIComponent(a.options[a.selectedIndex].value);var b=window.location.search;b=1>=b.length?"?lang="+a:/[?&]lang=[^&]*/.test(b)?b.replace(/([?&]lang=)[^&]*/,"$1"+a):b.replace(/\?/,"?lang="+a+"&");window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+b}
function en(){10>T?location=location.protocol+"//"+location.host+location.pathname+"?lang="+nl+"&level="+(T+1):dn()}function fn(a,b){a=S(a);a.firstChild||(a=yk(a,{rtl:pl,readOnly:!0}),"string"!==typeof b&&(b=b.join("")),td(sd(b),a))}function gn(a){if("click"===a.type&&"touchend"===hn&&jn+2E3>Date.now()||hn===a.type&&jn+400>Date.now())return a.preventDefault(),a.stopPropagation(),!0;hn=a.type;jn=Date.now();return!1}var hn=null,jn=0;var W={hf:!1,Sp:null,nk:null,qk:null,tk:null,rk:null,rg:function(a,b,c,d,e,f){function h(){if(W.hf){p.style.visibility="visible";p.style.zIndex=10;q.style.visibility="hidden";var y=a.getElementsByClassName("primary");y.length||(y=a.getElementsByClassName("secondary"),y.length||(y=a.getElementsByTagName("button")));y.length&&y[0].focus()}}if(!a)throw TypeError("Content not found: "+a);for(var l=a.getElementsByClassName("addHideHandler"),m;m=l[0];)m.addEventListener("click",W.Xf,!0),m.addEventListener("touchend",
W.Xf,!0),m.classList.remove("addHideHandler");W.hf&&W.Xf(!1);nf&&hd(!0);W.hf=!0;W.Sp=b;W.nk=f;var p=S("dialog");f=S("dialogShadow");var q=S("dialogBorder"),u;for(u in e)p.style[u]=e[u];d&&(f.style.visibility="visible",f.style.opacity=.3,f.style.zIndex=9,d=document.createElement("div"),d.id="dialogHeader",p.appendChild(d),W.qk=Hb(d,"mousedown",null,W.qt));p.appendChild(a);a.classList.remove("dialogHiddenContent");try{b.blur()}catch(y){}c&&b?(W.Tk(b,!1,.2),W.Tk(p,!0,.8),setTimeout(h,175)):h()},Tp:0,
Up:0,qt:function(a){W.ym();if(!eb(a)){var b=S("dialog");W.Tp=b.offsetLeft-a.clientX;W.Up=b.offsetTop-a.clientY;W.tk=Hb(document,"mouseup",null,W.ym);W.rk=Hb(document,"mousemove",null,W.rt);a.stopPropagation()}},rt:function(a){var b=S("dialog"),c=W.Tp+a.clientX;a=W.Up+a.clientY;a=Math.max(a,0);a=Math.min(a,window.innerHeight-b.offsetHeight);c=Math.max(c,0);c=Math.min(c,window.innerWidth-b.offsetWidth);b.style.left=c+"px";b.style.top=a+"px"},ym:function(){W.tk&&(t(W.tk),W.tk=null);W.rk&&(t(W.rk),W.rk=
null)},Xf:function(a){function b(){d.style.zIndex=-1;d.style.visibility="hidden";S("dialogBorder").style.visibility="hidden"}a=void 0===a?!0:a;if(W.hf){W.ym();W.qk&&(t(W.qk),W.qk=null);W.hf=!1;W.nk&&W.nk();W.nk=null;var c=a?W.Sp:null;a=S("dialog");var d=S("dialogShadow");d.style.opacity=0;c&&a?(W.Tk(a,!1,.8),W.Tk(c,!0,.2),setTimeout(b,175)):b();a.style.visibility="hidden";a.style.zIndex=-1;for((c=S("dialogHeader"))&&c.parentNode.removeChild(c);a.firstChild;)c=a.firstChild,c.classList.add("dialogHiddenContent"),
document.body.appendChild(c)}},Tk:function(a,b,c){function d(){e.style.width=f.width+"px";e.style.height=f.height+"px";e.style.left=f.x+"px";e.style.top=f.y+"px";e.style.opacity=c}if(a){var e=S("dialogBorder"),f=W.getBBox(a);b?(e.className="dialogAnimate",setTimeout(d,1)):(e.className="",d());e.style.visibility="visible"}},getBBox:function(a){var b=Ka(a);b={x:b.x,y:b.y};a.getBBox?(a=a.getBBox(),b.height=a.height,b.width=a.width):(b.height=a.offsetHeight,b.width=a.offsetWidth);return b},Fr:function(a,
b){var c=S("containerStorage");c.textContent="";b=ba(b.split("\n"));for(var d=b.next();!d.done;d=b.next()){var e=document.createElement("p");e.appendChild(document.createTextNode(d.value));c.appendChild(e)}c=S("dialogStorage");W.rg(c,a,!0,!0,{width:"50%",left:"25%",top:"5em"},W.So);W.Ro()},yp:function(){if(!zl(T))if(W.hf||gk.Xa())setTimeout(W.yp,15E3);else{var a=S("dialogAbort"),b=S("abortOk");b.addEventListener("click",dn,!0);b.addEventListener("touchend",dn,!0);W.rg(a,null,!1,!0,{width:"40%",left:"30%",
top:"3em"},function(){document.body.removeEventListener("keydown",W.xp,!0)});document.body.addEventListener("keydown",W.xp,!0)}},pk:function(a){!W.hf||13!==a.keyCode&&27!==a.keyCode&&32!==a.keyCode||(W.Xf(!0),a.stopPropagation(),a.preventDefault())},Ro:function(){document.body.addEventListener("keydown",W.pk,!0)},So:function(){document.body.removeEventListener("keydown",W.pk,!0)},xp:function(a){W.pk(a);13!==a.keyCode&&32!==a.keyCode||dn()}};window.BlocklyDialogs=W;var kn="";function ln(a){a=a.replace(/(,\s*)?'block_id_[^']+'\)/g,")");return a.replace(/\s+$/,"")}function mn(){setTimeout(function(){var a=document.createElement("script");a.type="text/javascript";a.src="third-party/JS-Interpreter/compressed.js";document.head.appendChild(a)},1)}
function nn(){setTimeout(function(){var a=document.createElement("link");a.rel="stylesheet";a.type="text/css";a.href="common/prettify.css";document.head.appendChild(a);a=document.createElement("script");a.type="text/javascript";a.src="common/prettify.js";document.head.appendChild(a)},1)}
function on(){var a=S("dialogDone");if(gk){var b=S("dialogLinesText");b.textContent="";var c=kn;c=ln(c);var d=c.replace(/\/\/[^\n]*/g,"");d=d.replace(/\/\*.*\*\//g,"");d=d.replace(/[ \t]+\n/g,"\n");d=d.replace(/\n+/g,"\n");d=d.trim();d=d.split("\n").length;var e=S("containerCode");e.textContent=c;"function"===typeof prettyPrintOne&&(c=e.innerHTML,c=prettyPrintOne(c,"js"),e.innerHTML=c);c=1===d?U("Games.linesOfCode1",!1):U("Games.linesOfCode2",!1).replace("%1",String(d));b.appendChild(document.createTextNode(c))}b=
10>T?U("Games.nextLevel",!1).replace("%1",String(T+1)):U("Games.finalLevel",!1);c=S("doneOk");c.addEventListener("click",en,!0);c.addEventListener("touchend",en,!0);W.rg(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",pn,!0)});document.body.addEventListener("keydown",pn,!0);S("dialogDoneText").textContent=b}function pn(a){W.pk(a);13!==a.keyCode&&32!==a.keyCode||en()};function qn(){S("galleryXml").value=Xm();var a=S("galleryDialog");if(!rn){var b=S("galleryOk");b.addEventListener("click",sn,!0);b.addEventListener("touchend",sn,!0);rn=!0}b=S("submitButton");W.rg(a,b,!0,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",tn,!0)});document.body.addEventListener("keydown",tn,!0);setTimeout(function(){S("galleryTitle").focus()},250)}var rn;function tn(a){27===a.keyCode?W.Xf(!0):13===a.keyCode&&sn()}
function un(a,b){for(var c=[],d=ba(a.elements),e=d.next();!e.done;e=d.next())e=e.value,e.name&&c.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value));Qm(a.action,c.join("&"),b)}function sn(){var a=S("galleryTitle");a.value.trim()?(a=S("galleryForm"),un(a,function(){W.Fr(null,U("Games.submitted",!1))}),W.Xf(!0)):(a.value="",a.focus())};function vn(a){this.Is=23;this.Ig=18;this.Pl=132;this.Of=20;this.qa=.5;this.Ip=void 0;this.cm=[];B("line",{"class":"sliderTrack",x1:10,y1:35,x2:140,y2:35},a);this.Hu=B("rect",{style:"opacity: 0",x:10-this.Of,y:35-this.Of,width:130+2*this.Of,height:2*this.Of,rx:this.Of,ry:this.Of},a);this.Dq=B("path",{"class":"sliderKnob",d:"m 0,0 l -8,8 v 12 h 16 v -12 z"},a);this.un=B("circle",{style:"opacity: 0",r:this.Of,cy:35},a);for(this.Oa(.5);a&&"svg"!==a.nodeName.toLowerCase();)a=a.parentNode;this.Z=a;wn(this.un,
"mousedown",this,this.Cq);wn(this.un,"touchstart",this,this.Cq);wn(this.Hu,"mousedown",this,this.pu);wn(this.Z,"mouseup",null,xn);wn(this.Z,"touchend",null,xn);wn(this.Z,"mousemove",null,yn);wn(this.Z,"touchmove",null,yn);wn(document,"mouseover",null,zn)}vn.prototype.Cq=function(a){if("touchstart"===a.type){if(1!==a.changedTouches.length)return;An(a)}Bn=this;Cn=Dn(this,a).x;En=0;var b=this.Dq.getAttribute("transform");b&&(b=b.match(/translate\(\s*([-\d.]+)/))&&(En=Number(b[1]));a.preventDefault()};
function xn(){Bn=null}function zn(a){if(Bn){a=a.target;do if(a===Bn.Z)return;while(a=a.parentNode);Bn=null}}function yn(a){var b=Bn;if(b){if("touchmove"===a.type){if(1!==a.changedTouches.length)return;An(a)}a=Dn(b,a).x-Cn+En;b.Oa((a-b.Ig)/(b.Pl-b.Ig))}}vn.prototype.pu=function(a){if("touchstart"===a.type){if(1!==a.changedTouches.length)return;An(a)}a=Dn(this,a).x;Fn(this,(a-this.Ig)/(this.Pl-this.Ig))};vn.prototype.Ra=function(){return this.qa};
function Fn(a,b){function c(f){return function(){a.Oa(f*(b-d)/9+d)}}a.cm.forEach(clearTimeout);a.cm=[];for(var d=a.Ra(),e=0;10>e;e++)a.cm.push(setTimeout(c(e),200*e/10))}vn.prototype.Oa=function(a){this.qa=id(a,0,1);a=this.Ig+(this.Pl-this.Ig)*this.qa;this.Dq.setAttribute("transform","translate("+a+","+this.Is+")");this.un.setAttribute("cx",a);this.Ip&&this.Ip(this.qa)};
function Dn(a,b){var c=a.Z.createSVGPoint();c.x=b.clientX;c.y=b.clientY;a=a.Z.getScreenCTM().inverse();return c.matrixTransform(a)}function wn(a,b,c,d){a.addEventListener(b,function(e){d.apply(c,arguments)},!1)}function An(a){var b=a.changedTouches[0];a.clientX=b.clientX;a.clientY=b.clientY}var Bn=null,Cn=0,En=0;ll([{type:"colour_picker",message0:"%1",args0:[{type:"field_colour",name:"COLOUR",colour:"#ff0000"}],output:"Colour",helpUrl:"%{BKY_COLOUR_PICKER_HELPURL}",colour:"%{BKY_COLOUR_HUE}",tooltip:"%{BKY_COLOUR_PICKER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"colour_random",message0:"%{BKY_COLOUR_RANDOM_TITLE}",output:"Colour",helpUrl:"%{BKY_COLOUR_RANDOM_HELPURL}",colour:"%{BKY_COLOUR_HUE}",tooltip:"%{BKY_COLOUR_RANDOM_TOOLTIP}"},{type:"colour_rgb",message0:"%{BKY_COLOUR_RGB_TITLE} %{BKY_COLOUR_RGB_RED} %1 %{BKY_COLOUR_RGB_GREEN} %2 %{BKY_COLOUR_RGB_BLUE} %3",
args0:[{type:"input_value",name:"RED",check:"Number",align:"RIGHT"},{type:"input_value",name:"GREEN",check:"Number",align:"RIGHT"},{type:"input_value",name:"BLUE",check:"Number",align:"RIGHT"}],output:"Colour",helpUrl:"%{BKY_COLOUR_RGB_HELPURL}",colour:"%{BKY_COLOUR_HUE}",tooltip:"%{BKY_COLOUR_RGB_TOOLTIP}"},{type:"colour_blend",message0:"%{BKY_COLOUR_BLEND_TITLE} %{BKY_COLOUR_BLEND_COLOUR1} %1 %{BKY_COLOUR_BLEND_COLOUR2} %2 %{BKY_COLOUR_BLEND_RATIO} %3",args0:[{type:"input_value",name:"COLOUR1",
check:"Colour",align:"RIGHT"},{type:"input_value",name:"COLOUR2",check:"Colour",align:"RIGHT"},{type:"input_value",name:"RATIO",check:"Number",align:"RIGHT"}],output:"Colour",helpUrl:"%{BKY_COLOUR_BLEND_HELPURL}",colour:"%{BKY_COLOUR_HUE}",tooltip:"%{BKY_COLOUR_BLEND_TOOLTIP}"}]);function Gn(a,b,c){"function"!=typeof a&&(Hn(a),a=JSON.parse(JSON.stringify(a)));this.nh=a;this.To=this.wo=this.Dk=null;a=this.nh;if(Array.isArray(a)){for(var d=!1,e=0;e<a.length;e++){var f=a[e][0];"string"==typeof f?a[e][0]=hb(f):(null!=f.alt&&(a[e][0].alt=hb(f.alt)),d=!0)}if(!(d||2>a.length)){f=[];for(e=0;e<a.length;e++)f.push(a[e][0]);var h=Ba(f);e=Ca(f,h);d=Da(f,h);if((e||d)&&!(h<=e+d)){e&&(this.wo=f[0].substring(0,e-1));d&&(this.To=f[0].substr(1-d));f=[];for(h=0;h<a.length;h++){var l=a[h][0],
m=a[h][1];l=l.substring(e,l.length-d);f[h]=[l,m]}this.nh=f}}}this.wh=Uh(this,!1)[0];Gn.j.constructor.call(this,this.wh[1],b,c);this.Bh=this.Pf=this.Xb=this.$b=this.cj=null}F(Gn,jh);Gn.N=function(a){return new Gn(a.options,void 0,a)};Gn.prototype.Bk=function(a){Th(this)&&Uh(this,!1);this.Oa(a.textContent)};Gn.prototype.Nf=!0;var In=Ra?"\u25bc":"\u25be";g=Gn.prototype;g.Gj="default";
g.gf=function(){this.Oo()?lh(this):this.ek=this.m.R();mh(this);this.Xb=B(rc,{},this.ec);this.F().ws?(this.Bh=B(rc,{height:this.F().Jh+"px",width:this.F().Jh+"px"},this.ec),this.Bh.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.F().xs)):(this.Pf=B(zc,{},this.jb),this.Pf.appendChild(document.createTextNode(this.m.s?In+" ":" "+In)),this.m.s?this.jb.insertBefore(this.Pf,this.Ie):this.jb.appendChild(this.Pf));this.xa&&C(this.xa,"blocklyDropdownRect")};
g.Oo=function(){return!this.F().Nl||this.F().Nl&&!this.m.W};g.Sd=function(a){this.Km();this.$b.jo=a&&"number"===typeof a.clientX?new n(a.clientX,a.clientY):null;this.$b.P(af);C(this.$b.xb,"blocklyDropdownMenu");if(this.F().vs){a=this.m.W?this.m.getParent().Ym():this.m.Ym();var b=this.m.W?this.m.getParent().style.Zd:this.m.style.Zd;$e.style.backgroundColor=a;$e.style.borderColor=b}lf(this,this.Lm.bind(this));this.$b.focus();this.cj&&this.$b.pd(this.cj);this.Ka()};
g.Km=function(){var a=new zi;a.gj("listbox");this.$b=a;var b=Uh(this,!1);this.cj=null;for(var c=0;c<b.length;c++){var d=b[c][0],e=b[c][1];if("object"==typeof d){var f=new Image(d.width,d.height);f.src=d.src;f.alt=d.alt||"";d=f}d=new Ci(d,e);d.gj("option");d.Fo=this.m.s;d.nm=!0;a.od.push(d);d.om=e==this.qa;e==this.qa&&(this.cj=d);Di(d,this.Dt,this)}};g.Lm=function(){this.$b&&this.$b.o();this.cj=this.$b=null;this.Ka()};g.Dt=function(a){df===this&&sf();this.er(a)};g.er=function(a){this.Oa(a.Ra())};
function Th(a){return"function"==typeof a.nh}function Uh(a,b){return Th(a)?(a.Dk&&b||(a.Dk=a.nh.call(a),Hn(a.Dk)),a.Dk):a.nh}g.ie=function(a){for(var b=!1,c=Uh(this,!0),d=0,e;e=c[d];d++)if(e[1]==a){b=!0;break}return b?a:(this.m&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.m.type+", Field name: "+this.name+", Value: "+a),null)};g.cd=function(a){Gn.j.cd.call(this,a);a=Uh(this,!0);for(var b=0,c;c=a[b];b++)c[1]==this.qa&&(this.wh=c)};
g.Ka=function(){this.xa&&(this.xa.setAttribute("stroke",this.m.style.Zd),this.$b?this.xa.setAttribute("fill",this.m.style.Zd):this.xa.setAttribute("fill","transparent"));this.m&&this.Pf&&(this.Pf.style.fill=this.m.W?this.m.style.gk:this.m.style.Te)};
g.vh=function(){this.Ie.nodeValue="";this.Xb.style.display="none";var a=this.wh&&this.wh[0];if(a&&"object"==typeof a){this.Xb.style.display="";this.Xb.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a.src);this.Xb.setAttribute("height",a.height);this.Xb.setAttribute("width",a.width);var b=Number(a.height);a=Number(a.width);var c=!!this.xa,d=Math.max(c?this.F().jp:0,b+10);c=c?this.F().Dg:0;if(this.Bh)var e=Jn(this,a+c,d/2-this.F().Jh/2);else{e=this.F().Fg;var f=this.F().Gg,h=this.F().Eg;
e=Jc(this.Pf,e+"pt",f,h)}this.sb.width=a+e+2*c;this.sb.height=d;f=0;this.m.s?this.Xb.setAttribute("x",c+e):(f=a+e,this.jb.setAttribute("text-anchor","end"),this.Xb.setAttribute("x",c));this.Xb.setAttribute("y",d/2-b/2);oh(this,f+c,a+e)}else this.Ie.nodeValue=this.Fk(),C(this.jb,"blocklyDropdownText"),this.jb.setAttribute("text-anchor","start"),a=!!this.xa,b=Math.max(a?this.F().jp:0,this.F().Kj),d=this.F().Fg,c=this.F().Gg,e=this.F().Eg,d=Jc(this.jb,d+"pt",c,e),a=a?this.F().Dg:0,c=0,this.Bh&&(c=Jn(this,
d+a,b/2-this.F().Jh/2)),this.sb.width=d+c+2*a,this.sb.height=b,oh(this,a,d);ph(this)};function Jn(a,b,c){if(!a.Bh)return 0;var d=a.xa?a.F().Dg:0,e=a.F().ys,f=a.F().Jh;a.Bh.setAttribute("transform","translate("+(a.m.s?d:b+e)+","+c+")");return f+e}g.Gk=function(){if(!this.wh)return null;var a=this.wh[0];return"object"==typeof a?a.alt:a};
function Hn(a){if(!Array.isArray(a))throw TypeError("FieldDropdown options must be an array.");if(!a.length)throw TypeError("FieldDropdown options must not be an empty array.");for(var b=!1,c=0;c<a.length;++c){var d=a[c];Array.isArray(d)?"string"!=typeof d[1]?(b=!0,console.error("Invalid option["+c+"]: Each FieldDropdown option id must be a string. Found "+d[1]+" in: ",d)):d[0]&&"string"!=typeof d[0]&&"string"!=typeof d[0].src&&(b=!0,console.error("Invalid option["+c+"]: Each FieldDropdown option must have a string label or image description. Found"+
d[0]+" in: ",d)):(b=!0,console.error("Invalid option["+c+"]: Each FieldDropdown option must be an array. Found: ",d))}if(b)throw TypeError("Found invalid FieldDropdown options.");}v(Nb,"field_dropdown",Gn);function Oh(a){Oh.j.constructor.call(this,null);this.wr=a}F(Oh,Te);g=Oh.prototype;g.g=null;g.Gh=0;g.Bj=0;
g.Em=function(a){B(wc,{"class":"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},a);B(tc,{"class":"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},a);
B(hc,{"class":"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},a)};g.ln=function(a){this.A.Yb()&&Te.prototype.ln.call(this,a)};
g.tm=function(){this.pj=B(xc,{x:Be,y:Be},null);if(this.wr.length)for(var a=G("xml"),b=0,c;c=this.wr[b];b++){var d=G("block");d.setAttribute("type",c);a.appendChild(d)}else a=null;b=new de({disable:!1,parentWorkspace:this.A.h,media:this.A.h.options.uf,rtl:this.A.s,renderer:this.A.h.options.Zi,rendererOverrides:this.A.h.options.$i});b.bb=this.A.s?3:2;if(c=!!a)b.Jd=Zd(a);this.g=new Sj(b);this.g.Ii=!0;we(this.g,ec);a=c?dk(this.g,qc):null;b=this.g.Ba("blocklyMutatorBackground");a&&b.insertBefore(a,this.g.ta);
this.pj.appendChild(b);return this.pj};g.Ne=function(){Oh.j.Ne.call(this);this.A.Ja||(this.A.Yb()?this.Wb&&Dc(this.Wb,"blocklyIconGroupReadonly"):(this.ma(!1),this.Wb&&C(this.Wb,"blocklyIconGroupReadonly")))};
function Kn(a){var b=2*Be,c=a.g.ta.getBBox(),d=c.width+c.x,e=c.height+3*b,f=a.g.vc();if(f){var h=f.g.ac.Ze();e=Math.max(e,h.height+20);d+=f.oe()}a.A.s&&(d=-c.x);d+=3*b;if(Math.abs(a.Gh-d)>b||Math.abs(a.Bj-e)>b)a.Gh=d,a.Bj=e,a.La.dj(d+b,e+b),a.pj.setAttribute("width",a.Gh),a.pj.setAttribute("height",a.Bj),ek(a.g,a.Gh,a.Bj);a.A.s&&a.g.ta.setAttribute("transform","translate("+a.Gh+",0)");a.g.resize()}g.Wt=function(){this.g&&qj(this.g)};
g.ma=function(a){if(a!=this.isVisible())if(x(new (A("bubble_open"))(this.A,a,"mutator")),a){this.La=new ye(this.A.h,this.tm(),this.A.pa.ua,this.df,null,null);He(this.La,this.A.id);this.La.Ln=this.Wt.bind(this);var b=this.g.options.Jd;a=this.g.vc();b&&(a.I(this.g),a.show(b));this.Od=this.A.fe(this.g);b=sb(this.Od,!1);for(var c=0,d;d=b[c];c++)d.P();this.Od.Al(!1);this.Od.xm=!1;a?(b=2*a.za,a=this.Od.s?a.oe()+b:b):a=b=16;this.A.s&&(a=-a);this.Od.moveBy(a,b);if(this.A.yl){var e=this,f=this.A;f.yl(this.Od);
this.El=function(){f.yl(e.Od)};we(this.A.h,this.El)}Kn(this);we(this.g,this.Ou.bind(this));this.Ka()}else this.pj=null,this.g.o(),this.Od=this.g=null,this.La.o(),this.La=null,this.Bj=this.Gh=0,this.El&&(qb(this.A.h.Ya,this.El),this.El=null)};
g.Ou=function(a){if(!(a.tn||"change"==a.type&&"disabled"==a.element)){if(!this.g.Xa()){a=this.g.fb(!1);for(var b=0,c;c=a[b];b++){var d=c.ea();20>d.y&&c.moveBy(0,20-d.y);if(c.s){var e=-20,f=this.g.vc();f&&(e-=f.oe());d.x>e&&c.moveBy(e-d.x,0)}else 20>d.x&&c.moveBy(20-d.x,0)}}if(this.Od.h==this.g){z(!0);c=this.A;a=(a=c.sa())&&rd(a);b=c.J;c.J=!1;c.$d(this.Od);c.J=b;c.kd();c.J&&c.P();b=(b=c.sa())&&rd(b);if(a!=b){x(new (A("change"))(c,"mutation",null,a,b));var h=Xb;setTimeout(function(){z(h);c.Ma();z(!1)},
250)}this.g.Xa()||Kn(this);z(!1)}}};g.o=function(){this.A.Ab=null;Te.prototype.o.call(this)};function Ln(a,b,c){if(!a||!a.D().h)return!1;c=H(b,c).connection;var d=a.H();return d&&d!=b||c.L==a?!1:(c.isConnected()&&c.disconnect(),c.connect(a),!0)}function Mn(a){var b=null;if(a&&a.options){var c=a.options.Sa;a.ld?c&&c.options&&(b=c.options.Sa):c&&(b=c)}return b};ll([{type:"lists_create_empty",message0:"%{BKY_LISTS_CREATE_EMPTY_TITLE}",output:"Array",colour:"%{BKY_LISTS_HUE}",tooltip:"%{BKY_LISTS_CREATE_EMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_CREATE_EMPTY_HELPURL}"},{type:"lists_repeat",message0:"%{BKY_LISTS_REPEAT_TITLE}",args0:[{type:"input_value",name:"ITEM"},{type:"input_value",name:"NUM",check:"Number"}],output:"Array",colour:"%{BKY_LISTS_HUE}",tooltip:"%{BKY_LISTS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_LISTS_REPEAT_HELPURL}"},{type:"lists_reverse",message0:"%{BKY_LISTS_REVERSE_MESSAGE0}",
args0:[{type:"input_value",name:"LIST",check:"Array"}],output:"Array",inputsInline:!0,colour:"%{BKY_LISTS_HUE}",tooltip:"%{BKY_LISTS_REVERSE_TOOLTIP}",helpUrl:"%{BKY_LISTS_REVERSE_HELPURL}"},{type:"lists_isEmpty",message0:"%{BKY_LISTS_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",colour:"%{BKY_LISTS_HUE}",tooltip:"%{BKY_LISTS_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_ISEMPTY_HELPURL}"},{type:"lists_length",message0:"%{BKY_LISTS_LENGTH_TITLE}",args0:[{type:"input_value",
name:"VALUE",check:["String","Array"]}],output:"Number",colour:"%{BKY_LISTS_HUE}",tooltip:"%{BKY_LISTS_LENGTH_TOOLTIP}",helpUrl:"%{BKY_LISTS_LENGTH_HELPURL}"}]);
L.lists_create_with={I:function(){this.Ib=k.LISTS_CREATE_WITH_HELPURL;this.ib(k.LISTS_HUE);this.md=3;this.Dc();this.Qd(!0,"Array");this.fj(new Oh(["lists_create_with_item"]));this.Ua(k.LISTS_CREATE_WITH_TOOLTIP)},sa:function(){var a=G("mutation");a.setAttribute("items",this.md);return a},Na:function(a){this.md=parseInt(a.getAttribute("items"),10);this.Dc()},fe:function(a){var b=a.mf("lists_create_with_container");b.kd();for(var c=H(b,"STACK").connection,d=0;d<this.md;d++){var e=a.mf("lists_create_with_item");
e.kd();c.connect(e.G);c=e.C}return b},$d:function(a){var b=ki(a,"STACK");for(a=[];b&&!b.Jb();)a.push(b.ap),b=b.C&&b.C.H();for(b=0;b<this.md;b++){var c=H(this,"ADD"+b).connection.L;c&&-1==a.indexOf(c)&&c.disconnect()}this.md=a.length;this.Dc();for(b=0;b<this.md;b++)Ln(a[b],this,"ADD"+b)},yl:function(a){a=ki(a,"STACK");for(var b=0;a;){var c=H(this,"ADD"+b);a.ap=c&&c.connection.L;b++;a=a.C&&a.C.H()}},Dc:function(){this.md&&H(this,"EMPTY")?this.Za("EMPTY"):this.md||H(this,"EMPTY")||M(N(this,"EMPTY"),
k.LISTS_CREATE_EMPTY_TITLE);for(var a=0;a<this.md;a++)if(!H(this,"ADD"+a)){var b=ai(this.wa(1,"ADD"+a),1);0==a&&M(b,k.LISTS_CREATE_WITH_INPUT_WITH)}for(;H(this,"ADD"+a);)this.Za("ADD"+a),a++}};L.lists_create_with_container={I:function(){this.ib(k.LISTS_HUE);M(N(this),k.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD);this.wa(3,"STACK");this.Ua(k.LISTS_CREATE_WITH_CONTAINER_TOOLTIP);this.contextMenu=!1}};
L.lists_create_with_item={I:function(){this.ib(k.LISTS_HUE);M(N(this),k.LISTS_CREATE_WITH_ITEM_TITLE);this.Rd(!0);this.Pd(!0);this.Ua(k.LISTS_CREATE_WITH_ITEM_TOOLTIP);this.contextMenu=!1}};
L.lists_indexOf={I:function(){var a=[[k.LISTS_INDEX_OF_FIRST,"FIRST"],[k.LISTS_INDEX_OF_LAST,"LAST"]];this.Ib=k.LISTS_INDEX_OF_HELPURL;this.ib(k.LISTS_HUE);this.Qd(!0,"Number");M(this.wa(1,"VALUE").rb("Array"),k.LISTS_INDEX_OF_INPUT_IN_LIST);M(this.wa(1,"FIND"),new Gn(a),"END");this.Wc(!0);var b=this;this.Ua(function(){return k.LISTS_INDEX_OF_TOOLTIP.replace("%1",b.h.options.ye?"0":"-1")})}};
L.lists_getIndex={I:function(){var a=[[k.LISTS_GET_INDEX_GET,"GET"],[k.LISTS_GET_INDEX_GET_REMOVE,"GET_REMOVE"],[k.LISTS_GET_INDEX_REMOVE,"REMOVE"]];this.Zl=[[k.LISTS_GET_INDEX_FROM_START,"FROM_START"],[k.LISTS_GET_INDEX_FROM_END,"FROM_END"],[k.LISTS_GET_INDEX_FIRST,"FIRST"],[k.LISTS_GET_INDEX_LAST,"LAST"],[k.LISTS_GET_INDEX_RANDOM,"RANDOM"]];this.Ib=k.LISTS_GET_INDEX_HELPURL;this.ib(k.LISTS_HUE);a=new Gn(a,function(c){c="REMOVE"==c;this.D().Sr(c)});M(this.wa(1,"VALUE").rb("Array"),k.LISTS_GET_INDEX_INPUT_IN_LIST);
M(M(N(this),a,"MODE"),"","SPACE");N(this,"AT");k.LISTS_GET_INDEX_TAIL&&M(N(this,"TAIL"),k.LISTS_GET_INDEX_TAIL);this.Wc(!0);this.Qd(!0);this.Cc(!0);var b=this;this.Ua(function(){var c=I(b,"MODE"),d=I(b,"WHERE"),e="";switch(c+" "+d){case "GET FROM_START":case "GET FROM_END":e=k.LISTS_GET_INDEX_TOOLTIP_GET_FROM;break;case "GET FIRST":e=k.LISTS_GET_INDEX_TOOLTIP_GET_FIRST;break;case "GET LAST":e=k.LISTS_GET_INDEX_TOOLTIP_GET_LAST;break;case "GET RANDOM":e=k.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM;break;case "GET_REMOVE FROM_START":case "GET_REMOVE FROM_END":e=
k.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM;break;case "GET_REMOVE FIRST":e=k.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST;break;case "GET_REMOVE LAST":e=k.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST;break;case "GET_REMOVE RANDOM":e=k.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM;break;case "REMOVE FROM_START":case "REMOVE FROM_END":e=k.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM;break;case "REMOVE FIRST":e=k.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST;break;case "REMOVE LAST":e=k.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST;break;case "REMOVE RANDOM":e=
k.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM}if("FROM_START"==d||"FROM_END"==d)e+="  "+("FROM_START"==d?k.LISTS_INDEX_FROM_START_TOOLTIP:k.LISTS_INDEX_FROM_END_TOOLTIP).replace("%1",b.h.options.ye?"#1":"#0");return e})},sa:function(){var a=G("mutation");a.setAttribute("statement",!this.v);a.setAttribute("at",1==H(this,"AT").type);return a},Na:function(a){var b="true"==a.getAttribute("statement");this.Sr(b);a="false"!=a.getAttribute("at");this.Cc(a)},Sr:function(a){a!=!this.v&&(Nd(this,!0),a?(this.Qd(!1),
this.Rd(!0),this.Pd(!0)):(this.Rd(!1),this.Pd(!1),this.Qd(!0)))},Cc:function(a){this.Za("AT");this.Za("ORDINAL",!0);a?(this.wa(1,"AT").rb("Number"),k.ORDINAL_NUMBER_SUFFIX&&M(N(this,"ORDINAL"),k.ORDINAL_NUMBER_SUFFIX)):N(this,"AT");var b=new Gn(this.Zl,function(c){var d="FROM_START"==c||"FROM_END"==c;if(d!=a){var e=this.D();e.Cc(d);di(e,c,"WHERE");return null}});M(H(this,"AT"),b,"WHERE");k.LISTS_GET_INDEX_TAIL&&ji(this,"TAIL",null)}};
L.lists_setIndex={I:function(){var a=[[k.LISTS_SET_INDEX_SET,"SET"],[k.LISTS_SET_INDEX_INSERT,"INSERT"]];this.Zl=[[k.LISTS_GET_INDEX_FROM_START,"FROM_START"],[k.LISTS_GET_INDEX_FROM_END,"FROM_END"],[k.LISTS_GET_INDEX_FIRST,"FIRST"],[k.LISTS_GET_INDEX_LAST,"LAST"],[k.LISTS_GET_INDEX_RANDOM,"RANDOM"]];this.Ib=k.LISTS_SET_INDEX_HELPURL;this.ib(k.LISTS_HUE);M(this.wa(1,"LIST").rb("Array"),k.LISTS_SET_INDEX_INPUT_IN_LIST);M(M(N(this),new Gn(a),"MODE"),"","SPACE");N(this,"AT");M(this.wa(1,"TO"),k.LISTS_SET_INDEX_INPUT_TO);
this.Wc(!0);this.Rd(!0);this.Pd(!0);this.Ua(k.LISTS_SET_INDEX_TOOLTIP);this.Cc(!0);var b=this;this.Ua(function(){var c=I(b,"MODE"),d=I(b,"WHERE"),e="";switch(c+" "+d){case "SET FROM_START":case "SET FROM_END":e=k.LISTS_SET_INDEX_TOOLTIP_SET_FROM;break;case "SET FIRST":e=k.LISTS_SET_INDEX_TOOLTIP_SET_FIRST;break;case "SET LAST":e=k.LISTS_SET_INDEX_TOOLTIP_SET_LAST;break;case "SET RANDOM":e=k.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM;break;case "INSERT FROM_START":case "INSERT FROM_END":e=k.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM;
break;case "INSERT FIRST":e=k.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST;break;case "INSERT LAST":e=k.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST;break;case "INSERT RANDOM":e=k.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM}if("FROM_START"==d||"FROM_END"==d)e+="  "+k.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1",b.h.options.ye?"#1":"#0");return e})},sa:function(){var a=G("mutation");a.setAttribute("at",1==H(this,"AT").type);return a},Na:function(a){a="false"!=a.getAttribute("at");this.Cc(a)},Cc:function(a){this.Za("AT");
this.Za("ORDINAL",!0);a?(this.wa(1,"AT").rb("Number"),k.ORDINAL_NUMBER_SUFFIX&&M(N(this,"ORDINAL"),k.ORDINAL_NUMBER_SUFFIX)):N(this,"AT");var b=new Gn(this.Zl,function(c){var d="FROM_START"==c||"FROM_END"==c;if(d!=a){var e=this.D();e.Cc(d);di(e,c,"WHERE");return null}});ji(this,"AT","TO");H(this,"ORDINAL")&&ji(this,"ORDINAL","TO");M(H(this,"AT"),b,"WHERE")}};
L.lists_getSublist={I:function(){this.WHERE_OPTIONS_1=[[k.LISTS_GET_SUBLIST_START_FROM_START,"FROM_START"],[k.LISTS_GET_SUBLIST_START_FROM_END,"FROM_END"],[k.LISTS_GET_SUBLIST_START_FIRST,"FIRST"]];this.WHERE_OPTIONS_2=[[k.LISTS_GET_SUBLIST_END_FROM_START,"FROM_START"],[k.LISTS_GET_SUBLIST_END_FROM_END,"FROM_END"],[k.LISTS_GET_SUBLIST_END_LAST,"LAST"]];this.Ib=k.LISTS_GET_SUBLIST_HELPURL;this.ib(k.LISTS_HUE);M(this.wa(1,"LIST").rb("Array"),k.LISTS_GET_SUBLIST_INPUT_IN_LIST);N(this,"AT1");N(this,"AT2");
k.LISTS_GET_SUBLIST_TAIL&&M(N(this,"TAIL"),k.LISTS_GET_SUBLIST_TAIL);this.Wc(!0);this.Qd(!0,"Array");this.Cc(1,!0);this.Cc(2,!0);this.Ua(k.LISTS_GET_SUBLIST_TOOLTIP)},sa:function(){var a=G("mutation");a.setAttribute("at1",1==H(this,"AT1").type);a.setAttribute("at2",1==H(this,"AT2").type);return a},Na:function(a){var b="true"==a.getAttribute("at1");a="true"==a.getAttribute("at2");this.Cc(1,b);this.Cc(2,a)},Cc:function(a,b){this.Za("AT"+a);this.Za("ORDINAL"+a,!0);b?(this.wa(1,"AT"+a).rb("Number"),k.ORDINAL_NUMBER_SUFFIX&&
M(N(this,"ORDINAL"+a),k.ORDINAL_NUMBER_SUFFIX)):N(this,"AT"+a);var c=new Gn(this["WHERE_OPTIONS_"+a],function(d){var e="FROM_START"==d||"FROM_END"==d;if(e!=b){var f=this.D();f.Cc(a,e);di(f,d,"WHERE"+a);return null}});M(H(this,"AT"+a),c,"WHERE"+a);1==a&&(ji(this,"AT1","AT2"),H(this,"ORDINAL1")&&ji(this,"ORDINAL1","AT2"));k.LISTS_GET_SUBLIST_TAIL&&ji(this,"TAIL",null)}};
L.lists_sort={I:function(){fi(this,{message0:"%{BKY_LISTS_SORT_TITLE}",args0:[{type:"field_dropdown",name:"TYPE",options:[["%{BKY_LISTS_SORT_TYPE_NUMERIC}","NUMERIC"],["%{BKY_LISTS_SORT_TYPE_TEXT}","TEXT"],["%{BKY_LISTS_SORT_TYPE_IGNORECASE}","IGNORE_CASE"]]},{type:"field_dropdown",name:"DIRECTION",options:[["%{BKY_LISTS_SORT_ORDER_ASCENDING}","1"],["%{BKY_LISTS_SORT_ORDER_DESCENDING}","-1"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Array",colour:"%{BKY_LISTS_HUE}",tooltip:"%{BKY_LISTS_SORT_TOOLTIP}",
helpUrl:"%{BKY_LISTS_SORT_HELPURL}"})}};ll([{type:"logic_boolean",message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["%{BKY_LOGIC_BOOLEAN_TRUE}","TRUE"],["%{BKY_LOGIC_BOOLEAN_FALSE}","FALSE"]]}],output:"Boolean",colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}",helpUrl:"%{BKY_LOGIC_BOOLEAN_HELPURL}"},{type:"controls_if",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],previousStatement:null,
nextStatement:null,colour:"%{BKY_LOGIC_HUE}",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",mutator:"controls_if_mutator",extensions:["controls_if_tooltip"]},{type:"logic_compare",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["=","EQ"],["\u2260","NEQ"],["\u200f<","LT"],["\u200f\u2264","LTE"],["\u200f>","GT"],["\u200f\u2265","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",colour:"%{BKY_LOGIC_HUE}",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",
extensions:["logic_compare","logic_op_tooltip"]},{type:"logic_operation",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["%{BKY_LOGIC_OPERATION_AND}","AND"],["%{BKY_LOGIC_OPERATION_OR}","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",colour:"%{BKY_LOGIC_HUE}",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}",extensions:["logic_op_tooltip"]},{type:"logic_negate",message0:"%{BKY_LOGIC_NEGATE_TITLE}",args0:[{type:"input_value",
name:"BOOL",check:"Boolean"}],output:"Boolean",colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_LOGIC_NEGATE_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NEGATE_HELPURL}"},{type:"logic_ternary",message0:"%{BKY_LOGIC_TERNARY_CONDITION} %1",args0:[{type:"input_value",name:"IF",check:"Boolean"}],message1:"%{BKY_LOGIC_TERNARY_IF_TRUE} %1",args1:[{type:"input_value",name:"THEN"}],message2:"%{BKY_LOGIC_TERNARY_IF_FALSE} %1",args2:[{type:"input_value",name:"ELSE"}],output:null,colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_LOGIC_TERNARY_TOOLTIP}",
helpUrl:"%{BKY_LOGIC_TERNARY_HELPURL}",extensions:["logic_ternary"]}]);
ll([{type:"controls_if_if",message0:"%{BKY_CONTROLS_IF_IF_TITLE_IF}",nextStatement:null,enableContextMenu:!1,colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_CONTROLS_IF_IF_TOOLTIP}"},{type:"controls_if_elseif",message0:"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}",previousStatement:null,nextStatement:null,enableContextMenu:!1,colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}"},{type:"controls_if_else",message0:"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}",previousStatement:null,enableContextMenu:!1,
colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}"}]);Ih("logic_op_tooltip",Rh("OP",{EQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}",NEQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}",LT:"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",LTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}",GT:"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}",GTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}",AND:"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",OR:"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}"}));
Lh("controls_if_mutator",{uc:0,ed:0,Ff:!0,sa:function(){if(!this.uc&&!this.ed)return null;var a=G("mutation");this.uc&&a.setAttribute("elseif",this.uc);this.ed&&a.setAttribute("else",1);return a},Na:function(a){this.uc=parseInt(a.getAttribute("elseif"),10)||0;this.ed=parseInt(a.getAttribute("else"),10)||0;this.ou()},fe:function(a){var b=a.mf("controls_if_if");b.kd();for(var c=b.C,d=1;d<=this.uc;d++){var e=a.mf("controls_if_elseif");e.kd();c.connect(e.G);c=e.C}this.ed&&(a=a.mf("controls_if_else"),
a.kd(),c.connect(a.G));return b},$d:function(a){a=a.C.H();this.ed=this.uc=0;for(var b=[null],c=[null],d=null;a&&!a.Jb();){switch(a.type){case "controls_if_elseif":this.uc++;b.push(a.ap);c.push(a.He);break;case "controls_if_else":this.ed++;d=a.He;break;default:throw TypeError("Unknown block type: "+a.type);}a=a.C&&a.C.H()}this.Dc();this.xr(b,c,d)},yl:function(a){a=a.C.H();for(var b=1;a;){switch(a.type){case "controls_if_elseif":var c=H(this,"IF"+b),d=H(this,"DO"+b);a.ap=c&&c.connection.L;a.He=d&&d.connection.L;
b++;break;case "controls_if_else":d=H(this,"ELSE");a.He=d&&d.connection.L;break;default:throw TypeError("Unknown block type: "+a.type);}a=a.C&&a.C.H()}},ou:function(){var a=[null],b=[null],c=null;H(this,"ELSE")&&(c=H(this,"ELSE").connection.L);for(var d=1;H(this,"IF"+d);){var e=H(this,"DO"+d);a.push(H(this,"IF"+d).connection.L);b.push(e.connection.L);d++}this.Dc();this.xr(a,b,c)},Dc:function(){H(this,"ELSE")&&this.Za("ELSE");for(var a=1;H(this,"IF"+a);)this.Za("IF"+a),this.Za("DO"+a),a++;for(a=1;a<=
this.uc;a++)M(this.wa(1,"IF"+a).rb("Boolean"),k.CONTROLS_IF_MSG_ELSEIF),M(this.wa(3,"DO"+a),k.CONTROLS_IF_MSG_THEN);this.ed&&M(this.wa(3,"ELSE"),k.CONTROLS_IF_MSG_ELSE)},xr:function(a,b,c){for(var d=1;d<=this.uc;d++)Ln(a[d],this,"IF"+d),Ln(b[d],this,"DO"+d);Ln(c,this,"ELSE")}},null,["controls_if_elseif","controls_if_else"]);
Ih("controls_if_tooltip",function(){this.Ua(function(){if(this.uc||this.ed){if(!this.uc&&this.ed)return k.CONTROLS_IF_TOOLTIP_2;if(this.uc&&!this.ed)return k.CONTROLS_IF_TOOLTIP_3;if(this.uc&&this.ed)return k.CONTROLS_IF_TOOLTIP_4}else return k.CONTROLS_IF_TOOLTIP_1;return""}.bind(this))});
var Nn={onchange:function(a){this.Ti||(this.Ti=[null,null]);var b=ki(this,"A"),c=ki(this,"B");b&&c&&!Td(b.v,c.v)&&(z(a.group),a=this.Ti[0],a!==b&&(Nd(b),!a||a.Kc||a.W||H(this,"A").connection.connect(a.v)),b=this.Ti[1],b!==c&&(Nd(c),!b||b.Kc||b.W||H(this,"B").connection.connect(b.v)),this.Ma(),z(!1));this.Ti[0]=ki(this,"A");this.Ti[1]=ki(this,"B")}};Ih("logic_compare",function(){Kh(this,Nn)});
Jh("logic_ternary",{vr:null,onchange:function(a){var b=ki(this,"THEN"),c=ki(this,"ELSE"),d=this.v.L;if((b||c)&&d)for(var e=0;2>e;e++){var f=1==e?b:c;f&&!Td(f.v,d)&&(z(a.group),d===this.vr?(Nd(this),d.D().Ma()):(Nd(f),f.Ma()),z(!1))}this.vr=d}});function On(a,b,c){this.lj=!0;On.j.constructor.call(this,a,b,c);this.hl=this.xe=this.jc=null;this.Ck=!1;this.g=null}F(On,jh);On.prototype.Kf="";On.N=function(a){var b=hb(a.text);return new On(b,void 0,a)};g=On.prototype;g.Nf=!0;g.Gj="text";g.Gb=function(a){On.j.Gb.call(this,a);"boolean"==typeof a.spellcheck&&(this.lj=a.spellcheck)};
g.gf=function(){if(this.F().lp){for(var a=0,b=0,c=0,d;d=this.m.B[c];c++){for(var e=0;d.$[e];e++)a++;d.connection&&b++}this.Ck=1>=a&&this.m.v&&!b}else this.Ck=!1;this.Ck?this.ek=this.m.R():lh(this);mh(this)};g.ie=function(a){return null===a||void 0===a?null:String(a)};g.Wp=function(){if(this.Fi){this.sn=!1;var a=this.qa;this.qa=this.jc.Pr;this.m&&0==w&&x(new (A("change"))(this.m,"field",this.name||null,a,this.qa))}};g.cd=function(a){this.sn=!0;this.qa=a;this.Fi||(this.Id=!0)};
g.Ka=function(){this.m&&this.F().lp&&(this.xa?this.xa.setAttribute("stroke",this.m.style.Zd):this.m.pa.ua.setAttribute("fill",this.F().hp))};g.vh=function(){On.j.vh.call(this);if(this.Fi){Pn(this);var a=this.jc;this.sn?(Dc(a,"blocklyInvalidInput"),uh(a,"invalid",!1)):(C(a,"blocklyInvalidInput"),uh(a,"invalid",!0))}};function Qn(a){0!=a.lj&&(a.lj=!1,a.jc&&a.jc.setAttribute("spellcheck",a.lj))}
g.Sd=function(a,b){this.g=this.m.h;a=b||!1;!a&&(Xa||Ra||Sa)?Rn(this):(gh(this,this.m.s,this.Nu.bind(this)),this.jc=this.bp(),this.Fi=!0,a||(this.jc.focus({preventScroll:!0}),this.jc.select()))};function Rn(a){cl(k.CHANGE_VALUE_TITLE,a.Vb(),function(b){null!==b&&this.Oa(b)}.bind(a))}
g.bp=function(){var a=bh;C(kh(this),"editing");var b=document.createElement("input");b.className="blocklyHtmlInput";b.setAttribute("spellcheck",this.lj);var c=kk(this.g),d=this.F().Fg*c+"pt";a.style.fontSize=d;b.style.fontSize=d;d=4*c+"px";if(this.Ck){d=mf(this);d=(d.bottom-d.top)/2+"px";var e=this.m.getParent()?this.m.getParent().style.Zd:this.m.style.Zd;b.style.border=1*c+"px solid "+e;a.style.borderRadius=d;a.style.transition="box-shadow 0.25s ease 0s";this.F().zs&&(a.style.boxShadow="rgba(255, 255, 255, 0.3) 0px 0px 0px "+
4*c+"px")}b.style.borderRadius=d;a.appendChild(b);b.value=b.defaultValue=String(this.qa);b.Pr=this.qa;b.cr=null;Pn(this);this.xe=r(b,"keydown",this,this.$t);this.hl=r(b,"input",this,this.Zt);return b};g.Nu=function(){this.Fi=!1;this.sn=!0;qh(this);this.Xn&&this.Xn(this.qa);this.xe&&(t(this.xe),this.xe=null);this.hl&&(t(this.hl),this.hl=null);var a=bh.style;a.width="auto";a.height="auto";a.fontSize="";a.transition="";a.boxShadow="";this.jc=null;Dc(kh(this),"editing")};
g.$t=function(a){if(13==a.keyCode)hh(),sf();else if(27==a.keyCode)this.Oa(this.jc.Pr),hh(),sf();else if(9==a.keyCode){hh();sf();var b=this.m,c=!a.shiftKey,d=new Xi;Zg(d,Rg(this));var e=d.tc;c?d.next():d.Be();(c=d.tc)&&c!==e&&(e=c.U,Ig(e)&&e.Sd(void 0),b.h.mh&&Zg(b.h.ah(),c));a.preventDefault()}};g.Zt=function(){var a=this.jc.value;a!==this.jc.cr&&(this.jc.cr=a,z(!0),this.Oa(a),qh(this),Pn(this),z(!1))};
function Pn(a){var b=bh,c=mf(a);b.style.width=c.right-c.left+"px";b.style.height=c.bottom-c.top+"px";a=new n(a.m.s?c.right-b.offsetWidth:c.left,c.top);b.style.left=a.x+"px";b.style.top=a.y+"px"}g.Aq=function(){return!0};g.Gk=function(){return this.Fi&&this.jc?this.jc.value:null};v(Nb,"field_input",On);function Sn(a,b,c,d,e,f){this.Pi=-Infinity;this.Ni=Infinity;this.qh=0;this.vm=null;Sn.j.constructor.call(this,a,e,f);f||(Tn(this,b),Un(this,c),Vn(this,d),this.Oa(this.Ra()))}F(Sn,On);Sn.prototype.Kf=0;Sn.N=function(a){return new Sn(a.value,void 0,void 0,void 0,void 0,a)};Sn.prototype.Nf=!0;Sn.prototype.Gb=function(a){Sn.j.Gb.call(this,a);Tn(this,a.min);Un(this,a.max);Vn(this,a.precision)};function Tn(a,b){null==b?a.Pi=-Infinity:(b=Number(b),isNaN(b)||(a.Pi=b))}
function Un(a,b){null==b?a.Ni=Infinity:(b=Number(b),isNaN(b)||(a.Ni=b))}function Vn(a,b){a.qh=Number(b)||0;var c=String(a.qh);-1!=c.indexOf("e")&&(c=a.qh.toLocaleString("en-US",{maximumFractionDigits:20}));var d=c.indexOf(".");a.vm=-1==d?b?0:null:c.length-d-1}
Sn.prototype.ie=function(a){if(null===a)return null;a=String(a);a=a.replace(/O/ig,"0");a=a.replace(/,/g,"");a=a.replace(/infinity/i,"Infinity");a=Number(a||0);if(isNaN(a))return null;a=Math.min(Math.max(a,this.Pi),this.Ni);this.qh&&isFinite(a)&&(a=Math.round(a/this.qh)*this.qh);null!=this.vm&&(a=Number(a.toFixed(this.vm)));return a};Sn.prototype.bp=function(){var a=Sn.j.bp.call(this);-Infinity<this.Pi&&uh(a,"valuemin",this.Pi);Infinity>this.Ni&&uh(a,"valuemax",this.Ni);return a};
v(Nb,"field_number",Sn);function Wn(a,b,c,d,e){this.nh=Xn;this.nt="string"===typeof a?a:"";this.sb=new Ha(0,0);e&&this.Gb(e);b&&(this.xg=b);e||Yn(this,c,d)}F(Wn,Gn);Wn.N=function(a){var b=hb(a.variable);return new Wn(b,void 0,void 0,void 0,a)};g=Wn.prototype;g.Nf=!0;g.Gb=function(a){Wn.j.Gb.call(this,a);Yn(this,a.variableTypes,a.defaultType)};g.$f=function(){if(!this.kc){var a=dl(this.m.h,null,this.nt,this.mt);this.cd(a.T())}};g.Oo=function(){return Wn.j.Oo.call(this)&&(!this.F().Nl||"variables_get"!=this.m.type)};
g.Bk=function(a){var b=a.getAttribute("id"),c=a.textContent,d=a.getAttribute("variabletype")||a.getAttribute("variableType")||"";b=dl(this.m.h,b,c,d);if(null!=d&&d!==b.type)throw Error("Serialized variable type with id '"+b.T()+"' had type "+b.type+", and does not match variable field that references it: "+rd(a)+".");this.Oa(b.T())};g.Lr=function(a){this.$f();a.id=this.kc.T();a.textContent=this.kc.name;this.kc.type&&a.setAttribute("variabletype",this.kc.type);return a};
g.Mo=function(a){if(a.W)throw Error("Variable fields are not allowed to exist on shadow blocks.");Wn.j.Mo.call(this,a)};g.Ra=function(){return this.kc?this.kc.T():null};g.Vb=function(){return this.kc?this.kc.name:""};g.Nc=function(){return this.kc};g.iq=function(){return this.kc?this.xg:null};
g.ie=function(a){if(null===a)return null;var b=el(this.m.h,a);if(!b)return console.warn("Variable id doesn't point to a real variable! ID was "+a),null;b=b.type;var c;a:if(c=Zn(this)){for(var d=0;d<c.length;d++)if(b==c[d]){c=!0;break a}c=!1}else c=!0;return c?a:(console.warn("Variable type doesn't match this field!  Type was "+b),null)};g.cd=function(a){this.kc=el(this.m.h,a);Wn.j.cd.call(this,a)};
function Zn(a){var b=a.Lu;if(null===b&&a.m&&a.m.h)return a.m.h.cn();b=b||[""];if(0==b.length)throw a=a.Vb(),Error("'variableTypes' of field variable "+a+" was an empty list");return b}
function Yn(a,b,c){c=c||"";if(null==b||void 0==b)b=null;else if(Array.isArray(b)){for(var d=!1,e=0;e<b.length;e++)b[e]==c&&(d=!0);if(!d)throw Error("Invalid default type '"+c+"' in the definition of a FieldVariable");}else throw Error("'variableTypes' was not an array in the definition of a FieldVariable");a.mt=c;a.Lu=b}
function Xn(){if(!this.kc)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");var a=this.Vb(),b=[];if(this.m&&this.m.h)for(var c=Zn(this),d=0;d<c.length;d++)b=b.concat(this.m.h.zi(c[d]));b.sort(Vk);c=[];for(d=0;d<b.length;d++)c[d]=[b[d].name,b[d].T()];c.push([k.RENAME_VARIABLE,"RENAME_VARIABLE_ID"]);k.DELETE_VARIABLE&&c.push([k.DELETE_VARIABLE.replace("%1",a),"DELETE_VARIABLE_ID"]);return c}
g.er=function(a){a=a.Ra();if(this.m&&this.m.h){if("RENAME_VARIABLE_ID"==a){al(this.m.h,this.kc);return}if("DELETE_VARIABLE_ID"==a){this.m.h.ge(this.kc.T());return}}this.Oa(a)};g.Xi=function(){return!0};v(Nb,"field_variable",Wn);ll([{type:"controls_repeat_ext",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"input_value",name:"TIMES",check:"Number"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,colour:"%{BKY_LOOPS_HUE}",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_repeat",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"field_number",name:"TIMES",value:10,min:0,precision:1}],
message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,colour:"%{BKY_LOOPS_HUE}",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_whileUntil",message0:"%1 %2",args0:[{type:"field_dropdown",name:"MODE",options:[["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}","WHILE"],["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}","UNTIL"]]},{type:"input_value",name:"BOOL",check:"Boolean"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",
args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,colour:"%{BKY_LOOPS_HUE}",helpUrl:"%{BKY_CONTROLS_WHILEUNTIL_HELPURL}",extensions:["controls_whileUntil_tooltip"]},{type:"controls_for",message0:"%{BKY_CONTROLS_FOR_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"input_value",name:"BY",check:"Number",align:"RIGHT"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",
args1:[{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:"%{BKY_LOOPS_HUE}",helpUrl:"%{BKY_CONTROLS_FOR_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_for_tooltip"]},{type:"controls_forEach",message0:"%{BKY_CONTROLS_FOREACH_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"LIST",check:"Array"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,
nextStatement:null,colour:"%{BKY_LOOPS_HUE}",helpUrl:"%{BKY_CONTROLS_FOREACH_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_forEach_tooltip"]},{type:"controls_flow_statements",message0:"%1",args0:[{type:"field_dropdown",name:"FLOW",options:[["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}","BREAK"],["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}","CONTINUE"]]}],previousStatement:null,colour:"%{BKY_LOOPS_HUE}",helpUrl:"%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}",extensions:["controls_flow_tooltip",
"controls_flow_in_loop_check"]}]);Ih("controls_whileUntil_tooltip",Rh("MODE",{WHILE:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}",UNTIL:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}"}));Ih("controls_flow_tooltip",Rh("FLOW",{BREAK:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}",CONTINUE:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}"}));
Jh("contextMenu_newGetVariableBlock",{ee:function(a){if(!this.Ja){var b=Ed(this,"VAR").Nc(),c=b.name;if(!this.isCollapsed()&&null!=c){var d={enabled:!0};d.text=k.VARIABLES_SET_CREATE_GET.replace("%1",c);b=Yk(b);c=G("block");c.setAttribute("type","variables_get");c.appendChild(b);d.ka=Ei.ak(this,c);a.push(d)}}}});Ih("controls_for_tooltip",Vh("%{BKY_CONTROLS_FOR_TOOLTIP}"));Ih("controls_forEach_tooltip",Vh("%{BKY_CONTROLS_FOREACH_TOOLTIP}"));
var $n={Js:["controls_repeat","controls_repeat_ext","controls_forEach","controls_for","controls_whileUntil"],Ff:!0,hq:function(a){do{if(-1!=$n.Js.indexOf(a.type))return a;a=ci(a)}while(a);return null},onchange:function(a){if(this.h.Xa&&!this.h.Xa()&&"move"==a.type){var b=$n.hq(this);this.yh(b?null:k.CONTROLS_FLOW_STATEMENTS_WARNING);if(!this.Ja){var c=Xb;z(a.group);this.bc(b);z(c)}}}};Jh("controls_flow_in_loop_check",$n);ll([{type:"math_number",message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",helpUrl:"%{BKY_MATH_NUMBER_HELPURL}",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_NUMBER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"math_arithmetic",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ADDITION_SYMBOL}","ADD"],["%{BKY_MATH_SUBTRACTION_SYMBOL}","MINUS"],["%{BKY_MATH_MULTIPLICATION_SYMBOL}",
"MULTIPLY"],["%{BKY_MATH_DIVISION_SYMBOL}","DIVIDE"],["%{BKY_MATH_POWER_SYMBOL}","POWER"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",colour:"%{BKY_MATH_HUE}",helpUrl:"%{BKY_MATH_ARITHMETIC_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_single",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_SINGLE_OP_ROOT}","ROOT"],["%{BKY_MATH_SINGLE_OP_ABSOLUTE}","ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]]},
{type:"input_value",name:"NUM",check:"Number"}],output:"Number",colour:"%{BKY_MATH_HUE}",helpUrl:"%{BKY_MATH_SINGLE_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_trig",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_TRIG_SIN}","SIN"],["%{BKY_MATH_TRIG_COS}","COS"],["%{BKY_MATH_TRIG_TAN}","TAN"],["%{BKY_MATH_TRIG_ASIN}","ASIN"],["%{BKY_MATH_TRIG_ACOS}","ACOS"],["%{BKY_MATH_TRIG_ATAN}","ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",colour:"%{BKY_MATH_HUE}",
helpUrl:"%{BKY_MATH_TRIG_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_constant",message0:"%1",args0:[{type:"field_dropdown",name:"CONSTANT",options:[["\u03c0","PI"],["e","E"],["\u03c6","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt(\u00bd)","SQRT1_2"],["\u221e","INFINITY"]]}],output:"Number",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_CONSTANT_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTANT_HELPURL}"},{type:"math_number_property",message0:"%1 %2",args0:[{type:"input_value",name:"NUMBER_TO_CHECK",check:"Number"},
{type:"field_dropdown",name:"PROPERTY",options:[["%{BKY_MATH_IS_EVEN}","EVEN"],["%{BKY_MATH_IS_ODD}","ODD"],["%{BKY_MATH_IS_PRIME}","PRIME"],["%{BKY_MATH_IS_WHOLE}","WHOLE"],["%{BKY_MATH_IS_POSITIVE}","POSITIVE"],["%{BKY_MATH_IS_NEGATIVE}","NEGATIVE"],["%{BKY_MATH_IS_DIVISIBLE_BY}","DIVISIBLE_BY"]]}],inputsInline:!0,output:"Boolean",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_IS_TOOLTIP}",mutator:"math_is_divisibleby_mutator"},{type:"math_change",message0:"%{BKY_MATH_CHANGE_TITLE}",args0:[{type:"field_variable",
name:"VAR",variable:"%{BKY_MATH_CHANGE_TITLE_ITEM}"},{type:"input_value",name:"DELTA",check:"Number"}],previousStatement:null,nextStatement:null,colour:"%{BKY_VARIABLES_HUE}",helpUrl:"%{BKY_MATH_CHANGE_HELPURL}",extensions:["math_change_tooltip"]},{type:"math_round",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ROUND_OPERATOR_ROUND}","ROUND"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}","ROUNDUP"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}","ROUNDDOWN"]]},{type:"input_value",
name:"NUM",check:"Number"}],output:"Number",colour:"%{BKY_MATH_HUE}",helpUrl:"%{BKY_MATH_ROUND_HELPURL}",tooltip:"%{BKY_MATH_ROUND_TOOLTIP}"},{type:"math_modulo",message0:"%{BKY_MATH_MODULO_TITLE}",args0:[{type:"input_value",name:"DIVIDEND",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],inputsInline:!0,output:"Number",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_MODULO_TOOLTIP}",helpUrl:"%{BKY_MATH_MODULO_HELPURL}"},{type:"math_constrain",message0:"%{BKY_MATH_CONSTRAIN_TITLE}",
args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_CONSTRAIN_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTRAIN_HELPURL}"},{type:"math_random_int",message0:"%{BKY_MATH_RANDOM_INT_TITLE}",args0:[{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,output:"Number",colour:"%{BKY_MATH_HUE}",
tooltip:"%{BKY_MATH_RANDOM_INT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_INT_HELPURL}"},{type:"math_random_float",message0:"%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}",output:"Number",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_FLOAT_HELPURL}"},{type:"math_atan2",message0:"%{BKY_MATH_ATAN2_TITLE}",args0:[{type:"input_value",name:"X",check:"Number"},{type:"input_value",name:"Y",check:"Number"}],inputsInline:!0,output:"Number",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_ATAN2_TOOLTIP}",
helpUrl:"%{BKY_MATH_ATAN2_HELPURL}"}]);
Ih("math_op_tooltip",Rh("OP",{ADD:"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}",MINUS:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}",MULTIPLY:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}",DIVIDE:"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}",POWER:"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}",ROOT:"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}",ABS:"%{BKY_MATH_SINGLE_TOOLTIP_ABS}",NEG:"%{BKY_MATH_SINGLE_TOOLTIP_NEG}",LN:"%{BKY_MATH_SINGLE_TOOLTIP_LN}",LOG10:"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}",EXP:"%{BKY_MATH_SINGLE_TOOLTIP_EXP}",POW10:"%{BKY_MATH_SINGLE_TOOLTIP_POW10}",
SIN:"%{BKY_MATH_TRIG_TOOLTIP_SIN}",COS:"%{BKY_MATH_TRIG_TOOLTIP_COS}",TAN:"%{BKY_MATH_TRIG_TOOLTIP_TAN}",ASIN:"%{BKY_MATH_TRIG_TOOLTIP_ASIN}",ACOS:"%{BKY_MATH_TRIG_TOOLTIP_ACOS}",ATAN:"%{BKY_MATH_TRIG_TOOLTIP_ATAN}",SUM:"%{BKY_MATH_ONLIST_TOOLTIP_SUM}",MIN:"%{BKY_MATH_ONLIST_TOOLTIP_MIN}",MAX:"%{BKY_MATH_ONLIST_TOOLTIP_MAX}",AVERAGE:"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}",MEDIAN:"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}",MODE:"%{BKY_MATH_ONLIST_TOOLTIP_MODE}",STD_DEV:"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}",RANDOM:"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}"}));
Lh("math_is_divisibleby_mutator",{sa:function(){var a=G("mutation"),b="DIVISIBLE_BY"==I(this,"PROPERTY");a.setAttribute("divisor_input",b);return a},Na:function(a){a="true"==a.getAttribute("divisor_input");this.Dc(a)},Dc:function(a){var b=H(this,"DIVISOR");a?b||this.wa(1,"DIVISOR").rb("Number"):b&&this.Za("DIVISOR")}},function(){nh(Ed(this,"PROPERTY"),function(a){a="DIVISIBLE_BY"==a;this.D().Dc(a)})});Ih("math_change_tooltip",Vh("%{BKY_MATH_CHANGE_TOOLTIP}"));
Lh("math_modes_of_list_mutator",{Tr:function(a){"MODE"==a?this.v.rb("Array"):this.v.rb("Number")},sa:function(){var a=G("mutation");a.setAttribute("op",I(this,"OP"));return a},Na:function(a){this.Tr(a.getAttribute("op"))}},function(){nh(Ed(this,"OP"),function(a){this.Tr(a)}.bind(this))});function ao(a,b,c){this.Jp=null;ao.j.constructor.call(this,a,b,c)}F(ao,jh);ao.prototype.Kf=!1;ao.N=function(a){return new ao(a.checked,void 0,a)};g=ao.prototype;g.Nf=!0;g.Gj="default";g.Gb=function(a){ao.j.Gb.call(this,a);a.checkCharacter&&(this.Jp=a.checkCharacter)};g.gf=function(){ao.j.gf.call(this);C(this.jb,"blocklyCheckbox");this.jb.style.display=this.qa?"block":"none"};g.vh=function(){this.Ie&&(this.Ie.nodeValue=this.Fk());this.Zo(this.F().ss)};g.Fk=function(){return this.Jp||"\u2713"};
g.Sd=function(){this.Oa(!this.qa)};g.ie=function(a){return!0===a||"TRUE"===a?"TRUE":!1===a||"FALSE"===a?"FALSE":null};g.cd=function(a){this.qa=bo(a);this.jb&&(this.jb.style.display=this.qa?"block":"none")};g.Ra=function(){return this.qa?"TRUE":"FALSE"};g.Vb=function(){return String(bo(this.qa))};function bo(a){return"string"==typeof a?"TRUE"==a:!!a}v(Nb,"field_checkbox",ao);L.mu={};
L.procedures_defnoreturn={I:function(){var a=Ik("",this);a=new On(a,Kk);Qn(a);M(M(M(N(this),k.PROCEDURES_DEFNORETURN_TITLE),a,"NAME"),"","PARAMS");this.fj(new Oh(["procedures_mutatorarg"]));(this.h.options.ai||this.h.options.Sa&&this.h.options.Sa.options.ai)&&k.PROCEDURES_DEFNORETURN_COMMENT&&this.Bf(k.PROCEDURES_DEFNORETURN_COMMENT);this.ib(k.PROCEDURES_HUE);this.Ua(k.PROCEDURES_DEFNORETURN_TOOLTIP);this.Ib=k.PROCEDURES_DEFNORETURN_HELPURL;this.ba=[];this.eb=[];this.qg(!0);this.He=null},qg:function(a){this.Ik!==
a&&(a?(M(this.wa(3,"STACK"),k.PROCEDURES_DEFNORETURN_DO),H(this,"RETURN")&&ji(this,"STACK","RETURN")):this.Za("STACK",!0),this.Ik=a)},yj:function(){var a="";this.ba.length&&(a=k.PROCEDURES_BEFORE_PARAMS+" "+this.ba.join(", "));w++;try{di(this,a,"PARAMS")}finally{w--}},sa:function(a){var b=G("mutation");a&&b.setAttribute("name",I(this,"NAME"));for(var c=0;c<this.eb.length;c++){var d=G("arg"),e=this.eb[c];d.setAttribute("name",e.name);d.setAttribute("varid",e.T());a&&this.oo&&d.setAttribute("paramId",
this.oo[c]);b.appendChild(d)}this.Ik||b.setAttribute("statements","false");return b},Na:function(a){this.ba=[];this.eb=[];for(var b=0,c;c=a.childNodes[b];b++)if("arg"==c.nodeName.toLowerCase()){var d=c.getAttribute("name");c=c.getAttribute("varid")||c.getAttribute("varId");this.ba.push(d);c=dl(this.h,c,d,"");null!=c?this.eb.push(c):console.log("Failed to create a variable with name "+d+", ignoring.")}this.yj();Ok(this);this.qg("false"!==a.getAttribute("statements"))},fe:function(a){var b=G("block");
b.setAttribute("type","procedures_mutatorcontainer");var c=G("statement");c.setAttribute("name","STACK");b.appendChild(c);for(var d=0;d<this.ba.length;d++){var e=G("block");e.setAttribute("type","procedures_mutatorarg");var f=G("field");f.setAttribute("name","NAME");f.appendChild(document.createTextNode(this.ba[d]));e.appendChild(f);f=G("next");e.appendChild(f);c.appendChild(e);c=f}a=ud(b,a);"procedures_defreturn"==this.type?di(a,this.Ik,"STATEMENTS"):a.Za("STATEMENT_INPUT");Ok(this);return a},$d:function(a){this.ba=
[];this.oo=[];this.eb=[];for(var b=ki(a,"STACK");b&&!b.Jb();){var c=I(b,"NAME");this.ba.push(c);this.eb.push(this.h.Nc(c,""));this.oo.push(b.id);b=b.C&&b.C.H()}this.yj();Ok(this);a=I(a,"STATEMENTS");if(null!==a&&(a="TRUE"==a,this.Ik!=a))if(a)this.qg(!0),Ln(this.He,this,"STACK"),this.He=null;else{a=H(this,"STACK").connection;if(this.He=a.L)a=a.H(),Nd(a),a.Ma();this.qg(!1)}},Ye:function(){return[I(this,"NAME"),this.ba,!1]},ne:function(){return this.ba},me:function(){return this.eb},vl:function(a,b){var c=
this.h.jd(a);if(""==c.type){c=c.name;b=this.h.jd(b);for(var d=!1,e=0;e<this.eb.length;e++)this.eb[e].T()==a&&(this.ba[e]=b.name,this.eb[e]=b,d=!0);d&&(this.vk(c,b.name),Ok(this))}},Kl:function(a){for(var b=a.name,c=!1,d=0;d<this.eb.length;d++)if(this.eb[d].T()==a.T()){var e=this.ba[d];this.ba[d]=b;c=!0}c&&(this.vk(e,b),Ok(this))},vk:function(a,b){this.yj();if(this.Ab&&this.Ab.isVisible())for(var c=je(this.Ab.g),d=0,e;e=c[d];d++)"procedures_mutatorarg"==e.type&&pe(a,I(e,"NAME"))&&di(e,b,"NAME")},ee:function(a){if(!this.Ja){var b=
{enabled:!0},c=I(this,"NAME");b.text=k.PROCEDURES_CREATE_DO.replace("%1",c);var d=G("mutation");d.setAttribute("name",c);for(c=0;c<this.ba.length;c++){var e=G("arg");e.setAttribute("name",this.ba[c]);d.appendChild(e)}c=G("block");c.setAttribute("type",this.Gp);c.appendChild(d);b.ka=Ei.ak(this,c);a.push(b);if(!this.isCollapsed())for(c=0;c<this.eb.length;c++)b={enabled:!0},d=this.eb[c],b.text=k.VARIABLES_SET_CREATE_GET.replace("%1",d.name),d=Yk(d),e=G("block"),e.setAttribute("type","variables_get"),
e.appendChild(d),b.ka=Ei.ak(this,e),a.push(b)}},Gp:"procedures_callnoreturn"};
L.procedures_defreturn={I:function(){var a=Ik("",this);a=new On(a,Kk);Qn(a);M(M(M(N(this),k.PROCEDURES_DEFRETURN_TITLE),a,"NAME"),"","PARAMS");M(ai(this.wa(1,"RETURN"),1),k.PROCEDURES_DEFRETURN_RETURN);this.fj(new Oh(["procedures_mutatorarg"]));(this.h.options.ai||this.h.options.Sa&&this.h.options.Sa.options.ai)&&k.PROCEDURES_DEFRETURN_COMMENT&&this.Bf(k.PROCEDURES_DEFRETURN_COMMENT);this.ib(k.PROCEDURES_HUE);this.Ua(k.PROCEDURES_DEFRETURN_TOOLTIP);this.Ib=k.PROCEDURES_DEFRETURN_HELPURL;this.ba=[];
this.eb=[];this.qg(!0);this.He=null},qg:L.procedures_defnoreturn.qg,yj:L.procedures_defnoreturn.yj,sa:L.procedures_defnoreturn.sa,Na:L.procedures_defnoreturn.Na,fe:L.procedures_defnoreturn.fe,$d:L.procedures_defnoreturn.$d,Ye:function(){return[I(this,"NAME"),this.ba,!0]},ne:L.procedures_defnoreturn.ne,me:L.procedures_defnoreturn.me,vl:L.procedures_defnoreturn.vl,Kl:L.procedures_defnoreturn.Kl,vk:L.procedures_defnoreturn.vk,ee:L.procedures_defnoreturn.ee,Gp:"procedures_callreturn"};
L.procedures_mutatorcontainer={I:function(){M(N(this),k.PROCEDURES_MUTATORCONTAINER_TITLE);this.wa(3,"STACK");M(M(N(this,"STATEMENT_INPUT"),k.PROCEDURES_ALLOW_STATEMENTS),new ao("TRUE"),"STATEMENTS");this.ib(k.PROCEDURES_HUE);this.Ua(k.PROCEDURES_MUTATORCONTAINER_TOOLTIP);this.contextMenu=!1}};
L.procedures_mutatorarg={I:function(){var a=new On("x",this.xg);a.Vt=a.Sd;a.Sd=function(){this.ji=[];this.Vt()};M(M(N(this),k.PROCEDURES_MUTATORARG_TITLE),a,"NAME");this.Rd(!0);this.Pd(!0);this.ib(k.PROCEDURES_HUE);this.Ua(k.PROCEDURES_MUTATORARG_TOOLTIP);this.contextMenu=!1;a.Xn=this.ot;a.ji=[];a.Xn("x")},xg:function(a){var b=this.D(),c=Mn(b.h);a=a.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,"");if(!a)return null;for(var d=je(b.h.V||b.h),e=a.toLowerCase(),f=0;f<d.length;f++)if(d[f].id!=this.D().id){var h=
I(d[f],"NAME");if(h&&h.toLowerCase()==e)return null}if(b.Ja)return a;(b=c.Nc(a,""))&&b.name!=a&&c.yf(b.T(),a);b||(b=c.ad(a,""))&&this.ji&&this.ji.push(b);return a},ot:function(a){var b=Mn(this.D().h);if(b)for(var c=0;c<this.ji.length;c++){var d=this.ji[c];d.name!=a&&b.ge(d.T())}}};
L.procedures_callnoreturn={I:function(){M(N(this,"TOPROW"),"","NAME");this.Rd(!0);this.Pd(!0);this.ib(k.PROCEDURES_HUE);this.Ib=k.PROCEDURES_CALLNORETURN_HELPURL;this.ba=[];this.eb=[];this.ng={};this.Md=null;this.xo=!0},wc:function(){return I(this,"NAME")},uh:function(a,b){pe(a,this.wc())&&(di(this,b,"NAME"),this.Ua((this.v?k.PROCEDURES_CALLRETURN_TOOLTIP:k.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",b)))},Ko:function(a,b){var c=Pk(this.wc(),this.h),d=c&&c.Ab&&c.Ab.isVisible();d||(this.ng={},this.Md=
null);if(b)if(a.join("\n")==this.ba.join("\n"))this.Md=b;else{if(b.length!=a.length)throw RangeError("paramNames and paramIds must be the same length.");this.Af(!1);this.Md||(this.ng={},this.Md=[]);c=this.J;this.J=!1;for(var e=0;e<this.ba.length;e++){var f=H(this,"ARG"+e);f&&(f=f.connection.L,this.ng[this.Md[e]]=f,d&&f&&-1==b.indexOf(this.Md[e])&&(f.disconnect(),f.D().Ma()))}this.ba=[].concat(a);this.eb=[];for(e=0;e<this.ba.length;e++)a=dl(this.h,null,this.ba[e],""),this.eb.push(a);this.Dc();if(this.Md=
b)for(e=0;e<this.ba.length;e++)b=this.Md[e],b in this.ng&&(f=this.ng[b],Ln(f,this,"ARG"+e)||delete this.ng[b]);(this.J=c)&&this.P()}},Dc:function(){for(var a=0;a<this.ba.length;a++){var b=Ed(this,"ARGNAME"+a);if(b){w++;try{b.Oa(this.ba[a])}finally{w--}}else b=new Wh(this.ba[a]),M(ai(this.wa(1,"ARG"+a),1),b,"ARGNAME"+a).I()}for(;H(this,"ARG"+a);)this.Za("ARG"+a),a++;if(a=H(this,"TOPROW"))if(this.ba.length)Ed(this,"WITH")||(M(a,k.PROCEDURES_CALL_BEFORE_PARAMS,"WITH"),a.I());else if(Ed(this,"WITH"))a:{b=
0;for(var c;c=a.$[b];b++)if("WITH"===c.name){c.o();a.$.splice(b,1);a.m.J&&(a.m=a.m,a.m.P(),a.m.Ma());break a}throw Error('Field "WITH" not found.');}},sa:function(){var a=G("mutation");a.setAttribute("name",this.wc());for(var b=0;b<this.ba.length;b++){var c=G("arg");c.setAttribute("name",this.ba[b]);a.appendChild(c)}return a},Na:function(a){var b=a.getAttribute("name");this.uh(this.wc(),b);b=[];for(var c=[],d=0,e;e=a.childNodes[d];d++)"arg"==e.nodeName.toLowerCase()&&(b.push(e.getAttribute("name")),
c.push(e.getAttribute("paramId")));this.Ko(b,c)},ne:function(){return this.ba},me:function(){return this.eb},onchange:function(a){if(this.h&&!this.h.ld&&a.Bb)if("create"==a.type&&-1!=a.ef.indexOf(this.id)){var b=this.wc();b=Pk(b,this.h);!b||b.type==this.wm&&JSON.stringify(b.ne())==JSON.stringify(this.ba)||(b=null);if(!b){z(a.group);a=G("xml");b=G("block");b.setAttribute("type",this.wm);var c=this.ea(),d=c.y+56;b.setAttribute("x",c.x+28*(this.s?-1:1));b.setAttribute("y",d);c=this.sa();b.appendChild(c);
c=G("field");c.setAttribute("name","NAME");d=this.wc();d||(d=Ik("",this),this.uh("",d));c.appendChild(document.createTextNode(d));b.appendChild(c);a.appendChild(b);td(a,this.h);z(!1)}}else"delete"==a.type?(b=this.wc(),b=Pk(b,this.h),b||(z(a.group),this.o(!0),z(!1))):"change"==a.type&&"disabled"==a.element&&(b=this.wc(),(b=Pk(b,this.h))&&b.id==a.ga&&((b=Xb)&&console.log("Saw an existing group while responding to a definition change"),z(a.group),a.newValue?(this.xo=this.isEnabled(),this.bc(!1)):this.bc(this.xo),
z(b)))},ee:function(a){if(this.h.hb()){var b={enabled:!0};b.text=k.PROCEDURES_HIGHLIGHT_DEF;var c=this.wc(),d=this.h;b.ka=function(){var e=Pk(c,d);if(e){var f=e.id;if(d.hb()){if(f=f?d.fc(f):null){var h=f.ea(),l=Wf(f),m=d.scale;f=(h.x+(d.s?-1:1)*l.width/2)*m;h=(h.y+l.height/2)*m;l=d.Tb();d.scroll(-(f-l.ob/2),-(h-l.mb/2))}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.");e.select()}};a.push(b)}},wm:"procedures_defnoreturn"};
L.procedures_callreturn={I:function(){M(N(this,"TOPROW"),"","NAME");this.Qd(!0);this.ib(k.PROCEDURES_HUE);this.Ib=k.PROCEDURES_CALLRETURN_HELPURL;this.ba=[];this.eb=[];this.ng={};this.Md=null;this.xo=!0},wc:L.procedures_callnoreturn.wc,uh:L.procedures_callnoreturn.uh,Ko:L.procedures_callnoreturn.Ko,Dc:L.procedures_callnoreturn.Dc,sa:L.procedures_callnoreturn.sa,Na:L.procedures_callnoreturn.Na,ne:L.procedures_callnoreturn.ne,me:L.procedures_callnoreturn.me,onchange:L.procedures_callnoreturn.onchange,
ee:L.procedures_callnoreturn.ee,wm:"procedures_defreturn"};
L.procedures_ifreturn={I:function(){M(this.wa(1,"CONDITION").rb("Boolean"),k.CONTROLS_IF_MSG_IF);M(this.wa(1,"VALUE"),k.PROCEDURES_DEFRETURN_RETURN);this.Wc(!0);this.Rd(!0);this.Pd(!0);this.ib(k.PROCEDURES_HUE);this.Ua(k.PROCEDURES_IFRETURN_TOOLTIP);this.Ib=k.PROCEDURES_IFRETURN_HELPURL;this.bf=!0},sa:function(){var a=G("mutation");a.setAttribute("value",Number(this.bf));return a},Na:function(a){this.bf=1==a.getAttribute("value");this.bf||(this.Za("VALUE"),M(N(this,"VALUE"),k.PROCEDURES_DEFRETURN_RETURN))},
onchange:function(){if(this.h.Xa&&!this.h.Xa()){var a=!1,b=this;do{if(-1!=this.Bs.indexOf(b.type)){a=!0;break}b=ci(b)}while(b);a?("procedures_defnoreturn"==b.type&&this.bf?(this.Za("VALUE"),M(N(this,"VALUE"),k.PROCEDURES_DEFRETURN_RETURN),this.bf=!1):"procedures_defreturn"!=b.type||this.bf||(this.Za("VALUE"),M(this.wa(1,"VALUE"),k.PROCEDURES_DEFRETURN_RETURN),this.bf=!0),this.yh(null),this.Ja||this.bc(!0)):(this.yh(k.PROCEDURES_IFRETURN_WARNING),this.Ja||ei(this)||this.bc(!1))}},Bs:["procedures_defnoreturn",
"procedures_defreturn"]};function co(a,b,c,d,e,f,h){if(!a)throw Error("Src value of an image field is required");a=hb(a);c=Number(hb(c));b=Number(hb(b));if(isNaN(c)||isNaN(b))throw Error("Height and width values of an image field must cast to numbers.");if(0>=c||0>=b)throw Error("Height and width values of an image field must be greater than 0.");this.ui=!1;this.Xj="";co.j.constructor.call(this,a,null,h);h||(this.ui=!!f,this.Xj=hb(d)||"");this.sb=new Ha(b,c+eo);this.Mt=c;this.Yd=null;"function"==typeof e&&(this.Yd=e);this.Xb=
null}F(co,jh);co.prototype.Kf="";co.N=function(a){return new co(a.src,a.width,a.height,void 0,void 0,void 0,a)};var eo=1;g=co.prototype;g.Ih=!1;g.Id=!1;g.Gb=function(a){co.j.Gb.call(this,a);this.ui=!!a.flipRtl;this.Xj=hb(a.alt)||""};g.gf=function(){this.Xb=B(rc,{height:this.Mt+"px",width:this.sb.width+"px",alt:this.Xj},this.ec);this.Xb.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.qa);this.Yd&&(this.Xb.style.cursor="pointer")};g.Zo=function(){};
g.ie=function(a){return"string"!=typeof a?null:a};g.cd=function(a){this.qa=a;this.Xb&&this.Xb.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",String(this.qa))};g.fq=function(){return this.ui};g.Sd=function(){this.Yd&&this.Yd(this)};g.Gk=function(){return this.Xj};v(Nb,"field_image",co);ll([{type:"text",message0:"%1",args0:[{type:"field_input",name:"TEXT",text:""}],output:"String",colour:"%{BKY_TEXTS_HUE}",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["text_quotes","parent_tooltip_when_inline"]}]);
var fo={Rs:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAn0lEQVQI1z3OMa5BURSF4f/cQhAKjUQhuQmFNwGJEUi0RKN5rU7FHKhpjEH3TEMtkdBSCY1EIv8r7nFX9e29V7EBAOvu7RPjwmWGH/VuF8CyN9/OAdvqIXYLvtRaNjx9mMTDyo+NjAN1HNcl9ZQ5oQMM3dgDUqDo1l8DzvwmtZN7mnD+PkmLa+4mhrxVA9fRowBWmVBhFy5gYEjKMfz9AylsaRRgGzvZAAAAAElFTkSuQmCC",Ss:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAqUlEQVQI1z3KvUpCcRiA8ef9E4JNHhI0aFEacm1o0BsI0Slx8wa8gLauoDnoBhq7DcfWhggONDmJJgqCPA7neJ7p934EOOKOnM8Q7PDElo/4x4lFb2DmuUjcUzS3URnGib9qaPNbuXvBO3sGPHJDRG6fGVdMSeWDP2q99FQdFrz26Gu5Tq7dFMzUvbXy8KXeAj57cOklgA+u1B5AoslLtGIHQMaCVnwDnADZIFIrXsoXrgAAAABJRU5ErkJggg==",
Ts:12,Qs:12,nu:function(a){for(var b=0,c;c=this.B[b];b++)for(var d=0,e;e=c.$[d];d++)if(a==e.name){Yh(c,d,this.Tq(!0));Yh(c,d+2,this.Tq(!1));return}b=this.type?'"'+this.type+'" block':"Block";this.id&&(b+=' (id="'+this.id+'")');console.warn('field named "'+a+'" not found in '+b)},Tq:function(a){a=this.s?!a:a;return new co(a?this.Rs:this.Ss,this.Ts,this.Qs,a?"\u201c":"\u201d")}};Ih("text_quotes",function(){Kh(this,fo);this.nu("TEXT")});ll([{type:"variables_get",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,colour:"%{BKY_VARIABLES_HUE}",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableSetterGetter"]},{type:"variables_set",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,
colour:"%{BKY_VARIABLES_HUE}",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableSetterGetter"]}]);function go(a){return function(){var b=a.h,c=Ed(a,"VAR").Nc();al(b,c)}}function ho(a){return function(){var b=a.h,c=Ed(a,"VAR").Nc();b.ge(c.T());bk(b)}}
Jh("contextMenu_variableSetterGetter",{ee:function(a){if(!this.Ja){if("variables_get"==this.type)var b="variables_set",c=k.VARIABLES_GET_CREATE_SET;else b="variables_get",c=k.VARIABLES_SET_CREATE_GET;var d={enabled:0<se(this.h)},e=Ed(this,"VAR").Vb();d.text=c.replace("%1",e);c=G("field");c.setAttribute("name","VAR");c.appendChild(document.createTextNode(e));e=G("block");e.setAttribute("type",b);e.appendChild(c);d.ka=Ei.ak(this,e);a.push(d)}else if("variables_get"==this.type||"variables_get_reporter"==
this.type)b={text:k.RENAME_VARIABLE,enabled:!0,ka:go(this)},e=Ed(this,"VAR").Vb(),d={text:k.DELETE_VARIABLE.replace("%1",e),enabled:!0,ka:ho(this)},a.unshift(b),a.unshift(d)}});Q.fk={};Q.colour_picker=function(a){return[Q.rh(I(a,"COLOUR")),Q.Qe]};Q.colour_random=function(){return[ri("colourRandom",["function "+Q.td+"() {","  var num = Math.floor(Math.random() * Math.pow(2, 24));","  return '#' + ('00000' + num.toString(16)).substr(-6);","}"])+"()",Q.Ha]};
Q.colour_rgb=function(a){var b=P(Q,a,"RED",Q.va)||0,c=P(Q,a,"GREEN",Q.va)||0;a=P(Q,a,"BLUE",Q.va)||0;return[ri("colourRgb",["function "+Q.td+"(r, g, b) {","  r = Math.max(Math.min(Number(r), 100), 0) * 2.55;","  g = Math.max(Math.min(Number(g), 100), 0) * 2.55;","  b = Math.max(Math.min(Number(b), 100), 0) * 2.55;","  r = ('0' + (Math.round(r) || 0).toString(16)).slice(-2);","  g = ('0' + (Math.round(g) || 0).toString(16)).slice(-2);","  b = ('0' + (Math.round(b) || 0).toString(16)).slice(-2);","  return '#' + r + g + b;",
"}"])+"("+b+", "+c+", "+a+")",Q.Ha]};
Q.colour_blend=function(a){var b=P(Q,a,"COLOUR1",Q.va)||"'#000000'",c=P(Q,a,"COLOUR2",Q.va)||"'#000000'";a=P(Q,a,"RATIO",Q.va)||.5;return[ri("colourBlend",["function "+Q.td+"(c1, c2, ratio) {","  ratio = Math.max(Math.min(Number(ratio), 1), 0);","  var r1 = parseInt(c1.substring(1, 3), 16);","  var g1 = parseInt(c1.substring(3, 5), 16);","  var b1 = parseInt(c1.substring(5, 7), 16);","  var r2 = parseInt(c2.substring(1, 3), 16);","  var g2 = parseInt(c2.substring(3, 5), 16);","  var b2 = parseInt(c2.substring(5, 7), 16);",
"  var r = Math.round(r1 * (1 - ratio) + r2 * ratio);","  var g = Math.round(g1 * (1 - ratio) + g2 * ratio);","  var b = Math.round(b1 * (1 - ratio) + b2 * ratio);","  r = ('0' + (r || 0).toString(16)).slice(-2);","  g = ('0' + (g || 0).toString(16)).slice(-2);","  b = ('0' + (b || 0).toString(16)).slice(-2);","  return '#' + r + g + b;","}"])+"("+b+", "+c+", "+a+")",Q.Ha]};Q.Hq={};Q.lists_create_empty=function(){return["[]",Q.Qe]};Q.lists_create_with=function(a){for(var b=Array(a.md),c=0;c<a.md;c++)b[c]=P(Q,a,"ADD"+c,Q.va)||"null";return["["+b.join(", ")+"]",Q.Qe]};Q.lists_repeat=function(a){var b=ri("listsRepeat",["function "+Q.td+"(value, n) {","  var array = [];","  for (var i = 0; i < n; i++) {","    array[i] = value;","  }","  return array;","}"]),c=P(Q,a,"ITEM",Q.va)||"null";a=P(Q,a,"NUM",Q.va)||"0";return[b+"("+c+", "+a+")",Q.Ha]};
Q.lists_length=function(a){return[(P(Q,a,"VALUE",Q.cb)||"[]")+".length",Q.cb]};Q.lists_isEmpty=function(a){return["!"+(P(Q,a,"VALUE",Q.cb)||"[]")+".length",Q.Ph]};Q.lists_indexOf=function(a){var b="FIRST"==I(a,"END")?"indexOf":"lastIndexOf",c=P(Q,a,"FIND",Q.va)||"''";b=(P(Q,a,"VALUE",Q.cb)||"[]")+"."+b+"("+c+")";return a.h.options.ye?[b+" + 1",Q.Lf]:[b,Q.Ha]};
Q.lists_getIndex=function(a){var b=I(a,"MODE")||"GET",c=I(a,"WHERE")||"FROM_START",d=P(Q,a,"VALUE","RANDOM"==c?Q.va:Q.cb)||"[]";switch(c){case "FIRST":if("GET"==b)return[d+"[0]",Q.cb];if("GET_REMOVE"==b)return[d+".shift()",Q.cb];if("REMOVE"==b)return d+".shift();\n";break;case "LAST":if("GET"==b)return[d+".slice(-1)[0]",Q.cb];if("GET_REMOVE"==b)return[d+".pop()",Q.cb];if("REMOVE"==b)return d+".pop();\n";break;case "FROM_START":a=Q.Cd(a,"AT");if("GET"==b)return[d+"["+a+"]",Q.cb];if("GET_REMOVE"==b)return[d+
".splice("+a+", 1)[0]",Q.Ha];if("REMOVE"==b)return d+".splice("+a+", 1);\n";break;case "FROM_END":a=Q.Cd(a,"AT",1,!0);if("GET"==b)return[d+".slice("+a+")[0]",Q.Ha];if("GET_REMOVE"==b)return[d+".splice("+a+", 1)[0]",Q.Ha];if("REMOVE"==b)return d+".splice("+a+", 1);";break;case "RANDOM":d=ri("listsGetRandomItem",["function "+Q.td+"(list, remove) {","  var x = Math.floor(Math.random() * list.length);","  if (remove) {","    return list.splice(x, 1)[0];","  } else {","    return list[x];","  }","}"])+
"("+d+", "+("GET"!=b)+")";if("GET"==b||"GET_REMOVE"==b)return[d,Q.Ha];if("REMOVE"==b)return d+";\n"}throw Error("Unhandled combination (lists_getIndex).");};
Q.lists_setIndex=function(a){function b(){if(c.match(/^\w+$/))return"";var h=si(Q.Da,"tmpList","VARIABLE"),l="var "+h+" = "+c+";\n";c=h;return l}var c=P(Q,a,"LIST",Q.cb)||"[]",d=I(a,"MODE")||"GET",e=I(a,"WHERE")||"FROM_START",f=P(Q,a,"TO",Q.Mf)||"null";switch(e){case "FIRST":if("SET"==d)return c+"[0] = "+f+";\n";if("INSERT"==d)return c+".unshift("+f+");\n";break;case "LAST":if("SET"==d)return a=b(),a+(c+"["+c+".length - 1] = "+f+";\n");if("INSERT"==d)return c+".push("+f+");\n";break;case "FROM_START":e=
Q.Cd(a,"AT");if("SET"==d)return c+"["+e+"] = "+f+";\n";if("INSERT"==d)return c+".splice("+e+", 0, "+f+");\n";break;case "FROM_END":e=Q.Cd(a,"AT",1,!1,Q.Mg);a=b();if("SET"==d)return a+(c+"["+c+".length - "+e+"] = "+f+";\n");if("INSERT"==d)return a+(c+".splice("+c+".length - "+e+", 0, "+f+");\n");break;case "RANDOM":a=b();e=si(Q.Da,"tmpX","VARIABLE");a+="var "+e+" = Math.floor(Math.random() * "+c+".length);\n";if("SET"==d)return a+(c+"["+e+"] = "+f+";\n");if("INSERT"==d)return a+(c+".splice("+e+", 0, "+
f+");\n")}throw Error("Unhandled combination (lists_setIndex).");};Q.Hq.At=function(a,b,c){return"FIRST"==b?"0":"FROM_END"==b?a+".length - 1 - "+c:"LAST"==b?a+".length - 1":c};
Q.lists_getSublist=function(a){var b=P(Q,a,"LIST",Q.cb)||"[]",c=I(a,"WHERE1"),d=I(a,"WHERE2");if("FIRST"==c&&"LAST"==d)b+=".slice(0)";else if(b.match(/^\w+$/)||"FROM_END"!=c&&"FROM_START"==d){switch(c){case "FROM_START":var e=Q.Cd(a,"AT1");break;case "FROM_END":e=Q.Cd(a,"AT1",1,!1,Q.Mg);e=b+".length - "+e;break;case "FIRST":e="0";break;default:throw Error("Unhandled option (lists_getSublist).");}switch(d){case "FROM_START":a=Q.Cd(a,"AT2",1);break;case "FROM_END":a=Q.Cd(a,"AT2",0,!1,Q.Mg);a=b+".length - "+
a;break;case "LAST":a=b+".length";break;default:throw Error("Unhandled option (lists_getSublist).");}b=b+".slice("+e+", "+a+")"}else{e=Q.Cd(a,"AT1");a=Q.Cd(a,"AT2");var f=Q.Hq.At,h={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};b=ri("subsequence"+h[c]+h[d],["function "+Q.td+"(sequence"+("FROM_END"==c||"FROM_START"==c?", at1":"")+("FROM_END"==d||"FROM_START"==d?", at2":"")+") {","  var start = "+f("sequence",c,"at1")+";","  var end = "+f("sequence",d,"at2")+" + 1;","  return sequence.slice(start, end);",
"}"])+"("+b+("FROM_END"==c||"FROM_START"==c?", "+e:"")+("FROM_END"==d||"FROM_START"==d?", "+a:"")+")"}return[b,Q.Ha]};
Q.lists_sort=function(a){var b=P(Q,a,"LIST",Q.Ha)||"[]",c="1"===I(a,"DIRECTION")?1:-1;a=I(a,"TYPE");var d=ri("listsGetSortCompare",["function "+Q.td+"(type, direction) {","  var compareFuncs = {",'    "NUMERIC": function(a, b) {',"        return Number(a) - Number(b); },",'    "TEXT": function(a, b) {',"        return a.toString() > b.toString() ? 1 : -1; },",'    "IGNORE_CASE": function(a, b) {',"        return a.toString().toLowerCase() > b.toString().toLowerCase() ? 1 : -1; },","  };","  var compare = compareFuncs[type];",
"  return function(a, b) { return compare(a, b) * direction; }","}"]);return[b+".slice().sort("+d+'("'+a+'", '+c+"))",Q.Ha]};Q.lists_reverse=function(a){return[(P(Q,a,"LIST",Q.Ha)||"[]")+".slice().reverse()",Q.Ha]};Q.uv={};Q.controls_if=function(a){var b=0,c="";Q.cc&&(c+=ni(Q.cc,a));do{var d=P(Q,a,"IF"+b,Q.va)||"false";var e=oi(a,"DO"+b);Q.vb&&(e=li(ni(Q.vb,a),Q.Mb)+e);c+=(0<b?" else ":"")+"if ("+d+") {\n"+e+"}";++b}while(H(a,"IF"+b));if(H(a,"ELSE")||Q.vb)e=oi(a,"ELSE"),Q.vb&&(e=li(ni(Q.vb,a),Q.Mb)+e),c+=" else {\n"+e+"}";return c+"\n"};
Q.logic_compare=function(a){var b={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[I(a,"OP")],c="=="==b||"!="==b?Q.qp:Q.Ns,d=P(Q,a,"A",c)||"0";a=P(Q,a,"B",c)||"0";return[d+" "+b+" "+a,c]};Q.logic_operation=function(a){var b="AND"==I(a,"OP")?"&&":"||",c="&&"==b?Q.Sl:Q.Tl,d=P(Q,a,"A",c);a=P(Q,a,"B",c);if(d||a){var e="&&"==b?"true":"false";d||(d=e);a||(a=e)}else a=d="false";return[d+" "+b+" "+a,c]};Q.logic_negate=function(a){var b=Q.Ph;return["!"+(P(Q,a,"BOOL",b)||"true"),b]};
Q.logic_boolean=function(a){return["TRUE"==I(a,"BOOL")?"true":"false",Q.Qe]};Q.logic_ternary=function(a){var b=P(Q,a,"IF",Q.Pj)||"false",c=P(Q,a,"THEN",Q.Pj)||"null";a=P(Q,a,"ELSE",Q.Pj)||"null";return[b+" ? "+c+" : "+a,Q.Pj]};Q.vv={};Q.controls_repeat_ext=function(a){var b=Ed(a,"TIMES")?String(Number(I(a,"TIMES"))):P(Q,a,"TIMES",Q.Mf)||"0",c=oi(a,"DO");c=pi(c,a);a="";var d=si(Q.Da,"count","VARIABLE"),e=b;b.match(/^\w+$/)||yi(b)||(e=si(Q.Da,"repeat_end","VARIABLE"),a+="var "+e+" = "+b+";\n");return a+("for (var "+d+" = 0; "+d+" < "+e+"; "+d+"++) {\n"+c+"}\n")};Q.controls_repeat=Q.controls_repeat_ext;
Q.controls_whileUntil=function(a){var b="UNTIL"==I(a,"MODE"),c=P(Q,a,"BOOL",b?Q.Ph:Q.va)||"false",d=oi(a,"DO");d=pi(d,a);b&&(c="!"+c);return"while ("+c+") {\n"+d+"}\n"};
Q.controls_for=function(a){var b=Q.Da.Ub(I(a,"VAR"),"VARIABLE"),c=P(Q,a,"FROM",Q.Mf)||"0",d=P(Q,a,"TO",Q.Mf)||"0",e=P(Q,a,"BY",Q.Mf)||"1",f=oi(a,"DO");f=pi(f,a);if(yi(c)&&yi(d)&&yi(e)){var h=Number(c)<=Number(d);a="for ("+b+" = "+c+"; "+b+(h?" <= ":" >= ")+d+"; "+b;b=Math.abs(Number(e));a=(1==b?a+(h?"++":"--"):a+((h?" += ":" -= ")+b))+(") {\n"+f+"}\n")}else a="",h=c,c.match(/^\w+$/)||yi(c)||(h=si(Q.Da,b+"_start","VARIABLE"),a+="var "+h+" = "+c+";\n"),c=d,d.match(/^\w+$/)||yi(d)||(c=si(Q.Da,b+"_end",
"VARIABLE"),a+="var "+c+" = "+d+";\n"),d=si(Q.Da,b+"_inc","VARIABLE"),a+="var "+d+" = ",a=yi(e)?a+(Math.abs(e)+";\n"):a+("Math.abs("+e+");\n"),a=a+("if ("+h+" > "+c+") {\n")+(Q.Mb+d+" = -"+d+";\n"),a+="}\n",a+="for ("+b+" = "+h+"; "+d+" >= 0 ? "+b+" <= "+c+" : "+b+" >= "+c+"; "+b+" += "+d+") {\n"+f+"}\n";return a};
Q.controls_forEach=function(a){var b=Q.Da.Ub(I(a,"VAR"),"VARIABLE"),c=P(Q,a,"LIST",Q.Mf)||"[]",d=oi(a,"DO");d=pi(d,a);a="";var e=c;c.match(/^\w+$/)||(e=si(Q.Da,b+"_list","VARIABLE"),a+="var "+e+" = "+c+";\n");c=si(Q.Da,b+"_index","VARIABLE");d=Q.Mb+b+" = "+e+"["+c+"];\n"+d;return a+("for (var "+c+" in "+e+") {\n"+d+"}\n")};
Q.controls_flow_statements=function(a){var b="";Q.cc&&(b+=ni(Q.cc,a));Q.vb&&(b+=ni(Q.vb,a));if(Q.cc){var c=$n.hq(a);c&&!c.Ff&&(b+=ni(Q.cc,c))}switch(I(a,"FLOW")){case "BREAK":return b+"break;\n";case "CONTINUE":return b+"continue;\n"}throw Error("Unknown flow statement.");};Q.wv={};Q.math_number=function(a){a=Number(I(a,"NUM"));return[a,0<=a?Q.Qe:Q.Rh]};Q.math_arithmetic=function(a){var b={ADD:[" + ",Q.Lf],MINUS:[" - ",Q.Mg],MULTIPLY:[" * ",Q.Ul],DIVIDE:[" / ",Q.Oh],POWER:[null,Q.va]}[I(a,"OP")],c=b[0];b=b[1];var d=P(Q,a,"A",b)||"0";a=P(Q,a,"B",b)||"0";return c?[d+c+a,b]:["Math.pow("+d+", "+a+")",Q.Ha]};
Q.math_single=function(a){var b=I(a,"OP");if("NEG"==b)return a=P(Q,a,"NUM",Q.Rh)||"0","-"==a[0]&&(a=" "+a),["-"+a,Q.Rh];a="SIN"==b||"COS"==b||"TAN"==b?P(Q,a,"NUM",Q.Oh)||"0":P(Q,a,"NUM",Q.va)||"0";switch(b){case "ABS":var c="Math.abs("+a+")";break;case "ROOT":c="Math.sqrt("+a+")";break;case "LN":c="Math.log("+a+")";break;case "EXP":c="Math.exp("+a+")";break;case "POW10":c="Math.pow(10,"+a+")";break;case "ROUND":c="Math.round("+a+")";break;case "ROUNDUP":c="Math.ceil("+a+")";break;case "ROUNDDOWN":c=
"Math.floor("+a+")";break;case "SIN":c="Math.sin("+a+" / 180 * Math.PI)";break;case "COS":c="Math.cos("+a+" / 180 * Math.PI)";break;case "TAN":c="Math.tan("+a+" / 180 * Math.PI)"}if(c)return[c,Q.Ha];switch(b){case "LOG10":c="Math.log("+a+") / Math.log(10)";break;case "ASIN":c="Math.asin("+a+") / Math.PI * 180";break;case "ACOS":c="Math.acos("+a+") / Math.PI * 180";break;case "ATAN":c="Math.atan("+a+") / Math.PI * 180";break;default:throw Error("Unknown math operator: "+b);}return[c,Q.Oh]};
Q.math_constant=function(a){return{PI:["Math.PI",Q.cb],E:["Math.E",Q.cb],GOLDEN_RATIO:["(1 + Math.sqrt(5)) / 2",Q.Oh],SQRT2:["Math.SQRT2",Q.cb],SQRT1_2:["Math.SQRT1_2",Q.cb],INFINITY:["Infinity",Q.Qe]}[I(a,"CONSTANT")]};
Q.math_number_property=function(a){var b=P(Q,a,"NUMBER_TO_CHECK",Q.Qh)||"0",c=I(a,"PROPERTY");if("PRIME"==c){var d=ri("mathIsPrime",["function "+Q.td+"(n) {","  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods","  if (n == 2 || n == 3) {","    return true;","  }","  // False if n is NaN, negative, is 1, or not whole.","  // And false if n is divisible by 2 or 3.","  if (isNaN(n) || n <= 1 || n % 1 != 0 || n % 2 == 0 || n % 3 == 0) {","    return false;","  }","  // Check all the numbers of form 6k +/- 1, up to sqrt(n).",
"  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {","    if (n % (x - 1) == 0 || n % (x + 1) == 0) {","      return false;","    }","  }","  return true;","}"])+"("+b+")";return[d,Q.Ha]}switch(c){case "EVEN":d=b+" % 2 == 0";break;case "ODD":d=b+" % 2 == 1";break;case "WHOLE":d=b+" % 1 == 0";break;case "POSITIVE":d=b+" > 0";break;case "NEGATIVE":d=b+" < 0";break;case "DIVISIBLE_BY":a=P(Q,a,"DIVISOR",Q.Qh)||"0",d=b+" % "+a+" == 0"}return[d,Q.qp]};
Q.math_change=function(a){var b=P(Q,a,"DELTA",Q.Lf)||"0";a=Q.Da.Ub(I(a,"VAR"),"VARIABLE");return a+" = (typeof "+a+" == 'number' ? "+a+" : 0) + "+b+";\n"};Q.math_round=Q.math_single;Q.math_trig=Q.math_single;Q.math_modulo=function(a){var b=P(Q,a,"DIVIDEND",Q.Qh)||"0";a=P(Q,a,"DIVISOR",Q.Qh)||"0";return[b+" % "+a,Q.Qh]};Q.math_constrain=function(a){var b=P(Q,a,"VALUE",Q.va)||"0",c=P(Q,a,"LOW",Q.va)||"0";a=P(Q,a,"HIGH",Q.va)||"Infinity";return["Math.min(Math.max("+b+", "+c+"), "+a+")",Q.Ha]};
Q.math_random_int=function(a){var b=P(Q,a,"FROM",Q.va)||"0";a=P(Q,a,"TO",Q.va)||"0";return[ri("mathRandomInt",["function "+Q.td+"(a, b) {","  if (a > b) {","    // Swap a and b to ensure a is smaller.","    var c = a;","    a = b;","    b = c;","  }","  return Math.floor(Math.random() * (b - a + 1) + a);","}"])+"("+b+", "+a+")",Q.Ha]};Q.math_random_float=function(){return["Math.random()",Q.Ha]};
Q.math_atan2=function(a){var b=P(Q,a,"X",Q.va)||"0";return["Math.atan2("+(P(Q,a,"Y",Q.va)||"0")+", "+b+") / Math.PI * 180",Q.Oh]};Q.mu={};Q.procedures_defreturn=function(a){var b=Q.Da.Ub(I(a,"NAME"),"PROCEDURE"),c="";Q.cc&&(c+=ni(Q.cc,a));Q.vb&&(c+=ni(Q.vb,a));c&&(c=li(c,Q.Mb));var d="";Q.Lj&&(d=li(ni(Q.Lj,a),Q.Mb));var e=oi(a,"STACK"),f=P(Q,a,"RETURN",Q.va)||"",h="";e&&f&&(h=c);f&&(f=Q.Mb+"return "+f+";\n");for(var l=[],m=a.ne(),p=0;p<m.length;p++)l[p]=Q.Da.Ub(m[p],"VARIABLE");c="function "+b+"("+l.join(", ")+") {\n"+c+d+e+h+f+"}";c=Q.zl(a,c);Q.Xg["%"+b]=c;return null};Q.procedures_defnoreturn=Q.procedures_defreturn;
Q.procedures_callreturn=function(a){for(var b=Q.Da.Ub(I(a,"NAME"),"PROCEDURE"),c=[],d=a.ne(),e=0;e<d.length;e++)c[e]=P(Q,a,"ARG"+e,Q.va)||"null";return[b+"("+c.join(", ")+")",Q.Ha]};Q.procedures_callnoreturn=function(a){return Q.procedures_callreturn(a)[0]+";\n"};Q.procedures_ifreturn=function(a){var b="if ("+(P(Q,a,"CONDITION",Q.va)||"false")+") {\n";Q.vb&&(b+=li(ni(Q.vb,a),Q.Mb));a.bf?(a=P(Q,a,"VALUE",Q.va)||"null",b+=Q.Mb+"return "+a+";\n"):b+=Q.Mb+"return;\n";return b+"}\n"};Q.Av={};Q.text=function(a){return[Q.rh(I(a,"TEXT")),Q.Qe]};Q.Ev={};Q.variables_get=function(a){return[Q.Da.Ub(I(a,"VAR"),"VARIABLE"),Q.Qe]};Q.variables_set=function(a){var b=P(Q,a,"VALUE",Q.Mf)||"0";return Q.Da.Ub(I(a,"VAR"),"VARIABLE")+" = "+b+";\n"};function io(){var a=[[U("Turtle.moveForward",!1),"moveForward"],[U("Turtle.moveBackward",!1),"moveBackward"]],b=[[U("Turtle.turnRight",!1),"turnRight"],[U("Turtle.turnLeft",!1),"turnLeft"]];Ih("turtle_turn_arrows",function(){var c=Uh(Ed(this,"DIR"));c[0][0]+=" \u21bb";c[1][0]+=" \u21ba"});ll([{type:"turtle_move",message0:"%1%2",args0:[{type:"field_dropdown",name:"DIR",options:a},{type:"input_value",name:"VALUE",check:"Number"}],previousStatement:null,nextStatement:null,colour:160,tooltip:U("Turtle.moveTooltip",
!1)},{type:"turtle_move_internal",message0:"%1%2",args0:[{type:"field_dropdown",name:"DIR",options:a},{type:"field_dropdown",name:"VALUE",options:[["20","20"],["50","50"],["100","100"],["150","150"]]}],previousStatement:null,nextStatement:null,colour:160,tooltip:U("Turtle.moveTooltip",!1)},{type:"turtle_turn",message0:"%1%2",args0:[{type:"field_dropdown",name:"DIR",options:b},{type:"input_value",name:"VALUE",check:"Number"}],previousStatement:null,nextStatement:null,colour:160,tooltip:U("Turtle.turnTooltip",
!1),extensions:["turtle_turn_arrows"]},{type:"turtle_turn_internal",message0:"%1%2",args0:[{type:"field_dropdown",name:"DIR",options:b},{type:"field_dropdown",name:"VALUE",options:[["1\u00b0","1"],["45\u00b0","45"],["72\u00b0","72"],["90\u00b0","90"],["120\u00b0","120"],["144\u00b0","144"]]}],previousStatement:null,nextStatement:null,colour:160,tooltip:U("Turtle.turnTooltip",!1),extensions:["turtle_turn_arrows"]},{type:"turtle_width",message0:U("Turtle.setWidth",!1)+"%1",args0:[{type:"input_value",
name:"WIDTH",check:"Number"}],previousStatement:null,nextStatement:null,colour:160,tooltip:U("Turtle.widthTooltip",!1)},{type:"turtle_pen",message0:"%1",args0:[{type:"field_dropdown",name:"PEN",options:[[U("Turtle.penUp",!1),"penUp"],[U("Turtle.penDown",!1),"penDown"]]}],previousStatement:null,nextStatement:null,colour:160,tooltip:U("Turtle.penTooltip",!1)},{type:"turtle_colour",message0:U("Turtle.setColour",!1)+"%1",args0:[{type:"input_value",name:"COLOUR",check:"Colour"}],previousStatement:null,
nextStatement:null,colour:"%{BKY_COLOUR_HUE}",tooltip:U("Turtle.colourTooltip",!1)},{type:"turtle_colour_internal",message0:U("Turtle.setColour",!1)+"%1",args0:[{type:"field_colour",name:"COLOUR",colour:"#ff0000"}],previousStatement:null,nextStatement:null,colour:"%{BKY_COLOUR_HUE}",tooltip:U("Turtle.colourTooltip",!1)},{type:"turtle_visibility",message0:"%1",args0:[{type:"field_dropdown",name:"VISIBILITY",options:[[U("Turtle.hideTurtle",!1),"hideTurtle"],[U("Turtle.showTurtle",!1),"showTurtle"]]}],
previousStatement:null,nextStatement:null,colour:160,tooltip:U("Turtle.turtleVisibilityTooltip",!1)},{type:"turtle_print",message0:U("Turtle.print",!1)+"%1",args0:[{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,colour:160,tooltip:U("Turtle.printTooltip",!1),helpUrl:U("Turtle.printHelpUrl",!1)},{type:"turtle_font",message0:U("Turtle.font",!1)+"%1%2"+U("Turtle.fontSize",!1)+"%3%4%5",args0:[{type:"field_dropdown",name:"FONT",options:[["Arial","Arial"],["Courier New","Courier New"],
["Georgia","Georgia"],["Impact","Impact"],["Times New Roman","Times New Roman"],["Trebuchet MS","Trebuchet MS"],["Verdana","Verdana"]]},{type:"input_dummy"},{type:"field_number",name:"FONTSIZE",value:18,min:1,max:1E3},{type:"input_dummy"},{type:"field_dropdown",name:"FONTSTYLE",options:[[U("Turtle.fontNormal",!1),"normal"],[U("Turtle.fontItalic",!1),"italic"],[U("Turtle.fontBold",!1),"bold"]]}],previousStatement:null,nextStatement:null,colour:160,tooltip:U("Turtle.fontTooltip",!1),helpUrl:U("Turtle.fontHelpUrl",
!1)},{type:"turtle_repeat_internal",message0:"%{BKY_CONTROLS_REPEAT_TITLE}%2%{BKY_CONTROLS_REPEAT_INPUT_DO}%3",args0:[{type:"field_dropdown",name:"TIMES",options:[["3","3"],["4","4"],["5","5"],["360","360"]]},{type:"input_dummy"},{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,colour:"%{BKY_LOOPS_HUE}",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"}])}
Q.turtle_move=function(a){var b=P(Q,a,"VALUE",Q.Nh)||"0";return I(a,"DIR")+"("+b+", 'block_id_"+a.id+"');\n"};Q.turtle_move_internal=function(a){var b=Number(I(a,"VALUE"));return I(a,"DIR")+"("+b+", 'block_id_"+a.id+"');\n"};Q.turtle_turn=function(a){var b=P(Q,a,"VALUE",Q.Nh)||"0";return I(a,"DIR")+"("+b+", 'block_id_"+a.id+"');\n"};Q.turtle_turn_internal=function(a){var b=Number(I(a,"VALUE"));return I(a,"DIR")+"("+b+", 'block_id_"+a.id+"');\n"};
Q.turtle_width=function(a){return"penWidth("+(P(Q,a,"WIDTH",Q.Nh)||"1")+", 'block_id_"+a.id+"');\n"};Q.turtle_pen=function(a){return I(a,"PEN")+"('block_id_"+a.id+"');\n"};Q.turtle_colour=function(a){return"penColour("+(P(Q,a,"COLOUR",Q.Nh)||"'#000000'")+", 'block_id_"+a.id+"');\n"};Q.turtle_colour_internal=function(a){return"penColour("+Q.rh(I(a,"COLOUR"))+", 'block_id_"+a.id+"');\n"};Q.turtle_visibility=function(a){return I(a,"VISIBILITY")+"('block_id_"+a.id+"');\n"};
Q.turtle_print=function(a){return"print("+String(P(Q,a,"TEXT",Q.Nh)||"''")+", 'block_id_"+a.id+"');\n"};Q.turtle_font=function(a){var b=Q.rh(I(a,"FONT")),c=Number(I(a,"FONTSIZE")),d=Q.rh(I(a,"FONTSTYLE"));return"font("+b+", "+c+", "+d+", 'block_id_"+a.id+"');\n"};Q.turtle_repeat_internal=Q.controls_repeat;function jo(){return'\n<div class="farSide" style="padding: 1ex 3ex 0">\n  <button class="secondary addHideHandler">'+Dl(k.DIALOG_OK)+"</button>\n</div>\n"};function ko(){var a=U("Games.turtle",!0),b="";var c='\n&nbsp;\n<button id="linkButton" title="'+U("Games.linkTooltip",!0)+'">\n  <img src="common/1x1.gif" class="link icon21">\n</button>\n';var d='\n&nbsp;\n<button id="helpButton">'+U("Games.help",!0)+"</button>\n";b&&(b=" &nbsp; "+b);a='\n<span id="title">\n  <a href="'+(ql?"index.html":"./")+"?lang="+nl+'">'+U("Games.name",!0)+"</a> : "+a+"\n</span>\n";if(T){var e=" &nbsp ";for(var f=1;10>=f;f++){var h="?lang="+nl+"&level="+f;e+=" ";e=f===T?e+('<span class="level_number level_done" id="level'+
f+'">'+f+"</span>"):10===f?e+('<a class="level_number" id="level'+f+'" href="'+h+'">'+f+"</a>"):e+('<a class="level_dot" id="level'+f+'" href="'+h+'"></a>')}}else e="";b='\n\n<table width="100%">\n  <tr>\n    <td>\n      <h1>\n        '+(a+"\n        "+e+'\n      </h1>\n    </td>\n    <td id="header_cta" class="farSide">\n      <select id="languageMenu"></select>\n      '+c+"\n      "+d+"\n      "+b+'\n    </td>\n  </tr>\n</table>\n\n\n<div id="visualization">\n  <canvas id="scratch" width=400 height=400 style="display: none"></canvas>\n  <canvas id="answer" width=400 height=400 style="display: none"></canvas>\n  <canvas id="display" width=400 height=400></canvas>\n</div>\n<table style="padding-top: 1em;">\n  <tr>\n    <td style="width: 190px; text-align: center; vertical-align: top;">\n      <svg\n          id="slider"\n          xmlns="http://www.w3.org/2000/svg"\n          xmlns:svg="http://www.w3.org/2000/svg"\n          xmlns:xlink="http://www.w3.org/1999/xlink"\n          version="1.1"\n          width=150\n          height=50>\n        \x3c!-- Slow icon. --\x3e\n        <clipPath id="slowClipPath">\n          <rect width=26 height=12 x=5 y=14 />\n        </clipPath>\n        <image xlink:href="common/icons.png" height=63 width=84 x=-21 y=-10\n            clip-path="url(#slowClipPath)" />\n        \x3c!-- Fast icon. --\x3e\n        <clipPath id="fastClipPath">\n          <rect width=26 height=16 x=120 y=10 />\n        </clipPath>\n        <image xlink:href="common/icons.png" height=63 width=84 x=120 y=-11\n            clip-path="url(#fastClipPath)" />\n      </svg>\n    </td>\n    <td style="width: 15px;">\n      <img id="spinner" style="visibility: hidden;" src="common/loading.gif" loading="lazy" height=15 width=15>\n    </td>\n    <td style="width: 190px; text-align: center">\n      <button id="runButton" class="primary" title="')+
U("Games.runTooltip",!0)+'">\n        <img src="common/1x1.gif" class="run icon21"> '+U("Games.runProgram",!0)+'\n      </button>\n      <button id="resetButton" class="primary" style="display: none" title="'+U("Games.resetTooltip",!0)+'">\n        <img src="common/1x1.gif" class="stop icon21"> '+U("Games.resetProgram",!0)+"\n      </button>\n    </td>\n  </tr>\n</table>\n\n"+(10!==T||ql?"":'\n<table style="padding-top: 1em; width: 400px;">\n  <tr>\n    <td style="text-align: center;">\n      <form action="/gallery" target="turtle-gallery">\n        <input type="hidden" name="app" value="turtle">\n        <input type="hidden" name="lang" value="'+
nl+'">\n        <button type="submit" title="'+U("Turtle.galleryTooltip",!0)+'">\n          <img src="common/1x1.gif" class="gallery icon21"> '+U("Turtle.galleryMsg",!0)+'\n        </button>\n      </form>\n    </td>\n    <td style="text-align: center;">\n      <button id="submitButton" title="'+U("Turtle.submitTooltip",!0)+'">\n        <img src="common/1x1.gif" class="camera icon21"> '+U("Turtle.submitMsg",!0)+'\n      </button>\n    </td>\n  </tr>\n</table>\n<div id="galleryDialog" class="dialogHiddenContent">\n    <form id="galleryForm" action="/gallery-api/submit" method="post" onsubmit="return false">\n    <header>'+
U("Turtle.submitTooltip",!0)+'</header>\n    <canvas id="thumbnail" width=200 height=200></canvas>\n    <input type="hidden" name="app" value="turtle">\n    <input id="galleryThumb" type="hidden" name="thumb">\n    <input id="galleryXml" type="hidden" name="xml">\n    <div>\n      '+U("Games.submitTitle",!0)+'\n      <input id="galleryTitle" type="text" name="title" required>\n    </div>\n\n    <div class="farSide">\n      <button class="addHideHandler" type="button">'+Dl(k.DIALOG_CANCEL)+'</button>\n      <button id="galleryOk" class="secondary" type="submit">'+
Dl(k.DIALOG_OK)+"</button>\n    </div>\n  </form>\n</div>\n")+"\n\n";10===T?c='\n<category name="'+U("Games.turtle",!0)+'">\n  <block type="turtle_move">\n    <value name="VALUE">\n      <shadow type="math_number">\n        <field name="NUM">10</field>\n      </shadow>\n    </value>\n  </block>\n  <block type="turtle_turn">\n    <value name="VALUE">\n      <shadow type="math_number">\n        <field name="NUM">90</field>\n      </shadow>\n    </value>\n  </block>\n  <block type="turtle_width">\n    <value name="WIDTH">\n      <shadow type="math_number">\n        <field name="NUM">1</field>\n      </shadow>\n    </value>\n  </block>\n  <block type="turtle_pen"></block>\n  <block type="turtle_visibility"></block>\n  <block type="turtle_print">\n    <value name="TEXT">\n      <shadow type="text"></shadow>\n    </value>\n  </block>\n  <block type="turtle_font"></block>\n</category>\n<category name="'+
U("Games.catColour",!0)+'">\n  <block type="turtle_colour">\n    <value name="COLOUR">\n      <shadow type="colour_picker"></shadow>\n    </value>\n  </block>\n  <block type="colour_picker"></block>\n  <block type="colour_random"></block>\n  <block type="colour_rgb">\n    <value name="RED">\n      <shadow type="math_number">\n        <field name="NUM">100</field>\n      </shadow>\n    </value>\n    <value name="GREEN">\n      <shadow type="math_number">\n        <field name="NUM">50</field>\n      </shadow>\n    </value>\n    <value name="BLUE">\n      <shadow type="math_number">\n        <field name="NUM">0</field>\n      </shadow>\n    </value>\n  </block>\n  <block type="colour_blend">\n    <value name="COLOUR1">\n      <shadow type="colour_picker">\n        <field name="COLOUR">#ff0000</field>\n      </shadow>\n    </value>\n    <value name="COLOUR2">\n      <shadow type="colour_picker">\n        <field name="COLOUR">#3333ff</field>\n      </shadow>\n    </value>\n    <value name="RATIO">\n      <shadow type="math_number">\n        <field name="NUM">0.5</field>\n      </shadow>\n    </value>\n  </block>\n</category>\n<category name="'+
U("Games.catLogic",!0)+'">\n  <block type="controls_if"></block>\n  <block type="logic_compare"></block>\n  <block type="logic_operation"></block>\n  <block type="logic_negate"></block>\n  <block type="logic_boolean"></block>\n  <block type="logic_ternary"></block>\n</category>\n<category name="'+U("Games.catLoops",!0)+'">\n  <block type="controls_repeat_ext">\n    <value name="TIMES">\n      <shadow type="math_number">\n        <field name="NUM">10</field>\n      </shadow>\n    </value>\n  </block>\n  <block type="controls_whileUntil"></block>\n  <block type="controls_for">\n    <value name="FROM">\n      <shadow type="math_number">\n        <field name="NUM">1</field>\n      </shadow>\n    </value>\n    <value name="TO">\n      <shadow type="math_number">\n        <field name="NUM">10</field>\n      </shadow>\n    </value>\n    <value name="BY">\n      <shadow type="math_number">\n        <field name="NUM">1</field>\n      </shadow>\n    </value>\n  </block>\n  <block type="controls_flow_statements"></block>\n</category>\n<category name="'+
U("Games.catMath",!0)+'">\n  <block type="math_number"></block>\n  <block type="math_arithmetic">\n    <value name="A">\n      <shadow type="math_number">\n        <field name="NUM">1</field>\n      </shadow>\n    </value>\n    <value name="B">\n      <shadow type="math_number">\n        <field name="NUM">1</field>\n      </shadow>\n    </value>\n  </block>\n  <block type="math_single">\n    <value name="NUM">\n      <shadow type="math_number">\n        <field name="NUM">9</field>\n      </shadow>\n    </value>\n  </block>\n  <block type="math_trig">\n    <value name="NUM">\n      <shadow type="math_number">\n        <field name="NUM">45</field>\n      </shadow>\n    </value>\n  </block>\n  <block type="math_constant"></block>\n  <block type="math_number_property">\n    <value name="NUMBER_TO_CHECK">\n      <shadow type="math_number">\n        <field name="NUM">0</field>\n      </shadow>\n    </value>\n  </block>\n  <block type="math_round">\n    <value name="NUM">\n      <shadow type="math_number">\n        <field name="NUM">3.1</field>\n      </shadow>\n    </value>\n  </block>\n  <block type="math_modulo">\n    <value name="DIVIDEND">\n      <shadow type="math_number">\n        <field name="NUM">64</field>\n      </shadow>\n    </value>\n    <value name="DIVISOR">\n      <shadow type="math_number">\n        <field name="NUM">10</field>\n      </shadow>\n    </value>\n  </block>\n  <block type="math_constrain">\n    <value name="VALUE">\n      <shadow type="math_number">\n        <field name="NUM">50</field>\n      </shadow>\n    </value>\n    <value name="LOW">\n      <shadow type="math_number">\n        <field name="NUM">1</field>\n      </shadow>\n    </value>\n    <value name="HIGH">\n      <shadow type="math_number">\n        <field name="NUM">100</field>\n      </shadow>\n    </value>\n  </block>\n  <block type="math_random_int">\n    <value name="FROM">\n      <shadow type="math_number">\n        <field name="NUM">1</field>\n      </shadow>\n    </value>\n    <value name="TO">\n      <shadow type="math_number">\n        <field name="NUM">100</field>\n      </shadow>\n    </value>\n  </block>\n  <block type="math_random_float"></block>\n</category>\n<category name="'+
U("Games.catLists",!0)+'">\n  <block type="lists_create_with">\n    <mutation items="0"></mutation>\n  </block>\n  <block type="lists_create_with"></block>\n  <block type="lists_repeat">\n    <value name="NUM">\n      <shadow type="math_number">\n        <field name="NUM">5</field>\n      </shadow>\n    </value>\n  </block>\n  <block type="lists_length"></block>\n  <block type="lists_isEmpty"></block>\n  <block type="lists_indexOf">\n    <value name="VALUE">\n      <block type="variables_get">\n        <field name="VAR">list</field>\n      </block>\n    </value>\n  </block>\n  <block type="lists_getIndex">\n    <value name="VALUE">\n      <block type="variables_get">\n        <field name="VAR">list</field>\n      </block>\n    </value>\n  </block>\n  <block type="lists_setIndex">\n    <value name="LIST">\n      <block type="variables_get">\n        <field name="VAR">list</field>\n      </block>\n    </value>\n  </block>\n  <block type="lists_getSublist">\n    <value name="LIST">\n      <block type="variables_get">\n        <field name="VAR">list</field>\n      </block>\n    </value>\n  </block>\n  <block type="lists_sort"></block>\n  <block type="lists_reverse"></block>\n</category>\n<sep></sep>\n<category name="'+
U("Games.catVariables",!0)+'" custom="VARIABLE"></category>\n<category name="'+U("Games.catProcedures",!0)+'" custom="PROCEDURE"></category>\n':(c=3<T?'<block type="turtle_pen"></block>':"",d=2<T?'\n<category name="'+U("Games.catColour",!0)+'">\n  <block type="turtle_colour_internal"></block>\n</category>\n':"",c='\n<category name="'+U("Games.turtle",!0)+'">\n  <block type="turtle_move_internal">\n    <field name="VALUE">100</field>\n  </block>\n  <block type="turtle_turn_internal">\n    <field name="VALUE">90</field>\n  </block>\n  '+
c+"\n</category>\n"+d+'\n<category name="'+U("Games.catLoops",!0)+'">\n  <block type="turtle_repeat_internal">\n    <field name="TIMES">4</field>\n  </block>\n</category>\n');b=b+('<xml id="toolbox" xmlns="https://developers.google.com/blockly/xml">'+c+'</xml>\n<div id="blockly"></div>\n\n\n<div id="dialogShadow" class="dialogAnimate"></div>\n<div id="dialogBorder"></div>\n<div id="dialog"></div>\n\n\n<div id="dialogDone" class="dialogHiddenContent">\n  <div id="dialogLinesText" style="font-size: large; margin: 1em;"></div>\n  <pre id="containerCode"></pre>\n  <div id="dialogDoneText" style="font-size: large; margin: 1em;"></div>\n  <div id="dialogDoneButtons" class="farSide" style="padding: 1ex 3ex 0">\n    <button class="addHideHandler">')+
(Dl(k.DIALOG_CANCEL)+'</button>\n    <button id="doneOk" class="secondary">'+Dl(k.DIALOG_OK)+'</button>\n  </div>\n</div>\n\n\n<div id="dialogAbort" class="dialogHiddenContent">\n  ')+(U("Games.helpAbort",!0)+'\n  <div class="farSide" style="padding: 1ex 3ex 0">\n    <button class="addHideHandler">'+Dl(k.DIALOG_CANCEL)+'</button>\n    <button id="abortOk" class="secondary">'+Dl(k.DIALOG_OK)+'</button>\n  </div>\n</div>\n\n\n<div id="dialogStorage" class="dialogHiddenContent">\n  <div id="containerStorage"></div>\n  ')+
(jo()+"\n</div>\n\n\n");c="";switch(T){case 1:c=U("Turtle.helpText1",!0)+'<br><img src="turtle/square.gif" height=146 width=146 style="margin-bottom: -50px">';break;case 2:c=U("Turtle.helpText2",!0);break;case 3:c=U("Turtle.helpText3a",!0)+'<div id="sampleHelp3" class="readonly"></div>'+U("Turtle.helpText3b",!0);break;case 4:c=U("Turtle.helpText4a",!0)+'<div id="sampleHelp4" class="readonly"></div>'+U("Turtle.helpText4b",!0);break;case 5:c=U("Turtle.helpText5",!0);break;case 6:c=U("Turtle.helpText6",
!0);break;case 7:c=U("Turtle.helpText7",!0);break;case 8:c=U("Turtle.helpText8",!0);break;case 9:c=U("Turtle.helpText9",!0);break;case 10:c=U("Turtle.helpText10",!0),ql||(c+="<br><br>"+U("Turtle.helpText10Reddit",!0))}d="";3>T?d=U("Turtle.helpUseLoop3",!0):4>T&&(d=U("Turtle.helpUseLoop4",!0));c='\n<div id="help" class="dialogHiddenContent">\n  <div style="padding-bottom: 0.7ex">\n    '+c+"\n  </div>\n  "+jo()+'\n</div>\n\n<div id="helpToolbox" class="dialogHiddenContent">\n  <div><img src="turtle/help_left.png" class="mirrorImg" height=23 width=64></div>\n  '+
U("Turtle.helpToolbox",!0)+'\n</div>\n\n<div id="helpUseLoop" class="dialogHiddenContent">\n  <div style="padding-bottom: 0.7ex">\n    '+U("Turtle.helpUseLoop",!0)+"\n    "+d+"\n  </div>\n  "+jo()+"\n</div>\n";return b+c+"\n"};var Bl="turtle",lo=[],mo=0,no=null,oo=!0,po=!1,qo,X,ro,Y,so,to,uo,vo;
function an(a){for(var b=a=sd(a);b;){if("block"===b.nodeName.toLowerCase()){for(var c=b.getAttribute("type"),d=b.lastChild;d&&"field"!==d.nodeName.toLowerCase();)d=d.previousSibling;var e=d&&d.getAttribute("name");if("turtle_colour_internal"===c&&"COLOUR"===e){b.setAttribute("type","turtle_colour");b.removeChild(d);var f=document.createElement("value");f.setAttribute("name","COLOUR");b.appendChild(f);var h=document.createElement("shadow");h.setAttribute("type","colour_picker");f.appendChild(h);h.appendChild(d)}"turtle_repeat_internal"===
c&&"TIMES"===e&&(b.setAttribute("type","controls_repeat_ext"),b.removeChild(d),f=document.createElement("value"),f.setAttribute("name","TIMES"),b.appendChild(f),h=document.createElement("shadow"),h.setAttribute("type","math_number"),f.appendChild(h),d.setAttribute("name","NUM"),h.appendChild(d));"turtle_move_internal"===c&&"VALUE"===e&&(b.setAttribute("type","turtle_move"),b.removeChild(d),f=document.createElement("value"),f.setAttribute("name","VALUE"),b.appendChild(f),h=document.createElement("shadow"),
h.setAttribute("type","math_number"),f.appendChild(h),d.setAttribute("name","NUM"),h.appendChild(d));"turtle_turn_internal"===c&&"VALUE"===e&&(b.setAttribute("type","turtle_turn"),b.removeChild(d),c=document.createElement("value"),c.setAttribute("name","VALUE"),b.appendChild(c),e=document.createElement("shadow"),e.setAttribute("type","math_number"),c.appendChild(e),d.setAttribute("name","NUM"),e.appendChild(d))}b=wo(b)}return rd(a)}
function wo(a){if(a.firstChild)return a.firstChild;do if(a.nextSibling)return a.nextSibling;while(a=a.parentNode);return a}function xo(){var a=S("help"),b=S("helpButton");3===T?fn("sampleHelp3",'<xml><block type="turtle_colour_internal" x="5" y="10"><field name="COLOUR">#ffff00</field></block></xml>'):4===T&&fn("sampleHelp4",'<xml><block type="turtle_pen" x="5" y="10"></block></xml>');W.rg(a,b,!0,!0,{width:"50%",left:"25%",top:"5em"},yo);W.Ro()}function yo(){W.So();1===T&&setTimeout(zo,5E3)}
function zo(){if(!Ao&&!W.hf){var a=S("helpToolbox"),b={width:"25%",top:"3.3em"};pl?b.right="525px":b.left="525px";var c=S(":0");W.rg(a,c,!0,!1,b,null)}}var Ao=!1;function Bo(a){"toolbox_item_select"===a.type&&(Ao=!0,W.Xf(!1),qb(gk.Ya,Bo))}function Co(){to=so=200;uo=0;oo=vo=!0;Y.canvas.width=Y.canvas.width;Y.strokeStyle="#fff";Y.fillStyle="#fff";Y.lineWidth=5;Y.lineCap="round";Y.font="normal 18pt Arial";Do();lo.forEach(clearTimeout);lo.length=0;no=null}
function Do(){X.beginPath();X.rect(0,0,X.canvas.width,X.canvas.height);X.fillStyle="#000";X.fill();X.globalCompositeOperation="source-over";X.globalAlpha=.2;X.drawImage(ro.canvas,0,0);X.globalAlpha=1;X.globalCompositeOperation="source-over";X.drawImage(Y.canvas,0,0);if(oo){X.strokeStyle=Y.strokeStyle;X.fillStyle=Y.fillStyle;var a=Y.lineWidth/2+10;X.beginPath();X.arc(so,to,a,0,2*Math.PI,!1);X.lineWidth=3;X.stroke();var b=uo*Math.PI/180,c=so+(a+10)*Math.sin(b),d=to-(a+10)*Math.cos(b);b-=.3;var e=so+
(a+4)*Math.sin(b),f=to-(a+4)*Math.cos(b);b+=.15;var h=so+(a+6)*Math.sin(b),l=to-(a+6)*Math.cos(b);b+=.3;var m=so+(a+6)*Math.sin(b),p=to-(a+6)*Math.cos(b);b+=.15;var q=so+(a+4)*Math.sin(b);a=to-(a+4)*Math.cos(b);X.beginPath();X.moveTo(c,d);X.lineTo(e,f);X.bezierCurveTo(h,l,m,p,q,a);X.closePath();X.fill()}}
function Eo(a){if(!gn(a)){a=S("runButton");var b=S("resetButton");b.style.minWidth||(b.style.minWidth=a.offsetWidth+"px");a.style.display="none";b.style.display="inline";S("spinner").style.visibility="visible";Fo()}}function Go(a){gn(a)||(S("runButton").style.display="inline",S("resetButton").style.display="none",S("spinner").style.visibility="hidden",fk(null),Co(),po=!1)}
function Ho(a,b){function c(e){a.setProperty(b,e,a.createNativeFunction(d,!1))}var d=function(e,f){Z(e,f)};c("moveForward");d=function(e,f){Z(-e,f)};c("moveBackward");d=function(e,f){Io(e,f)};c("turnRight");d=function(e,f){Io(-e,f)};c("turnLeft");d=function(e){Jo(!1,e)};c("penUp");d=function(e){Jo(!0,e)};c("penDown");d=function(e,f){Y.lineWidth=e;Ko(f)};c("penWidth");d=function(e,f){Lo(e,f)};c("penColour");d=function(e){Ko(e)};c("hideTurtle");d=function(e){Ko(e)};c("showTurtle");d=function(e,f){Y.save();
Y.translate(so,to);Y.rotate((uo-90)*Math.PI/180);Y.fillText(e,0,0);Y.restore();Ko(f)};c("print");d=function(e,f,h,l){Y.font=h+" "+f+"pt "+e;Ko(l)};c("font")}
function Fo(){if("Interpreter"in window){Co();J&&Bg(J);var a=Q;var b=gk;b||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),b=nf);var c=[];a.I(b);b=b.fb(!0);for(var d=0,e;e=b[d];d++){var f=mi(a,e);Array.isArray(f)&&(f=f[0]);f&&(e.v&&(f=a.Ar(f),a.cc&&!e.Ff&&(f=ni(a.cc,e)+f),a.vb&&!e.Ff&&(f+=ni(a.vb,e))),c.push(f))}c=c.join("\n");c=a.finish(c);c=c.replace(/^\s+\n/,"");c=c.replace(/\n\s+$/,"\n");kn=a=c=c.replace(/[ \t]+\n/g,"\n");Vm=Xm();no=new Interpreter(a,Ho);lo.push(setTimeout(Mo,
100))}else setTimeout(Fo,99)}
function Mo(){mo=lo.length=0;var a=1E3;do{try{var b=no.step()}catch(f){alert(f),b=!1}a--||(mo=1);b&&mo&&(b=!1,lo.push(setTimeout(Mo,mo)))}while(b);if(!mo){S("spinner").style.visibility="hidden";fk(null);a=Y.getImageData(0,0,400,400);b=ro.getImageData(0,0,400,400);for(var c=Math.min(a.data.length,b.data.length),d=0,e=3;e<c;e+=4)64<Math.abs(a.data[e]-b.data[e])&&d++;No(d)?(window.localStorage&&(window.localStorage[Bl+T]=Vm),10>T&&(gk.vd.play("win",.5),on())):Lo("#ff0000");po=!0}}
function Ko(a){if(a){Do();if(a){var b=a.match(/^block_id_([^']+)$/);b&&(a=b[1])}fk(a);mo=Math.max(1,1E3*Math.pow(1-qo.Ra(),2))}}function Z(a,b){vo&&(Y.beginPath(),Y.moveTo(so,to));var c=0;if(a){var d=uo*Math.PI/180;so+=a*Math.sin(d);to-=a*Math.cos(d)}else c=.1;vo&&(Y.lineTo(so,to+c),Y.stroke());Ko(b)}function Io(a,b){a=uo+a;a%=360;0>a&&(a+=360);uo=a;Ko(b)}function Jo(a,b){vo=a;Ko(b)}function Lo(a,b){Y.strokeStyle=a;Y.fillStyle=a;Ko(b)}
function Oo(){if(po){var a=S("thumbnail"),b=a.getContext("2d");b.globalCompositeOperation="copy";b.drawImage(X.canvas,0,0,200,200);a=a.toDataURL("image/png");S("galleryThumb").value=a;qn()}else alert(U("Turtle.submitDisabled",!1))}
function Po(){function a(c){for(var d=0;5>d;d++)Z(c),Io(144)}switch(T){case 1:for(var b=0;4>b;b++)Z(100),Io(90);break;case 2:for(b=0;5>b;b++)Z(100),Io(72);break;case 3:Lo("#ffff00");a(100);break;case 4:Lo("#ffff00");a(50);Jo(!1);Z(150);Jo(!0);Z(20);break;case 5:Lo("#ffff00");for(b=0;4>b;b++)a(50),Jo(!1),Z(150),Io(90),Jo(!0);break;case 6:Lo("#ffff00");for(b=0;3>b;b++)a(50),Jo(!1),Z(150),Io(120),Jo(!0);Jo(!1);Io(-90);Z(100);Jo(!0);Lo("#ffffff");Z(50);break;case 7:Lo("#ffff00");for(b=0;3>b;b++)a(50),
Jo(!1),Z(150),Io(120),Jo(!0);Jo(!1);Io(-90);Z(100);Jo(!0);Lo("#ffffff");for(b=0;4>b;b++)Z(50),Z(-50),Io(45);break;case 8:Lo("#ffff00");for(b=0;3>b;b++)a(50),Jo(!1),Z(150),Io(120),Jo(!0);Jo(!1);Io(-90);Z(100);Jo(!0);Lo("#ffffff");for(b=0;360>b;b++)Z(50),Z(-50),Io(1);break;case 9:Lo("#ffff00");for(b=0;3>b;b++)a(50),Jo(!1),Z(150),Io(120),Jo(!0);Jo(!1);Io(-90);Z(100);Jo(!0);Lo("#ffffff");for(b=0;360>b;b++)Z(50),Z(-50),Io(1);Io(120);Z(20);Lo("#000000");for(b=0;360>b;b++)Z(50),Z(-50),Io(1)}}
function No(a){if(10===T)return 1<je(gk).length;console.log("Pixel errors: "+a);if(a>(9===T?600:8===T?350:100))return!1;a=je(gk).length;return 2>=T&&3<a||3===T&&4<a||5===T&&10<a?(a=S("helpUseLoop"),W.rg(a,null,!1,!0,{width:"30%",left:"35%",top:"12em"},W.So),W.Ro(),!1):!0}
(function(a){function b(){window.BlocklyGamesMsg?(window.BlocklyMsg&&(k=window.BlocklyMsg),a()):setTimeout(b,99)}window.addEventListener("load",b)})(function(){function a(){b.style.top=Math.max(10,c.offsetTop-window.pageYOffset)+"px";b.style.left=pl?"10px":"420px";b.style.width=window.innerWidth-440+"px"}io();document.body.innerHTML=ko();Wm();var b=S("blockly"),c=S("visualization");window.addEventListener("scroll",function(){a(null);oj(gk)});window.addEventListener("resize",a);a(null);10>T&&(Ah=3,
yh="#ff0000 #ffcc33 #ffff00 #009900 #3333ff #cc33cc #ffffff #999999 #000000".split(" "));cn();qi("moveForward,moveBackward,turnRight,turnLeft,penUp,penDown,penWidth,penColour,hideTurtle,showTurtle,print,font");S("submitButton")&&Cl("submitButton",Oo);var d=S("slider");qo=new vn(d);$m();X=S("display").getContext("2d");ro=S("answer").getContext("2d");Y=S("scratch").getContext("2d");Co();Po();ro.globalCompositeOperation="copy";ro.drawImage(Y.canvas,0,0);ro.globalCompositeOperation="source-over";Co();
Cl("runButton",Eo);Cl("resetButton",Go);gk.vd.load(["turtle/win.mp3","turtle/win.ogg"],"win");mn();nn();Cl("helpButton",xo);2>location.hash.length&&!zl(T)&&(setTimeout(xo,1E3),9===T&&setTimeout(W.yp,3E5));1===T&&we(gk,Bo)});
