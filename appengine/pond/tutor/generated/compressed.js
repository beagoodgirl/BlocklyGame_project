// Automatically generated file.  Do not edit!
var g;function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function l(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];if(b)return b.call(a);if("number"==typeof a.length)return{next:aa(a)};throw Error(String(a)+" is not an iterable or ArrayLike");}var ba="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
function ca(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");}var da=ca(this);function fa(a,b){if(b)a:{var c=da;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))break a;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&ba(c,a,{configurable:!0,writable:!0,value:b})}}
fa("Symbol",function(a){function b(f){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new c(d+(f||"")+"_"+e++,f)}function c(f,h){this.Mr=f;ba(this,"description",{configurable:!0,writable:!0,value:h})}if(a)return a;c.prototype.toString=function(){return this.Mr};var d="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",e=0;return b});
fa("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=da[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&ba(d.prototype,a,{configurable:!0,writable:!0,value:function(){return ha(aa(this))}})}return a});function ha(a){a={next:a};a[Symbol.iterator]=function(){return this};return a}
function ia(a,b){a instanceof String&&(a+="");var c=0,d=!1,e={next:function(){if(!d&&c<a.length){var f=c++;return{value:b(f,a[f]),done:!1}}d=!0;return{done:!0,value:void 0}}};e[Symbol.iterator]=function(){return e};return e}fa("Array.prototype.keys",function(a){return a?a:function(){return ia(this,function(b){return b})}});fa("Array.prototype.values",function(a){return a?a:function(){return ia(this,function(b,c){return c})}});
fa("Object.is",function(a){return a?a:function(b,c){return b===c?0!==b||1/b===1/c:b!==b&&c!==c}});fa("Array.prototype.includes",function(a){return a?a:function(b,c){var d=this;d instanceof String&&(d=String(d));var e=d.length;c=c||0;for(0>c&&(c=Math.max(c+e,0));c<e;c++){var f=d[c];if(f===b||Object.is(f,b))return!0}return!1}});
fa("String.prototype.includes",function(a){return a?a:function(b,c){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==(this+"").indexOf(b,c||0)}});function ja(a,b){return Object.prototype.hasOwnProperty.call(a,b)}
fa("WeakMap",function(a){function b(m){this.fe=(k+=Math.random()+1).toString();if(m){m=l(m);for(var n;!(n=m.next()).done;)n=n.value,this.set(n[0],n[1])}}function c(){}function d(m){var n=typeof m;return"object"===n&&null!==m||"function"===n}function e(m){if(!ja(m,h)){var n=new c;ba(m,h,{value:n})}}function f(m){var n=Object[m];n&&(Object[m]=function(p){if(p instanceof c)return p;Object.isExtensible(p)&&e(p);return n(p)})}if(function(){if(!a||!Object.seal)return!1;try{var m=Object.seal({}),n=Object.seal({}),
p=new a([[m,2],[n,3]]);if(2!=p.get(m)||3!=p.get(n))return!1;p.delete(m);p.set(n,4);return!p.has(m)&&4==p.get(n)}catch(t){return!1}}())return a;var h="$jscomp_hidden_"+Math.random();f("freeze");f("preventExtensions");f("seal");var k=0;b.prototype.set=function(m,n){if(!d(m))throw Error("Invalid WeakMap key");e(m);if(!ja(m,h))throw Error("WeakMap key fail: "+m);m[h][this.fe]=n;return this};b.prototype.get=function(m){return d(m)&&ja(m,h)?m[h][this.fe]:void 0};b.prototype.has=function(m){return d(m)&&
ja(m,h)&&ja(m[h],this.fe)};b.prototype.delete=function(m){return d(m)&&ja(m,h)&&ja(m[h],this.fe)?delete m[h][this.fe]:!1};return b});
fa("Map",function(a){function b(){var k={};return k.re=k.next=k.head=k}function c(k,m){var n=k[1];return ha(function(){if(n){for(;n.head!=k[1];)n=n.re;for(;n.next!=n.head;)return n=n.next,{done:!1,value:m(n)};n=null}return{done:!0,value:void 0}})}function d(k,m){var n=m&&typeof m;"object"==n||"function"==n?f.has(m)?n=f.get(m):(n=""+ ++h,f.set(m,n)):n="p_"+m;var p=k[0][n];if(p&&ja(k[0],n))for(k=0;k<p.length;k++){var t=p[k];if(m!==m&&t.key!==t.key||m===t.key)return{id:n,list:p,index:k,Pb:t}}return{id:n,
list:p,index:-1,Pb:void 0}}function e(k){this[0]={};this[1]=b();this.size=0;if(k){k=l(k);for(var m;!(m=k.next()).done;)m=m.value,this.set(m[0],m[1])}}if(function(){if(!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var k=Object.seal({x:4}),m=new a(l([[k,"s"]]));if("s"!=m.get(k)||1!=m.size||m.get({x:4})||m.set({x:4},"t")!=m||2!=m.size)return!1;var n=m.entries(),p=n.next();if(p.done||p.value[0]!=k||"s"!=p.value[1])return!1;p=n.next();return p.done||4!=p.value[0].x||
"t"!=p.value[1]||!n.next().done?!1:!0}catch(t){return!1}}())return a;var f=new WeakMap;e.prototype.set=function(k,m){k=0===k?0:k;var n=d(this,k);n.list||(n.list=this[0][n.id]=[]);n.Pb?n.Pb.value=m:(n.Pb={next:this[1],re:this[1].re,head:this[1],key:k,value:m},n.list.push(n.Pb),this[1].re.next=n.Pb,this[1].re=n.Pb,this.size++);return this};e.prototype.delete=function(k){k=d(this,k);return k.Pb&&k.list?(k.list.splice(k.index,1),k.list.length||delete this[0][k.id],k.Pb.re.next=k.Pb.next,k.Pb.next.re=
k.Pb.re,k.Pb.head=null,this.size--,!0):!1};e.prototype.clear=function(){this[0]={};this[1]=this[1].re=b();this.size=0};e.prototype.has=function(k){return!!d(this,k).Pb};e.prototype.get=function(k){return(k=d(this,k).Pb)&&k.value};e.prototype.entries=function(){return c(this,function(k){return[k.key,k.value]})};e.prototype.keys=function(){return c(this,function(k){return k.key})};e.prototype.values=function(){return c(this,function(k){return k.value})};e.prototype.forEach=function(k,m){for(var n=this.entries(),
p;!(p=n.next()).done;)p=p.value,k.call(m,p[1],p[0],this)};e.prototype[Symbol.iterator]=e.prototype.entries;var h=0;return e});fa("Array.prototype.fill",function(a){return a?a:function(b,c,d){var e=this.length||0;0>c&&(c=Math.max(0,e+c));if(null==d||d>e)d=e;d=Number(d);0>d&&(d=Math.max(0,e+d));for(c=Number(c||0);c<d;c++)this[c]=b;return this}});function ka(a){return a?a:Array.prototype.fill}fa("Int8Array.prototype.fill",ka);fa("Uint8Array.prototype.fill",ka);fa("Uint8ClampedArray.prototype.fill",ka);
fa("Int16Array.prototype.fill",ka);fa("Uint16Array.prototype.fill",ka);fa("Int32Array.prototype.fill",ka);fa("Uint32Array.prototype.fill",ka);fa("Float32Array.prototype.fill",ka);fa("Float64Array.prototype.fill",ka);
var la={},ma;
var na=[,2,1,4,3];
function q(a,b){this.x=a;this.y=b}function oa(a,b){return a==b?!0:a&&b?a.x==b.x&&a.y==b.y:!1}function pa(a,b){var c=a.x-b.x;a=a.y-b.y;return Math.sqrt(c*c+a*a)}function qa(a,b){return new q(a.x-b.x,a.y-b.y)}function ra(a,b){return new q(a.x+b.x,a.y+b.y)}q.prototype.clone=function(){return new q(this.x,this.y)};q.prototype.scale=function(a){this.x*=a;this.y*=a;return this};q.prototype.translate=function(a,b){this.x+=a;this.y+=b;return this};
function sa(a,b,c){if(!b)throw Error("Cannot create a node without a location.");this.gj=a;this.V=b;this.Kr=null;(a=c||null)&&a.Jr&&(this.Kr=a.Jr)}var ta=!1;function ua(a){return a?new sa("field",a):null}function va(a){if(!a)return null;var b=a.type;return 1==b||3==b&&a.yd()?wa(a.yd()):3==b?new sa("next",a):2==b?new sa("output",a):4==b?new sa("previous",a):null}function wa(a){return a&&a.connection?new sa("input",a.connection):null}function xa(a){return a?new sa("block",a):null}
function ya(a){return a?new sa("stack",a):null}g=sa.prototype;g.getType=function(){return this.gj};function za(a,b){a=a.V;a instanceof Aa||(a=a.C());if(!a||!a.h)return null;var c=a.gd();a=c.h.$a(!0);for(var d=0,e;e=a[d];d++)if(c.id==e.id)return b=d+(b?1:-1),-1==b||b==a.length?null:ya(a[b]);throw Error("Couldn't find "+(b?"next":"previous")+" stack?!");}function Ba(a){if(!a)return null;do var b=a.H&&a.H.K();while(b&&Ca(b)==a&&(a=b));return(b=a.H||a.u)&&b.J&&b.J.yd()?wa(b.J.yd()):ya(a)}
g.C=function(){return"block"===this.getType()?this.V:"stack"===this.getType()?this.V:"workspace"===this.getType()?null:this.V.C()};
g.next=function(){switch(this.gj){case "stack":return za(this,!0);case "output":var a=this.V;return xa(a.C());case "field":a:{var b=this.V,c=b.yd();a=b.C();b=c.ba.indexOf(b)+1;c=a.A.indexOf(c);for(var d;d=a.A[c];c++){for(var e=d.ba;b<e.length;){if(Da(e[b])||ta){a=ua(e[b]);break a}b++}b=0;if(d.connection){a=wa(d);break a}}a=null}return a;case "input":a:{b=this.V.yd();a=b.C();for(b=a.A.indexOf(b)+1;c=a.A[b];b++){d=c.ba;e=0;for(var f;f=d[e];e++)if(Da(f)||ta){a=ua(f);break a}if(c.connection){a=wa(c);
break a}}a=null}return a;case "block":return va(this.V.D);case "previous":return a=this.V,xa(a.C());case "next":return a=this.V,va(a.J)}return null};g.Ze=function(){switch(this.gj){case "workspace":var a=this.V.$a(!0);if(0<a.length)return ya(a[0]);break;case "stack":a=this.V;var b=a.H||a.u;return b?va(b):xa(a);case "block":a=this.V;a:{a=a.A;b=0;for(var c;c=a[b];b++){for(var d=c.ba,e=0,f;f=d[e];e++)if(Da(f)||ta){a=ua(f);break a}if(c.connection){a=wa(c);break a}}a=null}return a;case "input":return va(this.V.J)}return null};
g.qe=function(){switch(this.gj){case "stack":return za(this,!1);case "field":a:{var a=this.V;var b=a.yd();var c=a.C();a=b.ba.indexOf(a)-1;for(var d=c.A.indexOf(b),e;e=c.A[d];d--){if(e.connection&&e!==b){b=wa(e);break a}for(e=e.ba;-1<a;){if(Da(e[a])||ta){b=ua(e[a]);break a}a--}0<=d-1&&(a=c.A[d-1].ba.length-1)}b=null}return b;case "input":a:{b=this.V.yd();c=b.C();for(a=c.A.indexOf(b);d=c.A[a];a--){if(d.connection&&d!==b){b=wa(d);break a}d=d.ba;e=d.length-1;for(var f;f=d[e];e--)if(Da(f)||ta){b=ua(f);
break a}}b=null}return b;case "block":return b=this.V,va(b.H||b.u);case "previous":b=this.V;if((b=b.J)&&!b.yd())return va(b);break;case "next":return b=this.V,xa(b.C())}return null};
g.gf=function(){switch(this.gj){case "stack":var a=this.V,b=a.ga();a=a.h;return(b=new q(b.x,b.y+-20),a)?new sa("workspace",a,{Jr:b}):null;case "output":return b=this.V,(a=b.J)?va(a):ya(b.C());case "field":return xa(this.V.C());case "input":return b=this.V,xa(b.C());case "block":return a=this.V,Ba(a);case "previous":return b=this.V,Ba(b.C());case "next":return b=this.V,Ba(b.C())}return null};
var r=Object.create(null);
var Ea=Object.create(null);function Fa(a){this.oe=a}Fa.prototype.toString=function(){return this.oe};var Ga=new Fa("connectionChecker"),Ha=new Fa("cursor"),Ia=new Fa("event"),Ja=new Fa("field"),Ka=new Fa("renderer"),La=new Fa("toolbox"),Ma=new Fa("theme"),Na=new Fa("toolboxItem"),Oa=new Fa("flyoutsVerticalToolbox"),Pa=new Fa("metricsManager"),Qa=new Fa("blockDragger");
function u(a,b,c){if(!(a instanceof Fa)&&"string"!=typeof a||""==String(a).trim())throw Error('Invalid type "'+a+'". The type must be a non-empty string or a Blockly.registry.Type.');a=String(a).toLowerCase();if("string"!=typeof b||""==b.trim())throw Error('Invalid name "'+b+'". The name must be a non-empty string.');b=b.toLowerCase();if(!c)throw Error("Can not register a null value");var d=Ea[a];d||(d=Ea[a]=Object.create(null));switch(a){case String(Ja):if("function"!=typeof c.N)throw Error('Type "'+
a+'" must have a fromJson function');}if(d[b])throw Error('Name "'+b+'" with type "'+a+'" already registered.');d[b]=c}function Ra(a,b,c){a=String(a).toLowerCase();b=b.toLowerCase();var d=Ea[a];if(!d||!d[b]){b="Unable to find ["+b+"]["+a+"] in the registry.";if(c)throw Error(b+" You must require or register a "+a+" plugin.");console.warn(b);return null}return d[b]}function Sa(a,b,c){b=b.plugins[a.toString()]||"default";return"function"==typeof b?b:Ra(a,b,c)};var Ta=function(){return"object"===typeof self?self:"object"===typeof window?window:"object"===typeof global?global:this}();var v={};Ta.Blockly||(Ta.Blockly={});Ta.Blockly.Msg||(Ta.Blockly.Msg=v);
function Ua(a){a=String(a).toLowerCase().trim();var b=Va[a];if(b)return b;b="0x"==a.substring(0,2)?"#"+a.substring(2):a;b="#"==b[0]?b:"#"+b;if(/^#[0-9a-f]{6}$/.test(b))return b;if(/^#[0-9a-f]{3}$/.test(b))return["#",b[1],b[1],b[2],b[2],b[3],b[3]].join("");var c=a.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return c&&(a=Number(c[1]),b=Number(c[2]),c=Number(c[3]),0<=a&&256>a&&0<=b&&256>b&&0<=c&&256>c)?Wa(a,b,c):null}
function Wa(a,b,c){b=a<<16|b<<8|c;return 16>a?"#"+(16777216|b).toString(16).substr(1):"#"+b.toString(16)}function Xa(a){a=Ua(a);if(!a)return[0,0,0];a=parseInt(a.substr(1),16);return[a>>16,a>>8&255,a&255]}
function Ya(a){var b=0,c=0,d=0,e=Math.floor(a/60),f=a/60-e;a=165.75*.55;var h=165.75*(1-.45*f);f=165.75*(1-.45*(1-f));switch(e){case 1:b=h;c=165.75;d=a;break;case 2:b=a;c=165.75;d=f;break;case 3:b=a;c=h;d=165.75;break;case 4:b=f;c=a;d=165.75;break;case 5:b=165.75;c=a;d=h;break;case 6:case 0:b=165.75,c=f,d=a}return Wa(Math.floor(b),Math.floor(c),Math.floor(d))}
function Za(a,b,c){a=Ua(a);if(!a)return null;b=Ua(b);if(!b)return null;a=Xa(a);b=Xa(b);return Wa(Math.round(b[0]+c*(a[0]-b[0])),Math.round(b[1]+c*(a[1]-b[1])),Math.round(b[2]+c*(a[2]-b[2])))}var Va={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"};function $a(a,b,c,d){this.top=a;this.bottom=b;this.left=c;this.right=d}$a.prototype.contains=function(a,b){return a>=this.left&&a<=this.right&&b>=this.top&&b<=this.bottom};function ab(a){return a.length?a.reduce(function(b,c){return b.length<c.length?b:c}).length:0}function bb(a,b){if(!a.length)return 0;if(1==a.length)return a[0].length;var c=0;b=b||ab(a);for(var d=0;d<b;d++){for(var e=a[0][d],f=1;f<a.length;f++)if(e!=a[f][d])return c;" "==e&&(c=d+1)}for(f=1;f<a.length;f++)if((e=a[f][d])&&" "!=e)return c;return b}
function cb(a,b){if(!a.length)return 0;if(1==a.length)return a[0].length;var c=0;b=b||ab(a);for(var d=0;d<b;d++){for(var e=a[0].substr(-d-1,1),f=1;f<a.length;f++)if(e!=a[f].substr(-d-1,1))return c;" "==e&&(c=d+1)}for(f=1;f<a.length;f++)if((e=a[f].charAt(a[f].length-d-1))&&" "!=e)return c;return b}
function eb(a,b){a=a.split("\n");for(var c=0;c<a.length;c++){var d=c;var e=a[c],f=b;if(e.length<=f)var h=e;else{for(var k=e.trim().split(/\s+/),m=0;m<k.length;m++)k[m].length>f&&(f=k[m].length);m=-Infinity;var n=1;do{var p=m;h=e;e=[];var t=k.length/n,y=1;for(m=0;m<k.length-1;m++)y<(m+1.5)/t?(y++,e[m]=!0):e[m]=!1;e=fb(k,e,f);m=gb(k,e,f);t=k;y=[];for(var D=0;D<t.length;D++)y.push(t[D]),void 0!==e[D]&&y.push(e[D]?"\n":" ");e=y.join("");n++}while(m>p)}a[d]=h}return a.join("\n")}
function gb(a,b,c){for(var d=[0],e=[],f=0;f<a.length;f++)d[d.length-1]+=a[f].length,!0===b[f]?(d.push(0),e.push(a[f].charAt(a[f].length-1))):!1===b[f]&&d[d.length-1]++;a=Math.max.apply(Math,d);for(f=b=0;f<d.length;f++)b-=2*Math.pow(Math.abs(c-d[f]),1.5),b-=Math.pow(a-d[f],1.5),-1!=".?!".indexOf(e[f])?b+=c/3:-1!=",;)]}".indexOf(e[f])&&(b+=c/4);1<d.length&&d[d.length-1]<=d[d.length-2]&&(b+=.5);return b}
function fb(a,b,c){for(var d=gb(a,b,c),e,f=0;f<b.length-1;f++)if(b[f]!=b[f+1]){var h=[].concat(b);h[f]=!h[f];h[f+1]=!h[f+1];var k=gb(a,h,c);k>d&&(d=k,e=h)}return e?fb(a,e,c):b};function hb(a,b){this.width=a;this.height=b};function ib(a){var b;(b=jb(a,"display"))||(b=a.currentStyle?a.currentStyle.display:null);if("none"!=(b||a.style&&a.style.display))return new hb(a.offsetWidth,a.offsetHeight);b=a.style;var c=b.display,d=b.visibility,e=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";var f=a.offsetWidth;a=a.offsetHeight;b.display=c;b.position=e;b.visibility=d;return new hb(f,a)}
function jb(a,b){return document.defaultView&&document.defaultView.getComputedStyle&&(a=document.defaultView.getComputedStyle(a,null))?a[b]||a.getPropertyValue(b)||"":""}function kb(a){var b=new q(0,0);a=a.getBoundingClientRect();var c=document.documentElement;c=new q(window.pageXOffset||c.scrollLeft,window.pageYOffset||c.scrollTop);b.x=a.left+c.x;b.y=a.top+c.y;return b};var lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb;
(function(a){function b(d){return-1!=c.indexOf(d.toUpperCase())}xb=a;var c=xb.toUpperCase();lb=b("Trident")||b("MSIE");mb=b("Edge");nb=b("JavaFX");!b("Chrome")&&b("CriOS");ob=b("WebKit")&&!mb;pb=b("Gecko")&&!ob&&!lb&&!mb;qb=b("Android");a=Ta.navigator&&Ta.navigator.maxTouchPoints;rb=b("iPad")||b("Macintosh")&&0<a;sb=b("iPod");tb=b("iPhone")&&!rb&&!sb;ub=b("Macintosh");vb=rb||qb&&!b("Mobile")||b("Silk");wb=!vb&&(sb||tb||qb||b("IEMobile"))})(Ta.navigator&&Ta.navigator.userAgent||"");function yb(a){a.preventDefault();a.stopPropagation()}function zb(a){return"textarea"==a.target.type||"text"==a.target.type||"number"==a.target.type||"email"==a.target.type||"password"==a.target.type||"search"==a.target.type||"tel"==a.target.type||"url"==a.target.type||a.target.isContentEditable||a.target.dataset&&"true"==a.target.dataset.nv}
function Ab(a){var b=new q(0,0),c=a.getAttribute("x");c&&(b.x=parseInt(c,10));if(c=a.getAttribute("y"))b.y=parseInt(c,10);if(c=(c=a.getAttribute("transform"))&&c.match(Bb))b.x+=Number(c[1]),c[3]&&(b.y+=Number(c[3]));(a=a.getAttribute("style"))&&-1<a.indexOf("translate")&&(a=a.match(Cb))&&(b.x+=Number(a[1]),a[3]&&(b.y+=Number(a[3])));return b}
function Db(a){for(var b=0,c=0;a;){var d=Ab(a);b+=d.x;c+=d.y;if(-1!=(" "+(a.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;a=a.parentNode}return new q(b,c)}var Bb=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/,Cb=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/;function Eb(a){return a.ctrlKey&&ub?!0:2==a.button}function Fb(a,b,c){var d=b.createSVGPoint();d.x=a.clientX;d.y=a.clientY;c||(c=b.getScreenCTM().inverse());return d.matrixTransform(c)}
function Gb(a){switch(a.deltaMode){default:return{x:a.deltaX,y:a.deltaY};case 1:return{x:40*a.deltaX,y:40*a.deltaY};case 2:return{x:125*a.deltaX,y:125*a.deltaY}}}function Hb(a){if("string"!=typeof a)return a;a=Ib(a,!1);return a.length?String(a[0]):""}function Jb(a){for(var b=v,c=a.match(/%{BKY_[A-Z]\w*}/ig),d=0;d<c.length;d++)void 0==b[c[d].toUpperCase().slice(6,-1)]&&console.warn("No message string for "+c[d]+" in "+a)}
function Ib(a,b){var c=[],d=a.split("");d.push("");var e=0;a=[];for(var f=null,h=0;h<d.length;h++){var k=d[h];0==e?"%"==k?((k=a.join(""))&&c.push(k),a.length=0,e=1):a.push(k):1==e?"%"==k?(a.push(k),e=0):b&&"0"<=k&&"9">=k?(e=2,f=k,(k=a.join(""))&&c.push(k),a.length=0):"{"==k?e=3:(a.push("%",k),e=0):2==e?"0"<=k&&"9">=k?f+=k:(c.push(parseInt(f,10)),h--,e=0):3==e&&(""==k?(a.splice(0,0,"%{"),h--,e=0):"}"!=k?a.push(k):(e=a.join(""),/[A-Z]\w*/i.test(e)?(k=e.toUpperCase(),(k=0==k.lastIndexOf("BKY_",0)?k.substring(4):
null)&&k in v?(e=v[k],"string"==typeof e?Array.prototype.push.apply(c,Ib(e,b)):b?c.push(String(e)):c.push(e)):c.push("%{"+e+"}")):c.push("%{"+e+"}"),e=a.length=0))}(k=a.join(""))&&c.push(k);b=[];for(h=a.length=0;h<c.length;++h)"string"==typeof c[h]?a.push(c[h]):((k=a.join(""))&&b.push(k),a.length=0,b.push(c[h]));(k=a.join(""))&&b.push(k);a.length=0;return b}function Kb(){for(var a=Lb.length,b=[],c=0;20>c;c++)b[c]=Lb.charAt(Math.random()*a);return b.join("")}var Lb="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
function Mb(){if(void 0!==Nb)return Nb;if(!Ta.getComputedStyle)return!1;var a=document.createElement("p"),b="none",c={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(a,null);for(var d in c)if(void 0!==a.style[d]){a.style[d]="translate3d(1px,1px,1px)";b=Ta.getComputedStyle(a);if(!b)return document.body.removeChild(a),!1;b=b.getPropertyValue(c[d])}document.body.removeChild(a);return Nb=
"none"!==b}var Nb;function Ob(a){if("object"!=typeof document)throw Error("Blockly.utils.runAfterPageLoad() requires browser document.");if("complete"==document.readyState)a();else var b=setInterval(function(){"complete"==document.readyState&&(clearInterval(b),a())},10)}function Pb(a,b){b=a.indexOf(b);if(-1==b)return!1;a.splice(b,1);return!0}
function Qb(a,b){var c=Object.create(null),d=Rb(a,!0);b&&(a=Ca(a))&&(a=d.indexOf(a),d.splice(a,d.length-a));for(a=0;b=d[a];a++)c[b.type]?c[b.type]++:c[b.type]=1;return c}function Sb(a){var b="string"==typeof a?Hb(a):a,c=Number(b);if(!isNaN(c)&&0<=c&&360>=c)return{zt:c,gi:Ya(c)};if(c=Ua(b))return{zt:null,gi:c};c='Invalid colour: "'+b+'"';a!=b&&(c+=' (from "'+a+'")');throw Error(c);};var Tb="",Ub=!0,w=0,Vb=["create","move"],Wb=[];function x(a){0==w&&(Wb.length||setTimeout(Xb,0),Wb.push(a))}function Xb(){for(var a=Yb(Wb,!0),b=Wb.length=0,c;c=a[b];b++)if(c.Db){var d=Zb[c.Db]||null;if(d){var e=c;if(e.yb)for(d.gg.push(e),d.Ei.length=0;d.gg.length>d.ap&&0<=d.ap;)d.gg.shift();for(var f=0;c=d.bb[f];f++)c(e)}}}
function Yb(a,b){a=a.slice();b||a.reverse();for(var c=[],d=Object.create(null),e=0,f;f=a[e];e++)if(!f.xk()){var h=[f.dn?"ui":f.type,f.ka,f.Db].join(" "),k=d[h],m=k?k.event:null;if(!k)d[h]={event:f,index:e},c.push(f);else if("move"==f.type&&k.index==e-1)m.Wf=f.Wf,m.Vf=f.Vf,m.ef=f.ef,k.index=e;else if("change"==f.type&&f.element==m.element&&f.name==m.name)m.newValue=f.newValue;else if("viewport_change"==f.type)m.Zc=f.Zc,m.Yc=f.Yc,m.scale=f.scale,m.wi=f.wi;else if("click"!=f.type||"bubble_open"!=m.type)d[h]=
{event:f,index:e},c.push(f)}a=c.filter(function(n){return!n.xk()});b||a.reverse();for(e=1;f=a[e];e++)"change"==f.type&&"mutation"==f.element&&a.unshift(a.splice(e,1)[0]);return a}function z(a){Tb="boolean"==typeof a?a?Kb():"":a}function $b(a){var b=[];a=Rb(a,!1);for(var c=0,d;d=a[c];c++)b[c]=d.id;return b}function A(a){return Ra(Ia,a)}
function ac(a){if(("move"==a.type||"create"==a.type)&&a.Db){var b=Zb[a.Db]||null,c=b.pc(a.ka);if(c){a=Ub;try{Ub=!1;var d=c.getParent();if(d&&d.isEnabled()){var e=Rb(c,!1);b=0;for(var f;f=e[b];b++)f.Yb(!0)}else if((c.u||c.H)&&!b.Ta()){do c.Yb(!1),c=Ca(c);while(c)}}finally{Ub=a}}}};
function bc(){this.Bd=null;this.Db=void 0;this.group=Tb;this.yb=Ub}g=bc.prototype;g.dn=!1;g.R=function(){var a={type:this.type};this.group&&(a.group=this.group);return a};g.N=function(a){this.Bd=!1;this.group=a.group};g.xk=function(){return!1};g.run=function(){};function cc(a){if(a.Db)var b=Zb[a.Db]||null;if(!b)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return b};function B(a,b){a.j=b.prototype;a.prototype=Object.create(b.prototype);a.prototype.constructor=a}function dc(a,b){for(var c in b)a[c]=b[c]}function ec(a){return Object.values?Object.values(a):Object.keys(a).map(function(b){return a[b]})};function C(a){return document.createElementNS("https://developers.google.com/blockly/xml",a)};function fc(a){this.pu=a}fc.prototype.toString=function(){return this.pu};var gc=new fc("animate"),hc=new fc("circle"),ic=new fc("clipPath"),jc=new fc("defs"),kc=new fc("feComposite"),lc=new fc("feGaussianBlur"),mc=new fc("fePointLight"),nc=new fc("feSpecularLighting"),oc=new fc("filter"),pc=new fc("foreignObject"),qc=new fc("g"),rc=new fc("image"),sc=new fc("line"),tc=new fc("path"),uc=new fc("pattern"),vc=new fc("polygon"),wc=new fc("rect"),xc=new fc("svg"),yc=new fc("text"),zc=new fc("tspan");var Ac=null,Bc=0,Cc=null;function E(a,b,c){a=document.createElementNS("http://www.w3.org/2000/svg",String(a));for(var d in b)a.setAttribute(d,b[d]);document.body.runtimeStyle&&(a.runtimeStyle=a.currentStyle=a.style);c&&c.appendChild(a);return a}function F(a,b){var c=a.getAttribute("class")||"";a.setAttribute("class",c+" "+b)}
function Dc(a,b){for(var c=(a.getAttribute("class")||"").split(/\s+/),d=0;d<c.length;d++)c[d]&&c[d]!=b||(c.splice(d,1),d--);c.length?a.setAttribute("class",c.join(" ")):a.removeAttribute("class")}function Ec(a,b){return-1!=(" "+(a.getAttribute("class")||"")+" ").indexOf(" "+b+" ")}function G(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function Fc(a,b){var c=b.nextSibling;b=b.parentNode;if(!b)throw Error("Reference node has no parent.");c?b.insertBefore(a,c):b.appendChild(a)}
function Gc(a,b){a.style.transform=b;a.style["-webkit-transform"]=b}function Hc(){Bc++;Ac||(Ac=Object.create(null))}function Ic(){Bc--;Bc||(Ac=null)}function Jc(a,b,c,d){var e=a.textContent;a=e+"\n"+a.className.baseVal;var f;if(Ac&&(f=Ac[a]))return f;Cc||(f=document.createElement("canvas"),f.className="blocklyComputeCanvas",document.body.appendChild(f),Cc=f.getContext("2d"));Cc.font=c+" "+b+" "+d;f=Cc.measureText(e).width;Ac&&(Ac[a]=f);return f};function Kc(a,b){if(a.Ub()&&(a=Lc(a,!1)[0],!a))return new DocumentFragment;var c;a.h.s&&(c=a.h.ee());b=Mc(a,b);var d=a.ga();b.setAttribute("x",Math.round(a.h.s?c-d.x:d.x));b.setAttribute("y",Math.round(d.y));return b}
function Mc(a,b){if(a.Ub())return(a=Lc(a,!1)[0])?Mc(a):new DocumentFragment;var c=C(a.X?"shadow":"block");c.setAttribute("type",a.type);b||c.setAttribute("id",a.id);if(a.wa){var d=a.wa();d&&(d.hasChildNodes()||d.hasAttributes())&&c.appendChild(d)}d=0;for(var e;e=a.A[d];d++)for(var f=0,h;h=e.ba[f];f++){var k=!1;h.name&&(h.Bf?k=!0:h.sj&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),
k=!0));k?(k=C("field"),k.setAttribute("name",h.name||""),h=h.yr(k)):h=null;h&&c.appendChild(h)}if(d=a.lc.text)e=a.lc.size,f=a.lc.Zn,h=C("comment"),h.appendChild(document.createTextNode(d)),h.setAttribute("pinned",f),h.setAttribute("h",e.height),h.setAttribute("w",e.width),c.appendChild(h);a.data&&(d=C("data"),d.appendChild(document.createTextNode(a.data)),c.appendChild(d));for(d=0;e=a.A[d];d++){var m;f=!0;5!=e.type&&(k=e.connection.K(),1==e.type?m=C("value"):3==e.type&&(m=C("statement")),h=e.connection.Og(),
!h||k&&k.X||m.appendChild(Nc(h,b)),k&&(h=Mc(k,b),h.nodeType==Node.ELEMENT_NODE&&(m.appendChild(h),f=!1)),m.setAttribute("name",e.name),f||c.appendChild(m))}void 0!=a.je&&a.je!=a.At&&c.setAttribute("inline",a.je);a.isCollapsed()&&c.setAttribute("collapsed",!0);a.isEnabled()||c.setAttribute("disabled",!0);a.Oc()||a.X||c.setAttribute("deletable",!1);a.mb()||a.X||c.setAttribute("movable",!1);a.Tb()||c.setAttribute("editable",!1);if(d=Ca(a))h=Mc(d,b),h.nodeType==Node.ELEMENT_NODE&&(m=C("next"),m.appendChild(h),
c.appendChild(m));h=a.D&&a.D.Og();!h||d&&d.X||m.appendChild(Nc(h,b));return c}function Nc(a,b){for(var c=a=a.cloneNode(!0),d;c;)if(b&&"shadow"==c.nodeName&&c.removeAttribute("id"),c.firstChild)c=c.firstChild;else{for(;c&&!c.nextSibling;)d=c,c=c.parentNode,d.nodeType==Node.TEXT_NODE&&""==d.data.trim()&&c.firstChild!=d&&G(d);c&&(d=c,c=c.nextSibling,d.nodeType==Node.TEXT_NODE&&""==d.data.trim()&&G(d))}return a}
function Oc(a){return(new XMLSerializer).serializeToString(a).replace(/<(\w+)([^<]*)\/>/g,"<$1$2></$1>")}function Pc(a){var b=(new DOMParser).parseFromString(a,"text/xml");if(!b||!b.documentElement||b.getElementsByTagName("parsererror").length)throw Error("textToDom was unable to parse: "+a);return b.documentElement}
function Qc(a,b){var c;b.s&&(c=b.ee());var d=[];Hc();var e=Tb;e||z(!0);b.Hb&&b.Hb(!1);var f=!0;try{for(var h=0,k;k=a.childNodes[h];h++){var m=k.nodeName.toLowerCase(),n=k;if("block"==m||"shadow"==m&&!Ub){var p=Rc(n,b);d.push(p.id);var t=n.hasAttribute("x")?parseInt(n.getAttribute("x"),10):10,y=n.hasAttribute("y")?parseInt(n.getAttribute("y"),10):10;isNaN(t)||isNaN(y)||p.moveBy(b.s?c-t:t,y);f=!1}else{if("shadow"==m)throw TypeError("Shadow block cannot be a top-level block.");if("variables"==m){if(f)for(var D=
void 0,ea=b,Z=0;D=n.childNodes[Z];Z++){if(D.nodeType==Node.ELEMENT_NODE){var db=D.getAttribute("type"),Pe=D.getAttribute("id");ea.bd(D.textContent,db,Pe)}}else throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");f=!1}}}}finally{e||z(!1),Ic()}b.Hb&&b.Hb(!0);x(new (A("finished_loading"))(b))}
function Rc(a,b){if(a instanceof Sc){var c=a;a=b;b=c;console.warn("Deprecated call to Blockly.Xml.domToBlock, swap the arguments.")}w++;c=b.Gf();try{var d=Tc(a,b),e=Rb(d,!1);if(b.I){Uc(d,!1);for(var f=e.length-1;0<=f;f--)e[f].ie();for(f=e.length-1;0<=f;f--)e[f].P(!1);setTimeout(function(){d.Ic||Uc(d,!0)},1);Vc(d);Wc(b)}else for(f=e.length-1;0<=f;f--)e[f].Nf()}finally{w--}if(0==w){a=Xc(b,c);for(f=0;f<a.length;f++)b=a[f],x(new (A("var_create"))(b));x(new (A("create"))(d))}return d}
function Yc(a,b){for(var c=0,d;d=a[c];c++){var e=d.textContent,f="true"==d.getAttribute("pinned"),h=parseInt(d.getAttribute("w"),10);d=parseInt(d.getAttribute("h"),10);b.Jd(e);b.lc.Zn=f;isNaN(h)||isNaN(d)||(b.lc.size=new hb(h,d));f&&b.kt&&!b.Ba&&setTimeout(function(){b.Ec.na(!0)},1)}}function Zc(a){for(var b={Fh:null,Gh:null},c=0,d;d=a.childNodes[c];c++)d.nodeType==Node.ELEMENT_NODE&&("block"==d.nodeName.toLowerCase()?b.Fh=d:"shadow"==d.nodeName.toLowerCase()&&(b.Gh=d));return b}
function Tc(a,b,c,d){var e=a.getAttribute("type");if(!e)throw TypeError("Block type unspecified: "+a.outerHTML);var f=a.getAttribute("id");f=b.$g(e,f);for(var h=[],k=[],m=[],n=[],p=[],t=[],y=0,D;D=a.childNodes[y];y++)if(D.nodeType!=Node.TEXT_NODE)switch(D.nodeName.toLowerCase()){case "mutation":h.push(D);break;case "comment":if(!$c){console.warn("Missing require for Blockly.Comment, ignoring block comment.");break}k.push(D);break;case "data":m.push(D);break;case "title":case "field":n.push(D);break;
case "value":case "statement":p.push(D);break;case "next":t.push(D);break;default:console.warn("Ignoring unknown tag: "+D.nodeName)}y=!1;D=0;for(var ea;ea=h[D];D++)f.Za&&(f.Za(ea),f.ie&&(y=!0));h=y;Yc(k,f);for(k=0;y=m[k];k++)f.data=y.textContent;if(c)if(d)if(f.H)c.connect(f.H);else throw TypeError("Next block does not have previous statement.");else if(f.u)c.connect(f.u);else if(f.H)c.connect(f.H);else throw TypeError("Child block does not have output or previous statement.");for(c=0;k=n[c];c++)m=
k.getAttribute("name"),d=f,(y=ad(d,m))?y.gk(k):console.warn("Ignoring non-existent field "+m+" in block "+d.type);for(n=0;d=p[n];n++){m=d.getAttribute("name");c=H(f,m);if(!c){console.warn("Ignoring non-existent input "+m+" in block "+e);break}d=Zc(d);if(d.Fh){if(!c.connection)throw TypeError("Input connection does not exist.");Tc(d.Fh,b,c.connection,!1)}d.Gh&&c.connection.Qi(d.Gh)}for(e=0;p=t[e];e++){p=Zc(p);if(p.Fh){if(!f.D)throw TypeError("Next statement does not exist.");if(f.D.isConnected())throw TypeError("Next statement is already connected.");
Tc(p.Fh,b,f.D,!0)}p.Gh&&f.D&&f.D.Qi(p.Gh)}h&&f.ie();(b=a.getAttribute("inline"))&&f.Vc("true"==b);(b=a.getAttribute("disabled"))&&f.Yb("true"!=b&&"disabled"!=b);if(b=a.getAttribute("deletable"))f.hm="true"==b;(b=a.getAttribute("movable"))&&f.dl("true"==b);(b=a.getAttribute("editable"))&&f.to("true"==b);(b=a.getAttribute("collapsed"))&&f.rf("true"==b);if("shadow"==a.nodeName.toLowerCase()){a=Lc(f,!1);for(b=0;t=a[b];b++)if(!t.X)throw TypeError("Shadow block not allowed non-shadow child.");if(f.ae().length)throw TypeError("Shadow blocks cannot have variable references.");
f.wo(!0)}return f};function bd(a){bd.j.constructor.call(this);this.ka=(this.Bd="undefined"==typeof a)?"":a.id;this.Db=this.Bd?"":a.h.id}B(bd,bc);bd.prototype.R=function(){var a=bd.j.R.call(this);a.blockId=this.ka;return a};bd.prototype.N=function(a){bd.j.N.call(this,a);this.ka=a.blockId};function cd(a,b,c,d,e){cd.j.constructor.call(this,a);a&&(this.element="undefined"==typeof b?"":b,this.name="undefined"==typeof c?"":c,this.oldValue="undefined"==typeof d?"":d,this.newValue="undefined"==typeof e?"":e)}B(cd,bd);g=cd.prototype;
g.type="change";g.R=function(){var a=cd.j.R.call(this);a.element=this.element;this.name&&(a.name=this.name);a.oldValue=this.oldValue;a.newValue=this.newValue;return a};g.N=function(a){cd.j.N.call(this,a);this.element=a.element;this.name=a.name;this.oldValue=a.oldValue;this.newValue=a.newValue};g.xk=function(){return this.oldValue==this.newValue};
g.run=function(a){var b=cc(this).pc(this.ka);if(b)switch(b.xb&&b.xb.na(!1),a=a?this.newValue:this.oldValue,this.element){case "field":(b=ad(b,this.name))?dd(b,a):console.warn("Can't set non-existent field: "+this.name);break;case "comment":b.Jd(a||null);break;case "collapsed":b.rf(!!a);break;case "disabled":b.Yb(!a);break;case "inline":b.Vc(!!a);break;case "mutation":var c="";b.wa&&(c=(c=b.wa())&&Oc(c));if(b.Za){var d=Pc(a||"<mutation/>");b.Za(d)}x(new cd(b,"mutation",null,c,a));break;default:console.warn("Unknown change type: "+
this.element)}else console.warn("Can't change non-existent block: "+this.ka)};function ed(a){ed.j.constructor.call(this,a);a&&(a.X&&(this.yb=!1),this.xml=a.h.I?Kc(a):Mc(a),this.Ye=$b(a))}B(ed,bd);ed.prototype.type="create";ed.prototype.R=function(){var a=ed.j.R.call(this);a.xml=Oc(this.xml);a.ids=this.Ye;this.yb||(a.recordUndo=this.yb);return a};ed.prototype.N=function(a){ed.j.N.call(this,a);this.xml=Pc(a.xml);this.Ye=a.ids;void 0!==a.recordUndo&&(this.yb=a.recordUndo)};
ed.prototype.run=function(a){var b=cc(this);if(a)a=C("xml"),a.appendChild(this.xml),Qc(a,b);else{a=0;for(var c;c=this.Ye[a];a++){var d=b.pc(c);d?d.o(!1):c==this.ka&&console.warn("Can't uncreate non-existent block: "+c)}}};function fd(a){fd.j.constructor.call(this,a);if(a){if(a.getParent())throw Error("Connected blocks cannot be deleted.");a.X&&(this.yb=!1);this.ah=a.h.I?Kc(a):Mc(a);this.Ye=$b(a)}}B(fd,bd);fd.prototype.type="delete";
fd.prototype.R=function(){var a=fd.j.R.call(this);a.oldXml=Oc(this.ah);a.ids=this.Ye;this.yb||(a.recordUndo=this.yb);return a};fd.prototype.N=function(a){fd.j.N.call(this,a);this.ah=Pc(a.oldXml);this.Ye=a.ids;void 0!==a.recordUndo&&(this.yb=a.recordUndo)};fd.prototype.run=function(a){var b=cc(this);if(a){a=0;for(var c;c=this.Ye[a];a++){var d=b.pc(c);d?d.o(!1):c==this.ka&&console.warn("Can't delete non-existent block: "+c)}}else a=C("xml"),a.appendChild(this.ah),Qc(a,b)};
function gd(a){gd.j.constructor.call(this,a);a&&(a.X&&(this.yb=!1),a=hd(this),this.Oq=a.Wq,this.Kq=a.lq,this.En=a.Dp)}B(gd,bd);g=gd.prototype;g.type="move";g.R=function(){var a=gd.j.R.call(this);this.Wf&&(a.newParentId=this.Wf);this.Vf&&(a.newInputName=this.Vf);this.ef&&(a.newCoordinate=Math.round(this.ef.x)+","+Math.round(this.ef.y));this.yb||(a.recordUndo=this.yb);return a};
g.N=function(a){gd.j.N.call(this,a);this.Wf=a.newParentId;this.Vf=a.newInputName;if(a.newCoordinate){var b=a.newCoordinate.split(",");this.ef=new q(Number(b[0]),Number(b[1]))}void 0!==a.recordUndo&&(this.yb=a.recordUndo)};function id(a){var b=hd(a);a.Wf=b.Wq;a.Vf=b.lq;a.ef=b.Dp}function hd(a){var b=cc(a).pc(a.ka);a={};var c=b.getParent();if(c){if(a.Wq=c.id,b=jd(c,b))a.lq=b.name}else a.Dp=b.ga();return a}g.xk=function(){return this.Oq==this.Wf&&this.Kq==this.Vf&&oa(this.En,this.ef)};
g.run=function(a){var b=cc(this),c=b.pc(this.ka);if(c){var d=a?this.Wf:this.Oq,e=a?this.Vf:this.Kq,f=a?this.ef:this.En;a=null;if(d&&(a=b.pc(d),!a)){console.warn("Can't connect to non-existent block: "+d);return}c.getParent()&&kd(c);if(f)e=c.ga(),c.moveBy(f.x-e.x,f.y-e.y);else{c=c.u||c.H;b=c.type;if(e){if(a=H(a,e))var h=a.connection}else 4==b&&(h=a.D);h?c.connect(h):console.warn("Can't connect to non-existent input: "+e)}}else console.warn("Can't move non-existent block: "+this.ka)};
u(Ia,"create",ed);u(Ia,"delete",fd);u(Ia,"change",cd);u(Ia,"move",gd);function ld(a,b){this.m=a;this.type=b}g=ld.prototype;g.J=null;g.Ic=!1;g.Ke=null;g.il=null;g.x=0;g.y=0;g.Qj=function(a){var b=this.C(),c=a.C();a.isConnected()&&a.disconnect();if(this.isConnected()){var d=this.Og(!0);this.il=null;var e=this.K();if(e.X)e.o(!1);else{this.disconnect();var f=e}this.il=d}var h;0==w&&(h=new (A("move"))(c));if(!this||!a)throw Error("Cannot connect null connections.");this.J=a;a.J=this;c.hl(b);h&&(id(h),x(h));f&&(a=1===this.type?f.u:f.H,(c=md(c,a))?a.connect(c):a.Jn(this))};
g.o=function(){if(this.isConnected()){this.Qi(null);var a=this.K();a&&kd(a)}this.Ic=!0};g.C=function(){return this.m};function nd(a){return 1==a.type||3==a.type}g.isConnected=function(){return!!this.J};g.Jn=function(){};g.connect=function(a){if(this.J!=a&&0==od(this,a,!1)){var b=Tb;b||z(!0);nd(this)?this.Qj(a):a.Qj(this);b||z(!1)}};function pd(a,b){var c=null;b=b.u;for(var d=0,e;e=a.A[d];d++)if((e=e.connection)&&0==od(b,e,!1)){if(c)return null;c=e}return c}
function md(a,b){if(2===b.type){a:{b=b.C();for(var c;c=pd(a,b);)if(a=c.K(),!a||a.X){b=c;break a}b=null}return b}return(a=a.yk(!0))&&0==od(b,a,!1)?a:null}g.disconnect=function(){var a=this.J;if(!a)throw Error("Source connection not connected.");if(a.J!=this)throw Error("Target connection not connected to source connection.");if(nd(this)){var b=this.m;var c=a.C();a=this}else b=a.C(),c=this.m;var d=Tb;d||z(!0);this.km(b,c);c.X||a.Ji();d||z(!1)};
g.km=function(a,b){var c;0==w&&(c=new (A("move"))(b));this.J=this.J.J=null;b.hl(null);c&&(id(c),x(c))};g.Ji=function(){var a=this.C(),b=this.Og();if(a.h&&b)if(a=Rc(b,a.h),a.u)this.connect(a.u);else if(a.H)this.connect(a.H);else throw Error("Child block does not have output or previous statement.");};g.K=function(){return this.isConnected()?this.J.C():null};g.Rq=function(){!this.isConnected()||this.J&&0==od(this,this.J,!1)||kd(nd(this)?this.K():this.m)};
g.xc=function(a){a?(Array.isArray(a)||(a=[a]),this.Ke=a,this.Rq()):this.Ke=null;return this};g.Qi=function(a){this.il=a;a=this.K();a?a.X&&(a.o(!1),this.Ji()):this.Ji()};g.Og=function(a){return a&&this.K().X?Mc(this.K()):this.il};g.Fq=function(){return[]};g.yd=function(){for(var a=null,b=this.m.A,c=0;c<b.length;c++)if(b[c].connection===this){a=b[c];break}return a};
var qd=Object.create(null);function rd(a,b){if("string"!=typeof a||""==a.trim())throw Error('Error: Invalid extension name "'+a+'"');if(qd[a])throw Error('Error: Extension "'+a+'" is already registered.');if("function"!=typeof b)throw Error('Error: Extension "'+a+'" must be a function');qd[a]=b}function sd(a,b){if(!b||"object"!=typeof b)throw Error('Error: Mixin "'+a+'" must be a object');rd(a,function(){td(this,b)})}
function ud(a,b,c,d){var e='Error when registering mutator "'+a+'": ';vd(e,b.Za,"domToMutation");vd(e,b.wa,"mutationToDom");var f=wd(b,e);if(c&&"function"!=typeof c)throw Error('Extension "'+a+'" is not a function');rd(a,function(){if(f){if(!xd)throw Error(e+"Missing require for Blockly.Mutator");this.ag(new xd(d||[]))}td(this,b);c&&c.apply(this)})}
function yd(a,b,c){var d=qd[a];if("function"!=typeof d)throw Error('Error: Extension "'+a+'" not found.');if(c){if(zd(b).length)throw Error('Error: tried to apply mutation "'+a+'" to a block that already has mutator functions.  Block id: '+b.id);}else var e=zd(b);d.apply(b);if(c){a='Error after applying mutator "'+a+'": ';if("function"!=typeof b.Za)throw Error(a+'Applying a mutator didn\'t add "domToMutation"');if("function"!=typeof b.wa)throw Error(a+'Applying a mutator didn\'t add "mutationToDom"');
wd(b,a)}else{a:if(c=e,b=zd(b),b.length!=c.length)b=!1;else{for(d=0;d<b.length;d++)if(c[d]!=b[d]){b=!1;break a}b=!0}if(!b)throw Error('Error when applying extension "'+a+'": mutation properties changed when applying a non-mutator extension.');}}function vd(a,b,c){if(!b)throw Error(a+'missing required property "'+c+'"');if("function"!=typeof b)throw Error(a+'" required property "'+c+'" must be a function');}
function wd(a,b){var c=void 0!==a.Ne,d=void 0!==a.Qe;if(c&&d){if("function"!=typeof a.Ne)throw Error(b+"compose must be a function.");if("function"!=typeof a.Qe)throw Error(b+"decompose must be a function.");return!0}if(!c&&!d)return!1;throw Error(b+'Must have both or neither of "compose" and "decompose"');}function zd(a){var b=[];void 0!==a.Za&&b.push(a.Za);void 0!==a.wa&&b.push(a.wa);void 0!==a.Ne&&b.push(a.Ne);void 0!==a.Qe&&b.push(a.Qe);return b}
function Ad(a,b){var c=[];"object"==typeof document&&Ob(function(){for(var d in b)Jb(b[d])});return function(){this.type&&-1==c.indexOf(this.type)&&(Bd(this,a,b),c.push(this.type));this.hb(function(){var d=String(I(this,a)),e=b[d];null==e?-1==c.indexOf(this.type)&&(d="No tooltip mapping for value "+d+" of field "+a,null!=this.type&&(d+=" of block type "+this.type),console.warn(d+".")):e=Hb(e);return e}.bind(this))}}
function Bd(a,b,c){var d=ad(a,b);if(!Cd(d)){d=Dd(d);for(var e=0;e<d.length;++e){var f=d[e][1];null==c[f]&&console.warn("No tooltip mapping for value "+f+" of field "+b+" of block type "+a.type)}}}function Ed(a){"object"==typeof document&&Ob(function(){Jb(a)});return function(){this.hb(function(){var b=ad(this,"VAR");return Hb(a).replace("%1",b?b.Qb():"")}.bind(this))}}rd("parent_tooltip_when_inline",function(){this.su=this.Xc;this.hb(function(){var a=this.getParent();return a&&Fd(a)&&a.Xc||this.su}.bind(this))});function Gd(a){var b=Ra(Ja,a.type);return b?b.N(a):(console.warn("Blockly could not create a field of type "+a.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null)};var Hd="ontouchstart"in Ta||!!(Ta.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!Ta.navigator||!Ta.navigator.maxTouchPoints&&!Ta.navigator.msMaxTouchPoints),Id=null,Jd={};
Ta.PointerEvent?Jd={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]}:Hd&&(Jd={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]});var Kd=0;
function Ld(a,b){Md();a.changedTouches&&1!=a.changedTouches.length||(Kd=setTimeout(function(){a.changedTouches&&(a.button=2,a.clientX=a.changedTouches[0].clientX,a.clientY=a.changedTouches[0].clientY);b&&Nd(b,a)},750))}function Md(){Kd&&(clearTimeout(Kd),Kd=0)}function Od(a){return void 0!=a.pointerId?a.pointerId:a.changedTouches&&a.changedTouches[0]&&void 0!==a.changedTouches[0].identifier&&null!==a.changedTouches[0].identifier?a.changedTouches[0].identifier:"mouse"}
function Pd(a){var b=Od(a);return void 0!==Id&&null!==Id?Id==b:"mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type?(Id=b,!0):!1}function Qd(a){return 0==a.type.lastIndexOf("touch",0)||0==a.type.lastIndexOf("mouse",0)||0==a.type.lastIndexOf("pointer",0)}function Rd(a){return 0==a.type.lastIndexOf("touch",0)||0==a.type.lastIndexOf("pointer",0)}
function Sd(a){var b=[];if(a.changedTouches)for(var c=0;c<a.changedTouches.length;c++)b[c]={type:a.type,changedTouches:[a.changedTouches[c]],target:a.target,stopPropagation:function(){a.stopPropagation()},preventDefault:function(){a.preventDefault()}};else b.push(a);return b};function J(a,b,c,d,e,f){function h(y){var D=!e;y=Sd(y);for(var ea=0,Z;Z=y[ea];ea++)if(!D||!Qd(Z)||Pd(Z)){var db=Z;if(0==db.type.lastIndexOf("touch",0)){var Pe=db.changedTouches[0];db.clientX=Pe.clientX;db.clientY=Pe.clientY}c?d.call(c,Z):d(Z);k=!0}}var k=!1,m=[];if(Ta.PointerEvent&&b in Jd)for(var n=0,p;p=Jd[b][n];n++)a.addEventListener(p,h,!1),m.push([a,p,h]);else if(a.addEventListener(b,h,!1),m.push([a,b,h]),b in Jd){var t=function(y){h(y);var D=!f;k&&D&&y.preventDefault()};for(n=0;p=Jd[b][n];n++)a.addEventListener(p,
t,!1),m.push([a,p,t])}return m}function Td(a,b,c,d){function e(n){c?d.call(c,n):d(n)}var f=[];if(Ta.PointerEvent&&b in Jd)for(var h=0,k;k=Jd[b][h];h++)a.addEventListener(k,e,!1),f.push([a,k,e]);else if(a.addEventListener(b,e,!1),f.push([a,b,e]),b in Jd){var m=function(n){if(n.changedTouches&&1==n.changedTouches.length){var p=n.changedTouches[0];n.clientX=p.clientX;n.clientY=p.clientY}e(n);n.preventDefault()};for(h=0;k=Jd[b][h];h++)a.addEventListener(k,m,!1),f.push([a,k,m])}return f}
function K(a){for(;a.length;){var b=a.pop();b[0].removeEventListener(b[1],b[2],!1)}};function Ud(a){return a*Math.PI/180}function Vd(a,b,c){if(c<a){var d=c;c=a;a=d}return Math.max(a,Math.min(b,c))};

var Wd,Xd,Yd,Zd=null,$d=null,ae=null,be=null,ce="",de="";
function ee(){if(!Wd){var a=document.createElement("div");a.className="blocklyDropDownDiv";(fe||document.body).appendChild(a);Wd=a;var b=document.createElement("div");b.className="blocklyDropDownContent";a.appendChild(b);Xd=b;b=document.createElement("div");b.className="blocklyDropDownArrow";a.appendChild(b);Yd=b;Wd.style.opacity=0;Wd.style.transition="transform 0.25s, opacity 0.25s";a.addEventListener("focusin",function(){F(a,"blocklyFocused")});a.addEventListener("focusout",function(){Dc(a,"blocklyFocused")})}}
function ge(a,b){var c=he(a);var d=new $a(c.top,c.bottom,c.left,c.right);c=d.left+(d.right-d.left)/2;var e=d.bottom;d=d.top;for(var f=a.C(),h=f.h;h.options.Oa;)h=h.options.Oa;Zd=L(h).parentNode;f=f.s;$d=a;be=b||null;a=Wd;a.style.direction=f?"rtl":"ltr";b=ie;ce=b.ya.ed();de=b.$d().ed();F(a,ce);F(a,de);a=kb(Zd);b=ib(Zd);a={left:a.x,right:a.x+b.width,top:a.y,bottom:a.y+b.height,width:b.width,height:b.height};b=ib(Wd);e+b.height<a.bottom?c=je(c,e,a,b):d-b.height>a.top?c=ke(c,d,a,b):e+b.height<document.documentElement.clientHeight?
c=je(c,e,a,b):d-b.height>document.documentElement.clientTop?c=ke(c,d,a,b):(c=le(c,a.left,a.right,b.width),c={Xm:c.Kg,Ym:0,Am:c.Kg,Bm:0,Ml:null,Cg:null,Ol:null,Nl:!1});a=c;a.Nl?(Yd.style.display="",Yd.style.transform="translate("+a.Cg+"px,"+a.Ol+"px) rotate(45deg)",Yd.setAttribute("class",a.Ml?"blocklyDropDownArrow blocklyArrowTop":"blocklyDropDownArrow blocklyArrowBottom")):Yd.style.display="none";c=Math.floor(a.Xm);e=Math.floor(a.Ym);d=Math.floor(a.Am);a=Math.floor(a.Bm);b=Wd;b.style.left=c+"px";
b.style.top=e+"px";b.style.display="block";b.style.opacity=1;b.style.transform="translate("+(d-c)+"px,"+(a-e)+"px)"}function je(a,b,c,d){a=le(a,c.left,c.right,d.width);return{Xm:a.Kg,Ym:b,Am:a.Kg,Bm:b+16,Cg:a.Cg,Ol:-9,Ml:!0,Nl:!0}}function ke(a,b,c,d){a=le(a,c.left,c.right,d.width);return{Xm:a.Kg,Ym:b-d.height,Am:a.Kg,Bm:b-d.height-16,Cg:a.Cg,Ol:d.height-2-8,Ml:!1,Nl:!0}}function le(a,b,c,d){var e=a;a=Vd(b,a-d/2,c-d);b=Vd(12,e-8-a,d-12-16);return{Cg:b,Kg:a}}
function me(){var a=Wd;a.style.transform="translate(0, 0)";a.style.opacity=0;ae=setTimeout(function(){ne()},250);be&&(be(),be=null)}function ne(){if($d){ae&&clearTimeout(ae);var a=Wd;a.style.transform="";a.style.left="";a.style.top="";a.style.opacity=0;a.style.display="none";a.style.backgroundColor="";a.style.borderColor="";be&&(be(),be=null);Xd.textContent="";Xd.style.width="";$d=null;ce&&(Dc(a,ce),ce="");de&&(Dc(a,de),de="");oe(ie)}};var pe=0,qe=null;function re(a,b,c,d){var e=(new Date-c)/150;1<e?G(a):(a.setAttribute("transform","translate("+(a.uu+(b?-1:1)*a.qp.width*d/2*e)+","+(a.vu+a.qp.height*d*e)+") scale("+(1-e)*d+")"),setTimeout(re,10,a,b,c,d))}function se(a,b,c){var d=(new Date-b)/150;1<d?G(a):(a.setAttribute("r",25*d*c),a.style.opacity=1-d,pe=setTimeout(se,10,a,b,c))}
function te(a,b,c){var d=(new Date-c)/200;1<d?a.Ui="":(a.Ui="skewX("+Math.round(Math.sin(d*Math.PI*3)*(1-d)*b)+")",qe=a,pe=setTimeout(te,10,a,b,c));a.setAttribute("transform",a.fj+a.Ui)}function ue(){if(qe){clearTimeout(pe);var a=qe;a.Ui="";a.setAttribute("transform",a.fj);qe=null}};function ve(a){ve.j.constructor.call(this);this.Bd="undefined"==typeof a;this.Db=a?a:"";this.yb=!1}B(ve,bc);ve.prototype.dn=!0;function we(a,b,c,d){we.j.constructor.call(this,a?a.h.id:void 0);this.ka=a?a.id:null;this.element="undefined"==typeof b?"":b;this.oldValue="undefined"==typeof c?"":c;this.newValue="undefined"==typeof d?"":d}B(we,ve);we.prototype.type="ui";
we.prototype.R=function(){var a=we.j.R.call(this);a.element=this.element;void 0!==this.newValue&&(a.newValue=this.newValue);this.ka&&(a.blockId=this.ka);return a};we.prototype.N=function(a){we.j.N.call(this,a);this.element=a.element;this.newValue=a.newValue;this.ka=a.blockId};u(Ia,"ui",we);function xe(a,b,c){xe.j.constructor.call(this,a?a.h.id:void 0);this.ka=a?a.id:null;this.rq=b;this.sp=c}B(xe,ve);xe.prototype.type="drag";xe.prototype.R=function(){var a=xe.j.R.call(this);a.isStart=this.rq;a.blockId=this.ka;a.blocks=this.sp;return a};xe.prototype.N=function(a){xe.j.N.call(this,a);this.rq=a.isStart;this.ka=a.blockId;this.sp=a.blocks};u(Ia,"drag",xe);function ye(){this.Me=Object.create(null);this.Eg=Object.create(null)}function ze(a,b){var c=b.component.id;if(a.Me[c])throw Error('Plugin "'+c+'" with capabilities "'+a.Me[c].Pd+'" already added.');a.Me[c]=b;for(var d=[],e=0;e<b.Pd.length;e++){var f=String(b.Pd[e]).toLowerCase();d.push(f);void 0===a.Eg[f]?a.Eg[f]=[c]:a.Eg[f].push(c)}a.Me[c].Pd=d}
function Ae(a,b){var c=a.Me[b];if(c){for(var d=0;d<c.Pd.length;d++){var e=String(c.Pd[d]).toLowerCase();a.Eg[e].splice(a.Eg[e].indexOf(b),1)}delete a.Me[b]}}function Be(a,b){var c=Ce;c=String(c).toLowerCase();return-1!==a.Me[b].Pd.indexOf(c)}function De(a,b){b=String(b).toLowerCase();b=a.Eg[b];if(!b)return[];var c=[],d=[],e=a.Me;b.forEach(function(f){d.push(e[f])});d.sort(function(f,h){return f.weight-h.weight});d.forEach(function(f){c.push(f.component)});return c}function Ee(a){this.oe=a}
Ee.prototype.toString=function(){return this.oe};var Fe=new Ee("positionable"),Ge=new Ee("drag_target"),Ce=new Ee("delete_area"),He=new Ee("autohideable");function Ie(a){this.xf=M=a;this.g=a.h;this.af=this.hn=null;this.Yh=Je(this,this.xf);this.Vb=this.Ra=null;this.od=!1;this.Xh=this.Sm=this.Sf=null;this.Gj=Ke(this)}Ie.prototype.o=function(){this.Gj.length=0;w++;try{this.Yh&&this.Yh.o(),this.af&&this.af.o()}finally{w--}};
Ie.prototype.update=function(a,b){var c=28;for(var d=null,e=null,f=0;f<this.Gj.length;f++){var h=this.Gj[f],k=h.closest(c,a);k.connection&&(d=k.connection,e=h,c=k.Wk)}c={closest:d,local:e,Wk:c};if((this.od=this.Bo(c,b))||Le(this,c,a)){w++;c.closest?(a=this.Ra!=c.closest,b=this.Vb!=c.local,this.Ra&&this.Vb&&(a||b||this.od)&&Me(this)):Me(this);this.Vb=this.Ra=this.Sf=null;if(!this.od&&(a=c.closest,b=c.local,a))if(a==this.Ra||a.C().Ub())console.log("Trying to connect to an insertion marker");else{this.Ra=
a;this.Vb=b;a=this.Ra;b=this.Vb;c=this.xf;2==b.type||4==b.type?((d=!a.isConnected())||(d=a.K(),d=!!md(c,2===b.type?d.u:d.H)),b=d?0:2):b=0;switch(b){case 1:this.Sm=this.Ra.C();break;case 0:d=this.Vb;b=this.Ra;c=this.hn&&d==this.hn?this.af:this.Yh;d=c.Km(d.C(),d);if(d==this.Sf)throw Error("Made it to showInsertionMarker_ even though the marker isn't changing");c.P();c.I=!0;c.U().setAttribute("visibility","visible");d&&b&&(3!=d.type&&1!=d.type||c.moveBy(b.x-d.x,b.y-d.y));b&&d.connect(b);this.Sf=d;break;
case 2:this.Xh=this.Ra.K(),Ne(this.Xh.xa,"blocklyReplaceable",!0)}a&&(c=a.m.h.ya.G(),b=Oe(c,a),1==a.type||2==a.type?(c=c.Ag,b=Qe(0,-c)+N("v",c)+b.Rc+N("v",c)):(c=c.uh-c.ta,b=Qe(-c,0)+N("h",c)+b.jf+N("h",c)),c=a.m.ga(),ld.iq=E(tc,{"class":"blocklyHighlightedConnectionPath",d:b,transform:"translate("+(a.x-c.x)+","+(a.y-c.y)+")"+(a.m.s?" scale(-1 1)":"")},a.m.U()))}w--}};
function Je(a,b){var c=b.type;w++;try{var d=a.g.$g(c);d.nr(!0);if(b.wa){var e=b.wa();e&&d.Za(e)}for(a=0;a<b.A.length;a++){var f=b.A[a];if("_TEMP_COLLAPSED_INPUT"!=f.name){var h=d.A[a];if(!h)throw Error("The insertion marker manager tried to create a marker but the result is missing an input. If you are using a mutator, make sure your domToMutation method is properly defined.");for(c=0;c<f.ba.length;c++){var k=f.ba[c],m=h.ba[c];if(!m)throw Error("The insertion marker manager tried to create a marker but the result is missing a field. If you are using a mutator, make sure your domToMutation method is properly defined.");
dd(m,k.kb())}}}d.rf(b.isCollapsed());d.Vc(Fd(b));d.ie();d.U().setAttribute("visibility","hidden")}finally{w--}return d}function Ke(a){var b=a.xf.fd(!1),c=a.xf.yk(!0);if(c&&c!=a.xf.D){b.push(c);a.hn=c;if(a.af){w++;try{a.af.o()}finally{w--}}a.af=Je(a,c.C())}return b}
function Le(a,b,c){var d=b.local,e=b.closest;b=b.Wk;if(d&&e){if(a.Vb&&a.Ra){if(a.Ra==e&&a.Vb==d)return!1;d=a.Vb.x+c.x-a.Ra.x;a=a.Vb.y+c.y-a.Ra.y;a=Math.sqrt(d*d+a*a);return!(e&&b>a-8)}if(a.Vb||a.Ra)console.error("Only one of localConnection_ and closestConnection_ was set.");else return!0}else return!(!a.Vb||!a.Ra);console.error("Returning true from shouldUpdatePreviews, but it's not clear why.");return!0}Ie.prototype.Bo=function(a,b){return b&&Be(this.g.ad,b.id)?b.Oo(this.xf,a&&!!a.closest):!1};
function Me(a){a.Ra&&a.Ra.K()&&(G(ld.iq),delete ld.iq);if(a.Xh)Ne(a.Xh.xa,"blocklyReplaceable",!1),a.Xh=null;else if(a.Sm)a.Sm=null;else if(a.Sf)if(a.Sf){var b=a.Sf,c=b.C(),d=c.D,e=c.H,f=c.u;f=1==b.type&&!(f&&f.J);!(b!=d||e&&e.J)||f?kd(b.K(),!1):3==b.type&&b!=d?(d=b.J,kd(d.C(),!1),e=e?e.J:null,kd(c,!0),e&&e.connect(d)):kd(c,!0);if(b.J)throw Error("markerConnection_ still connected at the end of disconnectInsertionMarker");a.Sf=null;(a=c.U())&&a.setAttribute("visibility","hidden")}else console.log("No insertion marker connection to disconnect")}
Ie.prototype.Ng=function(){var a=[];this.Yh&&a.push(this.Yh);this.af&&a.push(this.af);return a};function Re(a,b){this.va=a;this.g=b;this.xd=new Ie(this.va);this.Sa=null;this.od=!1;this.ze=this.va.ga();b=[];a=Rb(a,!1);for(var c=0,d;d=a[c];c++){d=Se(d);for(var e=0;e<d.length;e++)b.push({location:d[e].Mf,icon:d[e]})}this.bk=b}g=Re.prototype;g.o=function(){this.bk.length=0;this.xd&&this.xd.o()};
g.Wi=function(a,b){Tb||z(!0);var c=new (A("drag"))(this.va,!0,Rb(this.va,!1));x(c);this.g.li&&Te(this.va);Hc();this.g.Hb(!1);ue();if(this.va.getParent()||b&&this.va.D&&this.va.D.K())kd(this.va,b),a=this.bh(a),a=ra(this.ze,a),this.va.translate(a.x,a.y),a=this.va,a.h.Ge.play("disconnect"),1>a.h.scale||(b=Ue(a).height,b=Math.atan(10/b)/Math.PI*180,a.s||(b*=-1),te(a.U(),b,new Date)),a=this.xd,a.Gj=Ke(a);this.va.sf(!0);a=this.va;a.lj&&(b=a.ga(),a.U().removeAttribute("transform"),a.h.jc.fg(b.x,b.y),(b=
a.U())&&Ve(a.h.jc,b))};g.Zd=function(a,b){b=this.bh(b);this.va.An(ra(this.ze,b));for(var c=0;c<this.bk.length;c++){var d=this.bk[c];We(d.icon,ra(d.location,b))}c=this.Sa;this.Sa=Xe(this.g,a);this.xd.update(b,this.Sa);a=this.od;this.od=this.xd.od;a!=this.od&&this.va.so(this.od);this.Sa!==c&&(c&&c.Lk(),this.Sa&&this.Sa.Hn());this.Sa&&this.Sa.In()};
g.Uh=function(a,b){this.Zd(a,b);this.bk=[];a=new (A("drag"))(this.va,!1,Rb(this.va,!1));x(a);Ic();ue();b=this.bh(b);a=ra(this.ze,b);var c=this.va;c.lj&&(c.translate(a.x,a.y),c.h.jc.Lj(c.h.Da));this.Sa&&this.Sa.Mk();this.od?(Ye(this),this.va.o(!1,!0),Ze=[],a=!0):a=!1;if(!a)if(this.va.sf(!1),b){$e(this.va,b.x,b.y);Ye(this);if(this.xd.Ra){if(b=this.xd,b.Ra&&(w++,Me(b),w--,b.Vb.connect(b.Ra),b.xf.I)){c=(nd(b.Vb)?b.Ra:b.Vb).C();var d=c.h;a=d.scale;d.Ge.play("click");if(!(1>a)){var e=af(d,c.U());c.u?(e.x+=
(c.s?3:-3)*a,e.y+=13*a):c.H&&(e.x+=(c.s?-23:23)*a,e.y+=3*a);c=E(hc,{cx:e.x,cy:e.y,r:0,fill:"none",stroke:"#888","stroke-width":10},L(d));se(c,new Date,a)}Te(b.xf.gd())}}else this.va.P();bf(this.va)}else cf(this.va.h,this.g.Xb.Ue(!0),this.va);this.g.Hb(!0);z(!1)};function Ye(a){var b=new (A("move"))(a.va);b.En=a.ze;id(b);x(b)}g.bh=function(a){a=new q(a.x/this.g.scale,a.y/this.g.scale);this.g.li&&a.scale(1/this.g.options.Oa.scale);return a};g.Ng=function(){return this.xd&&this.xd.Ng?this.xd.Ng():[]};
u(Qa,"default",Re);function df(a,b,c,d,e){this.g=a;b=void 0===b?!0:b;c=void 0===c?!0:c;var f=b&&c;b&&(this.sa=new ef(a,!0,f,d,e));c&&(this.oa=new ef(a,!1,f,d,e));f&&(this.Oh=E(wc,{height:ff,width:ff,"class":"blocklyScrollbarBackground"},null),Fc(this.Oh,a.Ae));this.pa=null}g=df.prototype;g.o=function(){G(this.Oh);this.pa=this.g=this.Oh=null;this.sa&&(this.sa.o(),this.sa=null);this.oa&&(this.oa.o(),this.oa=null)};
g.resize=function(){var a=this.g.rc();if(a){var b=!1,c=!1;this.pa&&this.pa.Cb==a.Cb&&this.pa.Bb==a.Bb&&this.pa.ac==a.ac&&this.pa.Lb==a.Lb?(this.pa&&this.pa.scrollWidth==a.scrollWidth&&this.pa.Yc==a.Yc&&this.pa.scrollLeft==a.scrollLeft||(b=!0),this.pa&&this.pa.scrollHeight==a.scrollHeight&&this.pa.Zc==a.Zc&&this.pa.scrollTop==a.scrollTop||(c=!0)):c=b=!0;if(b||c){try{w++,this.sa&&b&&this.sa.resize(a),this.oa&&c&&this.oa.resize(a)}finally{w--}gf(this.g)}this.sa&&this.oa&&(this.pa&&this.pa.Cb==a.Cb&&
this.pa.Lb==a.Lb||this.Oh.setAttribute("x",this.oa.position.x),this.pa&&this.pa.Bb==a.Bb&&this.pa.ac==a.ac||this.Oh.setAttribute("y",this.sa.position.y));this.pa=a}};g.fl=function(a,b){this.sa&&this.sa.fl(a,b);this.oa&&this.oa.fl(a,b)};g.set=function(a,b,c){this.sa&&this.sa.set(a,!1);this.oa&&this.oa.set(b,!1);if(c||void 0===c)a={},this.sa&&(a.x=hf(this.sa)),this.oa&&(a.y=hf(this.oa)),this.g.Ni(a)};g.$f=function(a){this.sa&&this.sa.$f(a);this.oa&&this.oa.$f(a)};
g.isVisible=function(){var a=!1;this.sa&&(a=this.sa.isVisible());this.oa&&(a=a||this.oa.isVisible());return a};
function ef(a,b,c,d,e){this.g=a;this.hf=c||!1;this.Lf=b;this.Rf=void 0!==e?e:.5;this.ratio=this.pa=null;this.Td(d);this.position=new q(0,0);a=ff;b?(this.zb.setAttribute("height",a),this.Ed.setAttribute("height",a),this.zc.setAttribute("height",a-5),this.zc.setAttribute("y",2.5),this.Ak="width",this.$q="x"):(this.zb.setAttribute("width",a),this.Ed.setAttribute("width",a),this.zc.setAttribute("width",a-5),this.zc.setAttribute("x",2.5),this.Ak="height",this.$q="y");this.Tq=J(this.zb,"mousedown",this,
this.Pt);this.Uq=J(this.zc,"mousedown",this,this.Qt)}var jf,kf;g=ef.prototype;g.Rn=new q(0,0);g.qr=0;g.Uc=0;g.Ve=0;g.ei=0;g.vc=!0;g.Ef=!0;var ff=15;Hd&&(ff=25);g=ef.prototype;g.o=function(){lf();K(this.Tq);this.Tq=null;K(this.Uq);this.Uq=null;G(this.Ed);this.zb=this.B=this.Ed=null;this.zc&&(this.g.ib.unsubscribe(this.zc),this.zc=null);this.g=null};function mf(a,b){return b=0>=b||isNaN(b)?0:Math.min(b,a.Uc)}function nf(a,b){a.Ve=b;a.zc.setAttribute(a.Ak,a.Ve)}
function of(a,b){return b=0>=b||isNaN(b)?0:Math.min(b,a.Uc-a.Ve)}function pf(a,b){a.ei=b;a.zc.setAttribute(a.$q,a.ei)}function qf(a,b){a.Uc=b;a.Ed.setAttribute(a.Ak,a.Uc);a.zb.setAttribute(a.Ak,a.Uc)}g.setPosition=function(a,b){this.position.x=a;this.position.y=b;Gc(this.Ed,"translate("+(this.position.x+this.Rn.x)+"px,"+(this.position.y+this.Rn.y)+"px)")};
g.resize=function(a){if(!a&&(a=this.g.rc(),!a))return;var b;(b=!this.pa)||(b=this.pa,b=!(a.Cb==b.Cb&&a.Bb==b.Bb&&a.Yc==b.Yc&&a.Zc==b.Zc&&a.ac==b.ac&&a.Lb==b.Lb&&a.scrollWidth==b.scrollWidth&&a.scrollHeight==b.scrollHeight&&a.scrollLeft==b.scrollLeft&&a.scrollTop==b.scrollTop));b&&(this.Lf?(b=a,rf(this,b)?sf(this,b):tf(this,b)):(b=a,rf(this,b)?uf(this,b):vf(this,b)),this.pa=a,wf(this))};function rf(a,b){return a.pa?a.pa.Cb!==b.Cb||a.pa.Bb!==b.Bb||a.pa.Lb!==b.Lb||a.pa.ac!==b.ac:!0}
function sf(a,b){var c=b.Cb-2*a.Rf;a.hf&&(c-=ff);qf(a,Math.max(0,c));c=b.Lb+a.Rf;a.hf&&a.g.s&&(c+=ff);a.setPosition(c,b.ac+b.Bb-ff-a.Rf);tf(a,b)}function tf(a,b){if(b.Cb>=b.scrollWidth)nf(a,a.Uc),pf(a,0),a.hf||a.na(!1);else{a.hf||a.na(!0);var c=a.Uc*b.Cb/b.scrollWidth;c=mf(a,c);nf(a,c);c=b.scrollWidth-b.Cb;var d=a.Uc-a.Ve;b=(b.Yc-b.scrollLeft)/c*d;b=of(a,b);pf(a,b);a.ratio=d/c}}
function uf(a,b){var c=b.Bb-2*a.Rf;a.hf&&(c-=ff);qf(a,Math.max(0,c));a.setPosition(a.g.s?b.Lb+a.Rf:b.Lb+b.Cb-ff-a.Rf,b.ac+a.Rf);vf(a,b)}function vf(a,b){if(b.Bb>=b.scrollHeight)nf(a,a.Uc),pf(a,0),a.hf||a.na(!1);else{a.hf||a.na(!0);var c=a.Uc*b.Bb/b.scrollHeight;c=mf(a,c);nf(a,c);c=b.scrollHeight-b.Bb;var d=a.Uc-a.Ve;b=(b.Zc-b.scrollTop)/c*d;b=of(a,b);pf(a,b);a.ratio=d/c}}
g.Td=function(a){var b="blocklyScrollbar"+(this.Lf?"Horizontal":"Vertical");a&&(b+=" "+a);this.Ed=E(xc,{"class":b},null);this.B=E(qc,{},this.Ed);this.zb=E(wc,{"class":"blocklyScrollbarBackground"},this.B);a=Math.floor((ff-5)/2);this.zc=E(wc,{"class":"blocklyScrollbarHandle",rx:a,ry:a},this.B);this.g.ib.subscribe(this.zc,"scrollbarColour","fill");this.g.ib.subscribe(this.zc,"scrollbarOpacity","fill-opacity");Fc(this.Ed,L(this.g))};g.isVisible=function(){return this.vc};
g.$f=function(a){var b=a!=this.Ef;this.Ef=a;b&&this.hj()};g.na=function(a){var b=a!=this.isVisible();if(this.hf)throw Error("Unable to toggle visibility of paired scrollbars.");this.vc=a;b&&this.hj()};g.hj=function(){this.Ef&&this.isVisible()?this.Ed.setAttribute("display","block"):this.Ed.setAttribute("display","none")};
g.Pt=function(a){oe(this.g);Id=null;lf();if(Eb(a))a.stopPropagation();else{var b=Fb(a,L(this.g),xf(this.g));b=this.Lf?b.x:b.y;var c=Db(this.zc);c=this.Lf?c.x:c.y;var d=this.ei,e=.95*this.Ve;b<=c?d-=e:b>=c+this.Ve&&(d+=e);pf(this,of(this,d));wf(this);a.stopPropagation();a.preventDefault()}};
g.Qt=function(a){oe(this.g);lf();Eb(a)?a.stopPropagation():(this.ju=this.ei,yf(this.g),this.qr=this.Lf?a.clientX:a.clientY,jf=J(document,"mouseup",this,this.St),kf=J(document,"mousemove",this,this.Rt),a.stopPropagation(),a.preventDefault())};g.Rt=function(a){pf(this,of(this,this.ju+((this.Lf?a.clientX:a.clientY)-this.qr)));wf(this)};g.St=function(){zf(this.g);Id=null;lf()};function lf(){Af(!0);jf&&(K(jf),jf=null);kf&&(K(kf),kf=null)}function hf(a){a=a.ei/(a.Uc-a.Ve);isNaN(a)&&(a=0);return a}
function wf(a){var b=hf(a),c={};a.Lf?c.x=b:c.y=b;a.g.Ni(c)}g.set=function(a,b){pf(this,of(this,a*this.ratio));(b||void 0===b)&&wf(this)};g.fl=function(a,b){this.Rn=new q(a,b)};function od(a,b,c,d){if(a&&b){if(nd(a)){var e=a.C();var f=b.C()}else f=a.C(),e=b.C();e=e==f?1:b.type!=na[a.type]?2:e.h!==f.h?5:e.X&&!f.X?6:0}else e=3;return 0!=e?e:Bf(a,b)?c&&!Cf(a,b,d||0)?7:0:4}function Bf(a,b){a=a.Ke;b=b.Ke;if(!a||!b)return!0;for(var c=0;c<a.length;c++)if(-1!=b.indexOf(a[c]))return!0;return!1}
function Cf(a,b,c){if(Df(a,b)>c||b.C().Ub())return!1;switch(b.type){case 4:return a.J||-1!=Ze.indexOf(b)?a=!1:b.J?(a=b.K(),a=a.Ub()?!(a.H&&a.H.K()):!1):a=!0,a;case 2:if(b.isConnected()&&!b.K().Ub()||a.isConnected())return!1;break;case 1:if(b.isConnected()&&!b.K().mb()&&!b.K().X)return!1;break;case 3:if(b.isConnected()&&!a.C().D&&!b.K().X&&b.K().D)return!1;break;default:return!1}return-1!=Ze.indexOf(b)?!1:!0}u(Ga,"default",function(){});function Ef(){this.name="classic";u(Ma,"classic",this)}Ef.prototype.ed=function(){return this.name+"-theme"};var Ff={};Ff=new Ef;function Gf(a){if(!a)return null;if(a instanceof Element||"string"==typeof a){if(a){if("string"!=typeof a&&(lb&&a.outerHTML?a=a.outerHTML:a instanceof Element||(a=null)),"string"==typeof a&&(a=Pc(a),"xml"!=a.nodeName.toLowerCase()))throw TypeError("Toolbox should be an <xml> document.");}else a=null;var b={contents:Hf(a)};a instanceof Node&&If(a,b);a=b}b=a.kind;var c=a.contents;if(b&&"flyoutToolbox"!=b&&"categoryToolbox"!=b)throw Error("Invalid toolbox kind "+b+". Please supply either flyoutToolbox or categoryToolbox");
if(!c)throw Error("Toolbox must have a contents attribute.");return a}function Jf(a){return a?a.contents?a.contents:Array.isArray(a)&&0<a.length&&!a[0].nodeType?a:Hf(a):[]}function Kf(a){if(!a)return!1;var b=a.kind;return b?"categoryToolbox"==b:!!a.contents.filter(function(c){return"CATEGORY"==c.kind.toUpperCase()}).length}
function Hf(a){var b=[],c=a.childNodes;c||(c=a);a=0;for(var d;d=c[a];a++)if(d.tagName){var e={},f=d.tagName.toUpperCase();e.kind=f;"BLOCK"==f?e.blockxml=d:d.childNodes&&0<d.childNodes.length&&(e.contents=Hf(d));If(d,e);b.push(e)}return b}function If(a,b){for(var c=0;c<a.attributes.length;c++){var d=a.attributes[c];-1<d.nodeName.indexOf("css-")?(b.cssconfig=b.cssconfig||{},b.cssconfig[d.nodeName.replace("css-","")]=d.value):b[d.nodeName]=d.value}};function Lf(a){var b=!!a.readOnly;if(b)var c=null,d=!1,e=!1,f=!1,h=!1,k=!1,m=!1;else{c=Gf(a.toolbox);d=Kf(c);e=a.trashcan;void 0===e&&(e=d);var n=a.maxTrashcanContents;e?void 0===n&&(n=32):n=0;f=a.collapse;void 0===f&&(f=d);h=a.comments;void 0===h&&(h=d);k=a.disable;void 0===k&&(k=d);m=a.sounds;void 0===m&&(m=!0)}var p=!!a.rtl;var t="end"!==a.toolboxPosition==p?3:2;var y=a.css;void 0===y&&(y=!0);var D="https://blockly-demo.appspot.com/static/media/";a.media?D=a.media:a.path&&(D=a.path+"media/");var ea=
void 0===a.oneBasedIndex?!0:!!a.oneBasedIndex,Z=a.renderer||"geras",db=a.plugins||{};this.s=p;this.yi=ea;this.collapse=f;this.Ih=h;this.disable=k;this.readOnly=b;this.wn=a.maxBlocks||Infinity;this.Dk=a.maxInstances;this.zi=D;this.aq=d;b=a.move||{};f={};void 0===b.scrollbars&&void 0===a.scrollbars?f.scrollbars=d:"object"==typeof b.scrollbars?(f.scrollbars={},f.scrollbars.Tm=!!b.scrollbars.horizontal,f.scrollbars.vertical=!!b.scrollbars.vertical,f.scrollbars.Tm&&f.scrollbars.vertical?f.scrollbars=!0:
f.scrollbars.Tm||f.scrollbars.vertical||(f.scrollbars=!1)):f.scrollbars=!!b.scrollbars||!!a.scrollbars;f.oh=f.scrollbars&&void 0!==b.wheel?!!b.wheel:"object"==typeof f.scrollbars;f.Zd=f.scrollbars?void 0===b.drag?!0:!!b.drag:!1;this.Gb=f;this.eq=e;this.Ek=n;this.xt=m;this.vt=y;this.Dd=c;c=a.grid||{};d={};d.spacing=Number(c.spacing)||0;d.Zl=c.colour||"#888";d.length=void 0===c.length?1:Number(c.length);d.uv=0<d.spacing&&!!c.snap;this.$p=d;c=a.zoom||{};d={};d.controls=void 0===c.controls?!1:!!c.controls;
d.oh=void 0===c.wheel?!1:!!c.wheel;d.mu=void 0===c.startScale?1:Number(c.startScale);d.pi=void 0===c.maxScale?3:Number(c.maxScale);d.si=void 0===c.minScale?.3:Number(c.minScale);d.bu=void 0===c.scaleSpeed?1.2:Number(c.scaleSpeed);d.Zq=void 0===c.pinch?d.oh||d.controls:!!c.pinch;this.Ha=d;this.Wa=t;this.Hi=Z;this.Ii=a.rendererOverrides;this.Pm=null;this.Oa=a.parentWorkspace;this.plugins=db};function Mf(a){Mf.j.constructor.call(this);this.yf=(this.Bd="undefined"==typeof a)?"":a.T();this.Db=this.Bd?"":a.h.id}B(Mf,bc);Mf.prototype.R=function(){var a=Mf.j.R.call(this);a.varId=this.yf;return a};Mf.prototype.N=function(a){Mf.j.R.call(this);this.yf=a.varId};function Nf(a){Nf.j.constructor.call(this,a);a&&(this.kg=a.type,this.jg=a.name)}B(Nf,Mf);Nf.prototype.type="var_create";Nf.prototype.R=function(){var a=Nf.j.R.call(this);a.varType=this.kg;a.varName=this.jg;return a};
Nf.prototype.N=function(a){Nf.j.N.call(this,a);this.kg=a.varType;this.jg=a.varName};Nf.prototype.run=function(a){var b=cc(this);a?b.bd(this.jg,this.kg,this.yf):b.Xd(this.yf)};function Of(a){Of.j.constructor.call(this,a);a&&(this.kg=a.type,this.jg=a.name)}B(Of,Mf);Of.prototype.type="var_delete";Of.prototype.R=function(){var a=Of.j.R.call(this);a.varType=this.kg;a.varName=this.jg;return a};Of.prototype.N=function(a){Of.j.N.call(this,a);this.kg=a.varType;this.jg=a.varName};
Of.prototype.run=function(a){var b=cc(this);a?b.Xd(this.yf):b.bd(this.jg,this.kg,this.yf)};function Pf(a,b){Pf.j.constructor.call(this,a);a&&(this.Fn=a.name,this.Cn="undefined"==typeof b?"":b)}B(Pf,Mf);Pf.prototype.type="var_rename";Pf.prototype.R=function(){var a=Pf.j.R.call(this);a.oldName=this.Fn;a.newName=this.Cn;return a};Pf.prototype.N=function(a){Pf.j.N.call(this,a);this.Fn=a.oldName;this.Cn=a.newName};Pf.prototype.run=function(a){var b=cc(this);a?b.nf(this.yf,this.Cn):b.nf(this.yf,this.Fn)};
u(Ia,"var_create",Nf);u(Ia,"var_delete",Of);u(Ia,"var_rename",Pf);function Qf(a){this.Y=Object.create(null);this.h=a}g=Qf.prototype;g.clear=function(){this.Y=Object.create(null)};g.nf=function(a,b){var c=this.hd(a);if(!c)throw Error("Tried to rename a variable that didn't exist. ID: "+a);a=this.Mc(b,c.type);var d=Rf(this.h);z(!0);try{if(a&&a.T()!=c.T()){var e=c.type;b!=a.name&&Sf(a,b,d);for(b=0;b<d.length;b++)d[b].$k(c.T(),a.T());x(new (A("var_delete"))(c));this.Y[e].splice(this.di(e).indexOf(c),1)}else Sf(c,b,d)}finally{z(!1)}};
function Sf(a,b,c){x(new (A("var_rename"))(a,b));a.name=b;for(b=0;b<c.length;b++)c[b].rl(a)}g.bd=function(a,b,c){var d=this.Mc(a,b);if(d){if(c&&d.T()!=c)throw Error('Variable "'+a+'" is already in use and its id is "'+d.T()+'" which conflicts with the passed in id, "'+c+'".');return d}if(c&&this.hd(c))throw Error('Variable id, "'+c+'", is already in use.');b=b||"";d=new Tf(this.h,a,b,c||Kb());a=this.Y[b]||[];a.push(d);delete this.Y[b];this.Y[b]=a;return d};
g.Xd=function(a){var b=this.hd(a);if(b){var c=b.name,d=this.Om(a);a=0;for(var e;e=d[a];a++)if("procedures_defnoreturn"==e.type||"procedures_defreturn"==e.type){a=I(e,"NAME");c=v.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",c).replace("%2",a);Uf(c);return}var f=this;1<d.length?(c=v.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(d.length)).replace("%2",c),Vf(c,function(h){h&&b&&Wf(f,b,d)})):Wf(f,b,d)}else console.warn("Can't delete non-existent variable: "+a)};
function Wf(a,b,c){var d=Tb;d||z(!0);try{for(var e=0;e<c.length;e++)c[e].o(!0);var f=a.Y[b.type];a=0;for(var h;h=f[a];a++)if(h.T()==b.T()){f.splice(a,1);x(new (A("var_delete"))(b));break}}finally{d||z(!1)}}g.Mc=function(a,b){if(b=this.Y[b||""])for(var c=0,d;d=b[c];c++)if(Xf(d.name,a))return d;return null};g.hd=function(a){for(var b=Object.keys(this.Y),c=0;c<b.length;c++)for(var d=b[c],e=0,f;f=this.Y[d][e];e++)if(f.T()==a)return f;return null};g.di=function(a){return(a=this.Y[a||""])?a.slice():[]};
g.Nm=function(a){var b={};dc(b,this.Y);a&&a.kf&&dc(b,a.kf.Y);a=Object.keys(b);b=!1;for(var c=0;c<a.length;c++)""==a[c]&&(b=!0);b||a.push("");return a};g.Gf=function(){var a=[],b;for(b in this.Y)a=a.concat(this.Y[b]);return a};g.Em=function(){var a=[],b;for(b in this.Y)for(var c=this.Y[b],d=0,e;e=c[d];d++)a.push(e.name);return a};g.Om=function(a){for(var b=[],c=Rf(this.h),d=0;d<c.length;d++){var e=c[d].ae();if(e)for(var f=0;f<e.length;f++)e[f].T()==a&&b.push(c[d])}return b};function Sc(a){this.id=Kb();Zb[this.id]=this;this.options=a||new Lf({});this.s=!!this.options.s;this.Wa=this.options.Wa;new (Sa(Ga,this.options,!0))(this);this.dj=[];this.ol=[];Object.create(null);this.bb=[];this.gg=[];this.Ei=[];this.Ql=Object.create(null);this.De=Object.create(null);this.Y=new Qf(this);this.kf=null}g=Sc.prototype;g.I=!1;g.an=!1;g.ap=1024;g.Sj=null;g.o=function(){this.bb.length=0;this.clear();delete Zb[this.id]};
g.Md=function(a,b){a=a.ga();b=b.ga();return a.y+Sc.prototype.Md.offset*a.x-(b.y+Sc.prototype.Md.offset*b.x)};g.Fj=function(a){this.dj.push(a)};g.Zk=function(a){if(!Pb(this.dj,a))throw Error("Block not present in workspace's list of top-most blocks.");};g.$a=function(a){var b=[].concat(this.dj);a&&1<b.length&&(this.Md.offset=Math.sin(Ud(3)),this.s&&(this.Md.offset*=-1),b.sort(this.Md));return b};function Yf(a,b){return a.De[b]?a.De[b].slice(0):[]}
function Rf(a){var b=a.$a(!1);for(a=0;a<b.length;a++)b.push.apply(b,Lc(b[a],!1));return b.filter(function(c){return!c.Ub()})}g.clear=function(){this.an=!0;try{var a=Tb;for(a||z(!0);this.dj.length;)this.dj[0].o(!1);for(;this.ol.length;)this.ol[this.ol.length-1].o(!1);a||z(!1);this.Y.clear();this.kf&&this.kf.clear()}finally{this.an=!1}};g.nf=function(a,b){this.Y.nf(a,b)};g.bd=function(a,b,c){return this.Y.bd(a,b,c)};g.Om=function(a){return this.Y.Om(a)};g.Xd=function(a){this.Y.Xd(a)};
g.Mc=function(a,b){return this.Y.Mc(a,b)};g.hd=function(a){return this.Y.hd(a)};g.di=function(a){return this.Y.di(a)};g.Nm=function(){return this.Y.Nm(this)};g.Gf=function(){return this.Y.Gf()};g.Em=function(){return this.Y.Em()};g.ee=function(){return 0};g.$g=function(a,b){return new Aa(this,a,b)};function Zf(a){return isNaN(a.options.wn)?Infinity:a.options.wn-Rf(a).length}
function $f(a,b){if(!ag(a))return!0;var c=0,d;for(d in b){if(b[d]>(a.options.Dk?(void 0!==a.options.Dk[d]?a.options.Dk[d]:Infinity)-Yf(a,d).length:Infinity))return!1;c+=b[d]}return c>Zf(a)?!1:!0}function ag(a){return Infinity!=a.options.wn||!!a.options.Dk}function bg(a,b){var c=b?a.Ei:a.gg;a=b?a.gg:a.Ei;var d=c.pop();if(d){for(var e=[d];c.length&&d.group&&d.group==c[c.length-1].group;)e.push(c.pop());for(c=0;d=e[c];c++)a.push(d);e=Yb(e,b);Ub=!1;try{for(c=0;d=e[c];c++)d.run(b)}finally{Ub=!0}}}
function cg(a,b){a.bb.push(b)}g.pc=function(a){return this.Ql[a]||null};g.zo=function(a){this.Y=a};var Zb=Object.create(null);function dg(){var a=[],b;for(b in Zb)a.push(Zb[b]);return a};function eg(a,b,c,d,e,f){this.g=a;this.Nh=b;this.fu=c;this.On=this.Nn=this.zn=this.mo=null;this.Ic=!1;c=fg;this.g.s&&(c=-c);this.Qs=Ud(c);a.Ae.appendChild(this.Td(b,!(!e||!f)));this.Qa=d;this.lo&&gg(this);e&&f||(a=this.Nh.getBBox(),e=a.width+2*hg,f=a.height+2*hg);this.Mi(e,f);gg(this);ig(this);this.lo=!0}var hg=6,fg=20,jg=null,kg=null;function lg(){jg&&(K(jg),jg=null);kg&&(K(kg),kg=null)}function mg(){Id=null;lg()}g=eg.prototype;g.lo=!1;g.Qa=null;g.Hd=0;g.mf=0;g.qa=0;g.ub=0;g.Pl=!0;
g.Td=function(a,b){this.Dc=E(qc,{},null);var c={filter:"url(#"+this.g.ya.G().ck+")"};nb&&(c={});c=E(qc,c,this.Dc);this.tp=E(tc,{},c);this.Ij=E(wc,{"class":"blocklyDraggable",x:0,y:0,rx:hg,ry:hg},c);b?(this.te=E(qc,{"class":this.g.s?"blocklyResizeSW":"blocklyResizeSE"},this.Dc),b=2*hg,E(vc,{points:"0,x x,x x,0".replace(/x/g,b.toString())},this.te),E(sc,{"class":"blocklyResizeLine",x1:b/3,y1:b-1,x2:b-1,y2:b/3},this.te),E(sc,{"class":"blocklyResizeLine",x1:2*b/3,y1:b-1,x2:b-1,y2:2*b/3},this.te)):this.te=
null;this.g.options.readOnly||(this.Nn=J(this.Ij,"mousedown",this,this.Us),this.te&&(this.On=J(this.te,"mousedown",this,this.Zt)));this.Dc.appendChild(a);return this.Dc};g.U=function(){return this.Dc};function ng(a,b){a.Dc.dataset&&(a.Dc.dataset.blockId=b)}g.Us=function(a){var b=this.g.Se(a);if(b){if(b.Jf)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");b.yc||(b.yc=this);b.Pc=a}};g.Si=function(){};g.Oc=function(){return!1};g.so=function(){};
g.Zt=function(a){og(this);lg();Eb(a)||(this.g.Wi(a,new q(this.g.s?-this.qa:this.qa,this.ub)),jg=J(document,"mouseup",this,mg),kg=J(document,"mousemove",this,this.$t),Af());a.stopPropagation()};g.$t=function(a){this.Pl=!1;var b=this.g;a=Fb(a,L(b),xf(b));a.x/=b.scale;a.y/=b.scale;b=ra(b.Np,a);this.Mi(this.g.s?-b.x:b.x,b.y);this.g.s&&gg(this)};function og(a){var b=a.Dc.parentNode;return b.lastChild!==a.Dc?(b.appendChild(a.Dc),!0):!1}
function pg(a,b,c){var d=a.g.s?a.Qa.x-b.x-a.qa:b.x+a.Qa.x;b=b.y+a.Qa.y;return Math.max(0,Math.min(1,(Math.min(d+a.qa,c.left+c.width)-Math.max(d,c.left))*(Math.min(b+a.ub,c.top+c.height)-Math.max(b,c.top))/(a.qa*a.ub)))}function gg(a){var b=a.Qa.x;b=a.g.s?b-(a.Hd+a.qa):b+a.Hd;a.moveTo(b,a.mf+a.Qa.y)}g.moveTo=function(a,b){this.Dc.setAttribute("transform","translate("+a+","+b+")")};g.sf=function(a){!a&&this.zn&&this.zn()};g.Fm=function(){return new hb(this.qa,this.ub)};
g.Mi=function(a,b){var c=2*hg;a=Math.max(a,c+45);b=Math.max(b,c+20);this.qa=a;this.ub=b;this.Ij.setAttribute("width",a);this.Ij.setAttribute("height",b);this.te&&(this.g.s?this.te.setAttribute("transform","translate("+2*hg+","+(b-c)+") scale(-1 1)"):this.te.setAttribute("transform","translate("+(a-c)+","+(b-c)+")"));if(this.Pl){a=qg(this.g.Xb,!0);b=-this.qa/4;if(!(this.qa>a.width)){if(this.g.s){c=this.Qa.x-b;var d=c-this.qa;var e=a.left+a.width,f=a.left+ff/this.g.scale}else d=b+this.Qa.x,c=d+this.qa,
f=a.left,e=a.left+a.width-ff/this.g.scale;this.g.s?d<f?b=-(f-this.Qa.x+this.qa):c>e&&(b=-(e-this.Qa.x)):d<f?b=f-this.Qa.x:c>e&&(b=e-this.Qa.x-this.qa)}d=b;b=-this.ub/4;if(!(this.ub>a.height)){c=this.Qa.y+b;e=c+this.ub;f=a.top;var h=a.top+a.height-ff/this.g.scale,k=this.Qa.y;c<f?b=f-k:e>h&&(b=h-k-this.ub)}f=b;e=this.fu.getBBox();b={x:d,y:-this.ub-this.g.ya.G().sh};c={x:-this.qa-30,y:f};f={x:e.width,y:f};h={x:d,y:e.height};d=e.width<e.height?f:h;e=e.width<e.height?h:f;f=pg(this,b,a);h=pg(this,c,a);
k=pg(this,d,a);a=Math.max(f,h,k,pg(this,e,a));f==a?(this.Hd=b.x,this.mf=b.y):h==a?(this.Hd=c.x,this.mf=c.y):k==a?(this.Hd=d.x,this.mf=d.y):(this.Hd=e.x,this.mf=e.y)}gg(this);ig(this);this.mo&&this.mo()};
function ig(a){var b=[],c=a.qa/2,d=a.ub/2,e=-a.Hd,f=-a.mf;if(c==e&&d==f)b.push("M "+c+","+d);else{f-=d;e-=c;a.g.s&&(e*=-1);var h=Math.sqrt(f*f+e*e),k=Math.acos(e/h);0>f&&(k=2*Math.PI-k);var m=k+Math.PI/2;m>2*Math.PI&&(m-=2*Math.PI);var n=Math.sin(m),p=Math.cos(m),t=a.Fm();m=(t.width+t.height)/5;m=Math.min(m,t.width,t.height)/4;t=1-8/h;e=c+t*e;f=d+t*f;t=c+m*p;var y=d+m*n;c-=m*p;d-=m*n;n=k+a.Qs;n>2*Math.PI&&(n-=2*Math.PI);k=Math.sin(n)*h/4;h=Math.cos(n)*h/4;b.push("M"+t+","+y);b.push("C"+(t+h)+","+
(y+k)+" "+e+","+f+" "+e+","+f);b.push("C"+e+","+f+" "+(c+h)+","+(d+k)+" "+c+","+d)}b.push("z");a.tp.setAttribute("d",b.join(" "))}g.gb=function(a){this.Ij.setAttribute("fill",a);this.tp.setAttribute("fill",a)};g.o=function(){this.Nn&&K(this.Nn);this.On&&K(this.On);lg();G(this.Dc);this.Ic=!0};g.An=function(a,b){a?a.fg(b.x,b.y):this.moveTo(b.x,b.y);this.Hd=this.g.s?this.Qa.x-b.x-this.qa:b.x-this.Qa.x;this.mf=b.y-this.Qa.y;ig(this)};
g.ga=function(){return new q(this.g.s?-this.Hd+this.Qa.x-this.qa:this.Qa.x+this.Hd,this.Qa.y+this.mf)};function rg(a){var b=E(yc,{"class":"blocklyText blocklyBubbleText blocklyNoPointerEvents",y:hg},null);a=a.split("\n");for(var c=0;c<a.length;c++)E(zc,{dy:"1em",x:hg},b).appendChild(document.createTextNode(a[c]));return b}
function sg(a,b,c){c=new eg(b.h,a,b.xa.Ga,c,null,null);ng(c,b.id);if(b.s){b=a.getBBox().width;for(var d=0,e;e=a.childNodes[d];d++)e.setAttribute("text-anchor","end"),e.setAttribute("x",b+hg)}return c};function tg(a,b){this.bc=a;this.g=b;this.Sa=null;this.nj=!1;this.ze=this.bc.ga();this.Ff=Mb()&&b.jc?b.jc:null}tg.prototype.o=function(){this.Ff=this.g=this.bc=null};function ug(a,b,c){c=a.bh(c);a.bc.An(a.Ff,ra(a.ze,c));c=a.Sa;a.Sa=Xe(a.g,b);b=a.nj;a.nj=a.Bo(a.Sa);b!=a.nj&&a.bc.so(a.nj);a.Sa!==c&&(c&&c.Lk(),a.Sa&&a.Sa.Hn());a.Sa&&a.Sa.In()}tg.prototype.Bo=function(a){return a&&Be(this.g.ad,a.id)?a.Oo(this.bc,!1):!1};
function vg(a,b,c){ug(a,b,c);b=a.bh(c);b=ra(a.ze,b);a.bc.moveTo(b.x,b.y);a.Sa&&a.Sa.Mk();a.nj?a.bc.o(!1,!0):(a.Ff&&a.Ff.Lj(a.g.Ae),a.bc.sf&&a.bc.sf(!1));a.g.Hb(!0);z(!1)}tg.prototype.bh=function(a){a=new q(a.x/this.g.scale,a.y/this.g.scale);this.g.li&&a.scale(1/this.g.options.Oa.scale);return a};function wg(a,b,c){wg.j.constructor.call(this,a?a.h.id:b);this.ka=a?a.id:null;this.wr=c}B(wg,ve);wg.prototype.type="click";wg.prototype.R=function(){var a=wg.j.R.call(this);a.targetType=this.wr;this.ka&&(a.blockId=this.ka);return a};wg.prototype.N=function(a){wg.j.N.call(this,a);this.wr=a.targetType;this.ka=a.blockId};u(Ia,"click",wg);var xg=!1,yg=!1,zg=0,Ag=0,Bg=0,Cg=0,Dg=null,Eg=null,Fg=null;function Gg(a){for(;a&&a.Xc;){if("string"==typeof a.Xc||"function"==typeof a.Xc)return a;a=a.Xc}return null}function Hg(a){a.Ft=Td(a,"mouseover",null,Ig);a.Dt=Td(a,"mouseout",null,Jg);a.addEventListener("mousemove",Kg,!1)}function Lg(a){a&&(K(a.Ft),K(a.Dt),a.removeEventListener("mousemove",Kg))}function Ig(a){yg||(a=Gg(a.currentTarget),Dg!=a&&(Mg(),Eg=null,Dg=a),clearTimeout(zg))}
function Jg(){yg||(zg=setTimeout(function(){Eg=Dg=null;Mg()},1),clearTimeout(Ag))}function Kg(a){if(Dg&&Dg.Xc&&!yg)if(xg){var b=Bg-a.pageX;a=Cg-a.pageY;10<Math.sqrt(b*b+a*a)&&Mg()}else Eg!=Dg&&(clearTimeout(Ag),Bg=a.pageX,Cg=a.pageY,Ag=setTimeout(Ng,750))}function Mg(){xg&&(xg=!1,Fg&&(Fg.style.display="none"));Ag&&clearTimeout(Ag)}
function Ng(){if(!yg&&(Eg=Dg,Fg)){Fg.textContent="";var a;if(a=Gg(Dg)){for(a=a.Xc;"function"==typeof a;)a=a();if("string"!=typeof a)throw Error("Tooltip function must return a string.");}else a="";a=eb(a,50);a=a.split("\n");for(var b=0;b<a.length;b++){var c=document.createElement("div");c.appendChild(document.createTextNode(a[b]));Fg.appendChild(c)}a=Dg.s;b=document.documentElement.clientWidth;c=document.documentElement.clientHeight;Fg.style.direction=a?"rtl":"ltr";Fg.style.display="block";xg=!0;
var d=Bg;d=a?d-(0+Fg.offsetWidth):d+0;var e=Cg+10;e+Fg.offsetHeight>c+window.scrollY&&(e-=Fg.offsetHeight+20);a?d=Math.max(5-window.scrollX,d):d+Fg.offsetWidth>b+window.scrollX-10&&(d=b-Fg.offsetWidth-10);Fg.style.top=e+"px";Fg.style.left=d+"px"}};function Og(a){this.g=a;this.jq=Pg(this.g);this.Hr=Qg(this.g);this.nu=new q(a.scrollX,a.scrollY)}Og.prototype.o=function(){this.g=null};Og.prototype.Wi=function(){M&&Rg(M);yf(this.g)};Og.prototype.Uh=function(a){this.Zd(a);zf(this.g)};Og.prototype.Zd=function(a){a=ra(this.nu,a);if(this.jq&&this.Hr)this.g.scroll(a.x,a.y);else if(this.jq)this.g.scroll(a.x,this.g.scrollY);else if(this.Hr)this.g.scroll(this.g.scrollX,a.y);else throw new TypeError("Invalid state.");};function Sg(a,b){this.Dq=null;this.Nb=new q(0,0);this.Ua=this.Ab=this.jh=this.kh=this.yc=null;this.em=b;this.ji=this.Pf=this.ki=this.If=!1;this.Pc=a;this.L=this.mg=this.qd=this.Je=this.Tk=this.Sk=null;this.fq=this.rk=this.Jf=this.vp=!1}g=Sg.prototype;g.o=function(){Id=null;yg=!1;this.em.Eb=null;this.Sk&&K(this.Sk);this.Tk&&K(this.Tk);this.qd&&this.qd.o();this.mg&&this.mg.o();this.Je&&this.Je.o()};
function Tg(a,b){a.Nb=qa(new q(b.clientX,b.clientY),a.Dq);if(a.If)var c=!1;else c=a.Nb,a.If=Math.sqrt(c.x*c.x+c.y*c.y)>(a.L?10:5),c=a.If;if(c){if(a.vp)throw Error("updateIsDragging_ should only be called once per gesture.");a.vp=!0;a.yc?(a.ji=!0,a.Je=new tg(a.yc,a.Ua),c=a.Je,Tb||z(!0),c.g.Hb(!1),c.bc.Pl=!1,c.Ff&&(c.bc.moveTo(0,0),c.Ff.fg(c.ze.x,c.ze.y),Ve(c.Ff,c.bc.U())),c.bc.sf&&c.bc.sf(!0),ug(a.Je,a.Pc,a.Nb),c=!0):c=!1;if(!c){if(a.Ab){if(a.L){if(a.Ab&&a.Ab.isEnabled()){if(!(c=!Ug(a.L))){c=a.Nb;
c=Math.atan2(c.y,c.x)/Math.PI*180;var d=a.L.et;c=c<d&&c>-d||c<-180+d||c>180-d?!0:!1}c?(a.Ua=a.L.W,Vg(a.Ua),Tb||z(!0),a.jh=null,a.Ab=Wg(a.L,a.Ab),a.Ab.select(),c=!0):c=!1}else c=!1;a.Pf=c}else a.Ab.mb()&&(a.Pf=!0);a.Pf?(a.qd=new (Sa(Qa,a.em.options,!0))(a.Ab,a.Ua),a.qd.Wi(a.Nb,a.fq),a.qd.Zd(a.Pc,a.Nb),c=!0):c=!1}else c=!1;if(c=!c)if(a.L)c=Ug(a.L);else if(c=a.Ua)c=a.Ua,c=c.options.Gb&&c.options.Gb.Zd;c&&(a.mg=new Og(a.Ua),a.ki=!0,a.mg.Wi())}Md()}a.Pc=b}
g.lm=function(a){zb(a)?this.cancel():(this.Jf=!0,ue(),Vg(this.Ua),this.Ua.li&&this.Ua.resize(),Af(!!this.L),oe(this.Ua),this.Pc=a,Mg(),yg=!0,this.Ab&&this.Ab.select(),Eb(a)?Nd(this,a):("touchstart"!=a.type.toLowerCase()&&"pointerdown"!=a.type.toLowerCase()||"mouse"==a.pointerType||Ld(a,this),this.Dq=new q(a.clientX,a.clientY),this.fq=a.altKey||a.ctrlKey||a.metaKey,this.rp(a)))};
g.rp=function(a){this.Sk=J(document,"mousemove",null,this.Qg.bind(this));this.Tk=J(document,"mouseup",null,this.lk.bind(this));a.preventDefault();a.stopPropagation()};g.Qg=function(a){Tg(this,a);this.ki?this.mg.Zd(this.Nb):this.Pf?this.qd.Zd(this.Pc,this.Nb):this.ji&&ug(this.Je,this.Pc,this.Nb);a.preventDefault();a.stopPropagation()};
g.lk=function(a){Tg(this,a);Md();if(this.rk)console.log("Trying to end a gesture recursively.");else{this.rk=!0;if(this.ji)vg(this.Je,a,this.Nb);else if(this.Pf)this.qd.Uh(a,this.Nb);else if(this.ki)this.mg.Uh(this.Nb);else if(this.yc&&!this.If)this.yc.cu&&this.yc.cu(),this.yc.select&&this.yc.select();else if(Xg(this)){var b=this.kh,c=this.Pc;Da(b)&&b.Ld(c);Yg(this)}else!this.jh||this.If||Xg(this)?this.jh||this.yc||this.kh||this.If||(b=this.em,M&&Rg(M),b=this.Ua||b,x(new (A("click"))(null,b.id,"workspace"))):
(this.L&&this.L.He?this.Ab.isEnabled()&&(Tb||z(!0),bf(Wg(this.L,this.Ab))):(b=new (A("click"))(this.jh,this.Ua.id,"block"),x(b)),Yg(this),z(!1));a.preventDefault();a.stopPropagation();this.o()}};g.cancel=function(){this.rk||(Md(),this.ji?vg(this.Je,this.Pc,this.Nb):this.Pf?this.qd.Uh(this.Pc,this.Nb):this.ki&&this.mg.Uh(this.Nb),this.o())};function Nd(a,b){a.Ab?(Yg(a),Af(!!a.L),a.Ab.Si(b)):a.yc?a.yc.Si(b):a.Ua&&!a.L&&(Af(),a.Ua.Si(b));b.preventDefault();b.stopPropagation();a.o()}
function Zg(a,b,c){if(a.Jf)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");a.Ua||(a.Ua=c);a.Pc=b;a.lm(b)}function $g(a,b,c){if(a.Jf)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");a.L||(a.L=c);Zg(a,b,c.g)}function Yg(a){a.Ab&&!a.L&&Te(a.Ab)}function ah(a,b){a.jh||a.yc||(a.jh=b,b.Ba&&b!=b.gd()?bh(a,b.gd()):bh(a,b))}function bh(a,b){b.X?bh(a,b.getParent()):a.Ab=b}
function Xg(a){return(a.kh?Da(a.kh):!1)&&!a.If&&(!a.L||!a.L.He)}g.Ta=function(){return this.ki||this.Pf||this.ji};g.Ng=function(){return this.qd?this.qd.Ng():[]};function ch(){for(var a=dg(),b=0,c;c=a[b];b++)if(c.Eb)return!0;return!1};function dh(){this.Jc=this.nc=this.Zl=null;this.type="marker"}function eh(a,b){var c=a.nc;a.nc=b;a.Jc&&a.Jc.dd(c,a.nc)}dh.prototype.dd=function(){this.Jc&&this.Jc.dd(this.nc,this.nc)};dh.prototype.lb=function(){this.Jc&&this.Jc.lb()};dh.prototype.o=function(){this.Jc&&this.Jc.o()};function fh(){fh.j.constructor.call(this);this.type="cursor"}B(fh,dh);fh.prototype.next=function(){var a=this.nc;if(!a)return null;for(a=a.next();a&&a.next()&&("next"==a.getType()||"block"==a.getType());)a=a.next();a&&eh(this,a);return a};fh.prototype.Ze=function(){var a=this.nc;if(!a)return null;if("previous"==a.getType()||"output"==a.getType())a=a.next();(a=a.Ze())&&eh(this,a);return a};
fh.prototype.qe=function(){var a=this.nc;if(!a)return null;for(a=a.qe();a&&a.qe()&&("next"==a.getType()||"block"==a.getType());)a=a.qe();a&&eh(this,a);return a};fh.prototype.gf=function(){var a=this.nc;if(!a)return null;(a=a.gf())&&"block"==a.getType()&&(a=a.qe()||a);a&&eh(this,a);return a};u(Ha,"default",fh);function gh(a){this.Ud=this.Hc=null;this.oi=Object.create(null);this.g=a}g=gh.prototype;g.Mg=function(){return this.Hc};g.ci=function(a){return this.oi[a]||null};g.ue=function(a){a?(this.g.Da.appendChild(a),this.Ud=a):this.Ud=null};g.tf=function(a){a?this.g.Da&&(this.Ud?this.g.Da.insertBefore(a,this.Ud):this.g.Da.appendChild(a)):this.ne=null};
g.o=function(){for(var a=Object.keys(this.oi),b=0,c;c=a[b];b++){var d=this.oi[c];if(d)d.o(),delete this.oi[c];else throw Error("Marker with ID "+c+" does not exist. Can only unregister markers that exist.");}this.oi=null;this.Hc&&(this.Hc.o(),this.Hc=null)};var hh,ih=null,jh=null,kh="",lh="";function mh(a,b,c){nh();ih=a;jh=c;a=hh;a.style.direction=b?"rtl":"ltr";a.style.display="block";b=ie;kh=b.ya.ed();lh=b.$d().ed();F(a,kh);F(a,lh)}function nh(){if(ih){ih=null;var a=hh;a.style.display="none";a.style.left="";a.style.top="";jh&&jh();jh=null;a.textContent="";kh&&(Dc(a,kh),kh="");lh&&(Dc(a,lh),lh="");oe(ie)}}function oh(a,b,c){hh.style.left=a+"px";hh.style.top=b+"px";hh.style.height=c+"px"};function ph(a,b,c){this.Xa=this.og;this.Br=this.hg=null;this.Zb=new hb(0,0);this.i=this.yn=this.Be=this.Va=this.La=this.oc=this.ne=this.Ud=null;c&&this.Fc(c);dd(this,a);b&&(this.hg=b)}g=ph.prototype;g.og=null;g.name=void 0;g.Ic=!1;g.Cq=50;g.m=null;g.ke=!0;g.zf=!0;g.Yl=null;g.sj=!0;g.Bf=!1;g.Fc=function(a){var b=a.tooltip;"string"==typeof b&&(b=Hb(a.tooltip));b&&this.hb(b)};g.xo=function(a){if(this.m)throw Error("Field already bound to a block.");this.m=a};
g.G=function(){!this.i&&this.m&&this.m.h&&this.m.h.I&&(this.i=this.m.h.ya.G());return this.i};g.C=function(){return this.m};g.F=function(){this.oc||(this.oc=E(qc,{},null),this.isVisible()||(this.oc.style.display="none"),this.m.U().appendChild(this.oc),this.$e(),this.Ee(),this.hb(this.Br),Hg(qh(this)),this.yn=J(qh(this),"mousedown",this,this.ff),this.Nf())};g.$e=function(){rh(this);sh(this)};g.Nf=function(){};
function rh(a){a.La=E(wc,{rx:a.G().tj,ry:a.G().tj,x:0,y:0,height:a.Zb.height,width:a.Zb.width,"class":"blocklyFieldRect"},a.oc)}function sh(a){a.Va=E(yc,{"class":"blocklyText"},a.oc);a.G().yl&&a.Va.setAttribute("dominant-baseline","central");a.Be=document.createTextNode("");a.Va.appendChild(a.Be)}g.gk=function(a){dd(this,a.textContent)};g.yr=function(a){a.textContent=this.kb();return a};g.o=function(){$d===this&&me();ih==this&&nh();Lg(qh(this));this.yn&&K(this.yn);G(this.oc);this.Ic=!0};
g.Ee=function(){var a=this.oc;this.sj&&a&&(this.m.Tb()?(F(a,"blocklyEditableText"),Dc(a,"blocklyNonEditableText"),a.style.cursor=this.wl):(F(a,"blocklyNonEditableText"),Dc(a,"blocklyEditableText"),a.style.cursor=""))};function Da(a){return!!a.m&&a.m.Tb()&&!!a.Ld&&"function"===typeof a.Ld}g.isVisible=function(){return this.zf};g.na=function(a){if(this.zf!=a){this.zf=a;var b=this.U();b&&(b.style.display=a?"block":"none")}};function th(a,b){a.hg=b}g.Zp=function(){return this.hg};g.U=function(){return this.oc};
g.Ja=function(){};g.pf=function(){this.Be&&(this.Be.nodeValue=this.kk());uh(this)};function uh(a,b){var c=a.G();b=void 0!=b?b:a.La?a.G().pg:0;var d=2*b,e=c.uj,f=0;a.Va&&(f=Jc(a.Va,c.rg+"pt",c.sg,c.qg),d+=f);a.La&&(e=Math.max(e,c.Uo));a.Zb.height=e;a.Zb.width=d;vh(a,b,f);wh(a)}function vh(a,b,c){if(a.Va){var d=a.G(),e=a.Zb.height/2;a.Va.setAttribute("x",a.m.s?a.Zb.width-c-b:b);a.Va.setAttribute("y",d.yl?e:e-d.uj/2+d.Wo)}}
function wh(a){a.La&&(a.La.setAttribute("width",a.Zb.width),a.La.setAttribute("height",a.Zb.height),a.La.setAttribute("rx",a.G().tj),a.La.setAttribute("ry",a.G().tj))}g.getSize=function(){if(!this.isVisible())return new hb(0,0);this.ke?(this.pf(),this.ke=!1):this.zf&&0==this.Zb.width&&(console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead."),this.pf());return this.Zb};
function he(a){if(a.La)b=a.La.getBoundingClientRect(),a=kb(a.La),d=b.width,b=b.height;else{var b=Ue(a.m),c=a.m.h.scale;a=kb(qh(a));var d=b.width*c;b=b.height*c;pb?(a.x+=1.5*c,a.y+=1.5*c):mb||lb||(a.x-=.5*c,a.y-=.5*c);d+=1*c;b+=1*c}return new $a(a.y,a.y+b,a.x,a.x+d)}g.kk=function(){var a=this.Qb();if(!a)return"\u00a0";a.length>this.Cq&&(a=a.substring(0,this.Cq-2)+"\u2026");a=a.replace(/\s/g,"\u00a0");this.m&&this.m.s&&(a+="\u200f");return a};
g.Qb=function(){if(this.Mm){var a=this.Mm.call(this);if(null!==a)return String(a)}return String(this.kb())};g.ni=function(){this.ke=!0;this.i=null};function xh(a){a.ke=!0;a.m&&a.m.I&&(a.m.P(),a.m.Ia(),a.Lo())}function dd(a,b){if(null!==b){var c=a.Re(b);b=yh(a,b,c);if(!(b instanceof Error)){if(c=a.Zp())if(c=c.call(a,b),b=yh(a,b,c),b instanceof Error)return;c=a.m;if(!c||!c.Ic){var d=a.kb();d===b?a.Yd(b):(c&&0==w&&x(new (A("change"))(c,"field",a.name||null,d,b)),a.Yd(b),a.ke&&xh(a))}}}}
function yh(a,b,c){if(null===c)return a.Mp(),a.ke&&xh(a),Error();void 0!==c&&(b=c);return b}g.kb=function(){return this.Xa};g.Re=function(a){return null===a||void 0===a?null:a};g.Yd=function(a){this.Xa=a;this.ke=!0};g.Mp=function(){};g.ff=function(a){if(this.m&&this.m.h&&(a=this.m.h.Se(a))){if(a.Jf)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");a.kh||(a.kh=this)}};g.hb=function(a){a||""===a||(a=this.m);var b=qh(this);b?b.Xc=a:this.Br=a};
function qh(a){return a.Yl||a.U()}g.Fi=function(){return!1};g.yd=function(){for(var a=null,b=this.m,c=b.A,d=0;d<b.A.length;d++)for(var e=c[d],f=e.ba,h=0;h<f.length;h++)if(f[h]===this){a=e;break}return a};g.tq=function(){return!1};g.ue=function(a){a?(this.oc.appendChild(a),this.Ud=a):this.Ud=null};g.tf=function(a){a?(this.oc.appendChild(a),this.ne=a):this.ne=null};g.Lo=function(){var a=this.m.h;a.Yg&&this.Ud&&a.Mg().dd();a.Yg&&this.ne&&a.ci("local_marker_1").dd()};function zh(a,b,c){this.Kj=null;zh.j.constructor.call(this,a,null,c);c||(this.Kj=b||null)}B(zh,ph);zh.prototype.og="";zh.N=function(a){var b=Hb(a.text);return new zh(b,void 0,a)};zh.prototype.sj=!1;zh.prototype.Fc=function(a){zh.j.Fc.call(this,a);this.Kj=a["class"]};zh.prototype.$e=function(){sh(this);this.Kj&&F(this.Va,this.Kj)};zh.prototype.Re=function(a){return null===a||void 0===a?null:String(a)};u(Ja,"field_label",zh);function Ah(a,b,c,d){if(5!=a&&!b)throw Error("Value inputs and statement inputs must have non-empty name.");this.type=a;this.name=b;this.m=c;this.connection=d;this.ba=[]}g=Ah.prototype;g.align=-1;g.zf=!0;g.C=function(){return this.m};function O(a,b,c){Bh(a,a.ba.length,b,c);return a}
function Bh(a,b,c,d){if(0>b||b>a.ba.length)throw Error("index "+b+" out of bounds.");if(!(c||""==c&&d))return b;"string"==typeof c&&(c=Gd({type:"field_label",text:c}));c.xo(a.m);a.m.I&&(c.F(),c.Ja());c.name=d;c.na(a.isVisible());c.ao&&(b=Bh(a,b,c.ao));a.ba.splice(b,0,c);++b;c.Fo&&(b=Bh(a,b,c.Fo));a.m.I&&(a.m=a.m,a.m.P(),a.m.Ia());return b}
function Ch(a,b){for(var c=0,d;d=a.ba[c];c++)if(d.name===b){d.o();a.ba.splice(c,1);a.m.I&&(a.m=a.m,a.m.P(),a.m.Ia());return}throw Error('Field "'+b+'" not found.');}g.isVisible=function(){return this.zf};
g.na=function(a){if(this.zf!=a){this.zf=a;for(var b=0,c;c=this.ba[b];b++)c.na(a);if(this.connection){this.connection=this.connection;if(a)Dh(this.connection);else if(b=this.connection,Eh(b,!1),b.J)for(b=Rb(b.K(),!1),c=0;c<b.length;c++){for(var d=b[c],e=d.fd(!0),f=0;f<e.length;f++)Eh(e[f],!1);d=Se(d);for(f=0;f<d.length;f++)d[f].na(!1)}if(b=this.connection.K())b.U().style.display=a?"block":"none"}}};g.ni=function(){for(var a=0,b;b=this.ba[a];a++)b.ni()};
g.xc=function(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.xc(a);return this};function Fh(a,b){a.align=b;a.m.I&&(a.m=a.m,a.m.P());return a}g.Qi=function(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.Qi(a)};g.Og=function(){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.Og()};g.F=function(){if(this.m.h.I)for(var a=0;a<this.ba.length;a++)this.ba[a].F()};
g.o=function(){for(var a=0,b;b=this.ba[a];a++)b.o();this.connection&&this.connection.o();this.m=null};function Aa(a,b,c){if(Gh&&"undefined"!=typeof Gh.prototype[b])throw Error('Block prototypeName "'+b+'" conflicts with Blockly.Generator members.');this.id=c&&!a.pc(c)?c:Kb();a.Ql[this.id]=this;this.H=this.D=this.u=null;this.A=[];this.je=void 0;this.disabled=!1;this.Xc="";this.contextMenu=!0;this.Fd=null;this.Rd=[];this.Pp=this.Eq=this.hm=!0;this.Df=this.X=!1;this.Hh=null;this.lc={text:null,Zn:!1,size:new hb(160,80)};this.Lr=new q(0,0);this.h=a;this.Ba=a.jd;this.s=a.s;this.Vg=!1;this.zd=void 0;this.I=
null;if(b){this.type=b;c=r[b];if(!c||"object"!=typeof c)throw TypeError("Unknown block type: "+b);dc(this,c)}a.Fj(this);a.De[this.type]||(a.De[this.type]=[]);a.De[this.type].push(this);(a=Tb)||z(!0);b=Ub;try{"function"==typeof this.F&&(Ub=!1,this.F(),Ub=b),0==w&&x(new (A("create"))(this))}finally{a||z(!1),Ub=b}this.At=this.je;if("function"==typeof this.onchange){if((a=this.onchange)&&"function"!=typeof a)throw Error("onchange must be a function.");this.xi&&Pb(this.h.bb,this.xi);if(this.onchange=a)this.xi=
a.bind(this),cg(this.h,this.xi)}}g=Aa.prototype;g.data=null;g.Ic=!1;g.sb="#000000";g.cg="";
g.o=function(a){if(this.h){this.xi&&Pb(this.h.bb,this.xi);kd(this,a);0==w&&x(new (A("delete"))(this));w++;try{if(this.h){this.h.Zk(this);var b=this.h;b.De[this.type].splice(b.De[this.type].indexOf(this),1);b.De[this.type].length||delete b.De[this.type];delete this.h.Ql[this.id];this.h=null}M==this&&(M=null);for(var c=this.Rd.length-1;0<=c;c--)this.Rd[c].o(!1);c=0;for(var d;d=this.A[c];c++)d.o();this.A.length=0;var e=this.fd(!0);c=0;for(var f;f=e[c];c++)f.o()}finally{w--,this.Ic=!0}}};
g.Nf=function(){for(var a=0,b;b=this.A[a];a++)for(var c=0,d;d=b.ba[c];c++)d.Nf&&d.Nf()};
function kd(a,b){if(a.u){var c=null;a.u.isConnected()&&(c=a.u.J,a.u.disconnect());if(c&&b){a:{b=null;for(var d=0;d<a.A.length;d++){var e=a.A[d].connection;if(e&&1==e.type&&e.J){if(b){a=null;break a}b=e}}a=b}a&&a.isConnected()&&!a.K().X&&(a=a.J,a.disconnect(),0==od(a,c,!1)?c.connect(a):a.Jn(c))}}else a.H&&(c=null,a.H.isConnected()&&(c=a.H.J,a.H.disconnect()),d=Ca(a),b&&d&&!d.X&&(a=a.D.J,a.disconnect(),c&&0==od(c,a,!1)&&c.connect(a)))}
g.fd=function(){var a=[];this.u&&a.push(this.u);this.H&&a.push(this.H);this.D&&a.push(this.D);for(var b=0,c;c=this.A[b];b++)c.connection&&a.push(c.connection);return a};g.yk=function(a){for(var b=this.D;b;){var c=b.K();if(!c||a&&c.X)return b;b=c.D}return null};g.Ia=function(){};g.getParent=function(){return this.Fd};function jd(a,b){for(var c=0,d;d=a.A[c];c++)if(d.connection&&d.connection.K()==b)return d;return null}
function Hh(a){do{var b=a;a=a.getParent();if(!a)return null}while(Ca(a)==b);return a}function Ca(a){return a.D&&a.D.K()}g.gd=function(){var a=this;do{var b=a;a=b.Fd}while(a);return b};function Lc(a,b){if(!b)return a.Rd;b=[];for(var c=0,d;d=a.A[c];c++)d.connection&&(d=d.connection.K())&&b.push(d);(a=Ca(a))&&b.push(a);return b}
g.hl=function(a){if(a!=this.Fd){if(this.Fd){Pb(this.Fd.Rd,this);if(this.H&&this.H.isConnected())throw Error("Still connected to previous block.");if(this.u&&this.u.isConnected())throw Error("Still connected to parent block.");this.Fd=null}else this.h.Zk(this);(this.Fd=a)?a.Rd.push(this):this.h.Fj(this)}};function Rb(a,b){var c=[a];a=Lc(a,b);for(var d,e=0;d=a[e];e++)c.push.apply(c,Rb(d,b));return c}g.Oc=function(){return this.hm&&!this.X&&!(this.h&&this.h.options.readOnly)};
g.mb=function(){return this.Eq&&!this.X&&!(this.h&&this.h.options.readOnly)};g.dl=function(a){this.Eq=a};g.wo=function(a){this.X=a};g.Ub=function(){return this.Vg};g.nr=function(a){this.Vg=a};g.Tb=function(){return this.Pp&&!(this.h&&this.h.options.readOnly)};g.to=function(a){this.Pp=a;a=0;for(var b;b=this.A[a];a++)for(var c=0,d;d=b.ba[c];c++)d.Ee()};
g.Km=function(a,b){var c=this.fd(!0);a=a.fd(!0);if(c.length!=a.length)throw Error("Connection lists did not match in length.");for(var d=0;d<a.length;d++)if(a[d]==b)return c[d];return null};g.hb=function(a){this.Xc=a};g.Im=function(){return this.sb};g.gb=function(a){this.sb=Sb(a).gi};g.ye=function(a){this.cg=a};
function ad(a,b){if("string"!==typeof b)throw TypeError("Blockly.Block.prototype.getField expects a string with the field name but received "+(void 0===b?"nothing":b+" of type "+typeof b)+" instead");for(var c=0,d;d=a.A[c];c++)for(var e=0,f;f=d.ba[e];e++)if(f.name===b)return f;return null}g.ce=function(){for(var a=[],b=0,c;c=this.A[b];b++)for(var d=0,e;e=c.ba[d];d++)e.Fi()&&a.push(e.kb());return a};
g.ae=function(){for(var a=[],b=0,c;c=this.A[b];b++)for(var d=0,e;e=c.ba[d];d++)e.Fi()&&(e=this.h.hd(e.kb()))&&a.push(e);return a};g.rl=function(a){for(var b=0,c;c=this.A[b];b++)for(var d=0,e;e=c.ba[d];d++)e.Fi()&&a.T()==e.kb()&&xh(e)};g.$k=function(a,b){for(var c=0,d;d=this.A[c];c++)for(var e=0,f;f=d.ba[e];e++)f.Fi()&&a==f.kb()&&dd(f,b)};function I(a,b){return(a=ad(a,b))?a.kb():null}function Ih(a,b,c){a=ad(a,c);if(!a)throw Error('Field "'+c+'" not found.');dd(a,b)}
g.xe=function(a,b){if(a){void 0===b&&(b=null);if(!this.H){if(this.u)throw Error("Remove output connection prior to adding previous connection.");this.H=this.mi(4)}this.H.xc(b)}else if(this.H){if(this.H.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.H.o();this.H=null}};
g.we=function(a,b){if(a)void 0===b&&(b=null),this.D||(this.D=this.mi(3)),this.D.xc(b);else if(this.D){if(this.D.isConnected())throw Error("Must disconnect next statement before removing connection.");this.D.o();this.D=null}};
g.Oi=function(a,b){if(a){void 0===b&&(b=null);if(!this.u){if(this.H)throw Error("Remove previous connection prior to adding output connection.");this.u=this.mi(2)}this.u.xc(b)}else if(this.u){if(this.u.isConnected())throw Error("Must disconnect output value before removing connection.");this.u.o();this.u=null}};g.Vc=function(a){this.je!=a&&(x(new (A("change"))(this,"inline",null,this.je,a)),this.je=a)};
function Fd(a){if(void 0!=a.je)return a.je;for(var b=1;b<a.A.length;b++)if(5==a.A[b-1].type&&5==a.A[b].type)return!1;for(b=1;b<a.A.length;b++)if(1==a.A[b-1].type&&5==a.A[b].type)return!0;return!1}g.isEnabled=function(){return!this.disabled};g.Yb=function(a){this.isEnabled()!=a&&(x(new (A("change"))(this,"disabled",null,this.disabled,!a)),this.disabled=!a)};function Jh(a){for(a=Hh(a);a;){if(a.disabled)return!0;a=Hh(a)}return!1}g.isCollapsed=function(){return this.Df};
g.rf=function(a){this.Df!=a&&(x(new (A("change"))(this,"collapsed",null,this.Df,a)),this.Df=a)};
g.toString=function(a,b){function c(n){var p=n.Ke;!p&&n.J&&(p=n.J.Ke);return!!p&&(-1!=p.indexOf("Boolean")||-1!=p.indexOf("Number"))}function d(){h&&h.getType()==k.getType()&&h.V==k.V&&(h=null)}var e=[];b=b||"?";var f=ta;ta=!0;for(var h=xa(this),k=h;h;){switch(h.getType()){case "input":var m=h.V;h.Ze()?c(m)&&e.push("("):e.push(b);break;case "field":m=h.V,"_TEMP_COLLAPSED_FIELD"!=m.name&&e.push(m.Qb())}m=h;h=m.Ze()||m.next();if(!h){h=m.gf();for(d();h&&!h.next();)h=h.gf(),d(),h&&"input"==h.getType()&&
c(h.V)&&e.push(")");h&&(h=h.next())}}ta=f;for(b=2;b<e.length;b++)"("==e[b-2]&&")"==e[b]&&(e[b-2]=e[b-1],e.splice(b-1,2));e=e.reduce(function(n,p){return n+("("==n.substr(-1)||")"==p?"":" ")+p},"");e=e.trim()||"???";a&&e.length>a&&(e=e.substring(0,a-3)+"...");return e};function P(a,b){return a.Ea(5,b||"")}
function Kh(a,b){var c=b.type?'Block "'+b.type+'": ':"";if(b.output&&b.previousStatement)throw Error(c+"Must not have both an output and a previousStatement.");b.style&&b.style.zd&&(a.zd=b.style.zd,b.style=null);if(b.style&&b.colour)throw Error(c+"Must not have both a colour and a style.");if(b.style){var d=b.style;try{a.ye(d)}catch(db){console.warn(c+"Style does not exist: ",d)}}else if("colour"in b)if(void 0===b.colour)console.warn(c+"Undefined colour value.");else{d=b.colour;try{a.gb(d)}catch(db){console.warn(c+
"Illegal colour value: ",d)}}for(d=0;void 0!==b["message"+d];){var e=a,f=b["args"+d]||[],h=b["lastDummyAlign"+d],k=c,m=Ib(b["message"+d],!0),n=e;var p=m;for(var t=f.length,y=[],D=0,ea=0;ea<p.length;ea++){var Z=p[ea];if("number"==typeof Z){if(1>Z||Z>t)throw Error('Block "'+n.type+'": Message index %'+Z+" out of range.");if(y[Z])throw Error('Block "'+n.type+'": Message index %'+Z+" duplicated.");y[Z]=!0;D++}}if(D!=t)throw Error('Block "'+n.type+'": Message does not reference all '+t+" arg(s).");n=f;
f=[];for(p=0;p<m.length;p++){t=m[p];"number"==typeof t&&(t=n[t-1]);if("string"==typeof t&&(t=Lh(t),!t))continue;f.push(t)}(m=f.length)&&!Mh(f[m-1].type)&&(m={type:"input_dummy"},h&&(m.align=h),f.push(m));h=f;f=[];for(m=0;p=h[m];m++)if(Mh(p.type)){n=e;t=k;D={LEFT:-1,RIGHT:1,CENTRE:0,CENTER:0};y=null;switch(p.type){case "input_value":y=n.Ea(1,p.name);break;case "input_statement":y=n.Ea(3,p.name);break;case "input_dummy":y=P(n,p.name)}y?(p.check&&y.xc(p.check),p.align&&(n=D[p.align.toUpperCase()],void 0===
n?console.warn(t+"Illegal align value: ",p.align):Fh(y,n)),n=y):n=null;if(n){for(p=0;t=f[p];p++)O(n,t[0],t[1]);f.length=0}}else(n=Nh(e,p))&&f.push([n,p.name]);d++}void 0!==b.inputsInline&&a.Vc(b.inputsInline);void 0!==b.output&&a.Oi(!0,b.output);void 0!==b.previousStatement&&a.xe(!0,b.previousStatement);void 0!==b.nextStatement&&a.we(!0,b.nextStatement);void 0!==b.tooltip&&(d=b.tooltip,d=Hb(d),a.hb(d));void 0!==b.enableContextMenu&&(d=b.enableContextMenu,a.contextMenu=!!d);void 0!==b.helpUrl&&(d=
b.helpUrl,d=Hb(d),a.vb=d);"string"==typeof b.extensions&&(console.warn(c+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+b.type+"' block."),b.extensions=[b.extensions]);void 0!==b.mutator&&yd(b.mutator,a,!0);b=b.extensions;if(Array.isArray(b))for(c=0;c<b.length;++c)yd(b[c],a,!1)}function td(a,b){var c=[],d;for(d in b)void 0!==a[d]&&c.push(d);if(c.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(c));dc(a,b)}
function Nh(a,b){var c=Gd(b);return!c&&b.alt?"string"==typeof b.alt?(b=Lh(b.alt))?Nh(a,b):null:Nh(a,b.alt):c}function Mh(a){return"input_value"==a||"input_statement"==a||"input_dummy"==a}function Lh(a){return(a=a.trim())?{type:"field_label",text:a}:null}g.Ea=function(a,b){var c=null;if(1==a||3==a)c=this.mi(a);a=new Ah(a,b,this,c);this.A.push(a);return a};
function Oh(a,b,c){if(b!=c){for(var d=-1,e=c?-1:a.A.length,f=0,h;h=a.A[f];f++)if(h.name==b){if(d=f,-1!=e)break}else if(c&&h.name==c&&(e=f,-1!=d))break;if(-1==d)throw Error('Named input "'+b+'" not found.');if(-1==e)throw Error('Reference input "'+c+'" not found.');a.Bn(d,e)}}
g.Bn=function(a,b){if(a==b)throw Error("Can't move input to itself.");if(a>=this.A.length)throw RangeError("Input index "+a+" out of bounds.");if(b>this.A.length)throw RangeError("Reference input "+b+" out of bounds.");var c=this.A[a];this.A.splice(a,1);a<b&&b--;this.A.splice(b,0,c)};g.eb=function(a,b){for(var c=0,d;d=this.A[c];c++)if(d.name==a)return d.o(),this.A.splice(c,1),!0;if(b)return!1;throw Error("Input not found: "+a);};
function H(a,b){for(var c=0,d;d=a.A[c];c++)if(d.name==b)return d;return null}function Ph(a,b){return(a=H(a,b))&&a.connection&&a.connection.K()}g.Jd=function(a){this.lc.text!=a&&(x(new (A("change"))(this,"comment",null,this.lc.text,a)),this.Hh=this.lc.text=a)};g.ih=function(){};g.ag=function(){};g.ga=function(){return this.Lr};g.moveBy=function(a,b){if(this.Fd)throw Error("Block has parent.");var c=new (A("move"))(this);this.Lr.translate(a,b);id(c);x(c)};g.mi=function(a){return new ld(this,a)};
function Gh(a){this.oe=a;this.ks=new RegExp(this.zl,"g")}g=Gh.prototype;g.vj=null;g.$b=null;g.rb=null;g.Jb="  ";g.Sr=60;g.Bj=[];g.tk=null;
function Qh(){var a=Q,b=Rh;b||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),b=ie);var c=[];a.F(b);b=b.$a(!0);for(var d=0,e;e=b[d];d++){var f=Sh(a,e);Array.isArray(f)&&(f=f[0]);f&&(e.u&&(f=a.mr(f),a.$b&&!e.vf&&(f=Th(a.$b,e)+f),a.rb&&!e.vf&&(f+=Th(a.rb,e))),c.push(f))}c=c.join("\n");c=a.finish(c);c=c.replace(/^\s+\n/,"");c=c.replace(/\n\s+$/,"\n");return c=c.replace(/[ \t]+\n/g,"\n")}function Uh(a,b){return b+a.replace(/(?!\n$)\n/g,"\n"+b)}
function Sh(a,b){!1===a.tk&&console.warn("Generator init was not called before blockToCode was called.");if(!b)return"";if(!b.isEnabled())return Sh(a,Ca(b));if(b.Ub())return Sh(a,Lc(b,!1)[0]);var c=a[b.type];if("function"!=typeof c)throw Error('Language "'+a.oe+'" does not know how to generate code for block type "'+b.type+'".');c=c.call(b,b);if(Array.isArray(c)){if(!b.u)throw TypeError("Expecting string from statement block: "+b.type);return[a.cl(b,c[0]),c[1]]}if("string"==typeof c)return a.$b&&
!b.vf&&(c=Th(a.$b,b)+c),a.rb&&!b.vf&&(c+=Th(a.rb,b)),a.cl(b,c);if(null===c)return"";throw SyntaxError("Invalid code generated: "+c);}
function R(a,b,c,d){if(isNaN(d))throw TypeError("Expecting valid order from block: "+b.type);var e=Ph(b,c);if(!e)return"";c=Sh(a,e);if(""===c)return"";if(!Array.isArray(c))throw TypeError("Expecting tuple from value block: "+e.type);b=c[0];c=c[1];if(isNaN(c))throw TypeError("Expecting valid order from value block: "+e.type);if(!b)return"";e=!1;var f=Math.floor(d),h=Math.floor(c);if(f<=h&&(f!=h||0!=f&&99!=f))for(e=!0,f=0;f<a.Bj.length;f++)if(a.Bj[f][0]==d&&a.Bj[f][1]==c){e=!1;break}e&&(b="("+b+")");
return b}function Vh(a,b){var c=Q;a=Ph(a,b);b=Sh(c,a);if("string"!=typeof b)throw TypeError("Expecting code from statement block: "+(a&&a.type));b&&(b=Uh(b,c.Jb));return b}function Wh(a,b){var c=Q;c.vj&&(a=Uh(Th(c.vj,b),c.Jb)+a);c.rb&&!b.vf&&(a=Uh(Th(c.rb,b),c.Jb)+a);c.$b&&!b.vf&&(a+=Uh(Th(c.$b,b),c.Jb));return a}function Th(a,b){b=b.id.replace(/\$/g,"$$$$");return a.replace(/%1/g,"'"+b+"'")}g.Gl="";function Xh(a){var b=Q;b.Gl+=a+","}g.zl="{leCUI8hutHZI4480Dc}";
function Yh(a,b){var c=Q;if(!c.Jg[a]){var d=Zh(c.Ca,a,"PROCEDURE");c.Dm[a]=d;b=b.join("\n").replace(c.ks,d);for(var e;e!=b;)e=b,b=b.replace(/^(( {2})*) {2}/gm,"$1\x00");b=b.replace(/\0/g,c.Jb);c.Jg[a]=b}return c.Dm[a]}g.F=function(){this.Jg=Object.create(null);this.Dm=Object.create(null)};g.cl=function(a,b){return b};g.finish=function(a){delete this.Jg;delete this.Dm;return a};g.mr=function(a){return a};var Q=new Gh("JavaScript");Xh("break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,new,return,super,switch,this,throw,try,typeof,var,void,while,with,yield,enum,implements,interface,let,package,private,protected,public,static,await,null,true,false,arguments,"+Object.getOwnPropertyNames(Ta).join(","));Q.yj=0;Q.Tu=1.1;Q.Fe=1.2;Q.pb=2;Q.Ru=3;Q.Nu=3;Q.Ju=4.1;Q.Vu=4.2;Q.xh=4.3;Q.Aj=4.4;Q.Uu=4.5;Q.Wu=4.6;Q.Ou=4.7;Q.Hu=4.8;
Q.Pu=5;Q.Dl=5.1;Q.vh=5.2;Q.wh=5.3;Q.El=6.1;Q.Af=6.2;Q.Lu=7;Q.As=8;Q.Qu=8;Q.Su=8;Q.fp=9;Q.Iu=10;Q.Mu=11;Q.Ku=12;Q.Bl=13;Q.Cl=14;Q.zj=15;Q.yg=16;Q.Xu=17;Q.ep=18;Q.Ya=99;Q.Bj=[[Q.pb,Q.Fe],[Q.pb,Q.pb],[Q.Fe,Q.Fe],[Q.Fe,Q.pb],[Q.Aj,Q.Aj],[Q.Dl,Q.Dl],[Q.Af,Q.Af],[Q.Bl,Q.Bl],[Q.Cl,Q.Cl]];Q.tk=!1;
Q.F=function(a){Object.getPrototypeOf(this).F.call(this);this.Ca?this.Ca.reset():this.Ca=new $h(this.Gl);this.Ca.zo(a.Y);for(var b=this.Ca,c=ai(a),d=0;d<c.length;d++)b.Fb(c[d].T(),"VARIABLE");b=this.Ca;c=bi(a);c=c[0].concat(c[1]);for(d=0;d<c.length;d++)b.Fb(c[d][0],"PROCEDURE");b=[];c=Rf(a);d=Object.create(null);for(var e=0,f;f=c[e];e++){var h=f.hv;!h&&f.mt&&(h=f.mt,ci[f.type]||(console.warn("Function getDeveloperVars() deprecated. Use getDeveloperVariables() (block type '"+f.type+"')"),ci[f.type]=
!0));if(h)for(f=h(),h=0;h<f.length;h++)d[f[h]]=!0}d=Object.keys(d);for(c=0;c<d.length;c++)b.push(this.Ca.Fb(d[c],di));a=ai(a);for(c=0;c<a.length;c++)b.push(this.Ca.Fb(a[c].T(),"VARIABLE"));b.length&&(this.Jg.variables="var "+b.join(", ")+";");this.tk=!0};Q.finish=function(a){var b=ec(this.Jg);a=Object.getPrototypeOf(this).finish.call(this,a);this.tk=!1;this.Ca.reset();return b.join("\n\n")+"\n\n\n"+a};Q.mr=function(a){return a+";\n"};
Q.Xt=function(a){a=a.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'");return"'"+a+"'"};Q.rv=function(a){return a.split(/\n/g).map(this.Xt).join(" + '\\n' +\n")};
Q.cl=function(a,b){var c="";if(!a.u||!a.u.J){var d=a.lc.text;d&&(d=eb(d,this.Sr-3),c+=Uh(d+"\n","// "));for(var e=0;e<a.A.length;e++)if(1==a.A[e].type){var f=a.A[e].connection.K();if(f){d=[];f=Rb(f,!0);for(var h=0;h<f.length;h++){var k=f[h].lc.text;k&&d.push(k)}d.length&&d.push("");(d=d.join("\n"))&&(c+=Uh(d,"// "))}}}a=a.D&&a.D.K();a=Sh(this,a);return c+b+a};
Q.gv=function(a,b,c,d,e){c=c||0;e=e||this.Ya;a.h.options.yi&&c--;var f=a.h.options.yi?"1":"0";a=0<c?R(this,a,b,this.Af)||f:0>c?R(this,a,b,this.El)||f:d?R(this,a,b,this.xh)||f:R(this,a,b,e)||f;if(ei(a))a=Number(a)+c,d&&(a=-a);else{if(0<c){a=a+" + "+c;var h=this.Af}else 0>c&&(a=a+" - "+-c,h=this.El);d&&(a=c?"-("+a+")":"-"+a,h=this.xh);h=Math.floor(h);e=Math.floor(e);h&&e>=h&&(a="("+a+")")}return a};function fi(a){this.Bd="undefined"==typeof a;this.Db=a?a.id:"";this.group=Tb;this.yb=!1}B(fi,bc);fi.prototype.type="finished_loading";fi.prototype.R=function(){var a={type:this.type};this.group&&(a.group=this.group);this.Db&&(a.workspaceId=this.Db);return a};fi.prototype.N=function(a){this.Bd=!1;this.Db=a.workspaceId;this.group=a.group};u(Ia,"finished_loading",fi);function gi(a){this.Mh=a;this.Fa()}g=gi.prototype;g.ra=null;g.wd=null;g.Mh=null;g.qf=1;g.Zi=null;g.xp=new q(0,0);g.Fa=function(){this.ra||(this.ra=E(xc,{xmlns:"http://www.w3.org/2000/svg","xmlns:html":"http://www.w3.org/1999/xhtml","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1","class":"blocklyBlockDragSurface"},this.Mh),this.wd=E(qc,{},this.ra))};
function Ve(a,b){if(a.wd.childNodes.length)throw Error("Already dragging a block.");a.wd.appendChild(b);a.ra.style.display="block";a.Zi=new q(0,0)}g.fg=function(a,b){this.Zi=new q(a*this.qf,b*this.qf);a=this.Zi.x;b=this.Zi.y;a=a.toFixed(0);b=b.toFixed(0);this.ra.style.display="block";Gc(this.ra,"translate3d("+a+"px, "+b+"px, 0px)")};g.Lm=function(){var a=Ab(this.ra);return new q(a.x/this.qf,a.y/this.qf)};g.U=function(){return this.ra};
g.Lj=function(a){a?a.appendChild(this.wd.firstChild):this.wd.removeChild(this.wd.firstChild);this.ra.style.display="none";if(this.wd.childNodes.length)throw Error("Drag group was not cleared.");this.Zi=null};var hi=!1;function ii(a){if(hi)throw Error("CSS already injected");Array.prototype.push.apply(ji,a);a.length=0}
var ji=[".blocklySvg {","background-color: #fff;","outline: none;","overflow: hidden;","position: absolute;","display: block;","}",".blocklyWidgetDiv {","display: none;","position: absolute;","z-index: 99999;","}",".injectionDiv {","height: 100%;","position: relative;","overflow: hidden;","touch-action: none;","}",".blocklyNonSelectable {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","}",".blocklyWsDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;",
"}",".blocklyWsDragSurface.blocklyOverflowVisible {","overflow: visible;","}",".blocklyBlockDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","right: 0;","bottom: 0;","overflow: visible !important;","z-index: 50;","}",".blocklyBlockCanvas.blocklyCanvasTransitioning,",".blocklyBubbleCanvas.blocklyCanvasTransitioning {","transition: transform .5s;","}",".blocklyTooltipDiv {","background-color: #ffffc7;","border: 1px solid #ddc;","box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);",
"color: #000;","display: none;","font: 9pt sans-serif;","opacity: .9;","padding: 2px;","position: absolute;","z-index: 100000;","}",".blocklyDropDownDiv {","position: absolute;","left: 0;","top: 0;","z-index: 1000;","display: none;","border: 1px solid;","border-color: #dadce0;","background-color: #fff;","border-radius: 2px;","padding: 4px;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv.blocklyFocused {","box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownContent {",
"max-height: 300px;","overflow: auto;","overflow-x: hidden;","position: relative;","}",".blocklyDropDownArrow {","position: absolute;","left: 0;","top: 0;","width: 16px;","height: 16px;","z-index: -1;","background-color: inherit;","border-color: inherit;","}",".blocklyDropDownButton {","display: inline-block;","float: left;","padding: 0;","margin: 4px;","border-radius: 4px;","outline: none;","border: 1px solid;","transition: box-shadow .1s;","cursor: pointer;","}",".blocklyArrowTop {","border-top: 1px solid;",
"border-left: 1px solid;","border-top-left-radius: 4px;","border-color: inherit;","}",".blocklyArrowBottom {","border-bottom: 1px solid;","border-right: 1px solid;","border-bottom-right-radius: 4px;","border-color: inherit;","}",".blocklyResizeSE {","cursor: se-resize;","fill: #aaa;","}",".blocklyResizeSW {","cursor: sw-resize;","fill: #aaa;","}",".blocklyResizeLine {","stroke: #515A5A;","stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","fill: none;","stroke: #fc3;","stroke-width: 4px;",
"}",".blocklyPathLight {","fill: none;","stroke-linecap: round;","stroke-width: 1;","}",".blocklySelected>.blocklyPathLight {","display: none;","}",".blocklyDraggable {",'cursor: url("<<<PATH>>>/handopen.cur"), auto;',"cursor: grab;","cursor: -webkit-grab;","}",".blocklyDragging {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDraggable:active {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;",
"}",".blocklyBlockDragSurface .blocklyDraggable {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging.blocklyDraggingDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {","fill-opacity: .8;","stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {","display: none;","}",".blocklyDisabled>.blocklyPath {","fill-opacity: .5;","stroke-opacity: .5;",
"}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {","display: none;","}",".blocklyInsertionMarker>.blocklyPath,",".blocklyInsertionMarker>.blocklyPathLight,",".blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: .2;","stroke: none;","}",".blocklyMultilineText {","font-family: monospace;","}",".blocklyNonEditableText>text {","pointer-events: none;","}",".blocklyFlyout {","position: absolute;","z-index: 20;","}",".blocklyText text {","cursor: default;","}",".blocklySvg text,",
".blocklyBlockDragSurface text {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","cursor: inherit;","}",".blocklyHidden {","display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","display: block;","}",".blocklyIconGroup {","cursor: default;","}",".blocklyIconGroup:not(:hover),",".blocklyIconGroupReadonly {","opacity: .6;","}",".blocklyIconShape {","fill: #00f;","stroke: #fff;","stroke-width: 1px;","}",".blocklyIconSymbol {","fill: #fff;","}",".blocklyMinimalBody {",
"margin: 0;","padding: 0;","}",".blocklyHtmlInput {","border: none;","border-radius: 4px;","height: 100%;","margin: 0;","outline: none;","padding: 0;","width: 100%;","text-align: center;","display: block;","box-sizing: border-box;","}",".blocklyHtmlInput::-ms-clear {","display: none;","}",".blocklyMainBackground {","stroke-width: 1;","stroke: #c6c6c6;","}",".blocklyMutatorBackground {","fill: #fff;","stroke: #ddd;","stroke-width: 1;","}",".blocklyFlyoutBackground {","fill: #ddd;","fill-opacity: .8;",
"}",".blocklyMainWorkspaceScrollbar {","z-index: 20;","}",".blocklyFlyoutScrollbar {","z-index: 30;","}",".blocklyScrollbarHorizontal,",".blocklyScrollbarVertical {","position: absolute;","outline: none;","}",".blocklyScrollbarBackground {","opacity: 0;","}",".blocklyScrollbarHandle {","fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyScrollbarHandle:hover {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarHandle {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",
".blocklyFlyout .blocklyScrollbarHandle:hover {","fill: #aaa;","}",".blocklyInvalidInput {","background: #faa;","}",".blocklyVerticalMarker {","stroke-width: 3px;","fill: rgba(255,255,255,.5);","pointer-events: none;","}",".blocklyComputeCanvas {","position: absolute;","width: 0;","height: 0;","}",".blocklyNoPointerEvents {","pointer-events: none;","}",".blocklyContextMenu {","border-radius: 4px;","max-height: 100%;","}",".blocklyDropdownMenu {","border-radius: 2px;","padding: 0 !important;","}",
".blocklyDropdownMenu .blocklyMenuItem {","padding-left: 28px;","}",".blocklyDropdownMenu .blocklyMenuItemRtl {","padding-left: 5px;","padding-right: 28px;","}",".blocklyWidgetDiv .blocklyMenu {","background: #fff;","border: 1px solid transparent;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","font: normal 13px Arial, sans-serif;","margin: 0;","outline: none;","padding: 4px 0;","position: absolute;","overflow-y: auto;","overflow-x: hidden;","max-height: 100%;","z-index: 20000;","}",".blocklyWidgetDiv .blocklyMenu.blocklyFocused {",
"box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv .blocklyMenu {","background: inherit;","border: inherit;",'font: normal 13px "Helvetica Neue", Helvetica, sans-serif;',"outline: none;","position: relative;","z-index: 20000;","}",".blocklyMenuItem {","border: none;","color: #000;","cursor: pointer;","list-style: none;","margin: 0;","min-width: 7em;","padding: 6px 15px;","white-space: nowrap;","}",".blocklyMenuItemDisabled {","color: #ccc;","cursor: inherit;","}",".blocklyMenuItemHighlight {",
"background-color: rgba(0,0,0,.1);","}",".blocklyMenuItemCheckbox {","height: 16px;","position: absolute;","width: 16px;","}",".blocklyMenuItemSelected .blocklyMenuItemCheckbox {","background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;","float: left;","margin-left: -24px;","position: static;","}",".blocklyMenuItemRtl .blocklyMenuItemCheckbox {","float: right;","margin-right: -24px;","}"];function ki(a,b){this.Pg=a;this.Co=b.spacing;this.xq=b.length;this.Ct=(this.nn=a.firstChild)&&this.nn.nextSibling;this.gu=b.snap}ki.prototype.qf=1;ki.prototype.o=function(){this.Pg=null};ki.prototype.update=function(a){this.qf=a;var b=this.Co*a||100;this.Pg.setAttribute("width",b);this.Pg.setAttribute("height",b);b=Math.floor(this.Co/2)+.5;var c=b-this.xq/2,d=b+this.xq/2;b*=a;c*=a;d*=a;li(this.nn,a,c,d,b,b);li(this.Ct,a,b,b,c,d)};
function li(a,b,c,d,e,f){a&&(a.setAttribute("stroke-width",b),a.setAttribute("x1",c),a.setAttribute("y1",e),a.setAttribute("x2",d),a.setAttribute("y2",f))}ki.prototype.moveTo=function(a,b){this.Pg.setAttribute("x",a);this.Pg.setAttribute("y",b);(lb||mb)&&this.update(this.qf)};function mi(a,b,c){Array.isArray(c)&&(c=c.join(" "));a.setAttribute("aria-"+b,c)};function ni(a){this.Mh=a;this.Fa()}g=ni.prototype;g.ra=null;g.Mh=null;g.Fa=function(){this.ra||(this.ra=E(xc,{xmlns:"http://www.w3.org/2000/svg","xmlns:html":"http://www.w3.org/1999/xhtml","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1","class":"blocklyWsDragSurface blocklyOverflowVisible"},null),this.Mh.appendChild(this.ra))};g.fg=function(a,b){a=a.toFixed(0);b=b.toFixed(0);this.ra.style.display="block";Gc(this.ra,"translate3d("+a+"px, "+b+"px, 0px)")};g.Lm=function(){return Ab(this.ra)};
g.Lj=function(a){if(!a)throw Error("Couldn't clear and hide the drag surface: missing new surface.");var b=this.ra.childNodes[0],c=this.ra.childNodes[1];if(!(b&&c&&Ec(b,"blocklyBlockCanvas")&&Ec(c,"blocklyBubbleCanvas")))throw Error("Couldn't clear and hide the drag surface. A node was missing.");null!=this.co?Fc(b,this.co):a.insertBefore(b,a.firstChild);Fc(c,b);this.ra.style.display="none";if(this.ra.childNodes.length)throw Error("Drag surface was not cleared.");Gc(this.ra,"");this.co=null};function oi(){this.ld=[];this.Zf=this.tb=this.Ok=this.Gk=this.Fk=this.Mj=this.Hk=this.Kf=this.Qn=null}g=oi.prototype;
g.P=function(a){var b=document.createElement("div");b.className="blocklyMenu goog-menu blocklyNonSelectable";b.tabIndex=0;this.Zf&&b.setAttribute("role",this.Zf);this.tb=b;for(var c=0,d;d=this.ld[c];c++)b.appendChild(d.Fa());this.Hk=J(b,"mouseover",this,this.tt,!0);this.Mj=J(b,"click",this,this.nt,!0);this.Fk=J(b,"mouseenter",this,this.rt,!0);this.Gk=J(b,"mouseleave",this,this.st,!0);this.Ok=J(b,"keydown",this,this.ot);a.appendChild(b)};
g.focus=function(){var a=this.tb;a&&(a.focus({preventScroll:!0}),F(a,"blocklyFocused"))};g.Pi=function(a){this.Zf=a};g.o=function(){this.Hk&&(K(this.Hk),this.Hk=null);this.Mj&&(K(this.Mj),this.Mj=null);this.Fk&&(K(this.Fk),this.Fk=null);this.Gk&&(K(this.Gk),this.Gk=null);this.Ok&&(K(this.Ok),this.Ok=null);for(var a=0,b;b=this.ld[a];a++)b.o();this.tb=null};
function pi(a,b){for(var c=a.tb;b&&b!=c;){if(Ec(b,"blocklyMenuItem"))for(var d=0,e;e=a.ld[d];d++)if(e.tb==b)return e;b=b.parentElement}return null}
g.ve=function(a){var b=this.Kf;b&&(b.ve(!1),this.Kf=null);if(a){a.ve(!0);this.Kf=a;b=this.tb;var c=a.tb,d=kb(c),e=kb(b);var f=jb(b,"borderLeftWidth");jb(b,"borderRightWidth");var h=jb(b,"borderTopWidth");jb(b,"borderBottomWidth");f=d.x-e.x-parseFloat(f);d=d.y-e.y-parseFloat(h);c=new hb(c.offsetWidth,c.offsetHeight);e=b.clientHeight-c.height;h=b.scrollLeft;var k=b.scrollTop;h+=Math.min(f,Math.max(f-(b.clientWidth-c.width),0));k+=Math.min(d,Math.max(d-e,0));f=new q(h,k);b.scrollLeft=f.x;b.scrollTop=
f.y;mi(b,"activedescendant",a.T())}};function qi(a,b,c){b+=c;for(var d;d=a.ld[b];){if(d.isEnabled()){a.ve(d);break}b+=c}}g.tt=function(a){(a=pi(this,a.target))&&(a.isEnabled()?this.Kf!=a&&this.ve(a):this.ve(null))};g.nt=function(a){var b=this.Qn;this.Qn=null;b&&"number"==typeof a.clientX&&1>pa(b,new q(a.clientX,a.clientY))||(a=pi(this,a.target))&&a.isEnabled()&&a.Ch&&a.Ch(a)};g.rt=function(){this.focus()};g.st=function(){if(this.tb){var a=this.tb;a&&(a.blur(),Dc(a,"blocklyFocused"));this.ve(null)}};
g.ot=function(a){if(this.ld.length&&!(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)){var b=this.Kf;switch(a.keyCode){case 13:case 32:b&&b.isEnabled()&&b.Ch&&b.Ch(b);break;case 38:b=this.ld.indexOf(this.Kf);qi(this,0>b?this.ld.length:b,-1);break;case 40:qi(this,this.ld.indexOf(this.Kf),1);break;case 33:case 36:qi(this,-1,1);break;case 34:case 35:qi(this,this.ld.length,-1);break;default:return}a.preventDefault();a.stopPropagation()}};
g.getSize=function(){var a=this.tb,b=ib(a);b.height=a.scrollHeight;return b};var ri=0;function si(a,b){this.Nh=a;this.Xa=b;this.dk=!0;this.tb=null;this.oo=!1;this.Zf=null;this.hq=this.Xl=this.Wl=!1;this.Ch=null}g=si.prototype;
g.Fa=function(){var a=document.createElement("div");a.id="blockly-"+(ri++).toString(36);this.tb=a;a.className="blocklyMenuItem goog-menuitem "+(this.dk?"":"blocklyMenuItemDisabled goog-menuitem-disabled ")+(this.Xl?"blocklyMenuItemSelected goog-option-selected ":"")+(this.hq?"blocklyMenuItemHighlight goog-menuitem-highlight ":"")+(this.oo?"blocklyMenuItemRtl goog-menuitem-rtl ":"");var b=document.createElement("div");b.className="blocklyMenuItemContent goog-menuitem-content";if(this.Wl){var c=document.createElement("div");
c.className="blocklyMenuItemCheckbox goog-menuitem-checkbox";b.appendChild(c)}c=this.Nh;"string"==typeof this.Nh&&(c=document.createTextNode(this.Nh));b.appendChild(c);a.appendChild(b);this.Zf&&a.setAttribute("role",this.Zf);mi(a,"selected",this.Wl&&this.Xl||!1);mi(a,"disabled",!this.dk);return a};g.o=function(){this.tb=null};g.T=function(){return this.tb.id};g.kb=function(){return this.Xa};g.Pi=function(a){this.Zf=a};
g.ve=function(a){this.hq=a;var b=this.tb;b&&this.isEnabled()&&(a?(F(b,"blocklyMenuItemHighlight"),F(b,"goog-menuitem-highlight")):(Dc(b,"blocklyMenuItemHighlight"),Dc(b,"goog-menuitem-highlight")))};g.isEnabled=function(){return this.dk};g.Yb=function(a){this.dk=a};function ti(a,b,c){a.Ch=b.bind(c)};var ui={Uj:null,Wb:null,show:function(a,b,c){mh(ui,c,ui.o);if(b.length){var d=ui.Ut(b,c);ui.Wb=d;ui.Vt(d,a,c);setTimeout(function(){d.focus()},1);ui.Uj=null}else ui.lb()},Ut:function(a,b){var c=new oi;c.Pi("menu");for(var d=0,e;e=a[d];d++){var f=new si(e.text);f.oo=b;f.Pi("menuitem");c.ld.push(f);f.Yb(e.enabled);e.enabled&&ti(f,function(){ui.lb();this.la(this.scope)},e)}return c},Vt:function(a,b,c){var d=document.body;var e=document.documentElement;d=new q(d.scrollLeft||e.scrollLeft,d.scrollTop||
e.scrollTop);d=new $a(d.y,document.documentElement.clientHeight+d.y,d.x,document.documentElement.clientWidth+d.x);var f=new $a(b.clientY+d.top,b.clientY+d.top,b.clientX+d.left,b.clientX+d.left);ui.Ys(a);b=a.getSize();c&&(f.left+=b.width,f.right+=b.width,d.left+=b.width,d.right+=b.width);e=f.bottom+b.height>=d.bottom?f.top-b.height:f.bottom;c?(c=Math.max(f.right-b.width,d.left),c=Math.min(c,d.right-b.width)):(c=Math.min(f.left,d.right-b.width),c=Math.max(c,d.left));0>e?oh(c,0,b.height+e):oh(c,e,b.height);
a.focus()},Ys:function(a){a.P(hh);var b=a.tb;F(b,"blocklyContextMenu");J(b,"contextmenu",null,yb);a.focus()},lb:function(){ih==ui&&nh();ui.Uj=null},o:function(){ui.Wb&&(ui.Wb.o(),ui.Wb=null)},Jj:function(a,b){return function(){w++;try{var c=Rc(b,a.h),d=a.ga();d.x=a.s?d.x-28:d.x+28;d.y+=56;c.moveBy(d.x,d.y)}finally{w--}0==w&&!c.X&&x(new (A("create"))(c));c.select()}}};function vi(){wi=this;this.Sc=Object.create(null)}var wi=null;vi.prototype.register=function(a){if(this.Sc[a.id])throw Error('Menu item with ID "'+a.id+'" is already registered.');this.Sc[a.id]=a};vi.prototype.unregister=function(a){if(!this.Sc[a])throw Error('Menu item with ID "'+a+'" not found.');delete this.Sc[a]};vi.prototype.getItem=function(a){return this.Sc[a]||null};
function xi(a,b){var c=[],d=wi.Sc;Object.keys(d).forEach(function(e){e=d[e];if(a==e.wc){var f=e.Pa(b);"hidden"!=f&&(e={text:"function"==typeof e.Ob?e.Ob(b):e.Ob,enabled:"enabled"==f,la:e.la,scope:b,weight:e.weight},c.push(e))}});c.sort(function(e,f){return e.weight-f.weight});return c}new vi;function yi(a,b,c){yi.j.constructor.call(this,c);this.Jq=a;this.Gq=b}B(yi,ve);yi.prototype.type="selected";yi.prototype.R=function(){var a=yi.j.R.call(this);a.oldElementId=this.Jq;a.newElementId=this.Gq;return a};yi.prototype.N=function(a){yi.j.N.call(this,a);this.Jq=a.oldElementId;this.Gq=a.newElementId};u(Ia,"selected",yi);function zi(a,b){zi.j.constructor.call(this,a,b);this.td=a.h.Sj[b];this.Ep=a.h.Sj[na[b]];this.Xf=new q(0,0);this.Ce=Ai;this.J=null}B(zi,ld);var Ai=-1;g=zi.prototype;g.o=function(){zi.j.o.call(this);1==this.Ce&&Bi(this.td,this,this.y)};g.C=function(){return zi.j.C.call(this)};g.K=function(){return zi.j.K.call(this)};function Df(a,b){var c=a.x-b.x;a=a.y-b.y;return Math.sqrt(c*c+a*a)}
function Ci(a,b){if(!a.m.h.Ta()){var c=a.m.gd();if(!c.Ba){var d=!1;if(!c.mb()){c=b.C().gd();if(!c.mb())return;b=a;d=!0}var e=M==c;e||c.Ej();var f=b.x+28+Math.floor(10*Math.random())-a.x,h=b.y+28+Math.floor(10*Math.random())-a.y;d&&(h=-h);c.s&&(f=b.x-28-Math.floor(10*Math.random())-a.x);c.moveBy(f,h);e||c.Gi()}}}
g.moveTo=function(a,b){if(this.Ce==Ai){var c=this.td;c.Na.splice(Di(c,b),0,this);this.Ce=1}else 1==this.Ce&&(Bi(this.td,this,this.y),c=this.td,c.Na.splice(Di(c,b),0,this));this.x=a;this.y=b};g.moveBy=function(a,b){this.moveTo(this.x+a,this.y+b)};function Ei(a,b){a.moveTo(b.x+a.Xf.x,b.y+a.Xf.y)}function Fi(a,b,c){a.Xf.x=b;a.Xf.y=c}
function Gi(a){var b=a.J.x-a.x,c=a.J.y-a.y;if(0!=b||0!=c){a=a.K();var d=a.U();if(!d)throw Error("block is not rendered.");d=Ab(d);a.U().setAttribute("transform","translate("+(d.x-b)+","+(d.y-c)+")");$e(a,-b,-c)}}
g.closest=function(a,b){var c=this.Ep;if(c.Na.length){var d=this.y,e=this.x;this.x=e+b.x;this.y=d+b.y;var f=Di(c,this.y);b=null;for(var h=a,k,m=f-1;0<=m&&Math.abs(c.Na[m].y-this.y)<=a;)k=c.Na[m],0==od(this,k,!0,h)&&(b=k,h=Df(k,this)),m--;for(;f<c.Na.length&&Math.abs(c.Na[f].y-this.y)<=a;)k=c.Na[f],0==od(this,k,!0,h)&&(b=k,h=Df(k,this)),f++;this.x=e;this.y=d;a={connection:b,Wk:h}}else a={connection:null,Wk:a};return a};
function Eh(a,b){b&&1==a.Ce||!b&&0==a.Ce||a.m.Ba||(b?(b=a.td,b.Na.splice(Di(b,a.y),0,a),a.Ce=1):(1==a.Ce&&Bi(a.td,a,a.y),a.Ce=0))}function Dh(a){Eh(a,!0);var b=[];if(1!=a.type&&3!=a.type)return b;if(a=a.K()){if(a.isCollapsed()){var c=[];a.u&&c.push(a.u);a.D&&c.push(a.D);a.H&&c.push(a.H)}else c=a.fd(!0);for(var d=0;d<c.length;d++)b.push.apply(b,Dh(c[d]));b.length||(b[0]=a)}return b}
g.Jn=function(a){var b=this.C();if(Ub){var c=Tb;setTimeout(function(){b.Ic||b.getParent()||(z(c),Ci(this,a),z(!1))}.bind(this),250)}};g.km=function(a,b){zi.j.km.call(this,a,b);a.I&&a.P();b.I&&(Vc(b),b.P(),b.U().style.display="block")};g.Ji=function(){zi.j.Ji.call(this);var a=this.K();a&&(a.ie(),a.P(!1),a=this.C(),a.I&&a.P())};g.Fq=function(a){return Hi(this.Ep,this,a)};
g.Qj=function(a){zi.j.Qj.call(this,a);var b=this.C();a=a.C();var c=b.I,d=a.I;c&&Vc(b);d&&Vc(a);c&&d&&(3==this.type||4==this.type?a.P():b.P());if(b=jd(b,a))b=b.isVisible(),a.U().style.display=b?"block":"none"};g.Rq=function(){!this.isConnected()||this.J&&0==od(this,this.J,!1)||(kd(nd(this)?this.K():this.m),this.m.Ia())};function Ii(){Ii.j.constructor.call(this)}B(Ii,fh);g=Ii.prototype;g.next=function(){var a=this.nc;if(!a)return null;(a=Ji(this,a,this.Mo))&&eh(this,a);return a};g.Ze=function(){return this.next()};g.qe=function(){var a=this.nc;if(!a)return null;(a=Ki(this,a,this.Mo))&&eh(this,a);return a};g.gf=function(){return this.qe()};function Ji(a,b,c){if(!b)return null;var d=b.Ze()||b.next();if(c(d))return d;if(d)return Ji(a,d,c);b=Li(a,b.gf());return c(b)?b:b?Ji(a,b,c):null}
function Ki(a,b,c){if(!b)return null;var d=b.qe();d=d?Mi(a,d):b.gf();return c(d)?d:d?Ki(a,d,c):null}g.Mo=function(a){var b=!1;a=a&&a.getType();if("output"==a||"input"==a||"field"==a||"next"==a||"previous"==a||"workspace"==a)b=!0;return b};function Li(a,b){if(!b)return null;var c=b.next();return c?c:Li(a,b.gf())}function Mi(a,b){if(!b.Ze())return b;for(b=b.Ze();b.next();)b=b.next();return Mi(a,b)}u(Ha,"basicCursor",Ii);function Ni(){Ni.j.constructor.call(this)}B(Ni,Ii);Ni.prototype.Mo=function(a){var b=!1,c=a&&a.getType();a&&(a=a.V,"field"==c&&a&&a.tq()&&Da(a)&&(b=!0));return b};function S(a,b,c){this.B=E(qc,{},null);this.B.fj="";this.style=Oi(a.ya.G(),null);this.xa=a.ya.Aq(this.B,this.style);this.jo=this.I=!1;this.h=a;this.H=this.D=this.u=null;this.lj=Mb()&&!!a.jc;var d=this.xa.Ga;d.Xc=this;Hg(d);S.j.constructor.call(this,a,b,c);this.B.dataset?this.B.dataset.id=this.id:lb&&this.B.setAttribute("data-id",this.id)}B(S,Aa);g=S.prototype;g.height=0;g.width=0;g.hc=null;
g.ie=function(){if(!this.h.I)throw TypeError("Workspace is headless.");for(var a=0,b;b=this.A[a];a++)b.F();b=Se(this);for(a=0;a<b.length;a++)Pi(b[a]);this.Ja();Ne(this.xa,"blocklyDraggable",this.mb());a=this.U();this.h.options.readOnly||this.ft||!a||J(a,"mousedown",this,this.ff);this.ft=!0;a.parentNode||this.h.Da.appendChild(a)};
g.select=function(){if(this.X&&this.getParent())this.getParent().select();else if(M!=this){var a=null;if(M){a=M.id;w++;try{Rg(M)}finally{w--}}a=new (A("selected"))(a,this.id,this.h.id);x(a);M=this;this.Ej()}};function Rg(a){if(M==a){var b=new (A("selected"))(a.id,null,a.h.id);b.Db=a.h.id;x(b);M=null;a.Gi()}}g.xb=null;g.Hh=null;g.Ec=null;g.Bc=null;function Se(a){var b=[];a.xb&&b.push(a.xb);a.Ec&&b.push(a.Ec);a.Bc&&b.push(a.Bc);return b}
g.hl=function(a){var b=this.Fd;if(a!=b){Hc();S.j.hl.call(this,a);Ic();var c=this.U();if(!this.h.an&&c){var d=this.ga();a?(a.U().appendChild(c),a=this.ga(),$e(this,a.x-d.x,a.y-d.y)):b&&(this.h.Da.appendChild(c),this.translate(d.x,d.y));this.Ja()}}};g.ga=function(){var a=0,b=0,c=this.lj?this.h.jc.wd:null,d=this.U();if(d){do{var e=Ab(d);a+=e.x;b+=e.y;this.lj&&this.h.jc.wd.firstChild==d&&(e=this.h.jc.Lm(),a+=e.x,b+=e.y);d=d.parentNode}while(d&&d!=this.h.Da&&d!=c)}return new q(a,b)};
g.moveBy=function(a,b){if(this.Fd)throw Error("Block has parent.");var c=0==w;if(c)var d=new (A("move"))(this);var e=this.ga();this.translate(e.x+a,e.y+b);$e(this,a,b);c&&(id(d),x(d));Wc(this.h)};g.translate=function(a,b){this.U().setAttribute("transform","translate("+a+","+b+")")};g.moveTo=function(a){var b=this.ga();this.moveBy(a.x-b.x,a.y-b.y)};g.An=function(a){this.lj?this.h.jc.fg(a.x,a.y):(this.B.fj="translate("+a.x+","+a.y+")",this.B.setAttribute("transform",this.B.fj+this.B.Ui))};
function Qi(a){if(a.h&&!a.h.Ta()&&!a.getParent()&&!a.Ba){var b=a.h.Nc;if(b&&b.gu){var c=b.Co,d=c/2,e=a.ga();b=Math.round((e.x-d)/c)*c+d-e.x;c=Math.round((e.y-d)/c)*c+d-e.y;b=Math.round(b);c=Math.round(c);0==b&&0==c||a.moveBy(b,c)}}}g.ai=function(){var a=this.ga(),b=Ue(this);if(this.s){var c=a.x-b.width;var d=a.x}else c=a.x,d=a.x+b.width;return new $a(a.y,a.y+b.height,c,d)};g.ni=function(){this.xa.Lh=this.h.ya.G();for(var a=0,b;b=this.A[a];a++)b.ni()};
g.rf=function(a){this.Df!=a&&(S.j.rf.call(this,a),a?this.I&&this.P():Ri(this))};function Ri(a){for(var b=a.isCollapsed(),c=0,d;d=a.A[c];c++)"_TEMP_COLLAPSED_INPUT"!=d.name&&d.na(!b);if(b){d=Se(a);for(c=0;b=d[c];c++)b.na(!1);c=a.toString(30);(d=ad(a,"_TEMP_COLLAPSED_FIELD"))?dd(d,c):(d=H(a,"_TEMP_COLLAPSED_INPUT")||P(a,"_TEMP_COLLAPSED_INPUT"),O(d,new zh(c),"_TEMP_COLLAPSED_FIELD"))}else Vc(a),a.eb("_TEMP_COLLAPSED_INPUT")}
g.ff=function(a){var b=this.h&&this.h.Se(a);if(b){if(b.Jf)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");ah(b,this);b.Pc=a}};g.showHelp=function(){var a="function"==typeof this.vb?this.vb():this.vb;a&&window.open(a)};g.Si=function(a){if(this.h.options.readOnly||!this.contextMenu)var b=null;else b=xi("block",{block:this}),this.Vd&&this.Vd(b);b&&b.length&&(ui.show(a,b,this.s),ui.Uj=this)};
function $e(a,b,c){if(a.I){for(var d=a.fd(!1),e=0;e<d.length;e++)d[e].moveBy(b,c);d=Se(a);for(e=0;e<d.length;e++)Si(d[e]);for(e=0;e<a.Rd.length;e++)$e(a.Rd[e],b,c)}}g.sf=function(a){if(a){var b=this.U();b.fj="";b.Ui="";Ze=Ze.concat(this.fd(!0));F(this.B,"blocklyDragging")}else Ze=[],Dc(this.B,"blocklyDragging");for(b=0;b<this.Rd.length;b++)this.Rd[b].sf(a)};g.dl=function(a){S.j.dl.call(this,a);Ne(this.xa,"blocklyDraggable",a)};g.to=function(a){S.j.to.call(this,a);a=Se(this);for(var b=0;b<a.length;b++)a[b].Ee()};
g.wo=function(a){S.j.wo.call(this,a);this.Ja()};g.nr=function(a){this.Vg!=a&&(this.Vg=a)&&(this.gb(this.h.ya.G().rs),Ne(this.xa,"blocklyInsertionMarker",!0))};g.U=function(){return this.B};
g.o=function(a,b){if(this.h){Eg=Dg=null;Mg();Lg(this.xa.Ga);Hc();var c=this.h;M==this&&(Rg(this),Ti(this.h));ui.Uj==this&&ui.lb();if(b&&this.I){kd(this,a);b=this.h;var d=this.U();b.Ge.play("delete");var e=af(b,d);d=d.cloneNode(!0);d.uu=e.x;d.vu=e.y;d.setAttribute("transform","translate("+e.x+","+e.y+")");L(b).appendChild(d);d.qp=d.getBBox();re(d,b.s,new Date,b.scale)}this.I=!1;if(this.hc){for(var f in this.hc)clearTimeout(this.hc[f]);this.hc=null}f=Se(this);for(b=0;b<f.length;b++)f[b].o();S.j.o.call(this,
!!a);G(this.B);Wc(c);this.B=null;Ic()}};g.Ja=function(){this.xa.Ja(this);for(var a=Se(this),b=0;b<a.length;b++)a[b].Ja();for(a=0;b=this.A[a];a++)for(var c=0,d;d=b.ba[c];c++)d.Ja()};function Vc(a){var b=Lc(a,!1);a.Ja();if(!a.isCollapsed()){a=0;for(var c;c=b[a];a++)c.I&&Vc(c)}}g.kt=function(){return this.Ec};
g.Jd=function(a){if(!$c)throw Error("Missing require for Blockly.Comment");this.lc.text!=a&&(S.j.Jd.call(this,a),a=null!=a,!!this.Ec==a?(a=this.Ec,a.eg?a.eg.value=a.wb.text:a.Yf&&(a.Yf.firstChild.textContent=a.wb.text)):(a?this.Hh=this.Ec=new $c(this):(this.Ec.o(),this.Hh=this.Ec=null),this.I&&(this.P(),this.Ia())))};
g.ih=function(a,b){if(!Ui)throw Error("Missing require for Blockly.Warning");this.hc||(this.hc=Object.create(null));var c=b||"";if(c)this.hc[c]&&(clearTimeout(this.hc[c]),delete this.hc[c]);else for(var d in this.hc)clearTimeout(this.hc[d]),delete this.hc[d];if(this.h.Ta()){var e=this;this.hc[c]=setTimeout(function(){e.h&&(delete e.hc[c],e.ih(a,c))},100)}else{this.Ba&&(a=null);b=!1;if("string"==typeof a){d=Hh(this);for(var f=null;d;)d.isCollapsed()&&(f=d),d=Hh(d);f&&f.ih(v.COLLAPSED_WARNINGS_WARNING,
"TEMP_COLLAPSED_WARNING_");this.Bc||(this.Bc=new Ui(this),b=!0);Vi(this.Bc,a,c)}else this.Bc&&!c?(this.Bc.o(),b=!0):this.Bc&&(b=this.Bc.Qb(),Vi(this.Bc,"",c),(d=this.Bc.Qb())||this.Bc.o(),b=b!=d);b&&this.I&&(this.P(),this.Ia())}};g.ag=function(a){this.xb&&this.xb!==a&&this.xb.o();a&&(a.v=this,this.xb=a,Pi(a));this.I&&(this.P(),this.Ia())};g.Yb=function(a){this.isEnabled()!=a&&(S.j.Yb.call(this,a),this.I&&!Jh(this)&&Vc(this))};g.ve=function(a){this.I&&this.xa.Dr(a)};
g.Ej=function(){Ne(this.xa,"blocklySelected",!0)};g.Gi=function(){Ne(this.xa,"blocklySelected",!1)};g.so=function(a){Ne(this.xa,"blocklyDraggingDelete",a)};g.Im=function(){return this.style.Sd};g.gb=function(a){S.j.gb.call(this,a);a=Wi(this.h.ya.G(),this.sb);this.xa.ye(a.style);this.style=a.style;this.cg=a.name;this.Ja()};g.ye=function(a){var b=Oi(this.h.ya.G(),a);this.cg=a;if(b)this.zd=b.zd,this.xa.ye(b),this.sb=b.Sd,this.style=b,this.Ja();else throw Error("Invalid style name: "+a);};
function Te(a){do{var b=a.U(),c=b.parentNode,d=c.childNodes;d[d.length-1]!==b&&c.appendChild(b);a=a.getParent()}while(a)}g.xe=function(a,b){S.j.xe.call(this,a,b);this.I&&(this.P(),this.Ia())};g.we=function(a,b){S.j.we.call(this,a,b);this.I&&(this.P(),this.Ia())};g.Oi=function(a,b){S.j.Oi.call(this,a,b);this.I&&(this.P(),this.Ia())};g.Vc=function(a){S.j.Vc.call(this,a);this.I&&(this.P(),this.Ia())};g.eb=function(a,b){a=S.j.eb.call(this,a,b);this.I&&(this.P(),this.Ia());return a};
g.Bn=function(a,b){S.j.Bn.call(this,a,b);this.I&&(this.P(),this.Ia())};g.Ea=function(a,b){a=S.j.Ea.call(this,a,b);this.I&&(this.P(),this.Ia());return a};function Uc(a,b){a.H&&Eh(a.H,b);a.u&&Eh(a.u,b);if(a.D){Eh(a.D,b);var c=a.D.K();c&&Uc(c,b)}if(!a.Df)for(c=0;c<a.A.length;c++){var d=a.A[c].connection;d&&(Eh(d,b),(d=d.K())&&Uc(d,b))}}
g.fd=function(a){var b=[];if(a||this.I)if(this.u&&b.push(this.u),this.H&&b.push(this.H),this.D&&b.push(this.D),a||!this.Df){a=0;for(var c;c=this.A[a];a++)c.connection&&b.push(c.connection)}return b};g.yk=function(a){return S.j.yk.call(this,a)};g.Km=function(a,b){return S.j.Km.call(this,a,b)};g.mi=function(a){return new zi(this,a)};
g.Ia=function(){if(this.h&&!this.h.Ta()){var a=this.gd();if(!a.Ba)for(var b=this.fd(!1),c=0,d;d=b[c];c++){d.isConnected()&&nd(d)&&d.K().Ia();for(var e=d.Fq(28),f=0,h;h=e[f];f++)d.isConnected()&&h.isConnected()||h.C().gd()!=a&&(nd(d)?Ci(h,d):Ci(d,h))}}};function bf(a){var b=Tb;setTimeout(function(){z(b);Qi(a);z(!1)},125);setTimeout(function(){z(b);a.Ia();z(!1)},250)}g.getParent=function(){return S.j.getParent.call(this)};g.gd=function(){return S.j.gd.call(this)};
g.P=function(a){if(!this.jo){this.jo=!0;try{this.I=!0;Hc();this.isCollapsed()&&Ri(this);this.h.ya.P(this);var b=this.ga();this.H&&Ei(this.H,b);this.u&&Ei(this.u,b);for(var c=0;c<this.A.length;c++){var d=this.A[c].connection;d&&(Ei(d,b),d.isConnected()&&Gi(d))}this.D&&(Ei(this.D,b),this.D.isConnected()&&Gi(this.D));if(!1!==a){var e=this.getParent();e?e.P(!0):Wc(this.h)}Ic();this.Lo()}finally{this.jo=!1}}};g.Lo=function(){this.h.Yg&&this.xa.Rh&&this.h.Mg().dd();this.h.Yg&&this.xa.un&&this.h.ci("local_marker_1").dd()};
g.ue=function(a){this.xa.ue(a)};g.tf=function(a){this.xa.tf(a)};function Ue(a){var b=a.height,c=a.width,d=Ca(a);d&&(d=Ue(d),a=a.h.ya.G().Al,b+=d.height-a,c=Math.max(c,d.width));return{height:b,width:c}};function Xi(){this.Na=[]}function Yi(a,b,c){if(!a.Na.length)return-1;var d=Di(a,c);if(d>=a.Na.length)return-1;c=b.y;for(var e=d;0<=e&&a.Na[e].y==c;){if(a.Na[e]==b)return e;e--}for(e=d;e<a.Na.length&&a.Na[e].y==c;){if(a.Na[e]==b)return e;e++}return-1}function Di(a,b){if(!a.Na.length)return 0;for(var c=0,d=a.Na.length;c<d;){var e=Math.floor((c+d)/2);if(a.Na[e].y<b)c=e+1;else if(a.Na[e].y>b)d=e;else{c=e;break}}return c}
function Bi(a,b,c){b=Yi(a,b,c);if(-1==b)throw Error("Unable to find connection in connectionDB.");a.Na.splice(b,1)}function Hi(a,b,c){function d(n){var p=f-e[n].x,t=h-e[n].y;Math.sqrt(p*p+t*t)<=c&&m.push(e[n]);return t<c}var e=a.Na,f=b.x,h=b.y;a=0;for(var k=b=e.length-2;a<k;)e[k].y<h?a=k:b=k,k=Math.floor((a+b)/2);var m=[];b=a=k;if(e.length){for(;0<=a&&d(a);)a--;do b++;while(b<e.length&&d(b))}return m};function Zi(a,b){Zi.j.constructor.call(this,b);this.xr=a}B(Zi,ve);Zi.prototype.type="theme_change";Zi.prototype.R=function(){var a=Zi.j.R.call(this);a.themeName=this.xr;return a};Zi.prototype.N=function(a){Zi.j.N.call(this,a);this.xr=a.themeName};u(Ia,"theme_change",Zi);function $i(a,b,c,d,e){$i.j.constructor.call(this,d);this.Zc=a;this.Yc=b;this.scale=c;this.wi=e}B($i,ve);$i.prototype.type="viewport_change";$i.prototype.R=function(){var a=$i.j.R.call(this);a.viewTop=this.Zc;a.viewLeft=this.Yc;a.scale=this.scale;a.oldScale=this.wi;return a};$i.prototype.N=function(a){$i.j.N.call(this,a);this.Zc=a.viewTop;this.Yc=a.viewLeft;this.scale=a.scale;this.wi=a.oldScale};u(Ia,"viewport_change",$i);function aj(a){this.g=a}function bj(a){var b=0,c=0;a&&(b=a.ee(),c=a.ub);return new hb(b,c)}function cj(a){var b=bj(a.g.qc(!0));return{width:b.width,height:b.height,position:a.g.Wa}}function dj(a){var b=bj(a.g.za);return{width:b.width,height:b.height,position:a.g.Wa}}function ej(a){var b=0,c=dj(a),d=cj(a),e=!!a.g.za;a=!!a.g.qc(!0);var f=2==(e?c.position:d.position);e&&f?b=c.width:a&&f&&(b=d.width);return{top:0,left:b}}
function qg(a,b){b=b?a.g.scale:1;var c=fj(a.g),d=dj(a),e=cj(a),f=a.g.za?d.position:e.position;if(a.g.za){if(2==f||3==f)c.width-=d.width}else!a.g.qc(!0)||2!=f&&3!=f||(c.width-=e.width);return{height:c.height/b,width:c.width/b,top:-a.g.scrollY/b,left:-a.g.scrollX/b}}
aj.prototype.jk=function(){var a=this.g.scale;var b=[].concat(this.g.ej);if(b.length){for(var c=b[0].ai(),d=1;d<b.length;d++){var e=b[d];e.Ub&&e.Ub()||(e=e.ai(),e.top<c.top&&(c.top=e.top),e.bottom>c.bottom&&(c.bottom=e.bottom),e.left<c.left&&(c.left=e.left),e.right>c.right&&(c.right=e.right))}b=c}else b=new $a(0,0,0,0);return{height:(b.bottom-b.top)*a,width:(b.right-b.left)*a,top:b.top*a,left:b.left*a}};
aj.prototype.Ue=function(a,b,c){a=a?this.g.scale:1;var d=b||qg(this,!1);c=c||this.jk();if(Pg(this.g)&&Qg(this.g))b={};else{b=Pg(this.g);var e=Qg(this.g),f=d||qg(this,!1);var h={};e||(h.top=f.top,h.bottom=f.top+f.height);b||(h.left=f.left,h.right=f.left+f.width);b=h}h=c.top+c.height;e=c.left+c.width;f=d.width;var k=d.height;var m=f/2,n=k/2;d=Math.min(c.top-n,h-k);h=Math.max(h+n,c.top+k);k=Math.min(c.left-m,e-f);c=Math.max(e+m,c.left+f);d=void 0!==b.top?b.top:d;e=void 0!==b.left?b.left:k;return{top:d/
a,left:e/a,width:((void 0!==b.right?b.right:c)-e)/a,height:((void 0!==b.bottom?b.bottom:h)-d)/a}};aj.prototype.rc=function(){var a=dj(this),b=cj(this),c=fj(this.g),d=ej(this),e=qg(this),f=this.jk(),h=this.Ue(!1,e,f);return{$u:f.height,cv:f.width,bv:f.top,av:f.left,scrollHeight:h.height,scrollWidth:h.width,scrollTop:h.top,scrollLeft:h.left,Bb:e.height,Cb:e.width,Zc:e.top,Yc:e.left,ac:d.top,Lb:d.left,vv:c.height,wv:c.width,zv:a.width,yv:a.height,Wa:a.position,fv:b.width,ev:b.height}};
u(Pa,"default",aj);function gj(a,b){this.L=b;gj.j.constructor.call(this,a)}B(gj,aj);gj.prototype.jk=function(){try{var a=this.g.Da.getBBox()}catch(c){a={height:0,y:0,width:0,x:0}}var b=this.g.scale;return{height:a.height*b,width:a.width*b,top:a.y*b,left:a.x*b}};gj.prototype.Ue=function(a,b,c){b=c||this.jk();c=this.L.vg*this.g.scale;a=a?this.g.scale:1;return{height:(b.height+2*c)/a,width:(b.width+b.left+c)/a,top:0,left:0}};function hj(a){var b=Ff;this.g=a;this.cj=b;this.Yi=[];this.Le=Object.create(null)}g=hj.prototype;g.$d=function(){return this.cj};g.Ri=function(a){var b=this.cj;this.cj=a;if(a=ij(this.g))b&&Dc(a,b.ed()),F(a,this.cj.ed());for(b=0;a=this.Yi[b];b++)a.eh();Af()};g.subscribe=function(a,b,c){this.Le[b]||(this.Le[b]=[]);this.Le[b].push({element:a,propertyName:c});a.style[c]=""};
g.unsubscribe=function(a){if(a)for(var b=Object.keys(this.Le),c=0,d;d=b[c];c++){for(var e=this.Le[d],f=e.length-1;0<=f;f--)e[f].element===a&&e.splice(f,1);this.Le[d].length||delete this.Le[d]}};g.o=function(){this.Le=this.Yi=this.cj=null};function jj(a,b){jj.j.constructor.call(this,a,b);this.wk=!1;this.kc=Object.create(null);this.pr=this.Ci=0;this.qq=this.Pn=null}B(jj,Sg);g=jj.prototype;g.lm=function(a){this.qq=this.Ua.options.Ha&&this.Ua.options.Ha.Zq;jj.j.lm.call(this,a);!this.rk&&Rd(a)&&kj(this,a)};g.rp=function(a){this.Pn=J(document,"mousedown",null,this.ut.bind(this),!0);this.Sk=J(document,"mousemove",null,this.Qg.bind(this),!0);this.Tk=J(document,"mouseup",null,this.lk.bind(this),!0);a.preventDefault();a.stopPropagation()};
g.ut=function(a){!this.Ta()&&Rd(a)&&(kj(this,a),this.wk&&Md())};g.Qg=function(a){if(this.Ta())Qd(a)&&!Pd(a)||jj.j.Qg.call(this,a);else if(this.wk){if(Rd(a)){this.kc[Od(a)]=lj(this,a);var b=Object.keys(this.kc);if(this.qq&&2===b.length){b=Object.keys(this.kc);b=pa(this.kc[b[0]],this.kc[b[1]])/this.pr;if(0<this.Ci&&Infinity>this.Ci){var c=b-this.Ci;c=0<c?5*c:6*c;var d=this.Ua,e=Fb(a,L(d),xf(d));d.zoom(e.x,e.y,c)}this.Ci=b;a.preventDefault()}else jj.j.Qg.call(this,a)}Md()}else jj.j.Qg.call(this,a)};
g.lk=function(a){if(Rd(a)&&!this.Ta()){var b=Od(a);this.kc[b]&&delete this.kc[b];2>Object.keys(this.kc).length&&(this.kc=Object.create(null),this.Ci=0)}!this.wk||this.Ta()?Qd(a)&&!Pd(a)||jj.j.lk.call(this,a):(a.preventDefault(),a.stopPropagation(),this.o())};g.o=function(){jj.j.o.call(this);this.Pn&&K(this.Pn)};function kj(a,b){a.kc[Od(b)]=lj(a,b);var c=Object.keys(a.kc);2==c.length&&(a.pr=pa(a.kc[c[0]],a.kc[c[1]]),a.wk=!0,b.preventDefault())}
function lj(a,b){return a.Ua?new q(b.changedTouches?b.changedTouches[0].pageX:b.pageX,b.changedTouches?b.changedTouches[0].pageY:b.pageY):null};function mj(a){this.Wn=a;this.Ah=Object.create(null)}g=mj.prototype;g.jn=null;g.o=function(){this.Ah=this.Wn=null};g.load=function(a,b){if(a.length){try{var c=new Ta.Audio}catch(k){return}for(var d,e=0;e<a.length;e++){var f=a[e],h=f.match(/\.(\w+)$/);if(h&&c.canPlayType("audio/"+h[1])){d=new Ta.Audio(f);break}}d&&d.play&&(this.Ah[b]=d)}};g.preload=function(){for(var a in this.Ah){var b=this.Ah[a];b.volume=.01;var c=b.play();void 0!==c?c.then(b.pause).catch(function(){}):b.pause();if(rb||tb)break}};
g.play=function(a,b){var c=this.Ah[a];c?(a=new Date,null!=this.jn&&100>a-this.jn||(this.jn=a,c=rb||qb?c:c.cloneNode(),c.volume=void 0===b?1:b,c.play())):this.Wn&&this.Wn.Ge.play(a,b)};function nj(a,b,c){nj.j.constructor.call(this,a);this.Xb=new (Sa(Pa,a,!0))(this);this.rc=a.rc||this.Xb.rc.bind(this.Xb);this.Ni=a.Ni||oj;this.ad=new ye;var d=[];d[1]=new Xi;d[2]=new Xi;d[3]=new Xi;d[4]=new Xi;this.Sj=d;b&&(this.jc=b);c&&(this.lg=c);this.tl=!!this.lg&&Mb();this.Ge=new mj(a.Oa);this.Nc=this.options.Pm?new ki(this.options.Pm,a.$p):null;this.kd=new gh(this);this.Ho=Object.create(null);this.Tp=Object.create(null);pj&&qj&&rj(this,"VARIABLE",qj);sj&&tj&&(rj(this,"PROCEDURE",tj),cg(this,
uj));this.ib=this.options.Oa?this.options.Oa.ib:new hj(this);this.ib.Yi.push(this);c=this.options.Hi||"geras";a=this.$d();b=this.options.Ii;c=new (Ra(Ka,c))(c);c.F(a,b);this.ya=c;this.Ul=null;this.Yg=!1;this.ej=[];this.nm=[];this.Tl=new hb(0,0)}B(nj,Sc);g=nj.prototype;g.al=null;g.I=!0;g.vc=!0;g.jd=!1;g.li=!1;g.no=!0;g.scrollX=0;g.scrollY=0;g.Np=null;g.scale=1;g.Gn=1;g.Pq=0;g.Mq=0;g.nh=null;g.ma=null;g.L=null;g.za=null;g.Eb=null;g.jc=null;g.lg=null;g.tl=!1;g.qk=!1;g.Zm=null;g.wq=null;g.W=null;
g.oq=null;g.$m=!0;g.ue=function(a){this.kd.ue(a)};g.tf=function(a){this.kd.tf(a)};g.ci=function(a){return this.kd?this.kd.ci(a):null};g.Mg=function(){return this.kd?this.kd.Mg():null};g.$d=function(){return this.ib.$d()};g.Ri=function(a){a||(a=Ff);this.ib.Ri(a)};g.eh=function(){this.B&&this.ya.io(this.B,this.$d());vj(Rf(this).filter(function(b){return!!b.cg}));wj(this);this.za&&this.za.eh();this.isVisible()&&this.na(!0);var a=new (A("theme_change"))(this.$d().name,this.id);x(a)};
function vj(a){for(var b=0,c;c=a[b];b++){var d=c.cg;if(d&&(c.ye(d),c.xb)){var e=c.xb.g;if(e&&Rf(e)){var f=Rf(e);for(d=0;c=f[d];d++)c.ye(c.cg);if(c=e.qc())for(e=Rf(c.g),d=0;c=e[d];d++)c.ye(c.cg)}}}}function xf(a){if(a.$m){var b=L(a).getScreenCTM();b&&(a.oq=b.inverse(),a.$m=!1)}return a.oq}g.ij=function(){this.$m=!0};g.isVisible=function(){return this.vc};
function af(a,b){var c=0,d=0,e=1;if(a.Da.contains(b)||a.Ae.contains(b))e=a.scale;do{var f=Ab(b);if(b==a.Da||b==a.Ae)e=1;c+=f.x*e;d+=f.y*e;b=b.parentNode}while(b&&b!=L(a));return new q(c,d)}function fj(a){a=a.Tl;return new hb(a.width,a.height)}function ij(a){if(!a.Zm)for(var b=a.B;b;){if(-1!=(" "+(b.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){a.Zm=b;break}b=b.parentNode}return a.Zm}
g.Fa=function(a){this.B=E(qc,{"class":"blocklyWorkspace"},null);a&&(this.zb=E(wc,{height:"100%",width:"100%","class":a},this.B),"blocklyMainBackground"==a&&this.Nc?this.zb.style.fill="url(#"+this.Nc.Pg.id+")":this.ib.subscribe(this.zb,"workspaceBackgroundColour","fill"));this.Da=E(qc,{"class":"blocklyBlockCanvas"},this.B);this.Ae=E(qc,{"class":"blocklyBubbleCanvas"},this.B);this.jd||(J(this.B,"mousedown",this,this.ff,!1,!0),J(this.B,"wheel",this,this.Tt));this.options.aq&&(this.za=new (Sa(La,this.options,
!0))(this));this.Nc&&this.Nc.update(this.scale);xj(this);var b=Sa(Ha,this.options);b&&(a=this.kd,b=new b,a.Hc&&a.Hc.Jc&&a.Hc.Jc.o(),a.Hc=b,a.Hc&&(b=a.Hc,b=new yj(a.g,a.g.ya.G(),b),a.Hc.Jc=b,a.ue(a.Hc.Jc.Fa())));this.ya.Fa(this.B,this.$d());return this.B};
g.o=function(){this.I=!1;this.Eb&&this.Eb.cancel();this.B&&(G(this.B),this.B=null);this.Ae=this.Da=null;this.za&&(this.za.o(),this.za=null);this.L&&(this.L.o(),this.L=null);this.nh&&(this.nh.o(),this.nh=null);this.ma&&(this.ma.o(),this.ma=null);this.oj&&(this.oj.o(),this.oj=null);this.Ge&&(this.Ge.o(),this.Ge=null);this.Nc&&(this.Nc.o(),this.Nc=null);this.ya.o();this.kd&&(this.kd.o(),this.kd=null);nj.j.o.call(this);if(this.ib){var a=this.ib,b=a.Yi.indexOf(this);if(0>b)throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.");
a.Yi.splice(b,1);this.ib.unsubscribe(this.zb);this.options.Oa||(this.ib.o(),this.ib=null)}this.Tp=this.Ho=this.Sj=null;this.options.Oa||(a=L(this))&&a.parentNode&&G(a.parentNode);this.al&&(K(this.al),this.al=null)};g.$g=function(a,b){return new S(this,a,b)};
function zj(a,b){var c=new Lf({parentWorkspace:a,rtl:a.s,oneBasedIndex:a.options.yi,renderer:a.options.Hi,rendererOverrides:a.options.Ii,move:{scrollbars:!0}});c.Wa=a.options.Wa;a.L=new (Sa(Oa,a.options,!0))(c);a.L.He=!1;a.L.g.na(!0);return a.L.Fa(b)}g.qc=function(a){return this.L||a?this.L:this.za?this.za.qc():null};function Wc(a){a.no&&a.I&&(a.ma&&a.ma.resize(),a.ij())}
g.resize=function(){this.za&&this.za.position();this.L&&this.L.position();var a=De(this.ad,Fe);var b=this.Xb;b={Ir:qg(b),Jl:ej(b),qu:dj(b)};for(var c=[],d=0,e;e=a[d];d++)e.position(b,c),(e=e.ai())&&c.push(e);this.ma&&this.ma.resize();this.ij();xj(this)};function Vg(a){var b=document.documentElement;var c=window;b=lb&&c.pageYOffset!=b.scrollTop?new q(b.scrollLeft,b.scrollTop):new q(c.pageXOffset||b.scrollLeft,c.pageYOffset||b.scrollTop);oa(a.wq,b)||(a.wq=b,a.ij(),xj(a))}
function Aj(a,b,c){L(a);b&&(a.Tl.width=b);c&&(a.Tl.height=c)}function L(a){if(!a.Ul)for(var b=a.B;b;){if("svg"==b.tagName){a.Ul=b;break}b=b.parentNode}return a.Ul}function gf(a){if(0==w){var b=a.scale,c=-a.scrollY,d=-a.scrollX;if(!(b==a.Gn&&1>Math.abs(c-a.Pq)&&1>Math.abs(d-a.Mq))){var e=new (A("viewport_change"))(c,d,b,a.id,a.Gn);a.Gn=b;a.Pq=c;a.Mq=d;x(e)}}}
g.translate=function(a,b){if(this.tl&&this.qk)this.lg.fg(a,b);else{var c="translate("+a+","+b+") scale("+this.scale+")";this.Da.setAttribute("transform",c);this.Ae.setAttribute("transform",c)}if(this.jc){c=this.jc;var d=this.scale;c.qf=d;var e=a.toFixed(0),f=b.toFixed(0);c.xp.x=parseInt(e,10);c.xp.y=parseInt(f,10);c.wd.setAttribute("transform","translate("+e+","+f+") scale("+d+")")}this.Nc&&this.Nc.moveTo(a,b);gf(this)};
function zf(a){if(a.tl){a.qk=!1;var b=a.lg.Lm();a.lg.Lj(a.B);b="translate("+b.x+","+b.y+") scale("+a.scale+")";a.Da.setAttribute("transform",b);a.Ae.setAttribute("transform",b)}}
function yf(a){if(a.tl&&!a.qk){a.qk=!0;var b=a.Da.previousSibling,c=parseInt(L(a).getAttribute("width"),10),d=parseInt(L(a).getAttribute("height"),10),e=Ab(a.Da),f=a.lg,h=a.Da,k=a.Ae,m=a.scale;if(f.ra.childNodes.length)throw Error("Already dragging a block.");f.co=b;h.setAttribute("transform","translate(0, 0) scale("+m+")");k.setAttribute("transform","translate(0, 0) scale("+m+")");f.ra.setAttribute("width",c);f.ra.setAttribute("height",d);f.ra.appendChild(h);f.ra.appendChild(k);f.ra.style.display=
"block";a.lg.fg(e.x,e.y)}}g.ee=function(){var a=this.rc();return a?a.Cb/this.scale:0};g.na=function(a){this.vc=a;if(this.B)if(this.ma&&this.ma.$f(a),this.qc()&&this.qc().$f(a),L(this).style.display=a?"block":"none",this.za&&this.za.na(a),a){a=Rf(this);for(var b=a.length-1;0<=b;b--)a[b].ni();this.P();this.za&&this.za.position()}else Af(!0)};g.P=function(){for(var a=Rf(this),b=a.length-1;0<=b;b--)a[b].P(!1);if(this.Eb)for(a=this.Eb.Ng(),b=0;b<a.length;b++)a[b].P(!1);b=this.kd;b.g.Yg&&b.Ud&&b.g.Mg().dd()};
function Bj(a){var b=Cj;if(a.I&&b.tagName&&!(b.getElementsByTagName("block").length>=Zf(a)))if(a.Eb&&a.Eb.cancel(),"comment"==b.tagName.toLowerCase()){w++;try{var c=la.Zu.gk(b),d=parseInt(b.getAttribute("x"),10),e=parseInt(b.getAttribute("y"),10);isNaN(d)||isNaN(e)||(a.s&&(d=-d),c.moveBy(d+50,e+50))}finally{w--}0==w&&la.Yu.dv(c);c.select()}else{w++;try{var f=Rc(b,a),h=parseInt(b.getAttribute("x"),10),k=parseInt(b.getAttribute("y"),10);if(!isNaN(h)&&!isNaN(k)){a.s&&(h=-h);do{b=!1;var m=Rf(a);c=0;for(var n;n=
m[c];c++){var p=n.ga();if(1>=Math.abs(h-p.x)&&1>=Math.abs(k-p.y)){b=!0;break}}if(!b){var t=f.fd(!1);c=0;for(var y;y=t[c];c++)if(y.closest(28,new q(h,k)).connection){b=!0;break}}b&&(h=a.s?h-28:h+28,k+=56)}while(b);f.moveBy(h,k)}}finally{w--}0==w&&!f.X&&x(new (A("create"))(f));f.select()}}function wj(a){(a=a.jd?a.W:a)&&!a.Eb&&a.za&&a.za.qc()&&(a=a.za,a.fb&&a.fb.le()&&a.fb.Lg.length&&a.L.show(a.fb.Lg))}g.nf=function(a,b){nj.j.nf.call(this,a,b);wj(this)};g.Xd=function(a){nj.j.Xd.call(this,a);wj(this)};
g.bd=function(a,b,c){a=nj.j.bd.call(this,a,b,c);wj(this);return a};function xj(a){var b=De(a.ad,Ge);a.nm=[];for(var c=0,d;d=b[c];c++){var e=d.Hm();e&&a.nm.push({component:d,Vs:e})}}function Xe(a,b){for(var c=0,d;d=a.nm[c];c++)if(d.Vs.contains(b.clientX,b.clientY))return d.component;return null}g.ff=function(a){var b=this.Se(a);b&&Zg(b,a,this)};g.Wi=function(a,b){a=Fb(a,L(this),xf(this));a.x/=this.scale;a.y/=this.scale;this.Np=qa(b,a)};g.Ta=function(){return null!=this.Eb&&this.Eb.Ta()};
g.mb=function(){return this.options.Gb&&!!this.options.Gb.scrollbars||this.options.Gb&&this.options.Gb.oh||this.options.Gb&&this.options.Gb.Zd||this.options.Ha&&this.options.Ha.oh||this.options.Ha&&this.options.Ha.Zq};function Pg(a){var b=!!a.ma;return a.mb()&&(!b||b&&!!a.ma.sa)}function Qg(a){var b=!!a.ma;return a.mb()&&(!b||b&&!!a.ma.oa)}
g.Tt=function(a){if(ch())a.preventDefault(),a.stopPropagation();else{var b=this.options.Ha&&this.options.Ha.oh,c=this.options.Gb&&this.options.Gb.oh;if(b||c){var d=Gb(a);!b||!a.ctrlKey&&c?(b=this.scrollX-d.x,c=this.scrollY-d.y,a.shiftKey&&!d.x&&(b=this.scrollX-d.y,c=this.scrollY),this.scroll(b,c)):(d=-d.y/50,b=Fb(a,L(this),xf(this)),this.zoom(b.x,b.y,d));a.preventDefault()}}};g.Si=function(a){if(!this.options.readOnly&&!this.jd){var b=xi("workspace",{h:this});this.Ws&&this.Ws(b,a);ui.show(a,b,this.s)}};
function oe(a){if(a.options.Oa)oe(a.options.Oa);else{ie=a;document.activeElement&&document.activeElement.blur&&document.activeElement.blur();try{L(a).focus({preventScroll:!0})}catch(b){try{L(a).parentNode.setActive()}catch(c){L(a).parentNode.focus({preventScroll:!0})}}}}
g.zoom=function(a,b,c){c=Math.pow(this.options.Ha.bu,c);var d=this.scale*c;if(this.scale!=d){d>this.options.Ha.pi?c=this.options.Ha.pi/this.scale:d<this.options.Ha.si&&(c=this.options.Ha.si/this.scale);var e=this.Da.getCTM(),f=L(this).createSVGPoint();f.x=a;f.y=b;f=f.matrixTransform(e.inverse());a=f.x;b=f.y;e=e.translate(a*(1-c),b*(1-c)).scale(c);this.scrollX=e.e;this.scrollY=e.f;this.setScale(d)}};
g.setScale=function(a){this.options.Ha.pi&&a>this.options.Ha.pi?a=this.options.Ha.pi:this.options.Ha.si&&a<this.options.Ha.si&&(a=this.options.Ha.si);this.scale=a;Af(!1);this.L&&(this.L.ho(),xj(this));this.Nc&&this.Nc.update(this.scale);a=this.rc();this.scrollX-=a.Lb;this.scrollY-=a.ac;a.Yc+=a.Lb;a.Zc+=a.ac;this.scroll(this.scrollX,this.scrollY);if(this.ma)if(this.L){var b=this.ma;b.sa&&sf(b.sa,a);b.oa&&uf(b.oa,a)}else b=this.ma,b.sa&&tf(b.sa,a),b.oa&&vf(b.oa,a)};
function Dj(a){return a.options.Oa?Dj(a.options.Oa):a.scale}g.scroll=function(a,b){Af(!0);var c=this.rc();a=Math.min(a,-c.scrollLeft);b=Math.min(b,-c.scrollTop);var d=c.scrollTop+Math.max(0,c.scrollHeight-c.Bb);a=Math.max(a,-(c.scrollLeft+Math.max(0,c.scrollWidth-c.Cb)));b=Math.max(b,-d);this.scrollX=a;this.scrollY=b;this.ma&&this.ma.set(-(a+c.scrollLeft),-(b+c.scrollTop),!1);a+=c.Lb;b+=c.ac;this.translate(a,b)};
function oj(a){var b=this.rc();"number"==typeof a.x&&(this.scrollX=-(b.scrollLeft+(b.scrollWidth-b.Cb)*a.x));"number"==typeof a.y&&(this.scrollY=-(b.scrollTop+(b.scrollHeight-b.Bb)*a.y));this.translate(this.scrollX+b.Lb,this.scrollY+b.ac)}g.pc=function(a){return nj.j.pc.call(this,a)};g.$a=function(a){return nj.j.$a.call(this,a)};g.Fj=function(a){this.ej.push(a);nj.j.Fj.call(this,a)};g.Zk=function(a){Pb(this.ej,a);nj.j.Zk.call(this,a)};g.Hb=function(a){var b=!this.no&&a;this.no=a;b&&Wc(this)};
g.clear=function(){this.Hb(!1);nj.j.clear.call(this);this.ej=[];this.Hb(!0)};function Ej(a,b){if("function"!=typeof b)throw TypeError("Button callbacks must be functions.");a.Tp.CREATE_VARIABLE=b}function rj(a,b,c){if("function"!=typeof c)throw TypeError("Toolbox category callbacks must be functions.");a.Ho[b]=c}
g.Se=function(a){var b="mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type,c=this.Eb;return c?b&&c.Jf?(console.warn("Tried to start the same gesture twice."),c.cancel(),null):c:b?this.Eb=new jj(a,this):null};function Ti(a){a.Eb&&a.Eb.cancel()};function Fj(a){var b="blockly";"string"==typeof b&&(b=document.getElementById(b)||document.querySelector(b));if(!document.contains(b))throw Error("Error: container is not in current document");a=new Lf(a||{});var c=document.createElement("div");c.className="injectionDiv";c.tabIndex=0;mi(c,"label",v.WORKSPACE_ARIA_LABEL);b.appendChild(c);b=Gj(c,a);var d=new gi(c),e=new ni(c),f=Hj(b,a,d,e);Ij(f);ie=f;Jj(f);c.addEventListener("focusin",function(){ie=f});return f}
function Gj(a,b){a.setAttribute("dir","LTR");var c=b.vt,d=b.zi;if(!hi){hi=!0;var e=ji.join("\n");ji.length=0;c&&(c=d.replace(/[\\/]$/,""),e=e.replace(/<<<PATH>>>/g,c),c=document.createElement("style"),c.id="blockly-common-style",c.appendChild(document.createTextNode(e)),document.head.insertBefore(c,document.head.firstChild))}a=E(xc,{xmlns:"http://www.w3.org/2000/svg","xmlns:html":"http://www.w3.org/1999/xhtml","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1","class":"blocklySvg",tabindex:"0"},
a);c=E(jc,{},a);e=b.$p;c=E(uc,{id:"blocklyGridPattern"+String(Math.random()).substring(2),patternUnits:"userSpaceOnUse"},c);0<e.length&&0<e.spacing?(E(sc,{stroke:e.colour},c),1<e.length&&E(sc,{stroke:e.colour},c)):E(sc,{},c);b.Pm=c;return a}
function Hj(a,b,c,d){b.Oa=null;b=new nj(b,c,d);c=b.options;b.scale=c.Ha.mu;a.appendChild(b.Fa("blocklyMainBackground"));F(ij(b),b.ya.ed());F(ij(b),b.$d().ed());!c.aq&&c.Dd&&(d=zj(b,xc),Fc(d,a));if(c.eq){if(!Kj)throw Error("Missing require for Blockly.Trashcan");b.nh=new Kj(b);d=b.nh.Fa();b.B.insertBefore(d,b.Da)}if(c.Ha&&c.Ha.controls){if(!la.Os)throw Error("Missing require for Blockly.ZoomControls");b.oj=new la.Os(b);c=b.oj.Fa();b.B.appendChild(c)}b.ib.subscribe(a,"workspaceBackgroundColour","background-color");
b.translate(0,0);cg(b,Lj(b));Jj(b);hh||(hh=document.createElement("div"),hh.className="blocklyWidgetDiv",(fe||document.body).appendChild(hh));ee();Fg||(Fg=document.createElement("div"),Fg.className="blocklyTooltipDiv",(fe||document.body).appendChild(Fg));return b}function Mj(a){var b=a.Xb;if(!(Pg(b.g)&&Qg(b.g)||a.Ta())){b=b.Ue(!0);for(var c=[].concat(a.ej),d=0,e;e=c[d];d++)cf(a,b,e)}}
function Lj(a){return function(b){var c=a.Xb;if(!(Pg(c.g)&&Qg(c.g)||a.Ta()))if(-1!==Vb.indexOf(b.type)){c=c.Ue(!0);var d=null;switch(b.type){case "create":case "move":(d=a.pc(b.ka))&&(d=d.gd())}if(d){var e=Tb;z(b.group);cf(a,c,d)&&!b.group&&console.warn("Moved object in bounds but there was no event group. This may break undo.");null!==e&&z(e)}}else"viewport_change"===b.type&&b.scale>b.wi&&Mj(a)}}
function cf(a,b,c){var d=c.ai(),e=Vd(b.top,d.top,b.top+b.height-(d.bottom-d.top))-d.top,f=b.left;b=b.left+b.width-(d.right-d.left);a.s?f=Math.min(b,f):b=Math.max(f,b);return(a=Vd(f,d.left,b)-d.left)||e?(c.moveBy(a,e),!0):!1}
function Ij(a){var b=a.options,c=L(a);J(c.parentNode,"contextmenu",null,function(e){zb(e)||e.preventDefault()});c=J(window,"resize",null,function(){Af(!0);Jj(a);Mj(a)});a.al=c;Nj();if(b.Dd){c=a.za;var d=a.qc(!0);c?c.F():d&&(d.F(a),d.show(b.Dd),"function"==typeof d.qo&&d.qo())}b.eq&&a.nh.F();b.Ha&&b.Ha.controls&&a.oj.F();b.Gb&&b.Gb.scrollbars?(a.ma=new df(a,!0===b.Gb.scrollbars||!!b.Gb.scrollbars.Tm,!0===b.Gb.scrollbars||!!b.Gb.scrollbars.vertical,"blocklyMainWorkspaceScrollbar"),a.ma.resize()):a.Ni({x:.5,
y:.5});b.xt&&Oj(b.zi,a)}function Nj(){ma||(J(document,"scroll",null,function(){for(var a=dg(),b=0,c;c=a[b];b++)c.ij&&c.ij()}),J(document,"keydown",null,Pj),Td(document,"touchend",null,Md),Td(document,"touchcancel",null,Md),rb&&J(window,"orientationchange",document,function(){Jj(ie)}));ma=!0}
function Oj(a,b){function c(){for(;e.length;)K(e.pop());d.preload()}var d=b.Ge;d.load([a+"click.mp3",a+"click.wav",a+"click.ogg"],"click");d.load([a+"disconnect.wav",a+"disconnect.mp3",a+"disconnect.ogg"],"disconnect");d.load([a+"delete.mp3",a+"delete.ogg",a+"delete.wav"],"delete");var e=[];e.push(J(document,"mousemove",null,c,!0));e.push(J(document,"touchstart",null,c,!0))};function $h(a){this.Gr="";this.lr=Object.create(null);if(a){a=a.split(",");for(var b=0;b<a.length;b++)this.lr[a[b]]=!0}this.reset()}var di="DEVELOPER_VARIABLE";$h.prototype.reset=function(){this.td=Object.create(null);this.Fp=Object.create(null);this.Y=null};$h.prototype.zo=function(a){this.Y=a};
$h.prototype.Fb=function(a,b){var c=a;"VARIABLE"==b&&(this.Y?a=(a=this.Y.hd(a))?a.name:null:(console.warn("Deprecated call to Blockly.Names.prototype.getName without defining a variable map. To fix, add the following code in your generator's init() function:\nBlockly.YourGeneratorName.nameDB_.setVariableMap(workspace.getVariableMap());"),a=null),a&&(c=a));a=c.toLowerCase();var d="VARIABLE"==b||b==di?this.Gr:"";b in this.td||(this.td[b]=Object.create(null));var e=this.td[b];if(a in e)return d+e[a];
b=Zh(this,c,b);e[a]=b.substr(d.length);return b};function Zh(a,b,c){b?(b=encodeURI(b.replace(/ /g,"_")).replace(/[^\w]/g,"_"),-1!="0123456789".indexOf(b[0])&&(b="my_"+b)):b=v.UNNAMED_KEY||"unnamed";for(var d="";a.Fp[b+d]||b+d in a.lr;)d=d?d+1:2;b+=d;a.Fp[b]=!0;return("VARIABLE"==c||c==di?a.Gr:"")+b}function Xf(a,b){return a.toLowerCase()==b.toLowerCase()};var sj={};function bi(a){var b=Yf(a,"procedures_defnoreturn").map(function(c){return c.Te()});a=Yf(a,"procedures_defreturn").map(function(c){return c.Te()});b.sort(Qj);a.sort(Qj);return[b,a]}function Qj(a,b){return a[0].localeCompare(b[0],void 0,{sensitivity:"base"})}function Rj(a,b){if(b.Ba)return a;for(a=a||v.UNNAMED_KEY||"unnamed";Sj(a,b.h,b);){var c=a.match(/^(.*?)(\d+)$/);a=c?c[1]+(parseInt(c[2],10)+1):a+"2"}return a}
function Sj(a,b,c){b=Rf(b);for(var d=0;d<b.length;d++)if(b[d]!=c&&b[d].Te){var e=b[d].Te();if(Xf(e[0],a))return!0}return!1}function Tj(a){a=a.trim();var b=Rj(a,this.C()),c=this.kb();if(c!=a&&c!=b){a=Rf(this.C().h);for(var d=0;d<a.length;d++)a[d].fh&&a[d].fh(c,b)}return b}
function tj(a){function b(f,h){for(var k=0;k<f.length;k++){var m=f[k][0],n=f[k][1],p=C("block");p.setAttribute("type",h);p.setAttribute("gap",16);var t=C("mutation");t.setAttribute("name",m);p.appendChild(t);for(m=0;m<n.length;m++){var y=C("arg");y.setAttribute("name",n[m]);t.appendChild(y)}c.push(p)}}var c=[];if(r.procedures_defnoreturn){var d=C("block");d.setAttribute("type","procedures_defnoreturn");d.setAttribute("gap",16);var e=C("field");e.setAttribute("name","NAME");e.appendChild(document.createTextNode(v.PROCEDURES_DEFNORETURN_PROCEDURE));
d.appendChild(e);c.push(d)}r.procedures_defreturn&&(d=C("block"),d.setAttribute("type","procedures_defreturn"),d.setAttribute("gap",16),e=C("field"),e.setAttribute("name","NAME"),e.appendChild(document.createTextNode(v.PROCEDURES_DEFRETURN_PROCEDURE)),d.appendChild(e),c.push(d));r.procedures_ifreturn&&(d=C("block"),d.setAttribute("type","procedures_ifreturn"),d.setAttribute("gap",16),c.push(d));c.length&&c[c.length-1].setAttribute("gap",24);a=bi(a);b(a[0],"procedures_callnoreturn");b(a[1],"procedures_callreturn");
return c}
function Uj(a){for(var b=[],c=Yf(a,"procedures_mutatorarg"),d=0,e;e=c[d];d++)b.push(I(e,"NAME"));c=C("xml");d=C("block");d.setAttribute("type","procedures_mutatorarg");e=C("field");e.setAttribute("name","NAME");e.appendChild(document.createTextNode(Vj("x",b)));d.appendChild(e);c.appendChild(d);if(b=Gf(c)){if(!a.options.Dd)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(Kf(b)){if(!a.za)throw Error("Existing toolbox has no categories.  Can't change mode.");a.options.Dd=b;a.za.P(b)}else{if(!a.L)throw Error("Existing toolbox has categories.  Can't change mode.");
a.options.Dd=b;a.L.show(b)}}else if(a.options.Dd)throw Error("Can't nullify an existing toolbox.");}function uj(a){if("bubble_open"==a.type&&"mutator"===a.Sl&&a.Wg){a=(Zb[a.Db]||null).pc(a.ka);var b=a.type;if("procedures_defnoreturn"==b||"procedures_defreturn"==b)a=a.xb.g,Uj(a),cg(a,Wj)}}function Wj(a){"create"!=a.type&&"delete"!=a.type&&"change"!=a.type||Uj(Zb[a.Db]||null)}
function Xj(a){var b=Ub,c=a.Te()[0],d=a.wa(!0),e=[];a=Rf(a.h);for(var f=0;f<a.length;f++)if(a[f].tc){var h=a[f].tc();h&&Xf(h,c)&&e.push(a[f])}for(c=0;a=e[c];c++)f=(f=a.wa())&&Oc(f),a.Za(d),h=(h=a.wa())&&Oc(h),f!=h&&(Ub=!1,x(new (A("change"))(a,"mutation",null,f,h)),Ub=b)}function Yj(a,b){b=Rf(b);for(var c=0;c<b.length;c++)if(b[c].Te){var d=b[c].Te();if(d&&Xf(d[0],a))return b[c]}return null};function Zj(){ak=this;this.Sc=Object.create(null);this.Xg=Object.create(null)}var ak,bk={Shift:16,Control:17,Alt:18,Meta:91};Zj.prototype.register=function(a,b){if(this.Sc[a.name]&&!b)throw Error('Shortcut with name "'+a.name+'" already exists.');this.Sc[a.name]=a};
Zj.prototype.unregister=function(a){if(!this.Sc[a])return console.warn('Keyboard shortcut with name "'+a+'" not found.'),!1;for(var b in this.Xg){var c=b,d=this.Xg[c],e=d.indexOf(a);-1<e&&(d.splice(e,1),0==d.length&&delete this.Xg[c])}delete this.Sc[a];return!0};function ck(a,b){var c=ak;a=String(a);var d=c.Xg[a];if(d)throw Error('Shortcut with name "'+b+'" collides with shortcuts '+d.toString());c.Xg[a]=[b]}
Zj.prototype.Mn=function(a,b){var c="";for(d in bk)b.getModifierState(d)&&(""!=c&&(c+="+"),c+=d);""!=c&&b.keyCode?c=c+"+"+b.keyCode:b.keyCode&&(c=b.keyCode.toString());c=this.Xg[c]||[];if(!c)return!1;var d=0;for(var e;e=c[d];d++)if(e=this.Sc[e],(!e.Pa||e.Pa(a))&&e.la&&e.la(a,b,e))return!0;return!1};
function dk(a,b){var c="";if(b){for(var d=ec(bk),e=0,f;f=b[e];e++)if(0>d.indexOf(f))throw Error(f+" is not a valid modifier key.");for(var h in bk)-1<b.indexOf(bk[h])&&(""!=c&&(c+="+"),c+=h)}""!=c&&a?c=c+"+"+a:a&&(c=a.toString());return c}new Zj;function Tf(a,b,c,d){this.h=a;this.name=b;this.type=c||"";this.fe=d||Kb();x(new (A("var_create"))(this))}Tf.prototype.T=function(){return this.fe};function ek(a,b){return a.name.localeCompare(b.name,void 0,{sensitivity:"base"})};var pj={};function ai(a){var b=Rf(a);a=Object.create(null);for(var c=0;c<b.length;c++){var d=b[c].ae();if(d)for(var e=0;e<d.length;e++){var f=d[e],h=f.T();h&&(a[h]=f)}}b=[];for(h in a)b.push(a[h]);return b}var ci={};function qj(a){var b=[],c=document.createElement("button");c.setAttribute("text","%{BKY_NEW_VARIABLE}");c.setAttribute("callbackKey","CREATE_VARIABLE");Ej(a,function(d){fk(d.kv())});b.push(c);a=gk(a);return b=b.concat(a)}
function gk(a){a=a.di("");var b=[];if(0<a.length){var c=a[a.length-1];if(r.variables_set){var d=C("block");d.setAttribute("type","variables_set");d.setAttribute("gap",r.math_change?8:24);d.appendChild(hk(c));b.push(d)}r.math_change&&(d=C("block"),d.setAttribute("type","math_change"),d.setAttribute("gap",r.variables_get?20:8),d.appendChild(hk(c)),c=Pc('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),d.appendChild(c),b.push(d));if(r.variables_get){a.sort(ek);
c=0;for(var e;e=a[c];c++)d=C("block"),d.setAttribute("type","variables_get"),d.setAttribute("gap",8),d.appendChild(hk(e)),b.push(d)}}return b}function Vj(a,b){if(!b.length)return a;for(var c="",d="ijkmnopqrstuvwxyzabcdefgh".indexOf(a);;){for(var e=!1,f=0;f<b.length;f++)if(b[f].toLowerCase()==a){e=!0;break}if(!e)return a;d++;25==d&&(d=0,c=Number(c)+1);a="ijkmnopqrstuvwxyzabcdefgh".charAt(d)+c}}
function fk(a){function b(c){ik(v.NEW_VARIABLE_TITLE,c,function(d){if(d){var e=jk(d,a);if(e){if(""==e.type)var f=v.VARIABLE_ALREADY_EXISTS.replace("%1",e.name);else f=v.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,f=f.replace("%1",e.name).replace("%2",e.type);Uf(f,function(){b(d)})}else a.bd(d,"")}})}b("")}
function kk(a,b){function c(d){var e=v.RENAME_VARIABLE_TITLE.replace("%1",b.name);ik(e,d,function(f){if(f){var h=lk(f,b.type,a);h?(h=v.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",h.name).replace("%2",h.type),Uf(h,function(){c(f)})):a.nf(b.T(),f)}})}c("")}function ik(a,b,c){mk(a,b,function(d){d&&(d=d.replace(/[\s\xa0]+/g," ").trim(),d==v.RENAME_VARIABLE||d==v.NEW_VARIABLE)&&(d=null);c(d)})}
function lk(a,b,c){c=c.Y.Gf();a=a.toLowerCase();for(var d=0,e;e=c[d];d++)if(e.name.toLowerCase()==a&&e.type!=b)return e;return null}function jk(a,b){b=b.Y.Gf();a=a.toLowerCase();for(var c=0,d;d=b[c];c++)if(d.name.toLowerCase()==a)return d;return null}function hk(a){var b=C("field");b.setAttribute("name","VAR");b.setAttribute("id",a.T());b.setAttribute("variabletype",a.type);b.appendChild(document.createTextNode(a.name));return b}
function nk(a,b,c,d){var e=ok(a,b,c,d);e||(e=a.kf,c||(c=Vj("i",(a.jd?a.W:a).Em())),e=e?e.bd(c,d,b):a.bd(c,d,b));return e}function ok(a,b,c,d){var e=a.kf,f=null;if(b&&(f=a.hd(b),!f&&e&&(f=e.hd(b)),f))return f;if(c){if(void 0==d)throw Error("Tried to look up a variable by name without a type");f=a.Mc(c,d);!f&&e&&(f=e.Mc(c,d))}return f}function Xc(a,b){a=a.Gf();var c=[];if(b.length!=a.length)for(var d=0;d<a.length;d++){var e=a[d];-1==b.indexOf(e)&&c.push(e)}return c};var ie=null,M=null,Ze=[],Cj=null,pk=null,qk=null,fe=null;function Jj(a){for(;a.options.Oa;)a=a.options.Oa;var b=L(a),c=fj(a),d=b.parentNode;if(d){var e=d.offsetWidth;d=d.offsetHeight;c.width!=e&&(b.setAttribute("width",e+"px"),Aj(a,e,null));c.height!=d&&(b.setAttribute("height",d+"px"),Aj(a,null,d));a.resize()}}function Pj(a){var b=ie;!b||zb(a)||b.I&&!b.isVisible()||ak.Mn(b,a)}function rk(a){a.h.jd||(z(!0),Af(),a.u?a.o(!1,!0):a.o(!0,!0),z(!1))}
function sk(a){if(a.Vg)a=null;else{for(var b=Mc(a,!0),c=0,d;d=b.childNodes[c];c++)if("next"==d.nodeName.toLowerCase()){b.removeChild(d);break}c=a.ga();b.setAttribute("x",a.s?-c.x:c.x);b.setAttribute("y",c.y);a={xml:b,source:a.h,wu:Qb(a,!0)}}a&&(Cj=a.xml,pk=a.source,qk=a.wu)}function tk(){if(!Cj)return!1;var a=pk;a.jd&&(a=a.W);return qk&&$f(a,qk)?(z(!0),Bj(a),z(!1),!0):!1}function Af(a){Mg();nh();ne();var b=!!a;De(ie.ad,He).forEach(function(c){c.pp(b)})}function Uf(a,b){alert(a);b&&b()}
function Vf(a,b){b(confirm(a))}function mk(a,b,c){c(prompt(a,b))}function uk(a){return function(){Kh(this,a)}}function vk(a){for(var b=0;b<a.length;b++){var c=a[b];if(c){var d=c.type;null==d||""===d?console.warn("Block definition #"+b+" in JSON array is missing a type attribute. Skipping."):(r[d]&&console.warn("Block definition #"+b+' in JSON array overwrites prior definition of "'+d+'".'),r[d]={F:uk(c)})}else console.warn("Block definition #"+b+" in JSON array is "+c+". Skipping.")}}
function ei(a){return/^\s*-?\d+(\.\d+)?\s*$/.test(a)};function wk(a,b){for(var c=0,d=0;d<b.length;d++)for(var e=b[d];e;)setTimeout(e.rf.bind(e,a),c),e=Ca(e),c+=10}function xk(a,b){if(a.Oc())Array.prototype.push.apply(b,Rb(a,!1));else{a=Lc(a,!1);for(var c=0;c<a.length;c++)xk(a[c],b)}}function yk(a){var b=[];a=a.$a(!0);for(var c=0;c<a.length;c++)xk(a[c],b);return b}function zk(a,b){z(b);var c=a.shift();c&&(c.h?(c.o(!1,!0),setTimeout(zk,10,a,b)):zk(a,b));z(!1)}
wi.register({Ob:function(){return v.UNDO},Pa:function(a){return 0<a.h.gg.length?"enabled":"disabled"},la:function(a){bg(a.h,!1)},wc:"workspace",id:"undoWorkspace",weight:1});wi.register({Ob:function(){return v.REDO},Pa:function(a){return 0<a.h.Ei.length?"enabled":"disabled"},la:function(a){bg(a.h,!0)},wc:"workspace",id:"redoWorkspace",weight:2});
wi.register({Ob:function(){return v.CLEAN_UP},Pa:function(a){return a.h.mb()?1<a.h.$a(!1).length?"enabled":"disabled":"hidden"},la:function(a){a=a.h;a.Hb(!1);z(!0);for(var b=a.$a(!0),c=0,d=0,e;e=b[d];d++)if(e.mb()){var f=e.ga();e.moveBy(-f.x,c-f.y);Qi(e);c=e.ga().y+Ue(e).height+a.ya.G().sh}z(!1);a.Hb(!0)},wc:"workspace",id:"cleanWorkspace",weight:3});
wi.register({Ob:function(){return v.COLLAPSE_ALL},Pa:function(a){if(a.h.options.collapse){a=a.h.$a(!1);for(var b=0;b<a.length;b++)for(var c=a[b];c;){if(!c.isCollapsed())return"enabled";c=Ca(c)}return"disabled"}return"hidden"},la:function(a){wk(!0,a.h.$a(!0))},wc:"workspace",id:"collapseWorkspace",weight:4});
wi.register({Ob:function(){return v.EXPAND_ALL},Pa:function(a){if(a.h.options.collapse){a=a.h.$a(!1);for(var b=0;b<a.length;b++)for(var c=a[b];c;){if(c.isCollapsed())return"enabled";c=Ca(c)}return"disabled"}return"hidden"},la:function(a){wk(!1,a.h.$a(!0))},wc:"workspace",id:"expandWorkspace",weight:5});
wi.register({Ob:function(a){if(a.h)return a=yk(a.h).length,1==a?v.DELETE_BLOCK:v.DELETE_X_BLOCKS.replace("%1",String(a))},Pa:function(a){if(a.h)return 0<yk(a.h).length?"enabled":"disabled"},la:function(a){if(a.h){Ti(a.h);var b=yk(a.h),c=Kb();2>b.length?zk(b,c):Vf(v.DELETE_ALL_BLOCKS.replace("%1",b.length),function(d){d&&zk(b,c)})}},wc:"workspace",id:"workspaceDelete",weight:6});
wi.register({Ob:function(){return v.DUPLICATE_BLOCK},Pa:function(a){a=a.block;return!a.Ba&&a.Oc()&&a.mb()?(ag(a.h)?$f(a.h,Qb(a,!0)):1)?"enabled":"disabled":"hidden"},la:function(a){if(a.block){a=a.block;var b=Cj,c=pk;sk(a);Bj(a.h);Cj=b;pk=c}},wc:"block",id:"blockDuplicate",weight:1});
wi.register({Ob:function(a){return a.block.Ec?v.REMOVE_COMMENT:v.ADD_COMMENT},Pa:function(a){a=a.block;return lb||a.Ba||!a.h.options.Ih||a.isCollapsed()||!a.Tb()?"hidden":"enabled"},la:function(a){a=a.block;a.Ec?a.Jd(null):a.Jd("")},wc:"block",id:"blockComment",weight:2});
wi.register({Ob:function(a){return Fd(a.block)?v.EXTERNAL_INPUTS:v.INLINE_INPUTS},Pa:function(a){a=a.block;if(!a.Ba&&a.mb()&&!a.isCollapsed())for(var b=1;b<a.A.length;b++)if(3!=a.A[b-1].type&&3!=a.A[b].type)return"enabled";return"hidden"},la:function(a){a.block.Vc(!Fd(a.block))},wc:"block",id:"blockInline",weight:3});
wi.register({Ob:function(a){return a.block.isCollapsed()?v.EXPAND_BLOCK:v.COLLAPSE_BLOCK},Pa:function(a){a=a.block;return!a.Ba&&a.mb()&&a.h.options.collapse?"enabled":"hidden"},la:function(a){a.block.rf(!a.block.isCollapsed())},wc:"block",id:"blockCollapseExpand",weight:4});
wi.register({Ob:function(a){return a.block.isEnabled()?v.DISABLE_BLOCK:v.ENABLE_BLOCK},Pa:function(a){a=a.block;return!a.Ba&&a.h.options.disable&&a.Tb()?Jh(a)?"disabled":"enabled":"hidden"},la:function(a){a=a.block;var b=Tb;b||z(!0);a.Yb(!a.isEnabled());b||z(!1)},wc:"block",id:"blockDisable",weight:5});
wi.register({Ob:function(a){var b=a.block;a=Rb(b,!1).length;(b=Ca(b))&&(a-=Rb(b,!1).length);return 1==a?v.DELETE_BLOCK:v.DELETE_X_BLOCKS.replace("%1",String(a))},Pa:function(a){return!a.block.Ba&&a.block.Oc()?"enabled":"hidden"},la:function(a){z(!0);a.block&&rk(a.block);z(!1)},wc:"block",id:"blockDelete",weight:6});
wi.register({Ob:function(){return v.HELP},Pa:function(a){a=a.block;return("function"==typeof a.vb?a.vb():a.vb)?"enabled":"hidden"},la:function(a){a.block.showHelp()},wc:"block",id:"blockHelp",weight:7});function T(a,b){return" "+a+","+b+" "}function Ak(a,b){return" "+a+b.join("")}function Bk(a,b){return" M "+a+","+b+" "}function Qe(a,b){return" m "+a+","+b+" "}function Ck(a,b){return" l "+a+","+b+" "}function N(a,b){return" "+a+" "+b+" "}function Dk(a,b,c){return"a "+b+" "+b+" "+a+c};function Ek(){this.pd=0;this.Fs=3;this.Cc=5;this.bp=8;this.Kb=10;this.kp=this.Cc;this.Bh=15;this.Ag=5;this.Dj=8;this.zs=15;this.Al=4;this.ys=12;this.Wr=16;this.Vr=this.So=this.Bh;this.ta=8;this.Ks=this.uh=15;this.ip=0;this.jp=20;this.Or=4;this.Ms=this.Cc;this.Ns=this.Kb;this.Qr=this.Cc;this.Pr=this.Kb;this.Qo=!1;this.Hs=15;this.Is=100;this.Gs=15;this.sh=24;this.Yr=14.5;this.Xr=this.Bh+11;this.$r=2;this.Zr=this.sh;this.hp=Qe(0,0);this.ts=12;this.us=6;this.rg=11;this.sg="normal";this.qg="sans-serif";
this.Wo=this.uj=-1;this.tj=4;this.Uo=16;this.pg=5;this.To="#fff";this.yl=!lb&&!mb;this.Vo=this.Uo;this.fs=this.ds=this.xl=!1;this.hs=this.pg;this.rh=12;this.gs="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";
this.js=!1;this.bs=this.pg-3;this.Xk=String(Math.random()).substring(2);this.ck="";this.xm=null;this.Lp="";this.Qh=this.Gp=this.jm=null;this.Ro="#cc0a0a";this.$o="#4286f4";this.rj=100;this.lp=5;this.qj=10;this.Tr=2;this.Ur=4;this.Xo=!1;this.rs="#000000";this.Yo=.2;this.gp={Cs:1,xg:2}}g=Ek.prototype;
g.F=function(){this.tg=this.qn();this.xg=this.rn();this.zg=this.tn();this.Fl=this.sn();var a=this.ta;this.wj={width:a,height:a,Xn:Dk("0 0,0",a,T(-a,a)),Vk:Dk("0 0,0",a,T(a,a))};a=this.ta;this.yh={Io:Qe(0,a)+Dk("0 0,1",a,T(a,-a)),tu:Dk("0 0,1",a,T(a,a)),Ts:Dk("0 0,1",a,T(-a,a)),Rl:Dk("0 0,1",a,T(-a,-a)),au:a}};
g.Ri=function(){this.Hj=Object.create(null);var a=document.createElement("span");a.style.font=this.sg+" "+(this.rg+"pt ")+this.qg;a.textContent="Hg";var b=document.createElement("div");b.style.width="1px";b.style.height=0;var c=document.createElement("div");c.style.display="flex";c.style.position="fixed";c.style.top=0;c.style.left=0;c.appendChild(a);c.appendChild(b);document.body.appendChild(c);try{var d={};c.style.alignItems="baseline";d.$c=b.offsetTop-a.offsetTop;c.style.alignItems="flex-end";d.height=
b.offsetTop-a.offsetTop}finally{document.body.removeChild(c)}a=d;this.uj=a.height;this.Wo=a.$c};function Wi(a,b){var c="auto_"+b;a.Hj[c]||(a.Hj[c]=Fk({colourPrimary:b}));return{style:a.Hj[c],name:c}}function Oi(a,b){return a.Hj[b||""]||(b&&0==b.indexOf("auto_")?Wi(a,b.substring(5)).style:Fk({colourPrimary:"#000000"}))}
function Fk(a){var b={};a&&dc(b,a);a=Sb(b.colourPrimary||"#000");b.Sd=a.gi;b.colourSecondary?a=Sb(b.colourSecondary).gi:(a=b.Sd,a=Za("#fff",a,.6)||a);b.Pj=a;b.colourTertiary?a=Sb(b.colourTertiary).gi:(a=b.Sd,a=Za("#fff",a,.3)||a);b.rd=a;b.zd=b.hat||"";return b}g.o=function(){this.xm&&G(this.xm);this.jm&&G(this.jm);this.Gp&&G(this.Gp);this.Qh=null};g.qn=function(){var a=this.ts,b=this.us;return{height:a,width:b,path:" l"+[T(b,a/4),T(2*-b,a/2),T(b,a/4)].join("")}};
g.tn=function(){var a=this.Hs,b=this.Is;return{height:a,width:b,path:Ak("c",[T(30,-a),T(70,-a),T(b,0)])}};g.sn=function(){function a(f){f=f?-1:1;var h=-f,k=c/2;return Ak("c",[T(0,f*(k+2.5)),T(-b,h*(k+.5)),T(-b,f*k)])+Ak("s",[T(b,2.5*h),T(b,f*k)])}var b=this.Dj,c=this.Bh,d=a(!0),e=a(!1);return{type:this.gp.Cs,width:b,height:c,Rc:e,Ai:d}};
g.rn=function(){function a(h){return" l"+[T(h*d,c),T(3*h,0),T(h*d,-c)].join("")}var b=this.zs,c=this.Al,d=(b-3)/2,e=a(1),f=a(-1);return{type:this.gp.xg,width:b,height:c,jf:e,Xq:f}};function Oe(a,b){switch(b.type){case 1:case 2:return a.Fl;case 4:case 3:return a.xg;default:throw Error("Unknown connection type");}}
g.Fa=function(a,b,c){c=this.Gm(c);b="blockly-renderer-style-"+b;this.Qh=document.getElementById(b);c=c.join("\n");if(this.Qh)this.Qh.firstChild.textContent=c;else{var d=document.createElement("style");d.id=b;d.appendChild(document.createTextNode(c));document.head.insertBefore(d,document.head.firstChild);this.Qh=d}a=E(jc,{},a);b=E(oc,{id:"blocklyEmbossFilter"+this.Xk},a);E(lc,{"in":"SourceAlpha",stdDeviation:1,result:"blur"},b);c=E(nc,{"in":"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,
"lighting-color":"white",result:"specOut"},b);E(mc,{x:-5E3,y:-1E4,z:2E4},c);E(kc,{"in":"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},b);E(kc,{"in":"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},b);this.ck=b.id;this.xm=b;a=E(uc,{id:"blocklyDisabledPattern"+this.Xk,patternUnits:"userSpaceOnUse",width:10,height:10},a);E(wc,{width:10,height:10,fill:"#aaa"},a);E(tc,{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},a);this.Lp=a.id;this.jm=a};
g.Gm=function(a){return[a+" .blocklyText, ",a+" .blocklyFlyoutLabelText {","font: "+this.sg+" "+this.rg+"pt "+this.qg+";","}",a+" .blocklyText {","fill: #fff;","}",a+" .blocklyNonEditableText>rect,",a+" .blocklyEditableText>rect {","fill: "+this.To+";","fill-opacity: .6;","stroke: none;","}",a+" .blocklyNonEditableText>text,",a+" .blocklyEditableText>text {","fill: #000;","}",a+" .blocklyFlyoutLabelText {","fill: #000;","}",a+" .blocklyText.blocklyBubbleText {","fill: #000;","}",a+" .blocklyEditableText:not(.editing):hover>rect {",
"stroke: #fff;","stroke-width: 2;","}",a+" .blocklyHtmlInput {","font-family: "+this.qg+";","font-weight: "+this.sg+";","}",a+" .blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",a+" .blocklyHighlightedConnectionPath {","stroke: #fc3;","}",a+" .blocklyReplaceable .blocklyPath {","fill-opacity: .5;","}",a+" .blocklyReplaceable .blocklyPathLight,",a+" .blocklyReplaceable .blocklyPathDark {","display: none;","}",a+" .blocklyInsertionMarker>.blocklyPath {","fill-opacity: "+this.Yo+
";","stroke: none;","}"]};function Gk(a){this.Fg=this.Z=this.type=this.height=this.width=0;this.i=a;this.Qc=this.i.uh};function Hk(a,b){Hk.j.constructor.call(this,a);this.Mb=b;this.shape=Oe(this.i,b);this.Qf=!!this.shape.isDynamic;this.type|=1024}B(Hk,Gk);function Ik(a,b){Ik.j.constructor.call(this,a,b);this.type|=8192;this.height=this.Qf?0:this.shape.height;this.Wc=this.width=this.Qf?0:this.shape.width;this.mc=this.i.Ag;this.Kh=0}B(Ik,Hk);function Jk(a,b){Jk.j.constructor.call(this,a,b);this.type|=2048;this.height=this.shape.height;this.width=this.shape.width}B(Jk,Hk);
function Kk(a,b){Kk.j.constructor.call(this,a,b);this.type|=4096;this.height=this.shape.height;this.width=this.shape.width}B(Kk,Hk);function Lk(a,b){Lk.j.constructor.call(this,a,b.connection);this.type|=128;this.input=b;this.align=b.align;(this.Oe=b.connection&&b.connection.K()?b.connection.K():null)?(a=Ue(this.Oe),this.Jh=a.width,this.Rj=a.height):this.Rj=this.Jh=0;this.mc=this.Kh=0}B(Lk,Hk);
function Mk(a,b){Mk.j.constructor.call(this,a,b);this.type|=256;this.Oe?(this.width=this.Jh,this.height=this.Rj):(this.height=this.i.Xr,this.width=this.i.Yr);this.Gg=this.Qf?this.shape.height(this.height):this.shape.height;this.sd=this.Qf?this.shape.width(this.height):this.shape.width;this.Oe||(this.width+=this.sd*(this.Qf?2:1));this.mc=this.Qf?this.shape.mc(this.Gg):this.i.Ag;this.Kh=this.Qf?this.shape.Kh(this.sd):0}B(Mk,Lk);
function Nk(a,b){Nk.j.constructor.call(this,a,b);this.type|=512;this.height=this.Oe?this.Rj+this.i.ip:this.i.Zr;this.width=this.i.Ks+this.shape.width}B(Nk,Lk);function Ok(a,b){Ok.j.constructor.call(this,a,b);this.type|=64;this.height=this.Oe?this.Rj-this.i.Ag-this.i.Cc:this.shape.height;this.width=this.shape.width+this.i.$r;this.mc=this.i.Ag;this.Gg=this.shape.height;this.sd=this.shape.width}B(Ok,Lk);function Pk(a,b){Pk.j.constructor.call(this,a);this.icon=b;this.isVisible=b.isVisible();this.type|=4;a=new hb(Qk.prototype.Cj,Qk.prototype.Cj-2);this.height=a.height;this.width=a.width}B(Pk,Gk);function Rk(a){Rk.j.constructor.call(this,a);this.type|=524288;this.height=this.i.tg.height;this.width=this.i.tg.width}B(Rk,Gk);function Sk(a,b){Sk.j.constructor.call(this,a);this.Rp=b;this.Tb=b.sj;this.gt=!1;this.type|=1;a=this.Rp.getSize();this.height=a.height;this.width=a.width}B(Sk,Gk);
function Tk(a){Tk.j.constructor.call(this,a);this.type|=2;this.height=this.i.zg.height;this.width=this.i.zg.width;this.Dg=this.height}B(Tk,Gk);function Uk(a,b){Uk.j.constructor.call(this,a);this.type=(b&&"left"!=b?131072:32768)|16384;this.width=this.height=this.i.pd}B(Uk,Gk);function Vk(a,b){Vk.j.constructor.call(this,a);this.type=(b&&"left"!=b?262144:65536)|16384;this.width=this.i.ta;this.height=this.i.ta/2}B(Vk,Gk);
function Wk(a,b){Wk.j.constructor.call(this,a);this.type|=40;this.width=b;this.height=this.i.Gs}B(Wk,Gk);function Xk(a){this.type=1048576;this.elements=[];this.Z=this.jb=this.nd=this.minWidth=this.minHeight=this.width=this.height=0;this.bq=this.Rg=this.Qm=this.ab=this.We=!1;this.i=a;this.Qc=this.i.uh;this.align=null}Xk.prototype.measure=function(){throw Error("Unexpected attempt to measure a base Row.");};function Yk(a){for(var b=a.elements.length-1,c;c=a.elements[b];b--)if(c.type&128)return c;return null}Xk.prototype.ll=function(){return!0};Xk.prototype.Wh=function(){return!0};
function Zk(a){Zk.j.constructor.call(this,a);this.type|=2097152;this.Dg=this.Qd=0;this.wt=!1;this.connection=null}B(Zk,Xk);Zk.prototype.Rm=function(a){var b=(a.zd?"cap"===a.zd:this.i.Qo)&&!a.u&&!a.H,c=a.H&&a.H.K();return!!a.u||b||(c?Ca(c)==a:!1)};
Zk.prototype.measure=function(){for(var a=0,b=0,c=0,d=0,e;e=this.elements[d];d++)b+=e.width,e.type&8||(e.type&2?c=Math.max(c,e.Dg):a=Math.max(a,e.height));this.width=Math.max(this.minWidth,b);this.height=Math.max(this.minHeight,a)+c;this.Qd=this.Dg=c;this.nd=this.width};Zk.prototype.ll=function(){return!1};Zk.prototype.Wh=function(){return!1};function $k(a){$k.j.constructor.call(this,a);this.type|=4194304;this.cq=!1;this.connection=null;this.$c=this.Sh=0}B($k,Xk);
$k.prototype.Rm=function(a){return!!a.u||!!Ca(a)};$k.prototype.measure=function(){for(var a=0,b=0,c=0,d=0,e;e=this.elements[d];d++)b+=e.width,e.type&8||(e.type&4096?c=Math.max(c,e.height):a=Math.max(a,e.height));this.width=Math.max(this.minWidth,b);this.height=Math.max(this.minHeight,a)+c;this.Sh=c;this.nd=this.width};$k.prototype.ll=function(){return!1};$k.prototype.Wh=function(){return!1};
function al(a,b,c){al.j.constructor.call(this,a);this.type|=24;this.width=c;this.height=b;this.Vp=!1;this.nd=0;this.elements=[new Wk(this.i,c)]}B(al,Xk);al.prototype.measure=function(){};function bl(a){bl.j.constructor.call(this,a);this.type|=8388608;this.Cp=0}B(bl,Xk);
bl.prototype.measure=function(){this.width=this.minWidth;this.height=this.minHeight;for(var a=0,b=0,c;c=this.elements[b];b++)this.width+=c.width,c.type&128&&(c.type&512?a+=c.Jh:c.type&64&&0!=c.Jh&&(a+=c.Jh-c.sd)),c.type&8||(this.height=Math.max(this.height,c.height));this.Cp=a;this.nd=this.width+a};bl.prototype.Wh=function(){return!this.We&&!this.ab};function cl(a,b){this.v=b;this.ya=a;this.i=this.ya.G();this.u=b.u?new Ik(this.i,b.u):null;this.Ug=Fd(b)&&!b.isCollapsed();this.isCollapsed=b.isCollapsed();this.Ub=b.Ub();this.s=b.s;this.uf=this.width=this.ph=this.height=0;this.rows=[];this.mq=[];this.gq=[];this.cb=new Zk(this.i);this.Aa=new $k(this.i);this.kl=this.Wc=0}g=cl.prototype;
g.measure=function(){var a=!!this.v.H,b=(this.v.zd?"cap"===this.v.zd:this.i.Qo)&&!this.u&&!a,c=this.cb.Rm(this.v)?Uk:Vk;this.cb.elements.push(new c(this.i));b?(a=new Tk(this.i),this.cb.elements.push(a),this.cb.Qd=a.Dg):a&&(this.cb.wt=!0,this.cb.connection=new Jk(this.i,this.v.H),this.cb.elements.push(this.cb.connection));this.v.A.length&&3==this.v.A[0].type&&!this.v.isCollapsed()?this.cb.minHeight=this.i.Ns:this.cb.minHeight=this.i.Ms;c=Uk;this.cb.elements.push(new c(this.i,"right"));this.rows.push(this.cb);
a=new bl(this.i);this.mq.push(a);c=Se(this.v);b=0;for(var d;d=c[b];b++){var e=new Pk(this.i,d);this.isCollapsed&&d.Ap?this.gq.push(e):a.elements.push(e)}d=null;for(b=0;c=this.v.A[b];b++)if(c.isVisible()){!d||3!=c.type&&3!=d.type&&(1!=c.type&&5!=c.type||this.Ug)||(this.rows.push(a),a=new bl(this.i),this.mq.push(a));for(d=0;e=c.ba[d];d++)a.elements.push(new Sk(this.i,e,c));this.op(c,a);d=c}this.isCollapsed&&(a.bq=!0,a.elements.push(new Rk(this.i)));(a.elements.length||a.Rg)&&this.rows.push(a);this.$n();
this.rows.push(this.Aa);this.np();a=this.rows;this.rows=[];for(b=0;b<a.length;b++)if(this.rows.push(a[b]),b!=a.length-1){c=this.rows;d=c.push;e=a[b];var f=a[b+1],h=new al(this.i,this.Xp(e,f),this.width-this.Wc);e.ab&&(h.Vp=!0);f.ab&&(h.tv=!0);d.call(c,h)}for(d=c=b=a=0;e=this.rows[d];d++)e.measure(),b=Math.max(b,e.width),e.ab&&(a=Math.max(a,e.width-Yk(e).width)),c=Math.max(c,e.nd);this.uf=a;this.width=b;for(d=0;e=this.rows[d];d++)e.ab&&(e.uf=this.uf);this.ph=Math.max(b,c);this.u&&(this.Wc=this.u.width,
this.width+=this.u.width,this.ph+=this.u.width);this.Kl();this.Sp()};g.$n=function(){this.Aa.cq=!!this.v.D;this.Aa.minHeight=this.v.A.length&&3==this.v.A[this.v.A.length-1].type?this.i.Pr:this.i.Qr;this.Aa.Rm(this.v)?this.Aa.elements.push(new Uk(this.i)):this.Aa.elements.push(new Vk(this.i));this.Aa.cq&&(this.Aa.connection=new Kk(this.i,this.v.D),this.Aa.elements.push(this.Aa.connection));this.Aa.elements.push(new Uk(this.i,"right"))};
g.op=function(a,b){this.Ug&&1==a.type?(b.elements.push(new Mk(this.i,a)),b.Qm=!0):3==a.type?(b.elements.push(new Nk(this.i,a)),b.ab=!0):1==a.type?(b.elements.push(new Ok(this.i,a)),b.We=!0):5==a.type&&(b.minHeight=Math.max(b.minHeight,a.C()&&a.C().X?this.i.Vr:this.i.So),b.Rg=!0);null==b.align&&(b.align=a.align)};
g.np=function(){for(var a=0,b;b=this.rows[a];a++){var c=b.elements;b.elements=[];b.ll()&&b.elements.push(new Wk(this.i,this.Hf(null,c[0])));if(c.length){for(var d=0;d<c.length-1;d++)b.elements.push(c[d]),b.elements.push(new Wk(this.i,this.Hf(c[d],c[d+1])));b.elements.push(c[c.length-1]);b.Wh()&&b.elements.push(new Wk(this.i,this.Hf(c[c.length-1],null)))}}};
g.Hf=function(a,b){if(!a&&b&&b.type&512)return this.i.jp;if(a&&a.type&128&&!b){if(a.type&64)return this.i.pd;if(a.type&256)return this.i.Kb;if(a.type&512)return this.i.pd}return a&&a.type&32768&&b&&(b.type&2048||b.type&4096)?b.Qc:a&&a.type&65536&&b&&(b.type&2048||b.type&4096)?b.Qc-this.i.ta:this.i.Cc};g.Kl=function(){for(var a=0,b;b=this.rows[a];a++)if(b.ab)dl(this,b);else{var c=this.bi(b)-b.width;0<c&&el(b,c);b.type&6291456&&(b.nd=b.width)}};g.bi=function(){return this.width-this.Wc};
function el(a,b){a:{var c=0;for(var d;d=a.elements[c];c++)if(d.type&8){c=d;break a}c=null}a:{d=a.elements.length-1;for(var e;e=a.elements[d];d--)if(e.type&8){d=e;break a}d=null}if(a.We||a.ab)a.nd+=b;-1==a.align?d.width+=b:0==a.align?(c.width+=b/2,d.width+=b/2):1==a.align?c.width+=b:d.width+=b;a.width+=b}function dl(a,b){var c=Yk(b),d=b.width-c.width,e=a.uf;d=e-d;0<d&&el(b,d);d=b.width;e=a.bi(b);c.width+=e-d;c.height=Math.max(c.height,b.height);b.width+=e-d;b.nd=Math.max(b.width,a.uf+b.Cp)}g.Xp=function(){return this.i.Cc};
g.Wp=function(a,b){return b.type&8?a.jb+b.height/2:a.type&4194304?(a=a.jb+a.height-a.Sh,b.type&4096?a+b.height/2:a-b.height/2):a.type&2097152?b.type&2?a.Qd-b.height/2:a.Qd+b.height/2:a.jb+a.height/2};function fl(a,b){for(var c=b.Z,d=0,e;e=b.elements[d];d++)e.type&8&&(e.height=b.height),e.Z=c,e.Fg=a.Wp(b,e),c+=e.width}
g.Sp=function(){for(var a=0,b=0,c=0,d;d=this.rows[c];c++)d.jb=b,d.Z=this.Wc,b+=d.height,a=Math.max(a,d.nd),fl(this,d);this.u&&this.v.D&&this.v.D.isConnected()&&(a=Math.max(a,Ue(this.v.D.K()).width));this.ph=a+this.Wc;this.height=b;this.kl=this.cb.Qd;this.Aa.$c=b-this.Aa.Sh};function gl(a,b){this.v=a;this.O=b;a.ga();this.pk=this.aa="";this.i=b.ya.G()}g=gl.prototype;g.dd=function(){hl(this);il(this);jl(this);this.v.xa.uo(this.aa+"\n"+this.pk);this.O.s&&this.v.xa.Cm();kl(this)};function kl(a){a.v.height=a.O.height;a.v.width=a.O.ph}function hl(a){for(var b=0,c;c=a.O.gq[b];b++)c.icon.Sb.setAttribute("display","none")}function il(a){a.tm();for(var b=1;b<a.O.rows.length-1;b++){var c=a.O.rows[b];c.bq?a.Th(c):c.ab?a.sm(c):c.We?a.um(c):a.Op(c)}a.om();a.rm()}
g.tm=function(){var a=this.O.cb,b=a.elements,c=this.O.cb;if(c.connection){var d=c.Z+c.Qc;Fi(c.connection.Mb,this.O.s?-d:d,0)}this.aa+=Qe(a.Z,this.O.kl);for(c=0;d=b[c];c++)d.type&65536?this.aa+=this.i.yh.Io:d.type&262144?this.aa+=this.i.yh.tu:d.type&2048?this.aa+=d.shape.jf:d.type&2?this.aa+=this.i.zg.path:d.type&8&&(this.aa+=N("h",d.width));this.aa+=N("v",a.height)};g.Th=function(a){this.aa+=this.i.tg.path+N("v",a.height-this.i.tg.height)};
g.um=function(a){var b=Yk(a);this.cr(a);var c="function"==typeof b.shape.Rc?b.shape.Rc(b.height):b.shape.Rc;this.aa+=N("H",b.Z+b.width)+c+N("v",a.height-b.Gg)};g.sm=function(a){var b=Yk(a);this.aa+=N("H",b.Z+b.Qc+b.shape.width)+(b.shape.Xq+N("h",-(b.Qc-this.i.wj.width))+this.i.wj.Xn)+N("v",a.height-2*this.i.wj.height)+this.i.wj.Vk+N("H",a.Z+a.width);this.gr(a)};g.Op=function(a){this.aa+=N("V",a.jb+a.height)};
g.om=function(){var a=this.O.Aa,b=a.elements;this.er();for(var c=0,d="",e=b.length-1,f;f=b[e];e--)f.type&4096?d+=f.shape.Xq:f.type&32768?d+=N("H",a.Z):f.type&65536?d+=this.i.yh.Rl:f.type&262144?(d+=this.i.yh.Ts,c=this.i.yh.au):f.type&8&&(d+=N("h",-1*f.width));this.aa+=N("V",a.$c-c);this.aa+=d};
g.rm=function(){var a=this.O.u;if(this.O.u){var b=this.O.Wc+this.O.u.Kh;Fi(this.v.u,this.O.s?-b:b,this.O.u.mc)}a&&(b=a.mc+a.height,a="function"==typeof a.shape.Ai?a.shape.Ai(a.height):a.shape.Ai,this.aa+=N("V",b)+a);this.aa+="z"};
function jl(a){for(var b=0,c;c=a.O.rows[b];b++)for(var d=0,e;e=c.elements[d];d++)if(e.type&256)a.qm(e);else if(e.type&4||e.type&1){var f=a;if(e.type&1)var h=e.Rp.U();else e.type&4&&(h=e.icon.Sb);var k=e.Fg-e.height/2,m=e.Z,n="";f.O.s&&(m=-(m+e.width),e.gt&&(m+=e.width,n="scale(-1 1)"));e.type&4?(h.setAttribute("display","block"),h.setAttribute("transform","translate("+m+","+k+")"),Si(e.icon)):h.setAttribute("transform","translate("+m+","+k+")"+n);f.O.Ub&&h.setAttribute("display","none")}}
g.qm=function(a){var b=a.height,c=a.mc;this.pk+=Bk(a.Z+a.sd,a.Fg-b/2)+N("v",c)+a.shape.Rc+N("v",b-(a.Gg+c))+N("h",a.width-a.sd)+N("v",-b)+"z";this.dr(a)};g.dr=function(a){var b=a.Fg-a.height/2;if(a.Mb){var c=a.Z+a.sd+a.Kh;this.O.s&&(c*=-1);Fi(a.Mb,c,b+a.mc)}};g.gr=function(a){var b=Yk(a);if(b.Mb){var c=a.Z+a.uf+b.Qc;this.O.s&&(c*=-1);Fi(b.Mb,c,a.jb)}};g.cr=function(a){var b=Yk(a);if(b.Mb){var c=a.Z+a.width;this.O.s&&(c*=-1);Fi(b.Mb,c,a.jb)}};
g.er=function(){var a=this.O.Aa;if(a.connection){var b=a.connection,c=b.Z;Fi(b.Mb,this.O.s?-c:c,a.$c)}};function ll(a,b,c,d){var e=a?a.h.id:void 0;d&&"workspace"==d.getType()&&(e=d.V.id);ll.j.constructor.call(this,e);this.ka=a?a.id:null;this.Nq=c;this.Iq=d;this.Cd=b}B(ll,ve);ll.prototype.type="marker_move";ll.prototype.R=function(){var a=ll.j.R.call(this);a.isCursor=this.Cd;a.blockId=this.ka;a.oldNode=this.Nq;a.newNode=this.Iq;return a};ll.prototype.N=function(a){ll.j.N.call(this,a);this.Cd=a.isCursor;this.ka=a.blockId;this.Nq=a.oldNode;this.Iq=a.newNode};u(Ia,"marker_move",ll);function yj(a,b,c){this.g=a;this.vn=c;this.pe=null;this.i=b;this.Ig=null;a=this.Cd()?this.i.Ro:this.i.$o;this.sb=c.Zl||a}g=yj.prototype;g.U=function(){return this.B};g.ci=function(){return this.vn};g.Cd=function(){return"cursor"==this.vn.type};
g.Fa=function(){var a=this.Cd()?"blocklyCursor":"blocklyMarker";this.B=E(qc,{"class":a},null);this.ne=E(qc,{width:this.i.rj,height:this.i.lp},this.B);this.cf=E(wc,{width:this.i.rj,height:this.i.lp},this.ne);this.Uf=E(wc,{"class":"blocklyVerticalMarker",rx:10,ry:10},this.ne);this.Tf=E(tc,{transform:""},this.ne);this.me=E(tc,{transform:"",fill:"none","stroke-width":this.i.Ur},this.ne);this.lb();this.Cd()&&(a={attributeType:"XML",attributeName:"fill",dur:"1s",values:this.sb+";transparent;transparent;",
repeatCount:"indefinite"},E(gc,a,this.cf),E(gc,a,this.Tf),a.attributeName="stroke",E(gc,a,this.me));return this.B};function ml(a,b){a.Cd()?(a.pe&&a.pe.ue(null),b.ue(a.U())):(a.pe&&a.pe.tf(null),b.tf(a.U()));a.pe=b}
g.dd=function(a,b){if(b){this.i=this.g.ya.G();var c=this.Cd()?this.i.Ro:this.i.$o;this.sb=this.vn.Zl||c;this.cf.setAttribute("fill",this.sb);this.Uf.setAttribute("stroke",this.sb);this.Tf.setAttribute("fill",this.sb);this.me.setAttribute("stroke",this.sb);this.Cd()&&(c=this.sb+";transparent;transparent;",this.cf.firstChild.setAttribute("values",c),this.Tf.firstChild.setAttribute("values",c),this.me.firstChild.setAttribute("values",c));c=b.V.type;if("block"==b.getType())nl(this,b);else if("output"==
b.getType())nl(this,b);else if(1==c){var d=b.V;c=d.C();var e=d.Xf.x,f=d.Xf.y;d=Bk(0,0)+Oe(this.i,d).Rc;this.Tf.setAttribute("d",d);this.Tf.setAttribute("transform","translate("+e+","+f+")"+(this.g.s?" scale(-1 1)":""));this.Ig=this.Tf;ml(this,c);ol(this)}else if(3==c)f=b.V,c=f.C(),e=0,f=f.Xf.y,d=Ue(c).width,this.g.s&&(e=-d),pl(this,e,f,d),ml(this,c),ol(this);else if("previous"==b.getType())nl(this,b);else if("field"==b.getType())c=b.V,e=c.getSize().width,f=c.getSize().height,ql(this,0,0,e,f),ml(this,
c),ol(this);else if("workspace"==b.getType())e=b.Kr,c=e.x,e=e.y,this.g.s&&(c-=this.i.rj),pl(this,c,e,this.i.rj),ml(this,this.g),ol(this);else if("stack"==b.getType()){c=b.V;f=Ue(c);e=f.width+this.i.qj;f=f.height+this.i.qj;var h=d=-this.i.qj/2,k=-this.i.qj/2;this.g.s&&(h=-(e+d));ql(this,h,k,e,f);ml(this,c);ol(this)}c=b.C();a=new (A("marker_move"))(c,this.Cd(),a,b);x(a);a=this.Ig.childNodes[0];void 0!==a&&a.beginElement&&a.beginElement()}else this.lb()};
function nl(a,b){b=b.C();var c=b.width,d=b.height,e=.75*d,f=a.i.Tr;if(b.H){var h=Oe(a.i,b.H);a.me.setAttribute("d",Qe(-f,e)+N("V",-f)+N("H",a.i.uh)+h.jf+N("H",c+2*f)+N("V",e))}else b.u?(h=Oe(a.i,b.u),a.me.setAttribute("d",Qe(c,0)+N("h",-(c-h.width))+N("v",a.i.Ag)+h.Rc+N("V",d)+N("H",c))):a.me.setAttribute("d",Qe(-f,e)+N("V",-f)+N("H",c+2*f)+N("V",e));a.g.s&&a.me.setAttribute("transform","scale(-1 1)");a.Ig=a.me;ml(a,b);ol(a)}function ol(a){a.lb();a.Ig.style.display=""}
function pl(a,b,c,d){a.cf.setAttribute("x",b);a.cf.setAttribute("y",c);a.cf.setAttribute("width",d);a.Ig=a.cf}function ql(a,b,c,d,e){a.Uf.setAttribute("x",b);a.Uf.setAttribute("y",c);a.Uf.setAttribute("width",d);a.Uf.setAttribute("height",e);a.Ig=a.Uf}g.lb=function(){this.cf.style.display="none";this.Uf.style.display="none";this.Tf.style.display="none";this.me.style.display="none"};g.o=function(){this.B&&G(this.B)};function rl(a,b,c){this.Lh=c;this.Nd=a;this.Ga=E(tc,{"class":"blocklyPath"},this.Nd);this.style=b;this.un=this.Rh=null}g=rl.prototype;g.uo=function(a){this.Ga.setAttribute("d",a)};g.Cm=function(){this.Ga.setAttribute("transform","scale(-1 1)")};g.ue=function(a){a?(this.Nd.appendChild(a),this.Rh=a):this.Rh=null};g.tf=function(a){a?(this.Rh?this.Nd.insertBefore(a,this.Rh):this.Nd.appendChild(a),this.un=a):this.un=null};
g.Ja=function(a){this.Ga.setAttribute("stroke",this.style.rd);this.Ga.setAttribute("fill",this.style.Sd);this.Er(a.X);this.Jo(!a.isEnabled()||Jh(a))};g.ye=function(a){this.style=a};function Ne(a,b,c){c?F(a.Nd,b):Dc(a.Nd,b)}g.Dr=function(a){a?this.Ga.setAttribute("filter","url(#"+this.Lh.ck+")"):this.Ga.setAttribute("filter","none")};g.Er=function(a){a&&(this.Ga.setAttribute("stroke","none"),this.Ga.setAttribute("fill",this.style.Pj))};
g.Jo=function(a){Ne(this,"blocklyDisabled",a);a&&this.Ga.setAttribute("fill","url(#"+this.Lh.Lp+")")};function sl(a){this.name=a;this.Tn=this.i=null}g=sl.prototype;g.ed=function(){return this.name+"-renderer"};g.F=function(a,b){this.i=this.pn();b&&(this.Tn=b,dc(this.i,b));this.i.Ri(a);this.i.F()};g.Fa=function(a,b){this.i.Fa(a,this.name+"-"+b.name,"."+this.ed()+"."+b.ed())};g.io=function(a,b){var c=this.G();c.o();this.i=this.pn();this.Tn&&dc(this.i,this.Tn);this.i.Xk=c.Xk;this.i.Ri(b);this.i.F();this.Fa(a,b)};g.o=function(){this.i&&this.i.o()};g.pn=function(){return new Ek};
g.Bq=function(a){return new cl(this,a)};g.zq=function(a,b){return new gl(a,b)};g.Aq=function(a,b){return new rl(a,b,this.i)};g.G=function(){return this.i};g.P=function(a){var b=this.Bq(a);b.measure();this.zq(a,b).dd()};function tl(){tl.j.constructor.call(this);this.yl=!1;this.ob=1;this.xs=30;this.ip=-this.Al/2}B(tl,Ek);tl.prototype.Gm=function(a){return tl.j.Gm.call(this,a).concat([a+" .blocklyInsertionMarker>.blocklyPathLight,",a+" .blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: "+this.Yo+";","stroke: none;","}"])};function ul(a){this.O=a;this.ii=this.M="";this.qb=this.O.s;a=a.ya;this.i=a.G();this.uc=a.uc;this.dc=this.uc.OFFSET;this.Sn=this.uc.Bs;this.Sg=this.uc.ss;this.Di=this.uc.Fl;this.Ht=this.uc.xg;this.lu=this.uc.zg;this.uq=this.uc.tg}ul.prototype.Th=function(a){this.O.s&&(this.M+=this.uq.jf+N("v",a.height-this.uq.height-this.dc))};function vl(a,b){var c=b.Z+b.width-a.dc;b.Vp&&(a.M+=N("H",c));a.qb&&(a.M+=N("H",c),b.height>a.dc&&(a.M+=N("V",b.jb+b.height-a.dc)))};function wl(a,b){wl.j.constructor.call(this,a,b);this.Oe&&(this.width+=this.i.ob,this.height+=this.i.ob)}B(wl,Mk);function xl(a,b){xl.j.constructor.call(this,a,b);this.Oe&&(this.height+=this.i.ob)}B(xl,Nk);function yl(a,b){yl.j.constructor.call(this,a,b)}B(yl,cl);g=yl.prototype;g.$n=function(){yl.j.$n.call(this);this.v.A.length&&3==this.v.A[this.v.A.length-1].type||(this.Aa.minHeight=this.i.Cc-this.i.ob)};g.op=function(a,b){this.Ug&&1==a.type?(b.elements.push(new wl(this.i,a)),b.Qm=!0):3==a.type?(b.elements.push(new xl(this.i,a)),b.ab=!0):1==a.type?(b.elements.push(new Ok(this.i,a)),b.We=!0):5==a.type&&(b.minHeight=Math.max(b.minHeight,this.i.So),b.Rg=!0);this.Ug||null!=b.align||(b.align=a.align)};
g.np=function(){for(var a=!1,b=0,c;c=this.rows[b];b++)c.We&&(a=!0);for(b=0;c=this.rows[b];b++){var d=c.elements;c.elements=[];c.ll()&&c.elements.push(new Wk(this.i,this.Hf(null,d[0])));if(d.length){for(var e=0;e<d.length-1;e++){c.elements.push(d[e]);var f=this.Hf(d[e],d[e+1]);c.elements.push(new Wk(this.i,f))}c.elements.push(d[d.length-1]);c.Wh()&&(f=this.Hf(d[d.length-1],null),a&&c.Rg&&(f+=this.i.Dj),c.elements.push(new Wk(this.i,f)))}}};
g.Hf=function(a,b){if(!a)return b&&b.type&1&&b.Tb?this.i.Cc:b&&b.type&256?this.i.bp:b&&b.type&512?this.i.jp:this.i.Kb;if(!(a.type&128)&&(!b||b.type&512))return a.type&1&&a.Tb?this.i.Cc:a.type&4?2*this.i.Kb+1:a.type&2?this.i.pd:a.type&6144?this.i.Kb:a.type&65536?this.i.ys:a.type&524288?this.i.pd:this.i.Kb;if(a.type&128&&!b){if(a.type&64)return this.i.pd;if(a.type&256)return this.i.Kb;if(a.type&512)return this.i.pd}if(!(a.type&128)&&b&&b.type&128){if(a.type&1&&a.Tb){if(b.type&256||b.type&64)return this.i.Fs}else{if(b.type&
256||b.type&64)return this.i.bp;if(b.type&512)return this.i.Kb}return this.i.Kb-1}if(a.type&4&&b&&!(b.type&128))return this.i.Kb;if(a.type&256&&b&&b.type&1)return b.Tb?this.i.Cc:this.i.Kb;if(a.type&32768&&b){if(b.type&2)return this.i.pd;if(b.type&2048)return b.Qc;if(b.type&4096)return a=(this.s?1:-1)*this.i.ob/2,b.Qc+a}if(a.type&65536&&b){if(b.type&2048)return b.Qc-this.i.ta;if(b.type&4096)return a=(this.s?1:-1)*this.i.ob/2,b.Qc-this.i.ta+a}return a.type&1&&b&&b.type&1&&a.Tb==b.Tb||b&&b.type&524288?
this.i.Kb:this.i.Cc};g.Xp=function(a,b){return a.type&2097152&&b.type&4194304?this.i.Wr:a.type&2097152||b.type&4194304?this.i.pd:a.We&&b.We?this.i.Kb:!a.ab&&b.ab?this.i.Or:a.ab&&b.ab||!a.ab&&b.Rg||a.Rg?this.i.Kb:this.i.Cc};
g.Wp=function(a,b){if(b.type&8)return a.jb+b.height/2;if(a.type&4194304)return a=a.jb+a.height-a.Sh,b.type&4096?a+b.height/2:a-b.height/2;if(a.type&2097152)return b.type&2?a.Qd-b.height/2:a.Qd+b.height/2;var c=a.jb;b.type&1||b.type&4?(c+=b.height/2,(a.Qm||a.ab)&&b.height+this.i.kp<=a.height&&(c+=this.i.kp)):c=b.type&256?c+b.height/2:c+a.height/2;return c};
g.Kl=function(){if(this.Ug){for(var a=0,b=null,c=this.rows.length-1,d;d=this.rows[c];c--)d.Dn=a,d.type&8388608&&(d.ab&&dl(this,d),b&&b.ab&&d.width<b.width?d.Dn=b.width:a=d.width,b=d);for(c=a=0;d=this.rows[c];c++)d.ab?a=this.bi(d):d.type&8?d.width=Math.max(a,d.Dn):(a=Math.max(a,d.Dn)-d.width,0<a&&el(d,a),a=d.width)}else yl.j.Kl.call(this)};g.bi=function(a){return this.Ug&&a.ab?this.uf+this.i.xs+this.Wc:yl.j.bi.call(this,a)};
g.Sp=function(){for(var a=0,b=0,c=0,d;d=this.rows[c];c++){d.jb=b;d.Z=this.Wc;b+=d.height;a=Math.max(a,d.nd);var e=b-this.cb.Dg;d==this.Aa&&e<this.i.sh&&(e=this.i.sh-e,this.Aa.height+=e,b+=e);fl(this,d)}this.u&&this.v.D&&this.v.D.isConnected()&&(a=Math.max(a,Ue(this.v.D.K()).width-this.i.ob));this.Aa.$c=b-this.Aa.Sh;this.ph=a+this.Wc+this.i.ob;this.width+=this.i.ob;this.height=b+this.i.ob;this.kl=this.cb.Qd};function zl(a,b){zl.j.constructor.call(this,a,b);this.Ad=new ul(b)}B(zl,gl);g=zl.prototype;g.dd=function(){hl(this);il(this);jl(this);var a=this.v.xa;a.uo(this.aa+"\n"+this.pk);var b=this.Ad;a.dg.setAttribute("d",b.M+"\n"+b.ii);this.O.s&&a.Cm();kl(this)};
g.tm=function(){var a=this.Ad,b=this.O.cb;a.M+=Qe(b.Z,a.O.kl);for(var c=0,d;d=b.elements[c];c++)d.type&32768?a.M+=a.uc.hp:d.type&65536?a.M+=a.Sn.Io(a.qb):d.type&2048?a.M+=a.Ht.jf:d.type&2?a.M+=a.lu.path(a.qb):d.type&8&&0!=d.width&&(a.M+=N("H",d.Z+d.width-a.dc));a.M+=N("H",b.Z+b.width-a.dc);vl(this.Ad,this.O.cb);zl.j.tm.call(this)};g.Th=function(a){this.Ad.Th(a);zl.j.Th.call(this,a)};
g.um=function(a){var b=this.Ad,c=Yk(a);if(b.qb){var d=a.height-c.Gg;b.M+=Bk(c.Z+c.width-b.dc,a.jb)+b.Di.Rc(b.qb)+N("v",d)}else b.M+=Bk(c.Z+c.width,a.jb)+b.Di.Rc(b.qb);zl.j.um.call(this,a)};g.sm=function(a){var b=this.Ad,c=Yk(a);if(b.qb){var d=a.height-2*b.Sg.height;b.M+=Bk(c.Z,a.jb)+b.Sg.Xn(b.qb)+N("v",d)+b.Sg.Vk(b.qb)+Ck(a.width-c.Z-b.Sg.width,0)}else b.M+=Bk(c.Z,a.jb+a.height)+b.Sg.Vk(b.qb)+Ck(a.width-c.Z-b.Sg.width,0);zl.j.sm.call(this,a)};
g.Op=function(a){vl(this.Ad,a);this.aa+=N("H",a.Z+a.width)+N("V",a.jb+a.height)};g.om=function(){var a=this.Ad,b=this.O.Aa;if(a.qb)a.M+=N("V",b.$c-a.dc);else{var c=a.O.Aa.elements[0];c.type&32768?a.M+=Bk(b.Z+a.dc,b.$c-a.dc):c.type&65536&&(a.M+=Bk(b.Z,b.$c),a.M+=a.Sn.Rl())}zl.j.om.call(this)};
g.rm=function(){var a=this.Ad,b=a.O.u;b&&(b=b.mc+b.height,a.qb?a.M+=Bk(a.O.Wc,b):(a.M+=Bk(a.O.Wc+a.dc,a.O.Aa.$c-a.dc),a.M+=N("V",b)),a.M+=a.Di.Ai(a.qb));a.qb||(b=a.O.cb,a.M=b.elements[0].type&65536?a.M+N("V",a.Sn.height):a.M+N("V",b.Qd+a.dc));zl.j.rm.call(this)};
g.qm=function(a){var b=this.Ad,c=b.dc,d=a.Z+a.sd,e=a.Fg-a.height/2,f=a.width-a.sd,h=e+c;b.qb?(e=a.height-(a.mc+a.Gg)+c,b.ii+=Bk(d-c,h)+N("v",a.mc-c)+b.Di.Rc(b.qb)+N("v",e)+N("h",f)):b.ii+=Bk(a.Z+a.width+c,h)+N("v",a.height)+N("h",-f)+Bk(d,e+a.mc)+b.Di.Rc(b.qb);zl.j.qm.call(this,a)};g.dr=function(a){var b=a.Fg-a.height/2;if(a.Mb){var c=a.Z+a.sd+this.i.ob;this.O.s&&(c*=-1);Fi(a.Mb,c,b+a.mc+this.i.ob)}};
g.gr=function(a){var b=Yk(a);if(b.Mb){var c=a.Z+a.uf+b.Qc;c=this.O.s?-1*c:c+this.i.ob;Fi(b.Mb,c,a.jb+this.i.ob)}};g.cr=function(a){var b=Yk(a);if(b.Mb){var c=a.Z+a.width+this.i.ob;this.O.s&&(c*=-1);Fi(b.Mb,c,a.jb)}};g.er=function(){var a=this.O.Aa;if(a.connection){var b=a.connection,c=b.Z;Fi(b.Mb,(this.O.s?-c:c)+this.i.ob/2,a.$c+this.i.ob)}};function Al(a){this.Hg=a;this.OFFSET=.5;this.hp=Qe(this.OFFSET,this.OFFSET)}g=Al.prototype;g.F=function(){this.ss=Bl(this);this.Bs=Cl(this);this.Fl=this.sn();this.xg=this.rn();this.tg=this.qn();this.zg=this.tn()};function Bl(a){var b=a.Hg.ta;a=a.OFFSET;var c=(1-Math.SQRT1_2)*(b+a)-a,d=Qe(c,c)+Dk("0 0,0",b,T(-c-a,b-c)),e=Dk("0 0,0",b+a,T(b+a,b+a)),f=Qe(c,-c)+Dk("0 0,0",b+a,T(b-c,c+a));return{width:b+a,height:b,Xn:function(h){return h?d:""},Vk:function(h){return h?e:f}}}
function Cl(a){var b=a.Hg.ta;a=a.OFFSET;var c=(1-Math.SQRT1_2)*(b-a)+a,d=Qe(c,c)+Dk("0 0,1",b-a,T(b-c,-c+a)),e=Qe(a,b)+Dk("0 0,1",b-a,T(b,-b+a)),f=-c,h=Qe(c,f)+Dk("0 0,1",b-a,T(-c+a,-f-b));return{height:b,Io:function(k){return k?d:e},Rl:function(){return h}}}
g.sn=function(){var a=this.Hg.Dj,b=this.Hg.Bh,c=Qe(-2,-b+3.4)+Ck(-.45*a,-2.1),d=N("v",2.5)+Qe(.97*-a,2.5)+Ak("q",[T(.05*-a,10),T(.3*a,9.5)])+Qe(.67*a,-1.9)+N("v",2.5),e=N("v",-1.5)+Qe(-.92*a,-.5)+Ak("q",[T(-.19*a,-5.5),T(0,-11)])+Qe(.92*a,1),f=Qe(-5,b-.7)+Ck(.46*a,-2.1);return{width:a,height:b,Ai:function(h){return h?c:e},Rc:function(h){return h?d:f}}};g.rn=function(){return{jf:N("h",this.OFFSET)+this.Hg.xg.jf}};g.qn=function(){return{jf:Ck(5.1,2.6)+Qe(-10.2,6.8)+Ck(5.1,2.6),height:12,width:10.2}};
g.tn=function(){var a=Qe(25,-8.7)+Ak("c",[T(29.7,-6.2),T(57.2,-.5),T(75,8.7)]),b=Ak("c",[T(17.8,-9.2),T(45.3,-14.9),T(75,-8.7)])+Bk(100.5,this.Hg.zg.height+.5);return{path:function(c){return c?a:b}}};function Dl(a,b,c){this.Lh=c;this.Nd=a;this.aj=E(tc,{"class":"blocklyPathDark",transform:"translate(1,1)"},this.Nd);this.Ga=E(tc,{"class":"blocklyPath"},this.Nd);this.dg=E(tc,{"class":"blocklyPathLight"},this.Nd);this.$l="#000000";this.style=b}B(Dl,rl);g=Dl.prototype;g.uo=function(a){this.Ga.setAttribute("d",a);this.aj.setAttribute("d",a)};g.Cm=function(){this.Ga.setAttribute("transform","scale(-1 1)");this.dg.setAttribute("transform","scale(-1 1)");this.aj.setAttribute("transform","translate(1,1) scale(-1 1)")};
g.Ja=function(a){this.dg.style.display="";this.aj.style.display="";this.dg.setAttribute("stroke",this.style.rd);this.aj.setAttribute("fill",this.$l);Dl.j.Ja.call(this,a);this.Ga.setAttribute("stroke","none")};g.ye=function(a){this.style=a;this.$l=Za("#000",this.style.Sd,.2)||this.$l};g.Dr=function(a){a?(this.Ga.setAttribute("filter","url(#"+this.Lh.ck+")"),this.dg.style.display="none"):(this.Ga.setAttribute("filter","none"),this.dg.style.display="inline")};
g.Er=function(a){a&&(this.dg.style.display="none",this.aj.setAttribute("fill",this.style.Pj),this.Ga.setAttribute("stroke","none"),this.Ga.setAttribute("fill",this.style.Pj))};g.Jo=function(a){Dl.j.Jo.call(this,a);a&&this.Ga.setAttribute("stroke","none")};function El(a){El.j.constructor.call(this,a);this.uc=null}B(El,sl);g=El.prototype;g.F=function(a,b){El.j.F.call(this,a,b);this.uc=new Al(this.G());this.uc.F()};g.io=function(a,b){El.j.io.call(this,a,b);this.uc.F()};g.pn=function(){return new tl};g.Bq=function(a){return new yl(this,a)};g.zq=function(a,b){return new zl(a,b)};g.Aq=function(a,b){return new Dl(a,b,this.G())};u(Ka,"geras",El);(function(){var a={name:"escape",Pa:function(b){return!b.options.readOnly},la:function(){Af();return!0}};ak.register(a);ck(27,a.name)})();(function(){var a={name:"delete",Pa:function(b){return!b.options.readOnly&&M&&M.Oc()},la:function(b,c){c.preventDefault();if(ch())return!1;rk(M);return!0}};ak.register(a);ck(46,a.name);ck(8,a.name)})();
(function(){var a={name:"copy",Pa:function(c){return!c.options.readOnly&&!ch()&&M&&M.Oc()&&M.mb()},la:function(c,d){d.preventDefault();Af();sk(M);return!0}};ak.register(a);var b=dk(67,[17]);ck(b,a.name);b=dk(67,[18]);ck(b,a.name);b=dk(67,[91]);ck(b,a.name)})();(function(){var a={name:"cut",Pa:function(c){return!c.options.readOnly&&!ch()&&M&&M.Oc()&&M.mb()&&!M.h.jd},la:function(){sk(M);rk(M);return!0}};ak.register(a);var b=dk(88,[17]);ck(b,a.name);b=dk(88,[18]);ck(b,a.name);b=dk(88,[91]);ck(b,a.name)})();
(function(){var a={name:"paste",Pa:function(c){return!c.options.readOnly&&!ch()},la:function(){return tk()}};ak.register(a);var b=dk(86,[17]);ck(b,a.name);b=dk(86,[18]);ck(b,a.name);b=dk(86,[91]);ck(b,a.name)})();(function(){var a={name:"undo",Pa:function(c){return!c.options.readOnly&&!ch()},la:function(c){Af();bg(c,!1);return!0}};ak.register(a);var b=dk(90,[17]);ck(b,a.name);b=dk(90,[18]);ck(b,a.name);b=dk(90,[91]);ck(b,a.name)})();
(function(){var a={name:"redo",Pa:function(c){return!ch()&&!c.options.readOnly},la:function(c){Af();bg(c,!0);return!0}};ak.register(a);var b=dk(90,[16,17]);ck(b,a.name);b=dk(90,[16,18]);ck(b,a.name);b=dk(90,[16,91]);ck(b,a.name);b=dk(89,[17]);ck(b,a.name)})();var Fl={am:"\u12a0\u121b\u122d\u129b",ar:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",be:"\u0431\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0456","be-tarask":"Tara\u0161kievica",bg:"\u0431\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438 \u0435\u0437\u0438\u043a",bn:"\u09ac\u09be\u0982\u09b2\u09be",br:"Brezhoneg",ca:"Catal\u00e0",cs:"\u010cesky",da:"Dansk",de:"Deutsch",el:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",en:"English",eo:"Esperanto",es:"Espa\u00f1ol",eu:"Euskara",fa:"\u0641\u0627\u0631\u0633\u06cc",
fi:"Suomi",fo:"F\u00f8royskt",fr:"Fran\u00e7ais",gl:"Galego",ha:"Hausa",he:"\u05e2\u05d1\u05e8\u05d9\u05ea",hi:"\u0939\u093f\u0928\u094d\u0926\u0940",hr:"Hrvatski",hu:"Magyar",hy:"\u0570\u0561\u0575\u0565\u0580\u0567\u0576",ia:"Interlingua",id:"Bahasa Indonesia",ig:"As\u1ee5s\u1ee5 Igbo",is:"\u00cdslenska",it:"Italiano",ja:"\u65e5\u672c\u8a9e",kab:"Taqbaylit",kn:"\u0c95\u0ca8\u0ccd\u0ca8\u0ca1",ko:"\ud55c\uad6d\uc5b4",lt:"Lietuvi\u0173",lv:"Latvie\u0161u",ms:"Bahasa Melayu",my:"\u1019\u103c\u1014\u103a\u1019\u102c\u1005\u102c",
nb:"Norsk (bokm\u00e5l)",nl:"Nederlands, Vlaams",pl:"Polski",pms:"Piemont\u00e8is",pt:"Portugu\u00eas","pt-br":"Portugu\u00eas Brasileiro",ro:"Rom\u00e2n\u0103",ru:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",sc:"Sardu",sk:"Sloven\u010dina",sl:"Sloven\u0161\u010dina",sq:"Shqip",sr:"\u0421\u0440\u043f\u0441\u043a\u0438","sr-latn":"Srpski",sv:"Svenska",th:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",ti:"\u1275\u130d\u122d\u129b",tr:"T\u00fcrk\u00e7e",uk:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",
ur:"\u0627\u064f\u0631\u062f\u064f\u0648\u202c",vi:"Ti\u1ebfng Vi\u1ec7t",yo:"\u00c8d\u00e8 Yor\u00f9b\u00e1","zh-hans":"\u7b80\u4f53\u4e2d\u6587","zh-hant":"\u6b63\u9ad4\u4e2d\u6587"},Gl=window.BlocklyGamesLang,Hl=window.BlocklyGamesLanguages,Il=["ar","fa","he","ur"].includes(Gl),Jl=/\.html$/.test(window.location.pathname),U=document.getElementById.bind(document);
function Kl(a){try{if(a.lineno||a.colno){var b=Date.now();if(!(Kl.vq+1E4>b)){Kl.vq=b;var c=new XMLHttpRequest,d="error="+encodeURIComponent(a.error&&a.error.stack||a.message+" "+a.filename+" "+a.lineno+":"+a.colno)+"&amp;url="+encodeURIComponent(window.location);c.open("POST","/errorReporter");c.setRequestHeader("Content-Type","application/x-www-form-urlencoded");c.send(d);console.log("Error reported.")}}}catch(e){console.log(a.error)}}Kl.vq=0;Jl||window.addEventListener("error",Kl);
var V,Ll=Math,Ml=Ll.floor,Nl=Number,Ol,Pl=window.location.search.match(RegExp("[?&]level=([^&]+)"));Ol=Pl?decodeURIComponent(Pl[1].replace(/\+/g,"%20")):"NaN";var Ql=Ml.call(Ll,Nl(Ol));V=isNaN(Ql)?1:Math.max(1,Math.min(Ql,10));
function Rl(a){document.title=W("Games.name",!1)+(a&&" : ")+a;document.dir=Il?"rtl":"ltr";document.head.parentElement.setAttribute("lang",Gl);if(a=U("languageMenu")){for(var b=[],c=l(Hl),d=c.next();!d.done;d=c.next())d=d.value,b.push([Fl[d],d]);b.sort(function(e,f){return e[0]>f[0]?1:e[0]<f[0]?-1:0});a.options.length=0;b=l(b);for(c=b.next();!c.done;c=b.next())d=l(c.value),c=d.next().value,d=d.next().value,c=new Option(c,d),d===Gl&&(c.selected=!0),a.options.add(c);1>=a.options.length&&(a.style.display=
"none")}for(a=1;10>=a;a++)b=U("level"+a),c=!!Sl(a),b&&c&&(b.className+=" level_done");(a=document.querySelector('meta[name="viewport"]'))&&725>screen.availWidth&&a.setAttribute("content","width=725, initial-scale=.35, user-scalable=no");Jl||setTimeout(Tl,1)}function Sl(a){var b=Ul;try{var c=window.localStorage[b+a]}catch(d){}return c}
function Vl(a,b){if(!a)throw TypeError("Element not found: "+a);"string"===typeof a&&(a=U(a));a.addEventListener("click",b,!0);a.addEventListener("touchend",function(c){c.preventDefault();b(c)},!0)}function Wl(a){a%=360;0>a&&(a+=360);return a}function W(a,b){a=window.BlocklyGamesMsg[a];void 0===a&&(a="[Unknown message: ${name}]");return b?Xl(a):a}function Xl(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}
function Tl(){function a(c){(a.q=a.q||[]).push(arguments)}window.GoogleAnalyticsObject="GoogleAnalyticsFunction";window.GoogleAnalyticsFunction=a;a.l=1*new Date;var b=document.createElement("script");b.async=1;b.src="//www.google-analytics.com/analytics.js";document.head.appendChild(b);a("create","UA-50448074-1","auto");a("send","pageview")};var Yl=null,Zl=null,$l=null;function am(){var a=Yl();bm("xml="+encodeURIComponent(a),cm)}var dm=new Map;function bm(a,b){var c=void 0===c?"POST":c;dm.has("/storage")&&dm.get("/storage").abort();var d=new XMLHttpRequest;dm.set("/storage",d);d.onload=function(){200===this.status?b&&b.call(d):em(W("Games.httpRequestError",!1)+"\nXHR status: "+d.status);dm.delete("/storage")};d.open(c,"/storage");"POST"===c&&d.setRequestHeader("Content-Type","application/x-www-form-urlencoded");d.send(a)}
function cm(){window.location.hash=this.responseText.trim();em(W("Games.linkAlert",!1).replace("%1",window.location.href));$l=Yl()}function fm(){var a=this.responseText.trim();a.length?(a=a.replace(/^\{\[\(< UNTRUSTED CONTENT >\)\]\}\n/,""),Zl(a)):em(W("Games.hashError",!1).replace("%1",window.location.hash));$l=Yl()}function em(a){if("object"===typeof X){var b=U("linkButton");X.ou(b,a)}else alert(a)};var Rh=null,gm=null,hm=!1,im="";function jm(a){if(!Jl&&1<window.location.hash.length)bm("key="+encodeURIComponent(window.location.hash.substring(1)),fm);else{try{var b=window.sessionStorage.yq}catch(d){}b&&delete window.sessionStorage.yq;var c=Sl(V);(a=b||c||a)&&km(a)}}function km(a){if(gm)gm.setValue(a,-1);else{a=Pc(a);Rh.clear();Qc(a,Rh);a=Rh;a.gg.length=0;a=a.Ei.length=0;for(var b;b=Wb[a];a++)b.yb=!1}}
function lm(){if(hm)var a=gm.getValue();else{var b=Rh;a=C("xml");for(var c=ai(b),d=C("variables"),e=0,f;f=c[e];e++){var h=C("variable");h.appendChild(document.createTextNode(f.name));f.type&&h.setAttribute("type",f.type);h.id=f.T();d.appendChild(h)}d.hasChildNodes()&&a.appendChild(d);d=[].concat(b.ol);1<d.length&&(b.Md.offset=Math.sin(Ud(3)),b.s&&(b.Md.offset*=-1),d.sort(b.Md));for(c=0;e=d[c];c++)a.appendChild(e.xv(!0));b=b.$a(!0);for(c=0;d=b[c];c++)a.appendChild(Kc(d,!0));1===Rh.$a(!1).length&&a.querySelector&&
(b=a.querySelector("block"))&&(b.removeAttribute("x"),b.removeAttribute("y"));a=Oc(a)}return a}function mm(){null!==$l&&$l!==lm()&&(window.location.hash="",$l=null)}function nm(){var a={rtl:!1,trashcan:!0},b=U("toolbox");b&&(a.toolbox=b);a.media="third-party/blockly/media/";a.oneBasedIndex=!1;Rh=Fj(a);cg(Rh,mm)}function om(){window.location=(Jl?"index.html":"./")+"?lang="+Gl}
function pm(){window.sessionStorage&&(window.sessionStorage.yq=lm());var a=U("languageMenu");a=encodeURIComponent(a.options[a.selectedIndex].value);var b=window.location.search;b=1>=b.length?"?lang="+a:/[?&]lang=[^&]*/.test(b)?b.replace(/([?&]lang=)[^&]*/,"$1"+a):b.replace(/\?/,"?lang="+a+"&");window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+b}
function qm(){10>V?location=location.protocol+"//"+location.host+location.pathname+"?lang="+Gl+"&level="+(V+1):om()}function rm(a){if("click"===a.type&&"touchend"===sm&&tm+2E3>Date.now()||sm===a.type&&tm+400>Date.now())return a.preventDefault(),a.stopPropagation(),!0;sm=a.type;tm=Date.now();return!1}var sm=null,tm=0;function um(){setTimeout(function(){var a=document.createElement("script");a.type="text/javascript";a.src="third-party/babel.min.js";document.head.appendChild(a)},1)}function vm(){var a=window.ace;a.require("ace/ext/language_tools");gm=a=a.edit("editor");a.setTheme("ace/theme/chrome");a.setShowPrintMargin(!1);a.setOptions({enableBasicAutocompletion:!0,enableLiveAutocompletion:!0});a=a.getSession();a.setMode("ace/mode/javascript");a.setTabSize(2);a.setUseSoftTabs(!0);a.on("change",mm);wm()}
function wm(){var a=gm.getSession().getMode().$highlightRules.$keywordList;a?a.splice(0,Infinity,"arguments","this","NaN","Math","JSON","parseInt","parseFloat","isNaN","isFinite","eval","String","RegExp","Object","Number","Function","Date","Boolean","Array","while","var","let","typeof","try","throw","switch","return","new","instanceof","of","in","if","function","for","finally","else","do","delete","continue","catch","case","break","const","undefined","Infinity","null","false","true"):setTimeout(wm,
wm.Hp*=2)}wm.Hp=1;var X={Of:!1,Ip:null,Vj:null,Xj:null,Zj:null,Yj:null,Ti:function(a,b,c,d,e,f){function h(){if(X.Of){n.style.visibility="visible";n.style.zIndex=10;p.style.visibility="hidden";var y=a.getElementsByClassName("primary");y.length||(y=a.getElementsByClassName("secondary"),y.length||(y=a.getElementsByTagName("button")));y.length&&y[0].focus()}}if(!a)throw TypeError("Content not found: "+a);for(var k=a.getElementsByClassName("addHideHandler"),m;m=k[0];)m.addEventListener("click",X.nk,!0),m.addEventListener("touchend",
X.nk,!0),m.classList.remove("addHideHandler");X.Of&&X.nk(!1);ie&&Af(!0);X.Of=!0;X.Ip=b;X.Vj=f;var n=U("dialog");f=U("dialogShadow");var p=U("dialogBorder"),t;for(t in e)n.style[t]=e[t];d&&(f.style.visibility="visible",f.style.opacity=.3,f.style.zIndex=9,d=document.createElement("div"),d.id="dialogHeader",n.appendChild(d),X.Xj=Td(d,"mousedown",null,X.ct));n.appendChild(a);a.classList.remove("dialogHiddenContent");try{b.blur()}catch(y){}c&&b?(X.df(b,!1,.2),X.df(n,!0,.8),setTimeout(h,175)):h()},Jp:0,
Kp:0,ct:function(a){X.im();if(!Eb(a)){var b=U("dialog");X.Jp=b.offsetLeft-a.clientX;X.Kp=b.offsetTop-a.clientY;X.Zj=Td(document,"mouseup",null,X.im);X.Yj=Td(document,"mousemove",null,X.dt);a.stopPropagation()}},dt:function(a){var b=U("dialog"),c=X.Jp+a.clientX;a=X.Kp+a.clientY;a=Math.max(a,0);a=Math.min(a,window.innerHeight-b.offsetHeight);c=Math.max(c,0);c=Math.min(c,window.innerWidth-b.offsetWidth);b.style.left=c+"px";b.style.top=a+"px"},im:function(){X.Zj&&(K(X.Zj),X.Zj=null);X.Yj&&(K(X.Yj),X.Yj=
null)},nk:function(a){function b(){d.style.zIndex=-1;d.style.visibility="hidden";U("dialogBorder").style.visibility="hidden"}a=void 0===a?!0:a;if(X.Of){X.im();X.Xj&&(K(X.Xj),X.Xj=null);X.Of=!1;X.Vj&&X.Vj();X.Vj=null;var c=a?X.Ip:null;a=U("dialog");var d=U("dialogShadow");d.style.opacity=0;c&&a?(X.df(a,!1,.8),X.df(c,!0,.2),setTimeout(b,175)):b();a.style.visibility="hidden";a.style.zIndex=-1;for((c=U("dialogHeader"))&&c.parentNode.removeChild(c);a.firstChild;)c=a.firstChild,c.classList.add("dialogHiddenContent"),
document.body.appendChild(c)}},df:function(a,b,c){function d(){e.style.width=f.width+"px";e.style.height=f.height+"px";e.style.left=f.x+"px";e.style.top=f.y+"px";e.style.opacity=c}if(a){var e=U("dialogBorder"),f=X.getBBox(a);b?(e.className="dialogAnimate",setTimeout(d,1)):(e.className="",d());e.style.visibility="visible"}},getBBox:function(a){var b=kb(a);b={x:b.x,y:b.y};a.getBBox?(a=a.getBBox(),b.height=a.height,b.width=a.width):(b.height=a.offsetHeight,b.width=a.offsetWidth);return b},ou:function(a,
b){var c=U("containerStorage");c.textContent="";b=l(b.split("\n"));for(var d=b.next();!d.done;d=b.next()){var e=document.createElement("p");e.appendChild(document.createTextNode(d.value));c.appendChild(e)}c=U("dialogStorage");X.Ti(c,a,!0,!0,{width:"50%",left:"25%",top:"5em"},X.Eo);X.Do()},Ps:function(){if(!Sl(V))if(X.Of||Rh.Ta())setTimeout(X.Ps,15E3);else{var a=U("dialogAbort"),b=U("abortOk");b.addEventListener("click",om,!0);b.addEventListener("touchend",om,!0);X.Ti(a,null,!1,!0,{width:"40%",left:"30%",
top:"3em"},function(){document.body.removeEventListener("keydown",X.mp,!0)});document.body.addEventListener("keydown",X.mp,!0)}},Wj:function(a){!X.Of||13!==a.keyCode&&27!==a.keyCode&&32!==a.keyCode||(X.nk(!0),a.stopPropagation(),a.preventDefault())},Do:function(){document.body.addEventListener("keydown",X.Wj,!0)},Eo:function(){document.body.removeEventListener("keydown",X.Wj,!0)},mp:function(a){X.Wj(a);13!==a.keyCode&&32!==a.keyCode||om()}};window.BlocklyDialogs=X;var xm="";function ym(a){a=a.replace(/(,\s*)?'block_id_[^']+'\)/g,")");return a.replace(/\s+$/,"")}function zm(){setTimeout(function(){var a=document.createElement("script");a.type="text/javascript";a.src="third-party/JS-Interpreter/compressed.js";document.head.appendChild(a)},1)}
function Am(){setTimeout(function(){var a=document.createElement("link");a.rel="stylesheet";a.type="text/css";a.href="common/prettify.css";document.head.appendChild(a);a=document.createElement("script");a.type="text/javascript";a.src="common/prettify.js";document.head.appendChild(a)},1)}
function Bm(){var a=U("dialogDone");if(Rh){var b=U("dialogLinesText");b.textContent="";var c=xm;c=ym(c);var d=c.replace(/\/\/[^\n]*/g,"");d=d.replace(/\/\*.*\*\//g,"");d=d.replace(/[ \t]+\n/g,"\n");d=d.replace(/\n+/g,"\n");d=d.trim();d=d.split("\n").length;var e=U("containerCode");e.textContent=c;"function"===typeof prettyPrintOne&&(c=e.innerHTML,c=prettyPrintOne(c,"js"),e.innerHTML=c);c=1===d?W("Games.linesOfCode1",!1):W("Games.linesOfCode2",!1).replace("%1",String(d));b.appendChild(document.createTextNode(c))}b=
10>V?W("Games.nextLevel",!1).replace("%1",String(V+1)):W("Games.finalLevel",!1);c=U("doneOk");c.addEventListener("click",qm,!0);c.addEventListener("touchend",qm,!0);X.Ti(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",Cm,!0)});document.body.addEventListener("keydown",Cm,!0);U("dialogDoneText").textContent=b}function Cm(a){X.Wj(a);13!==a.keyCode&&32!==a.keyCode||qm()};function Dm(a,b,c){Dm.j.constructor.call(this,a?a.h.id:void 0);this.ka=a?a.id:null;this.Wg=b;this.Sl=c}B(Dm,ve);Dm.prototype.type="bubble_open";Dm.prototype.R=function(){var a=Dm.j.R.call(this);a.isOpen=this.Wg;a.bubbleType=this.Sl;a.blockId=this.ka;return a};Dm.prototype.N=function(a){Dm.j.N.call(this,a);this.Wg=a.isOpen;this.Sl=a.bubbleType;this.ka=a.blockId};u(Ia,"bubble_open",Dm);function Qk(a){this.v=a;this.Sb=null}g=Qk.prototype;g.Ap=!0;g.Cj=17;g.Ma=null;g.Mf=null;function Pi(a){a.Sb||(a.Sb=E(qc,{"class":"blocklyIconGroup"},null),a.v.Ba&&F(a.Sb,"blocklyIconGroupReadonly"),a.pm(a.Sb),a.v.U().appendChild(a.Sb),J(a.Sb,"mouseup",a,a.Um),a.Ee())}g.o=function(){G(this.Sb);this.Sb=null;this.na(!1);this.v=null};g.Ee=function(){};g.isVisible=function(){return!!this.Ma};g.Um=function(a){this.v.h.Ta()||this.v.Ba||Eb(a)||this.na(!this.isVisible())};
g.Ja=function(){this.isVisible()&&this.Ma.gb(this.v.style.Sd)};function We(a,b){a.Mf=b;a.isVisible()&&(a=a.Ma,a.Qa=b,a.lo&&gg(a))}function Si(a){var b=a.v.ga(),c=Ab(a.Sb);b=new q(b.x+c.x+a.Cj/2,b.y+c.y+a.Cj/2);oa(a.Mf,b)||We(a,b)};function Ui(a){Ui.j.constructor.call(this,a);Pi(this);this.bj=Object.create(null)}B(Ui,Qk);g=Ui.prototype;g.Ap=!1;g.pm=function(a){E(tc,{"class":"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},a);E(tc,{"class":"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},a);E(wc,{"class":"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},a)};g.na=function(a){a!=this.isVisible()&&(x(new (A("bubble_open"))(this.v,a,"warning")),a?this.Tj():this.ak())};
g.Tj=function(){this.Yf=rg(this.Qb());this.Ma=sg(this.Yf,this.v,this.Mf);this.Ja()};g.ak=function(){this.Ma.o();this.Yf=this.Ma=null};function Vi(a,b,c){a.bj[c]!=b&&(b?a.bj[c]=b:delete a.bj[c],a.isVisible()&&(a.na(!1),a.na(!0)))}g.Qb=function(){var a=[],b;for(b in this.bj)a.push(this.bj[b]);return a.join("\n")};g.o=function(){this.v.Bc=null;Qk.prototype.o.call(this)};function $c(a){$c.j.constructor.call(this,a);this.wb=a.lc;this.wb.text=this.wb.text||"";this.Vl="";this.Nk=this.Kk=this.Uk=this.Rk=null;Pi(this)}B($c,Qk);g=$c.prototype;
g.pm=function(a){E(hc,{"class":"blocklyIconShape",r:"8",cx:"8",cy:"8"},a);E(tc,{"class":"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},a);E(wc,{"class":"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},a)};
g.dm=function(){this.Zh=E(pc,{x:hg,y:hg},null);var a=document.createElementNS("http://www.w3.org/1999/xhtml","body");a.setAttribute("xmlns","http://www.w3.org/1999/xhtml");a.className="blocklyMinimalBody";var b=this.eg=document.createElementNS("http://www.w3.org/1999/xhtml","textarea");b.className="blocklyCommentTextarea";b.setAttribute("dir",this.v.s?"RTL":"LTR");b.value=this.wb.text;Em(this);a.appendChild(b);this.Zh.appendChild(a);this.Rk=J(b,"mouseup",this,this.ku,!0,!0);this.Uk=J(b,"wheel",this,
function(c){c.stopPropagation()});this.Kk=J(b,"change",this,function(){this.Vl!=this.wb.text&&x(new (A("change"))(this.v,"comment",null,this.Vl,this.wb.text))});this.Nk=J(b,"input",this,function(){this.wb.text=b.value});setTimeout(b.focus.bind(b),0);return this.Zh};g.Ee=function(){$c.j.Ee.call(this);this.isVisible()&&(this.ak(),this.Tj())};g.Kt=function(){this.isVisible()&&(this.wb.size=this.Ma.Fm(),Em(this))};
function Em(a){var b=a.wb.size,c=2*hg,d=b.width-c;b=b.height-c;a.Zh.setAttribute("width",d);a.Zh.setAttribute("height",b);a.eg.style.width=d-4+"px";a.eg.style.height=b-4+"px"}g.na=function(a){a!=this.isVisible()&&(x(new (A("bubble_open"))(this.v,a,"comment")),(this.wb.Zn=a)?this.Tj():this.ak())};
g.Tj=function(){!this.v.Tb()||lb?(this.Yf=rg(this.v.lc.text),this.Ma=sg(this.Yf,this.v,this.Mf)):(this.Ma=new eg(this.v.h,this.dm(),this.v.xa.Ga,this.Mf,this.wb.size.width,this.wb.size.height),ng(this.Ma,this.v.id),this.Ma.mo=this.Kt.bind(this));this.Ja()};g.ak=function(){this.Rk&&(K(this.Rk),this.Rk=null);this.Uk&&(K(this.Uk),this.Uk=null);this.Kk&&(K(this.Kk),this.Kk=null);this.Nk&&(K(this.Nk),this.Nk=null);this.Ma.o();this.Yf=this.Zh=this.eg=this.Ma=null};
g.ku=function(){og(this.Ma)&&this.eg.focus();this.Vl=this.wb.text};g.Fm=function(){return this.wb.size};g.Mi=function(a,b){this.Ma?this.Ma.Mi(a,b):(this.wb.size.width=a,this.wb.size.height=b)};g.o=function(){this.v.Hh=null;Qk.prototype.o.call(this)};ii(".blocklyCommentTextarea {,background-color: #fef49c;,border: 0;,outline: 0;,margin: 0;,padding: 3px;,resize: none;,display: block;,text-overflow: hidden;,}".split(","));function Fm(){}Fm.prototype.Hn=function(){};Fm.prototype.In=function(){};Fm.prototype.Lk=function(){};Fm.prototype.Mk=function(){};function Gm(){Gm.j.constructor.call(this);this.ng=!1}B(Gm,Fm);Gm.prototype.Oo=function(a,b){a instanceof S?(a=!a.getParent()&&a.Oc(),this.kj(a&&!b)):this.kj(a.Oc());return this.ng};Gm.prototype.kj=function(a){this.ng=a};function Hm(a,b,c){Hm.j.constructor.call(this,c);this.Lq=a;this.Hq=b}B(Hm,ve);Hm.prototype.type="toolbox_item_select";Hm.prototype.R=function(){var a=Hm.j.R.call(this);a.oldItem=this.Lq;a.newItem=this.Hq;return a};Hm.prototype.N=function(a){Hm.j.N.call(this,a);this.Lq=a.oldItem;this.Hq=a.newItem};u(Ia,"toolbox_item_select",Hm);function Im(a,b,c){this.fe=a.toolboxitemid||"blockly-"+(ri++).toString(36);this.ln=(this.pe=c||null)?this.pe.ln+1:0;this.Ar=a;this.Vn=b;this.g=this.Vn.g}g=Im.prototype;g.F=function(){};g.Jm=function(){return null};g.T=function(){return this.fe};g.getParent=function(){return null};g.le=function(){return!1};g.o=function(){};function Jm(a,b,c){Jm.j.constructor.call(this,a,b,c);this.oe=Hb(a.name);this.sb=Km(this,a.colour);this.fn=this.Vm=this.Ki=this.Tc=this.ec=null;this.cd={container:"blocklyToolboxCategory",row:"blocklyTreeRow",rowcontentcontainer:"blocklyTreeRowContentContainer",icon:"blocklyTreeIcon",label:"blocklyTreeLabel",contents:"blocklyToolboxContents",selected:"blocklyTreeSelected",openicon:"blocklyTreeIconOpen",closedicon:"blocklyTreeIconClosed"};dc(this.cd,a.cssconfig||a.cssConfig);this.Bt=this.pq=!1;this.Lg=
[];b=a.contents;if(a.custom)this.Lg=a.custom;else if(b)for(a=0;c=b[a];a++)this.Lg.push(c)}B(Jm,Im);g=Jm.prototype;g.F=function(){this.Td();"true"==this.Ar.hidden&&this.lb()};
g.Td=function(){this.ec=this.cm();this.ec.setAttribute("role","treeitem");mi(this.ec,"selected",!1);mi(this.ec,"level",this.ln);var a=document.createElement("div");F(a,this.cd.row);var b=19*this.ln;b=b.toString()+"px";this.g.s?a.style.paddingRight=b:a.style.paddingLeft=b;this.Tc=a;this.Tc.style.pointerEvents="auto";this.ec.appendChild(this.Tc);a=document.createElement("div");F(a,this.cd.rowcontentcontainer);this.Ki=a;this.Ki.style.pointerEvents="none";this.Tc.appendChild(this.Ki);a=document.createElement("span");
F(a,this.cd.icon);a.style.display="inline-block";this.Vm=a;this.Vm.setAttribute("role","presentation");this.Ki.appendChild(this.Vm);a=this.oe;b=document.createElement("span");b.setAttribute("id",this.T()+".label");b.textContent=a;F(b,this.cd.label);this.fn=b;this.Ki.appendChild(this.fn);mi(this.ec,"labelledby",this.fn.getAttribute("id"));Lm(this,this.sb);return this.ec};g.cm=function(){var a=document.createElement("div");F(a,this.cd.container);return a};
g.eh=function(){this.sb=Km(this,this.Ar.colour);Lm(this,this.sb)};function Lm(a,b){b&&(b="8px solid "+(b||"#ddd"),a.g.s?a.Tc.style.borderRight=b:a.Tc.style.borderLeft=b)}g.jt=function(){return this.Tc};function Km(a,b){b=Hb(b);if(null==b||""===b)return"";var c=Number(b);if(isNaN(c)){if(c=Ua(b))return c;console.warn('Toolbox category "'+a.oe+'" has unrecognized colour attribute: '+b);return""}return Ya(c)}function Mm(a,b){a.ec.style.display=b?"block":"none";a.pq=!b;a.Vn.fb==a&&Nm(a.Vn,null)}
g.lb=function(){Mm(this,!1)};g.show=function(){Mm(this,!0)};g.isVisible=function(){var a;if(a=!this.pq)a:{for(a=this;a.getParent();)if(a=a.getParent(),!a.mv()){a=!1;break a}a=!0}return a};g.le=function(){return this.isVisible()&&!this.Bt};function Om(a,b){if(b){var c=Km(a,"#57e");a.Tc.style.backgroundColor=a.sb||c;F(a.Tc,a.cd.selected)}else a.Tc.style.backgroundColor="",Dc(a.Tc,a.cd.selected);mi(a.ec,"selected",b)}g.Fb=function(){return this.oe};g.getParent=function(){return this.pe};g.Jm=function(){return this.ec};
g.o=function(){G(this.ec)};
ii([".blocklyTreeRow:not(.blocklyTreeSelected):hover {","background-color: rgba(255, 255, 255, 0.2);","}",'.blocklyToolboxDiv[layout="h"] .blocklyToolboxCategory {',"margin: 1px 5px 1px 0;","}",'.blocklyToolboxDiv[dir="RTL"][layout="h"] .blocklyToolboxCategory {',"margin: 1px 0 1px 5px;","}",".blocklyTreeRow {","height: 22px;","line-height: 22px;","margin-bottom: 3px;","padding-right: 8px;","white-space: nowrap;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {',"margin-left: 8px;","padding-right: 0px",
"}",".blocklyTreeIcon {","background-image: url(<<<PATH>>>/sprites.png);","height: 16px;","vertical-align: middle;","visibility: hidden;","width: 16px;","}",".blocklyTreeIconClosed {","background-position: -32px -1px;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeIconClosed {',"background-position: 0 -1px;","}",".blocklyTreeSelected>.blocklyTreeIconClosed {","background-position: -32px -17px;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeSelected>.blocklyTreeIconClosed {',"background-position: 0 -17px;",
"}",".blocklyTreeIconOpen {","background-position: -16px -1px;","}",".blocklyTreeSelected>.blocklyTreeIconOpen {","background-position: -16px -17px;","}",".blocklyTreeLabel {","cursor: default;","font: 16px sans-serif;","padding: 0 3px;","vertical-align: middle;","}",".blocklyToolboxDelete .blocklyTreeLabel {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyTreeSelected .blocklyTreeLabel {","color: #fff;","}"]);u(Na,"category",Jm);function Pm(a,b){Pm.j.constructor.call(this,a,b);this.cd={container:"blocklyTreeSeparator"};dc(this.cd,a.cssconfig||a.cssConfig)}B(Pm,Im);Pm.prototype.F=function(){this.Td()};Pm.prototype.Td=function(){var a=document.createElement("div");F(a,this.cd.container);return this.ec=a};Pm.prototype.Jm=function(){return this.ec};Pm.prototype.o=function(){G(this.ec)};ii('.blocklyTreeSeparator {,border-bottom: solid #e5e5e5 1px;,height: 0;,margin: 5px 0;,},.blocklyToolboxDiv[layout="h"] .blocklyTreeSeparator {,border-right: solid #e5e5e5 1px;,border-bottom: none;,height: auto;,margin: 0 5px 0 5px;,padding: 5px 0;,width: 0;,}'.split(","));
u(Na,"sep",Pm);function Qm(a){Qm.j.constructor.call(this);this.g=a;this.id="toolbox";this.zr=a.options.Dd||{contents:[]};this.Pe=this.ic=null;this.vc=!1;this.ua=[];this.ub=this.qa=0;this.s=a.options.s;this.L=null;this.bm=Object.create(null);this.Wa=a.options.Wa;this.fb=null;this.Dh=[]}B(Qm,Gm);g=Qm.prototype;
g.F=function(){var a=this.g,b=L(a),c=this.g,d=new Lf({parentWorkspace:c,rtl:c.s,oneBasedIndex:c.options.yi,renderer:c.options.Hi,rendererOverrides:c.options.Ii,move:{scrollbars:!0}});d.Wa=c.options.Wa;this.L=new (Sa(Oa,c.options,!0))(d);this.ic=this.Td(this.g);Fc(this.L.Fa("svg"),b);this.na(!0);this.L.F(a);this.P(this.zr);a=a.ib;a.subscribe(this.ic,"toolboxBackgroundColour","background-color");a.subscribe(this.ic,"toolboxForegroundColour","color");ze(this.g.ad,{component:this,weight:1,Pd:[He,Ce,Ge]})};
g.Td=function(a){var b=L(a);a=this.cm();var c=document.createElement("div");F(c,"blocklyToolboxContents");this.Pe=c;this.Pe.tabIndex=0;this.Pe.setAttribute("role","tree");a.appendChild(this.Pe);b.parentNode.insertBefore(a,b);b=this.Pe;c=J(a,"click",this,this.Lt,!1,!0);this.Dh.push(c);b=J(b,"keydown",this,this.Ot,!1,!0);this.Dh.push(b);return a};
g.cm=function(){var a=document.createElement("div");a.setAttribute("layout","v");F(a,"blocklyToolboxDiv");F(a,"blocklyNonSelectable");a.setAttribute("dir",this.s?"RTL":"LTR");return a};g.Lt=function(a){if(Eb(a)||a.target==this.ic)Af(!1);else{if(a=a.target.getAttribute("id"))a=this.bm[a]||null,a.le()&&Nm(this,a);Af(!0)}Id=null};
g.Ot=function(a){var b=!1;switch(a.keyCode){case 40:a:{if(this.fb&&(b=this.ua.indexOf(this.fb)+1,-1<b&&b<this.ua.length)){for(var c=this.ua[b];c&&!c.le();)c=this.ua[++b];if(c&&c.le()){Nm(this,c);b=!0;break a}}b=!1}break;case 38:a:{if(this.fb&&(b=this.ua.indexOf(this.fb)-1,-1<b&&b<this.ua.length)){for(c=this.ua[b];c&&!c.le();)c=this.ua[--b];if(c&&c.le()){Nm(this,c);b=!0;break a}}b=!1}break;case 37:this.fb?this.fb.getParent()&&this.fb.getParent().le()?(Nm(this,this.fb.getParent()),b=!0):b=!1:b=!1;break;
case 39:b=!1;break;case 13:case 32:break;default:b=!1}!b&&this.fb&&this.fb.Mn&&(b=this.fb.Mn(a));b&&a.preventDefault()};
g.P=function(a){this.zr=a;for(var b=0;b<this.ua.length;b++){var c=this.ua[b];c&&c.o()}this.ua=[];this.bm=Object.create(null);a=a.contents;b=document.createDocumentFragment();c=0;for(var d;d=a[c];c++){var e=d;d=b;var f=Ra(Na,e.kind.toLowerCase());f&&(f=e=new f(e,this),this.ua.push(f),this.bm[f.T()]=f,e.F(),(f=e.Jm())&&d.appendChild(f),e.jt&&e.Tc.setAttribute("id",e.T()))}this.Pe.appendChild(b);this.position();a=this.g;b=this.ic.getBoundingClientRect();a.translate(2==this.Wa?a.scrollX+b.width:a.scrollX,
a.scrollY);Jj(a)};g.Hm=function(){if(!this.ic||!this.vc)return null;var a=this.ic.getBoundingClientRect(),b=a.left;a=b+a.width;return 2==this.Wa?new $a(-1E7,1E7,-1E7,a):new $a(-1E7,1E7,b,1E7)};g.Oo=function(a){a instanceof S?this.kj(!a.getParent()&&a.Oc()):this.kj(a.Oc());return this.ng};g.Hn=function(){Rm(this,!0)};g.Lk=function(){Rm(this,!1)};g.Mk=function(){Rm(this,!1)};g.kj=function(a){a!==this.ng&&(Rm(this,!1),this.ng=a,Rm(this,!0))};
function Rm(a,b){var c=a.ng?"blocklyToolboxDelete":"blocklyToolboxGrab";b?F(a.ic,c):Dc(a.ic,c)}g.ee=function(){return this.qa};g.qc=function(){return this.L};g.position=function(){var a=this.g.rc(),b=this.ic;b&&(3==this.Wa?b.style.right="0":b.style.left="0",b.style.height="100%",this.qa=b.offsetWidth,this.ub=a.Bb,this.L.position())};g.eh=function(){for(var a=0;a<this.ua.length;a++){var b=this.ua[a];b.eh&&b.eh()}};g.na=function(a){this.vc!==a&&(this.ic.style.display=a?"block":"none",this.vc=a,xj(this.g))};
g.pp=function(a){!a&&this.L&&this.L.He&&Nm(this,null)};function Nm(a,b){var c=a.fb;if((b||c)&&(!b||b.le())){null!=c&&null!=c&&(a.fb=null,Om(c,!1),mi(a.Pe,"activedescendant",""));null!=b&&b!=c&&null!=b&&(a.fb=b,Om(b,!0),mi(a.Pe,"activedescendant",b.T()));c!=b&&b&&b.Lg.length?(a.L.show(b.Lg),a.L.qo()):a.L.lb();var d=c&&c.Fb(),e=b&&b.Fb();c==b&&(e=null);a=new (A("toolbox_item_select"))(d,e,a.g.id);x(a)}}
g.o=function(){Ae(this.g.ad,"toolbox");this.L.o();for(var a=0;a<this.ua.length;a++)this.ua[a].o();for(a=0;a<this.Dh.length;a++)K(this.Dh[a]);this.Dh=[];this.ua=[];this.g.ib.unsubscribe(this.ic);G(this.ic)};
ii([".blocklyToolboxDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyToolboxGrab {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyToolboxDiv {","background-color: #ddd;","overflow-x: visible;","overflow-y: auto;","padding: 4px 0 4px 0;","position: absolute;","z-index: 70;","-webkit-tap-highlight-color: transparent;","}",".blocklyToolboxContents {","display: flex;","flex-wrap: wrap;","flex-direction: column;",
"}",".blocklyToolboxContents:focus {","outline: none;","}"]);u(La,"default",Qm);function Sm(a,b){Sm.j.constructor.call(this,b);this.Wg=a}B(Sm,ve);Sm.prototype.type="trashcan_open";Sm.prototype.R=function(){var a=Sm.j.R.call(this);a.isOpen=this.Wg;return a};Sm.prototype.N=function(a){Sm.j.N.call(this,a);this.Wg=a.isOpen};u(Ia,"trashcan_open",Sm);function Kj(a){Kj.j.constructor.call(this);this.g=a;this.id="trashcan";this.ua=[];this.Lc=null;0>=this.g.options.Ek||(a=new Lf({scrollbars:!0,parentWorkspace:this.g,rtl:this.g.s,oneBasedIndex:this.g.options.yi,renderer:this.g.options.Hi,rendererOverrides:this.g.options.Ii,move:{scrollbars:!0}}),a.Wa=3==this.g.Wa?2:3,this.Lc=new (Sa(Oa,this.g.options,!0))(a),cg(this.g,this.Mt.bind(this)))}B(Kj,Gm);g=Kj.prototype;g.Bg=47;g.pj=44;g.ug=16;g.Zo=20;g.ws=20;g.xj=10;g.Hl=0;g.Il=32;g.qs=.1;g.vk=!1;g.xn=0;
g.B=null;g.ml=null;g.mn=0;g.bf=0;g.zk=0;g.ql=0;g.kq=!1;
g.Fa=function(){this.B=E(qc,{"class":"blocklyTrash"},null);var a=String(Math.random()).substring(2);var b=E(ic,{id:"blocklyTrashBodyClipPath"+a},this.B);E(wc,{width:this.Bg,height:this.pj,y:this.ug},b);var c=E(rc,{width:96,x:-this.Hl,height:124,y:-this.Il,"clip-path":"url(#blocklyTrashBodyClipPath"+a+")"},this.B);c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.g.options.zi+"sprites.png");b=E(ic,{id:"blocklyTrashLidClipPath"+a},this.B);E(wc,{width:this.Bg,height:this.ug},b);this.ml=
E(rc,{width:96,x:-this.Hl,height:124,y:-this.Il,"clip-path":"url(#blocklyTrashLidClipPath"+a+")"},this.B);this.ml.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.g.options.zi+"sprites.png");Td(this.B,"mousedown",this,this.Ss);Td(this.B,"mouseup",this,this.click);Td(c,"mouseover",this,this.Gt);Td(c,"mouseout",this,this.Et);this.Ll();return this.B};
g.F=function(){0<this.g.options.Ek&&(Fc(this.Lc.Fa(xc),L(this.g)),this.Lc.F(this.g));ze(this.g.ad,{component:this,weight:1,Pd:[He,Ce,Ge,Fe]});this.kq=!0;this.hh(!1)};g.o=function(){Ae(this.g.ad,"trashcan");this.B&&(G(this.B),this.B=null);this.g=this.ml=null;clearTimeout(this.mn)};g.pp=function(a){!a&&this.Lc&&this.Lc&&this.Lc.isVisible()&&(this.Lc.lb(),Tm(this,!1))};
g.position=function(a,b){if(this.kq){var c=new hb(this.Bg,this.pj+this.ug);var d=this.ws;var e=this.Zo,f=this.g,h=f.ma&&!!f.ma.oa;0===(2!==a.qu.position?0:1)?(d=a.Jl.left+d,h&&f.s&&(d+=ff)):(d=a.Jl.left+a.Ir.width-c.width-d,h&&!f.s&&(d-=ff));a=a.Jl.top+a.Ir.height-c.height-e;f.ma&&f.ma.sa&&(a-=ff);d=new $a(a,a+c.height,d,d+c.width);c=this.Zo;f=d.left;a=d.right-d.left;e=d.bottom-d.top;h=0;for(var k;k=b[h];h++)d.left>k.right||d.right<k.left||d.top>k.bottom||d.bottom<k.top||(d=k.top-e-c,d=new $a(d,d+
e,f,f+a),h=-1);b=d;this.ql=b.top;this.zk=b.left;this.B.setAttribute("transform","translate("+this.zk+","+this.ql+")")}};g.ai=function(){return new $a(this.ql,this.ql+this.pj+this.ug,this.zk,this.zk+this.Bg)};g.Hm=function(){if(!this.B)return null;var a=this.B.getBoundingClientRect(),b=a.top+this.Il-this.xj;a=a.left+this.Hl-this.xj;return new $a(b,b+this.ug+this.pj+2*this.xj,a,a+this.Bg+2*this.xj)};g.In=function(){this.hh(this.ng)};g.Lk=function(){this.hh(!1)};
g.Mk=function(){setTimeout(this.hh.bind(this,!1),100)};g.hh=function(a){this.vk!=a&&(clearTimeout(this.mn),this.vk=a,this.Ll())};g.Ll=function(){this.bf+=this.vk?.2:-.2;this.bf=Math.min(Math.max(this.bf,this.xn),1);Um(this,45*this.bf);this.B.style.opacity=.4+.4*this.bf;this.bf>this.xn&&1>this.bf&&(this.mn=setTimeout(this.Ll.bind(this),20))};function Um(a,b){var c=3==a.g.Wa;a.ml.setAttribute("transform","rotate("+(c?-b:b)+","+(c?4:a.Bg-4)+","+(a.ug-2)+")")}
g.click=function(){if(this.ua.length&&(!this.Lc||!this.Lc.isVisible())){var a=this.ua.map(Pc);this.Lc.show(a);Tm(this,!0)}};function Tm(a,b){a=new (A("trashcan_open"))(b,a.g.id);x(a)}g.Ss=function(a){this.Lc&&this.Lc.isVisible()||!this.ua.length||a.stopPropagation()};g.Gt=function(){this.ua.length&&this.hh(!0)};g.Et=function(){this.hh(!1)};
g.Mt=function(a){if(!(0>=this.g.options.Ek)&&"delete"==a.type&&a.ah.tagName&&"shadow"!=a.ah.tagName.toLowerCase()){for(var b=a=a.ah.cloneNode(!0);b;){b.removeAttribute&&(b.removeAttribute("x"),b.removeAttribute("y"),b.removeAttribute("id"),b.removeAttribute("disabled"),"comment"==b.nodeName&&(b.removeAttribute("h"),b.removeAttribute("w"),b.removeAttribute("pinned")));var c=b.firstChild||b.nextSibling;if(!c)for(c=b.parentNode;c;){if(c.nextSibling){c=c.nextSibling;break}c=c.parentNode}b=c}a=Oc(a);if(-1==
this.ua.indexOf(a)){for(this.ua.unshift(a);this.ua.length>this.g.options.Ek;)this.ua.pop();this.xn=a=this.qs;this.vk||Um(this,45*a)}}};function Vm(a){Vm.j.constructor.call(this);a.Ni=this.du.bind(this);var b=this.g=new nj(a),c=new gj(this.g,this);b.Xb=c;b.rc=b.Xb.rc.bind(b.Xb);this.g.jd=!0;this.g.na(this.vc);this.id=Kb();this.s=!!a.s;this.wf=a.Wa;this.ym=[];this.Ck=[];this.Eh=[];this.bb=[];this.Yn=[];this.mh=this.g.ya.G().Dj;this.W=null}B(Vm,Gm);g=Vm.prototype;g.He=!0;g.vc=!1;g.Ef=!0;g.ta=8;g.vg=Vm.prototype.ta;g.ps=3*Vm.prototype.vg;g.Es=2.5;g.qa=0;g.ub=0;g.et=70;
g.Fa=function(a){this.B=E(a,{"class":"blocklyFlyout",style:"display: none"},null);this.zb=E(tc,{"class":"blocklyFlyoutBackground"},this.B);this.B.appendChild(this.g.Fa());this.g.ib.subscribe(this.zb,"flyoutBackgroundColour","fill");this.g.ib.subscribe(this.zb,"flyoutOpacity","fill-opacity");return this.B};
g.F=function(a){this.W=a;this.g.W=a;this.g.ma=new df(this.g,!1,!0,"blocklyFlyoutScrollbar",this.Es);this.lb();Array.prototype.push.apply(this.ym,J(this.B,"wheel",this,this.Du));this.He||(this.fk=this.zm.bind(this),cg(this.W,this.fk));Array.prototype.push.apply(this.ym,J(this.zb,"mousedown",this,this.ff));this.g.Se=this.W.Se.bind(this.W);this.g.zo(this.W.Y);var b=this.g;b.kf=new Qf(b);ze(a.ad,{component:this,weight:1,Pd:[Ce,Ge]})};
g.o=function(){this.lb();Ae(this.g.ad,this.id);K(this.ym);this.fk&&(Pb(this.W.bb,this.fk),this.fk=null);this.g&&(this.g.ib.unsubscribe(this.zb),this.g.W=null,this.g.o(),this.g=null);this.B&&(G(this.B),this.B=null);this.W=this.zb=null};g.ee=function(){return this.qa};g.isVisible=function(){return this.vc};g.na=function(a){var b=a!=this.isVisible();this.vc=a;b&&(this.He||xj(this.g),this.hj())};g.$f=function(a){var b=a!=this.Ef;this.Ef=a;b&&this.hj()};
g.hj=function(){var a=this.Ef?this.isVisible():!1;this.B.style.display=a?"block":"none";this.g.ma.$f(a)};g.lb=function(){if(this.isVisible()){this.na(!1);for(var a=0,b;b=this.bb[a];a++)K(b);this.bb.length=0;this.lf&&(Pb(this.g.bb,this.lf),this.lf=null)}};
g.show=function(a){this.g.Hb(!1);this.lb();Wm(this);"string"==typeof a&&(a=Xm(this,a));this.na(!0);a=Jf(a);a=Ym(this,a);Zm(this,a.Xs,a.ht);this.bb.push(J(this.zb,"mouseover",this,function(){for(var b=this.g.$a(!1),c=0,d;d=b[c];c++)d.Gi()}));this.qa=0;this.g.Hb(!0);this.ho();this.zm();this.position();this.lf=this.ho.bind(this);cg(this.g,this.lf)};
function Ym(a,b){var c=[],d=[];a.Yn.length=0;for(var e=a.ps,f=0,h;h=b[f];f++){if(h.custom){var k=Xm(a,h.custom);k=Jf(k);b.splice.apply(b,[f,1].concat(k));h=b[f]}switch(h.kind.toUpperCase()){case "BLOCK":k=h;var m=k;h=null;var n=m.blockxml;n&&"string"!=typeof n?h=n:n&&"string"==typeof n?(h=Pc(n),m.blockxml=h):m.type&&(h=C("xml"),h.setAttribute("type",m.type),h.setAttribute("disabled",m.disabled),m.blockxml=h);if(!h)throw Error("Error: Invalid block definition. Block definition must have blockxml or type.");
m=h;h=a;n=Rc(m,h.g);n.isEnabled()||h.Yn.push(n);h=n;k=parseInt(k.gap||m.getAttribute("gap"),10);d.push(isNaN(k)?e:k);c.push({type:"block",block:h});break;case "SEP":k=d;m=e;h=parseInt(h.gap,10);!isNaN(h)&&0<k.length?k[k.length-1]=h:k.push(m);break;case "LABEL":k=$m(a,h,!0);c.push({type:"button",button:k});d.push(e);break;case "BUTTON":k=$m(a,h,!1),c.push({type:"button",button:k}),d.push(e)}}return{Xs:c,ht:d}}
function Xm(a,b){b=a.g.W.Ho[b]||null;if("function"!=typeof b)throw TypeError("Couldn't find a callback function when opening a toolbox category.");a=b(a.g.W);if(!Array.isArray(a))throw new TypeError("Result of toolbox category callback must be an array.");return a}function $m(a,b,c){if(!la.ns)throw Error("Missing require for Blockly.FlyoutButton");return new la.ns(a.g,a.W,b,c)}
function Wm(a){for(var b=a.g.$a(!1),c=0,d;d=b[c];c++)d.h==a.g&&d.o(!1,!1);for(c=0;c<a.Ck.length;c++)if(b=a.Ck[c])Lg(b),G(b);for(c=a.Ck.length=0;b=a.Eh[c];c++)b.o();a.Eh.length=0;a.g.kf.clear()}function an(a,b){return function(c){var d=a.W.Se(c);d&&(ah(d,b),$g(d,c,a))}}g.ff=function(a){var b=this.W.Se(a);b&&$g(b,a,this)};
function Wg(a,b){var c=null;w++;var d=a.W.Gf();a.W.Hb(!1);try{var e=a.W;if(!b.U())throw Error("oldBlock is not rendered.");var f=Mc(b,!0);e.Hb(!1);var h=Rc(f,e);if(!h.U())throw Error("block is not rendered.");var k=Db(e.Da),m=Db(a.g.Da),n=b.ga();n.scale(a.g.scale);var p=qa(ra(m,n),k);p.scale(1/e.scale);h.moveBy(p.x,p.y);c=h}finally{w--}Af();b=Xc(a.W,d);if(0==w){z(!0);for(d=0;d<b.length;d++)e=b[d],x(new (A("var_create"))(e));x(new (A("create"))(c))}a.He?a.lb():a.zm();return c}
g.zm=function(){for(var a=this.g.$a(!1),b=0,c;c=a[b];b++)if(-1==this.Yn.indexOf(c))for(var d=$f(this.W,Qb(c));c;)c.Yb(d),c=Ca(c)};
g.ho=function(){this.lf&&Pb(this.g.bb,this.lf);this.g.scale=this.W.scale;for(var a=0,b=this.g.$a(!1),c=0,d;d=b[c];c++){var e=Ue(d).width;d.u&&(e-=this.mh);a=Math.max(a,e)}for(c=0;d=this.Eh[c];c++)a=Math.max(a,d.width);a+=1.5*this.vg+this.mh;a*=this.g.scale;a+=ff;if(this.qa!=a){for(c=0;d=b[c];c++){if(this.s){e=d.ga().x;var f=a/this.g.scale-this.vg;d.u||(f-=this.mh);d.moveBy(f-e,0)}d.Up&&(e=d.Up,f=d,d=Ue(f),e.setAttribute("width",d.width),e.setAttribute("height",d.height),f=f.ga(),e.setAttribute("y",
f.y),e.setAttribute("x",this.s?f.x-d.width:f.x))}if(this.s)for(c=0;d=this.Eh[c];c++)b=d.jv().y,d.moveTo(a/this.g.scale-d.width-this.vg-this.mh,b);this.W.Wa!=this.wf||2!=this.wf||this.W.za||this.W.translate(this.W.scrollX+a,this.W.scrollY);this.qa=a;this.position();xj(this.W)}this.lf&&cg(this.g,this.lf)};function Ug(a){return a.g.ma?a.g.ma.isVisible():!1};function bn(a){bn.j.constructor.call(this,a)}B(bn,Vm);g=bn.prototype;g.du=function(a){if(this.isVisible()){var b=this.g.Xb,c=b.Ue(),d=qg(b);b=ej(b);"number"==typeof a.y&&(this.g.scrollY=-(c.top+(c.height-d.height)*a.y));this.g.translate(this.g.scrollX+b.left,this.g.scrollY+b.top)}};
g.position=function(){if(this.isVisible()&&this.W.isVisible()){var a=qg(this.W.Xb);this.ub=a.height;var b=this.qa-this.ta;a=a.height-2*this.ta;var c=3==this.wf,d=b+this.ta;d=["M "+(c?d:0)+",0"];d.push("h",c?-b:b);d.push("a",this.ta,this.ta,0,0,c?0:1,c?-this.ta:this.ta,this.ta);d.push("v",Math.max(0,a));d.push("a",this.ta,this.ta,0,0,c?0:1,c?this.ta:-this.ta,this.ta);d.push("h",c?b:-b);d.push("z");this.zb.setAttribute("d",d.join(" "));this.isVisible()?(c=this.W.Xb,b=ej(c),a=qg(c),c=dj(c),c=this.W.Wa==
this.wf?this.W.za?2==this.wf?c.width:a.width-this.qa:2==this.wf?0:a.width:2==this.wf?0:a.width+b.left-this.qa):c=0;b=this.qa;a=this.ub;this.B.setAttribute("width",b);this.B.setAttribute("height",a);Aj(this.g,b,a);"svg"==this.B.tagName?Gc(this.B,"translate("+c+"px,0px)"):this.B.setAttribute("transform","translate("+c+",0)");if(b=this.g.ma)b.fl(c,0),b.resize(),b.sa&&b.sa.setPosition(b.sa.position.x,b.sa.position.y),b.oa&&b.oa.setPosition(b.oa.position.x,b.oa.position.y)}};
g.qo=function(){var a=this.g.ma;a.oa&&a.oa.set(0,!0)};g.Du=function(a){var b=Gb(a);if(b.y){var c=this.g.Xb,d=c.Ue();b=qg(c).top-d.top+b.y;c=this.g.ma;c.oa&&c.oa.set(b,!0);nh();ne()}a.preventDefault();a.stopPropagation()};
function Zm(a,b,c){a.g.scale=a.W.scale;for(var d=a.vg,e=a.s?d:d+a.mh,f=0,h;h=b[f];f++)if("block"==h.type){h=h.block;for(var k=Rb(h,!1),m=0,n;n=k[m];m++)n.Ba=!0;h.P();n=h.U();k=Ue(h);m=h.u?e-a.mh:e;h.moveBy(m,d);var p=a,t=h,y=f;m=E(wc,{"fill-opacity":0,x:a.s?m-k.width:m,y:d,height:k.height,width:k.width},null);m.Xc=t;Hg(m);p.g.Da.insertBefore(m,t.U());t.Up=m;p.Ck[y]=m;p=a;p.bb.push(J(n,"mousedown",null,an(p,h)));p.bb.push(J(m,"mousedown",null,an(p,h)));p.bb.push(Td(n,"mouseenter",h,h.Ej));p.bb.push(Td(n,
"mouseleave",h,h.Gi));p.bb.push(Td(m,"mouseenter",h,h.Ej));p.bb.push(Td(m,"mouseleave",h,h.Gi));d+=k.height+c[f]}else"button"==h.type&&(k=a,m=h.button,n=e,p=d,t=m.Fa(),m.moveTo(n,p),m.show(),k.bb.push(J(t,"mousedown",k,k.ff)),k.Eh.push(m),d+=h.button.height+c[f])}g.Hm=function(){if(!this.B||this.He||!this.isVisible())return null;var a=this.B.getBoundingClientRect(),b=a.left;return 2==this.wf?new $a(-1E9,1E9,-1E9,b+a.width):new $a(-1E9,1E9,b,1E9)};u(Oa,"default",bn);function cn(a,b,c){var d=Y;this.name=a;this.rr=b;this.iu=c||0;this.Ie=d;this.$=new q;this.ud=!1;this.gn=this.vd=this.speed=this.facing=this.Wd=this.ea=0;this.reset();this.ul=d.Ib.length;d.Ib.push(this);console.log(this+" loaded.")}cn.prototype.toString=function(){return"["+this.name+"]"};cn.prototype.reset=function(){this.ud=!1;this.gn=this.vd=this.speed=0;this.ea=this.iu;this.$.x=this.rr.x;this.$.y=this.rr.y;this.facing=this.Wd=Wl(180*Math.atan2(50-this.$.y,50-this.$.x)/Math.PI);this.nq=null};
cn.prototype.Wm=function(){this.nq=new Interpreter(this.Bp,this.Ie.Wm)};function dn(a,b){a.ea+=b;100<=a.ea&&en(a)}function en(a){a.speed=0;a.ud=!0;a.ea=100;a.Ie.zh.unshift(a);a.Ie.Od.push({type:"DIE",avatar:a});console.log(a+" sinks.")}cn.prototype.stop=function(){this.vd=0};var Y={Ib:[],zh:[],Od:[],wg:[],os:50,Js:100,Ds:.5,Gc:null,Nr:1,cp:3,Po:5,Rr:5,vl:3,Yq:0,ek:0,Go:0,Ls:3E5,mm:null,reset:function(){clearTimeout(Y.Yq);Y.Od.length=0;Y.wg.length=0;Y.zh.length=0;Y.Go=0;for(var a=l(Y.Ib),b=a.next();!b.done;b=a.next())b.value.reset()},start:function(a){Y.mm=a;Y.ek=Date.now()+Y.Ls;console.log("Starting battle with "+Y.Ib.length+" avatars.");a=l(Y.Ib);for(var b=a.next();!b.done;b=a.next()){b=b.value;try{b.Wm()}catch(c){console.log(b+" fails to load: "+c),en(b)}}Y.update()},
update:function(){Y.yu();Y.zu();Y.xu();Y.Ib.length<=Y.zh.length+1&&(Y.ek=Math.min(Y.ek,Date.now()+1E3));Date.now()>Y.ek?Y.stop():Y.Yq=setTimeout(Y.update,1E3/Y.os)},stop:function(){for(var a=[],b=l(Y.Ib),c=b.next();!c.done;c=b.next())c=c.value,c.ud||a.push(c);b=a.length;for(a.sort(function(d,e){return d.ea-e.ea});a.length;)Y.zh.unshift(a.pop());Y.mm&&Y.mm(b)},zu:function(){for(var a=Y.wg.length-1;0<=a;a--){var b=Y.wg[a];b.progress+=Y.cp;var c=0;if(b.Yk-b.progress<Y.cp/2){Y.wg.splice(a,1);for(var d=
l(Y.Ib),e=d.next();!e.done;e=d.next())if(e=e.value,!e.ud){var f=10*(1-pa(e.$,b.Vh)/4);0<f&&(dn(e,f),c=Math.max(c,f))}Y.Od.push({type:"BOOM",damage:c,x:b.Vh.x,y:b.Vh.y})}}},xu:function(){for(var a=l(Y.Ib),b=a.next();!b.done;b=a.next())if(b=b.value,!b.ud&&(b.speed<b.vd?b.speed=Math.min(b.speed+Y.Po,b.vd):b.speed>b.vd&&(b.speed=Math.max(b.speed-Y.Po,b.vd)),0<b.speed)){var c=Y.zp(b)[1],d=Ud(b.Wd),e=b.speed/100*Y.Nr,f=Math.cos(d)*e;d=Math.sin(d)*e;b.$.x+=f;b.$.y+=d;if(0>b.$.x||100<b.$.x||0>b.$.y||100<
b.$.y)b.$.x=Vd(b.$.x,0,100),b.$.y=Vd(b.$.y,0,100),c=b.speed/100*Y.vl,dn(b,c),b.speed=0,b.vd=0,Y.Od.push({type:"CRASH",avatar:b,damage:c});else{e=Y.zp(b);var h=l(e);e=h.next().value;h=h.next().value;h<Y.Rr&&c>h&&(b.$.x-=f,b.$.y-=d,c=Math.max(b.speed,e.speed)/100*Y.vl,dn(b,c),b.speed=0,b.vd=0,dn(e,c),e.speed=0,e.vd=0,Y.Od.push({type:"CRASH",avatar:b,damage:c},{type:"CRASH",avatar:e,damage:c}))}}},yu:function(){for(var a=0;a<Y.Js;a++){Y.Go++;for(var b=l(Y.Ib),c=b.next();!c.done;c=b.next())if(c=c.value,
!c.ud){Y.Gc=c;try{c.nq.step()}catch(d){console.log(c+" throws an error: "+d),en(c)}Y.Gc=null}}},Wm:function(a,b){function c(h){a.setProperty(b,h,a.createNativeFunction(d,!1))}var d=function(h){console.log(Y.Gc.name+" logs: "+Number(h))};c("log");d=function(h,k){var m=h;h=Y.Gc;var n=void 0===k||null===k?5:k;if("number"!==typeof m||isNaN(m)||"number"!==typeof n||isNaN(n))throw TypeError();m=Wl(m);n=Vd(n,0,20);h.Ie.Od.push({type:"SCAN",avatar:h,degree:m,resolution:n});k=Wl(m-n/2);m=Wl(m+n/2);k>m&&(m+=
360);n=h.$.x;for(var p=h.$.y,t=Infinity,y=l(h.Ie.Ib),D=y.next();!D.done;D=y.next()){var ea=D.value;if(ea!==h&&!ea.ud){D=ea.$.x;var Z=ea.$.y;ea=Math.sqrt((Z-p)*(Z-p)+(D-n)*(D-n));ea>=t||(D=Math.atan2(Z-p,D-n),D=Wl(180*D/Math.PI),D<k&&(D+=360),k<=D&&D<=m&&(t=ea))}}return t};c("scan");d=function(h,k){var m=k;k=Y.Gc;if("number"!==typeof h||isNaN(h)||"number"!==typeof m||isNaN(m))throw TypeError;var n=Date.now();k.gn+1E3*k.Ie.Ds>n?h=!1:(k.gn=n,n=new q(k.$.x,k.$.y),h=Wl(h),k.facing=h,m=Vd(m,0,70),h={Rs:k,
Xi:n,Wd:h,Yk:m,Vh:new q(n.x+m*Math.cos(Ud(h)),n.y+m*Math.sin(Ud(h))),progress:0},k.Ie.wg.push(h),k.Ie.Od.push({type:"BANG",avatar:k,degree:h.Wd}),h=!0);return h};c("cannon");d=function(h,k){var m=Y.Gc;k=void 0===k||null===k?50:k;if("number"!==typeof h||isNaN(h)||"number"!==typeof k||isNaN(k))throw TypeError;h=Wl(h);m.Wd!==h&&(50>=m.speed?(m.Wd=h,m.facing=m.Wd):k=0);0===m.speed&&0<k&&(m.speed=.1);m.vd=Vd(k,0,100)};c("drive");c("swim");d=function(){Y.Gc.stop()};c("stop");d=function(){return Y.Gc.ea};
c("damage");d=function(){return 100-Y.Gc.ea};c("health");d=function(){return Y.Gc.speed};c("speed");d=function(){return Y.Gc.$.x};c("loc_x");c("getX");d=function(){return Y.Gc.$.y};c("loc_y");c("getY");var e=a.getProperty(b,"Math");if(e){var f=function(h){a.setProperty(e,h,a.createNativeFunction(d,!1))};d=function(h){return Math.sin(Ud(h))};f("sin_deg");d=function(h){return Math.cos(Ud(h))};f("cos_deg");d=function(h){return Math.tan(Ud(h))};f("tan_deg");d=function(h){return 180*Math.asin(h)/Math.PI};
f("asin_deg");d=function(h){return 180*Math.acos(h)/Math.PI};f("acos_deg");d=function(h){return 180*Math.atan(h)/Math.PI};f("atan_deg")}},zp:function(a){for(var b=null,c=Infinity,d=l(Y.Ib),e=d.next();!e.done;e=d.next())if(e=e.value,!e.ud&&a!==e){var f=Math.min(c,pa(a.$,e.$));f<c&&(c=f,b=e)}return[b,c]}};var fn,gn,hn,jn=new Map,kn=[],ln=new Image;ln.src="pond/sprites.png";var mn=["#ff8b00","#c90015","#166c0b","#223068"],nn=0,on=new Map;
function pn(){clearTimeout(nn);kn.length=0;var a=U("avatarStatRow1");a.innerHTML="";var b=U("avatarStatRow2");b.innerHTML="";for(var c=[],d=[],e=U("avatar-select"),f=0;f<Y.Ib.length;f++){var h=Y.Ib[f],k=Math.floor(f/2)%2?b:a,m=mn[h.ul%mn.length],n=document.createElement("td");e&&(n.className="asButton",n.setAttribute("role","button"),n.addEventListener("click",function(t){return function(){e.selectedIndex=t;var y=document.createEvent("HTMLEvents");y.initEvent("change",!1,!0);e.dispatchEvent(y)}}(f)));
n.style.borderColor=m;var p=document.createElement("div");p.className="avatarStatHealth";p.style.background=m;h.Cu=p;d[f]=p;n.appendChild(p);m=document.createElement("div");m.className="avatarStatName";m.appendChild(document.createTextNode(h.name));c[f]=m;n.appendChild(m);h=document.createElement("div");h.appendChild(document.createTextNode("\u00a0"));n.appendChild(h);Il?k.insertBefore(n,k.firstChild):k.appendChild(n)}a=l(c);for(b=a.next();!b.done;b=a.next())b=b.value,b.style.width=b.parentNode.offsetWidth-
2+"px";d=l(d);for(b=d.next();!b.done;b=d.next())a=b.value,a.style.height=a.parentNode.offsetHeight-2+"px";qn()}var rn=0,sn=0;function tn(){qn();var a=Date.now(),b=Math.max(1,1E3/36-(a-rn-sn));nn=setTimeout(tn,b);rn=a;sn=b}function un(a){return a/100*(hn-35)+17.5}
function qn(){var a=fn;a.beginPath();a.rect(0,0,a.canvas.width,a.canvas.height);a.fillStyle="#527dbf";a.fill();for(var b=[],c=l(Y.Ib),d=c.next();!d.done;d=c.next())d=d.value,d.ud?b.push(d):b.unshift(d);c=l(b);for(d=c.next();!d.done;d=c.next()){var e=d.value;a.save();a.translate(un(e.$.x),un(100-e.$.y));d=e.ul%mn.length*35;e.ud&&(a.globalAlpha=.25);if(0<e.speed){a.save();var f=50<e.speed?0:25<e.speed?35:70;a.rotate(Ud(-e.Wd));a.drawImage(ln,455,f,35,35,-45.5,-17.5,35,35);a.restore()}a.drawImage(ln,
0,d,35,35,-17.5,-17.5,35,35);f=Ud(e.facing);a.translate(12*Math.cos(f),12*-Math.sin(f)-2);f=(14-Math.round(e.facing/360*12))%12+1;e=e.facing%30;15<=e&&(e-=30);e/=1.5;a.rotate(Ud(-e));a.drawImage(ln,35*f,d,35,35,-15.5,-15.5,35,35);a.restore()}c=l(Y.wg);for(d=c.next();!d.done;d=c.next()){d=d.value;a.save();var h=d.progress/d.Yk;e=(d.Vh.y-d.Xi.y)*-h;f=d.Yk/2;var k=.15*d.Yk;f=k-Math.pow((d.progress-f)/Math.sqrt(k)*k/f,2);h=un(d.Xi.x+(d.Vh.x-d.Xi.x)*h);k=un(100-d.Xi.y+e-f);e=un(100-d.Xi.y+e);a.beginPath();
a.arc(h,e,5*Math.max(0,1-f/10),0,2*Math.PI,!0);a.closePath();a.fillStyle="rgba(128, 128, 128, "+Math.max(0,1-f/10)+")";a.fill();a.beginPath();a.arc(h,k,5,0,2*Math.PI,!0);a.closePath();a.fillStyle=mn[d.Rs.ul%mn.length];a.fill()}c=l(Y.Od);for(d=c.next();!d.done;d=c.next())if(f=d.value,d=f.avatar,"CRASH"===f.type){if(e=jn.get(d.id),!e||e+1E3<Date.now())vn("whack",f.damage/Y.vl),jn.set(d.id,Date.now())}else"SCAN"===f.type?(h=Math.max(f.resolution/2,.5),e=-Ud(f.degree+h),f=-Ud(f.degree-h),a.beginPath(),
h=un(d.$.x),d=un(100-d.$.y),a.moveTo(h,d),a.lineTo(h+200*Math.cos(e),d+200*Math.sin(e)),a.arc(h,d,200,e,f),a.lineTo(h,d),d=a.createRadialGradient(h,d,17.5,h,d,200),d.addColorStop(0,"rgba(255, 255, 255, 0.3)"),d.addColorStop(1,"rgba(255, 255, 255, 0)"),a.fillStyle=d,a.fill()):"BANG"!==f.type&&("BOOM"===f.type?(f.damage&&vn("boom",f.damage/10),kn.push({x:f.x,y:f.y,t:0})):"DIE"===f.type&&vn("splash",1));Y.Od.length=0;for(c=kn.length-1;0<=c;c--)d=kn[c],e=un(d.x),f=un(100-d.y),a.beginPath(),a.arc(e,f,
d.t+1,0,2*Math.PI,!0),a.closePath(),a.lineWidth=5,a.strokeStyle="rgba(255, 255, 255, "+(1-d.t/10)+")",a.stroke(),d.t+=2,10<d.t&&kn.splice(c,1);gn.drawImage(a.canvas,0,0);a=l(b);for(d=a.next();!d.done;d=a.next())b=d.value,c=b.Cu,c.parentNode.title=b.name+": "+Math.round(100-b.ea)+"%",c.style.width=Math.max(0,c.parentNode.offsetWidth*(1-b.ea/100)-2)+"px"}
function wn(a,b){if(window.Audio&&a.length){var c=new window.Audio;a=l(a);for(var d=a.next();!d.done;d=a.next()){d=d.value;var e=d.match(/\.(\w+)$/);if(e&&c.canPlayType("audio/"+e[1])){var f=new window.Audio(d);break}}f&&f.play&&on.set(b,f)}}function vn(a,b){a=on.get(a);a=rb||qb?a:a.cloneNode();a.volume=b;a.play()};var xn=null;
function yn(){var a=W("Games.pondTutor",!1);Rl(a);if(a=U("linkButton"))Jl?a.style.display="none":(Yl=lm,Zl=km,Vl(a,am));(a=U("languageMenu"))&&a.addEventListener("change",pm,!0);fn=U("scratch").getContext("2d");gn=a=U("display").getContext("2d");hn=a.canvas.width;a.globalCompositeOperation="copy";wn(["pond/whack.mp3","pond/whack.ogg"],"whack");wn(["pond/boom.mp3","pond/boom.ogg"],"boom");wn(["pond/splash.mp3","pond/splash.ogg"],"splash");if(!rb&&!tb){a=l(on.values());for(var b=a.next();!b.done;b=a.next()){b=
b.value;b.volume=.01;try{b.play()}catch(c){}b.pause()}}Vl("runButton",zn);Vl("resetButton",An);Vl("docsButton",Bn);Vl("closeDocs",Cn);zm();Am()}var Dn=null,En=!1;function Bn(){if(!En){var a=U("docsButton"),b=U("dialogDocs"),c=U("frameDocs"),d="pond/docs.html?lang="+Gl+"&mode="+V;c.src!==d&&(c.src=d);En=!0;X.df(a,!1,.2);X.df(b,!0,.8);setTimeout(function(){b.style.visibility="visible";U("dialogBorder").style.visibility="hidden"},175)}}
function Cn(){if(En){var a=U("docsButton"),b=U("dialogDocs");En=!1;X.df(b,!1,.8);X.df(a,!0,.2);setTimeout(function(){U("dialogBorder").style.visibility="hidden"},175);b.style.visibility="hidden"}}
function zn(a){if(!rm(a)){if(a=Dn){lm();var b=hm?gm.getValue():Qh();if(hm)try{var c="object"===typeof Babel?Babel.transform(b,{presets:["es2015"]}).code:void 0;b=c||b}catch(d){alert(d)}a.Bp=b}c=U("runButton");a=U("resetButton");a.style.minWidth||(a.style.minWidth=c.offsetWidth+"px");c.style.display="none";a.style.display="inline";Fn()}}function An(a){rm(a)||(U("runButton").style.display="inline",U("resetButton").style.display="none",Y.reset(),pn())}
function Fn(){"Interpreter"in window?(Y.reset(),pn(),Y.start(xn),tn()):setTimeout(Fn,99)}function Gn(){var a=U("help"),b=U("helpButton");X.Ti(a,b,!0,!0,{width:"50%",left:"25%",top:"5em"},X.Eo);X.Do()};function Hn(a,b,c){"function"!=typeof a&&(In(a),a=JSON.parse(JSON.stringify(a)));this.Zg=a;this.Fo=this.ao=this.ik=null;a=this.Zg;if(Array.isArray(a)){for(var d=!1,e=0;e<a.length;e++){var f=a[e][0];"string"==typeof f?a[e][0]=Hb(f):(null!=f.alt&&(a[e][0].alt=Hb(f.alt)),d=!0)}if(!(d||2>a.length)){f=[];for(e=0;e<a.length;e++)f.push(a[e][0]);var h=ab(f);e=bb(f,h);d=cb(f,h);if((e||d)&&!(h<=e+d)){e&&(this.ao=f[0].substring(0,e-1));d&&(this.Fo=f[0].substr(1-d));f=[];for(h=0;h<a.length;h++){var k=a[h][0],
m=a[h][1];k=k.substring(e,k.length-d);f[h]=[k,m]}this.Zg=f}}}this.gh=Dd(this,!1)[0];Hn.j.constructor.call(this,this.gh[1],b,c);this.lh=this.Cf=this.ge=this.Wb=this.Li=null}B(Hn,ph);Hn.N=function(a){return new Hn(a.options,void 0,a)};Hn.prototype.gk=function(a){Cd(this)&&Dd(this,!1);dd(this,a.textContent)};Hn.prototype.Bf=!0;var Jn=qb?"\u25bc":"\u25be";g=Hn.prototype;g.wl="default";
g.$e=function(){this.Ao()?rh(this):this.Yl=this.m.U();sh(this);this.ge=E(rc,{},this.oc);this.G().fs?(this.lh=E(rc,{height:this.G().rh+"px",width:this.G().rh+"px"},this.oc),this.lh.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.G().gs)):(this.Cf=E(zc,{},this.Va),this.Cf.appendChild(document.createTextNode(this.m.s?Jn+" ":" "+Jn)),this.m.s?this.Va.insertBefore(this.Cf,this.Be):this.Va.appendChild(this.Cf));this.La&&F(this.La,"blocklyDropdownRect")};
g.Ao=function(){return!this.G().xl||this.G().xl&&!this.m.X};g.Ld=function(a){this.vm();this.Wb.Qn=a&&"number"===typeof a.clientX?new q(a.clientX,a.clientY):null;this.Wb.P(Xd);F(this.Wb.tb,"blocklyDropdownMenu");if(this.G().ds){a=this.m.X?this.m.getParent().Im():this.m.Im();var b=this.m.X?this.m.getParent().style.rd:this.m.style.rd;Wd.style.backgroundColor=a;Wd.style.borderColor=b}ge(this,this.wm.bind(this));this.Wb.focus();this.Li&&this.Wb.ve(this.Li);this.Ja()};
g.vm=function(){var a=new oi;a.Pi("listbox");this.Wb=a;var b=Dd(this,!1);this.Li=null;for(var c=0;c<b.length;c++){var d=b[c][0],e=b[c][1];if("object"==typeof d){var f=new Image(d.width,d.height);f.src=d.src;f.alt=d.alt||"";d=f}d=new si(d,e);d.Pi("option");d.oo=this.m.s;d.Wl=!0;a.ld.push(d);d.Xl=e==this.Xa;e==this.Xa&&(this.Li=d);ti(d,this.qt,this)}};g.wm=function(){this.Wb&&this.Wb.o();this.Li=this.Wb=null;this.Ja()};g.qt=function(a){$d===this&&ne();this.Sq(a)};g.Sq=function(a){dd(this,a.kb())};
function Cd(a){return"function"==typeof a.Zg}function Dd(a,b){return Cd(a)?(a.ik&&b||(a.ik=a.Zg.call(a),In(a.ik)),a.ik):a.Zg}g.Re=function(a){for(var b=!1,c=Dd(this,!0),d=0,e;e=c[d];d++)if(e[1]==a){b=!0;break}return b?a:(this.m&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.m.type+", Field name: "+this.name+", Value: "+a),null)};g.Yd=function(a){Hn.j.Yd.call(this,a);a=Dd(this,!0);for(var b=0,c;c=a[b];b++)c[1]==this.Xa&&(this.gh=c)};
g.Ja=function(){this.La&&(this.La.setAttribute("stroke",this.m.style.rd),this.Wb?this.La.setAttribute("fill",this.m.style.rd):this.La.setAttribute("fill","transparent"));this.m&&this.Cf&&(this.Cf.style.fill=this.m.X?this.m.style.Pj:this.m.style.Sd)};
g.pf=function(){this.Be.nodeValue="";this.ge.style.display="none";var a=this.gh&&this.gh[0];if(a&&"object"==typeof a){this.ge.style.display="";this.ge.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a.src);this.ge.setAttribute("height",a.height);this.ge.setAttribute("width",a.width);var b=Number(a.height);a=Number(a.width);var c=!!this.La,d=Math.max(c?this.G().Vo:0,b+10);c=c?this.G().pg:0;if(this.lh)var e=Kn(this,a+c,d/2-this.G().rh/2);else{e=this.G().rg;var f=this.G().sg,h=this.G().qg;
e=Jc(this.Cf,e+"pt",f,h)}this.Zb.width=a+e+2*c;this.Zb.height=d;f=0;this.m.s?this.ge.setAttribute("x",c+e):(f=a+e,this.Va.setAttribute("text-anchor","end"),this.ge.setAttribute("x",c));this.ge.setAttribute("y",d/2-b/2);vh(this,f+c,a+e)}else this.Be.nodeValue=this.kk(),F(this.Va,"blocklyDropdownText"),this.Va.setAttribute("text-anchor","start"),a=!!this.La,b=Math.max(a?this.G().Vo:0,this.G().uj),d=this.G().rg,c=this.G().sg,e=this.G().qg,d=Jc(this.Va,d+"pt",c,e),a=a?this.G().pg:0,c=0,this.lh&&(c=Kn(this,
d+a,b/2-this.G().rh/2)),this.Zb.width=d+c+2*a,this.Zb.height=b,vh(this,a,d);wh(this)};function Kn(a,b,c){if(!a.lh)return 0;var d=a.La?a.G().pg:0,e=a.G().hs,f=a.G().rh;a.lh.setAttribute("transform","translate("+(a.m.s?d:b+e)+","+c+")");return f+e}g.Mm=function(){if(!this.gh)return null;var a=this.gh[0];return"object"==typeof a?a.alt:a};
function In(a){if(!Array.isArray(a))throw TypeError("FieldDropdown options must be an array.");if(!a.length)throw TypeError("FieldDropdown options must not be an empty array.");for(var b=!1,c=0;c<a.length;++c){var d=a[c];Array.isArray(d)?"string"!=typeof d[1]?(b=!0,console.error("Invalid option["+c+"]: Each FieldDropdown option id must be a string. Found "+d[1]+" in: ",d)):d[0]&&"string"!=typeof d[0]&&"string"!=typeof d[0].src&&(b=!0,console.error("Invalid option["+c+"]: Each FieldDropdown option must have a string label or image description. Found"+
d[0]+" in: ",d)):(b=!0,console.error("Invalid option["+c+"]: Each FieldDropdown option must be an array. Found: ",d))}if(b)throw TypeError("Found invalid FieldDropdown options.");}u(Ja,"field_dropdown",Hn);function Ln(a,b,c){this.Vi=!0;Ln.j.constructor.call(this,a,b,c);this.Qk=this.Pk=this.Rb=null;this.hk=!1;this.g=null}B(Ln,ph);Ln.prototype.og="";Ln.N=function(a){var b=Hb(a.text);return new Ln(b,void 0,a)};g=Ln.prototype;g.Bf=!0;g.wl="text";g.Fc=function(a){Ln.j.Fc.call(this,a);"boolean"==typeof a.spellcheck&&(this.Vi=a.spellcheck)};
g.$e=function(){if(this.G().Xo){for(var a=0,b=0,c=0,d;d=this.m.A[c];c++){for(var e=0;d.ba[e];e++)a++;d.connection&&b++}this.hk=1>=a&&this.m.u&&!b}else this.hk=!1;this.hk?this.Yl=this.m.U():rh(this);sh(this)};g.Re=function(a){return null===a||void 0===a?null:String(a)};g.Mp=function(){if(this.Tg){this.cn=!1;var a=this.Xa;this.Xa=this.Rb.Cr;this.m&&0==w&&x(new (A("change"))(this.m,"field",this.name||null,a,this.Xa))}};g.Yd=function(a){this.cn=!0;this.Xa=a;this.Tg||(this.ke=!0)};
g.Ja=function(){this.m&&this.G().Xo&&(this.La?this.La.setAttribute("stroke",this.m.style.rd):this.m.xa.Ga.setAttribute("fill",this.G().To))};g.pf=function(){Ln.j.pf.call(this);if(this.Tg){Mn(this);var a=this.Rb;this.cn?(Dc(a,"blocklyInvalidInput"),mi(a,"invalid",!1)):(F(a,"blocklyInvalidInput"),mi(a,"invalid",!0))}};function Nn(a){0!=a.Vi&&(a.Vi=!1,a.Rb&&a.Rb.setAttribute("spellcheck",a.Vi))}
g.Ld=function(a,b){this.g=this.m.h;a=b||!1;!a&&(wb||qb||rb)?On(this):(mh(this,this.m.s,this.Eu.bind(this)),this.Rb=this.No(),this.Tg=!0,a||(this.Rb.focus({preventScroll:!0}),this.Rb.select()))};function On(a){mk(v.CHANGE_VALUE_TITLE,a.Qb(),function(b){null!==b&&dd(this,b)}.bind(a))}
g.No=function(){var a=hh;F(qh(this),"editing");var b=document.createElement("input");b.className="blocklyHtmlInput";b.setAttribute("spellcheck",this.Vi);var c=Dj(this.g),d=this.G().rg*c+"pt";a.style.fontSize=d;b.style.fontSize=d;d=4*c+"px";if(this.hk){d=he(this);d=(d.bottom-d.top)/2+"px";var e=this.m.getParent()?this.m.getParent().style.rd:this.m.style.rd;b.style.border=1*c+"px solid "+e;a.style.borderRadius=d;a.style.transition="box-shadow 0.25s ease 0s";this.G().js&&(a.style.boxShadow="rgba(255, 255, 255, 0.3) 0px 0px 0px "+
4*c+"px")}b.style.borderRadius=d;a.appendChild(b);b.value=b.defaultValue=String(this.Xa);b.Cr=this.Xa;b.Qq=null;Mn(this);this.Pk=J(b,"keydown",this,this.Ln);this.Qk=J(b,"input",this,this.Nt);return b};g.Eu=function(){this.Tg=!1;this.cn=!0;xh(this);this.Kn&&this.Kn(this.Xa);this.Pk&&(K(this.Pk),this.Pk=null);this.Qk&&(K(this.Qk),this.Qk=null);var a=hh.style;a.width="auto";a.height="auto";a.fontSize="";a.transition="";a.boxShadow="";this.Rb=null;Dc(qh(this),"editing")};
g.Ln=function(a){if(13==a.keyCode)nh(),ne();else if(27==a.keyCode)dd(this,this.Rb.Cr),nh(),ne();else if(9==a.keyCode){nh();ne();var b=this.m,c=!a.shiftKey,d=new Ni;eh(d,ua(this));var e=d.nc;c?d.next():d.qe();(c=d.nc)&&c!==e&&(e=c.V,Da(e)&&e.Ld(void 0),b.h.Yg&&eh(b.h.Mg(),c));a.preventDefault()}};g.Nt=function(){var a=this.Rb.value;a!==this.Rb.Qq&&(this.Rb.Qq=a,z(!0),dd(this,a),xh(this),Mn(this),z(!1))};
function Mn(a){var b=hh,c=he(a);b.style.width=c.right-c.left+"px";b.style.height=c.bottom-c.top+"px";a=new q(a.m.s?c.right-b.offsetWidth:c.left,c.top);b.style.left=a.x+"px";b.style.top=a.y+"px"}g.tq=function(){return!0};g.Mm=function(){return this.Tg&&this.Rb?this.Rb.value:null};u(Ja,"field_input",Ln);function Pn(a,b,c,d,e,f){this.ui=-Infinity;this.ri=Infinity;this.dh=0;this.fm=null;Pn.j.constructor.call(this,a,e,f);f||(Qn(this,b),Rn(this,c),Sn(this,d),dd(this,this.kb()))}B(Pn,Ln);Pn.prototype.og=0;Pn.N=function(a){return new Pn(a.value,void 0,void 0,void 0,void 0,a)};Pn.prototype.Bf=!0;Pn.prototype.Fc=function(a){Pn.j.Fc.call(this,a);Qn(this,a.min);Rn(this,a.max);Sn(this,a.precision)};function Qn(a,b){null==b?a.ui=-Infinity:(b=Number(b),isNaN(b)||(a.ui=b))}
function Rn(a,b){null==b?a.ri=Infinity:(b=Number(b),isNaN(b)||(a.ri=b))}function Sn(a,b){a.dh=Number(b)||0;var c=String(a.dh);-1!=c.indexOf("e")&&(c=a.dh.toLocaleString("en-US",{maximumFractionDigits:20}));var d=c.indexOf(".");a.fm=-1==d?b?0:null:c.length-d-1}
Pn.prototype.Re=function(a){if(null===a)return null;a=String(a);a=a.replace(/O/ig,"0");a=a.replace(/,/g,"");a=a.replace(/infinity/i,"Infinity");a=Number(a||0);if(isNaN(a))return null;a=Math.min(Math.max(a,this.ui),this.ri);this.dh&&isFinite(a)&&(a=Math.round(a/this.dh)*this.dh);null!=this.fm&&(a=Number(a.toFixed(this.fm)));return a};Pn.prototype.No=function(){var a=Pn.j.No.call(this);-Infinity<this.ui&&mi(a,"valuemin",this.ui);Infinity>this.ri&&mi(a,"valuemax",this.ri);return a};
u(Ja,"field_number",Pn);function Tn(a,b,c,d,e){this.Zg=Un;this.$s="string"===typeof a?a:"";this.Zb=new hb(0,0);e&&this.Fc(e);b&&(this.hg=b);e||Vn(this,c,d)}B(Tn,Hn);Tn.N=function(a){var b=Hb(a.variable);return new Tn(b,void 0,void 0,void 0,a)};g=Tn.prototype;g.Bf=!0;g.Fc=function(a){Tn.j.Fc.call(this,a);Vn(this,a.variableTypes,a.defaultType)};g.Nf=function(){if(!this.fc){var a=nk(this.m.h,null,this.$s,this.Zs);this.Yd(a.T())}};g.Ao=function(){return Tn.j.Ao.call(this)&&(!this.G().xl||"variables_get"!=this.m.type)};
g.gk=function(a){var b=a.getAttribute("id"),c=a.textContent,d=a.getAttribute("variabletype")||a.getAttribute("variableType")||"";b=nk(this.m.h,b,c,d);if(null!=d&&d!==b.type)throw Error("Serialized variable type with id '"+b.T()+"' had type "+b.type+", and does not match variable field that references it: "+Oc(a)+".");dd(this,b.T())};g.yr=function(a){this.Nf();a.id=this.fc.T();a.textContent=this.fc.name;this.fc.type&&a.setAttribute("variabletype",this.fc.type);return a};
g.xo=function(a){if(a.X)throw Error("Variable fields are not allowed to exist on shadow blocks.");Tn.j.xo.call(this,a)};g.kb=function(){return this.fc?this.fc.T():null};g.Qb=function(){return this.fc?this.fc.name:""};g.Mc=function(){return this.fc};g.Zp=function(){return this.fc?this.hg:null};
g.Re=function(a){if(null===a)return null;var b=ok(this.m.h,a);if(!b)return console.warn("Variable id doesn't point to a real variable! ID was "+a),null;b=b.type;var c;a:if(c=Wn(this)){for(var d=0;d<c.length;d++)if(b==c[d]){c=!0;break a}c=!1}else c=!0;return c?a:(console.warn("Variable type doesn't match this field!  Type was "+b),null)};g.Yd=function(a){this.fc=ok(this.m.h,a);Tn.j.Yd.call(this,a)};
function Wn(a){var b=a.Bu;if(null===b&&a.m&&a.m.h)return a.m.h.Nm();b=b||[""];if(0==b.length)throw a=a.Qb(),Error("'variableTypes' of field variable "+a+" was an empty list");return b}
function Vn(a,b,c){c=c||"";if(null==b||void 0==b)b=null;else if(Array.isArray(b)){for(var d=!1,e=0;e<b.length;e++)b[e]==c&&(d=!0);if(!d)throw Error("Invalid default type '"+c+"' in the definition of a FieldVariable");}else throw Error("'variableTypes' was not an array in the definition of a FieldVariable");a.Zs=c;a.Bu=b}
function Un(){if(!this.fc)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");var a=this.Qb(),b=[];if(this.m&&this.m.h)for(var c=Wn(this),d=0;d<c.length;d++)b=b.concat(this.m.h.di(c[d]));b.sort(ek);c=[];for(d=0;d<b.length;d++)c[d]=[b[d].name,b[d].T()];c.push([v.RENAME_VARIABLE,"RENAME_VARIABLE_ID"]);v.DELETE_VARIABLE&&c.push([v.DELETE_VARIABLE.replace("%1",a),"DELETE_VARIABLE_ID"]);return c}
g.Sq=function(a){a=a.kb();if(this.m&&this.m.h){if("RENAME_VARIABLE_ID"==a){kk(this.m.h,this.fc);return}if("DELETE_VARIABLE_ID"==a){this.m.h.Xd(this.fc.T());return}}dd(this,a)};g.Fi=function(){return!0};u(Ja,"field_variable",Tn);vk([{type:"math_number",message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",helpUrl:"%{BKY_MATH_NUMBER_HELPURL}",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_NUMBER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"math_arithmetic",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ADDITION_SYMBOL}","ADD"],["%{BKY_MATH_SUBTRACTION_SYMBOL}","MINUS"],["%{BKY_MATH_MULTIPLICATION_SYMBOL}",
"MULTIPLY"],["%{BKY_MATH_DIVISION_SYMBOL}","DIVIDE"],["%{BKY_MATH_POWER_SYMBOL}","POWER"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",colour:"%{BKY_MATH_HUE}",helpUrl:"%{BKY_MATH_ARITHMETIC_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_single",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_SINGLE_OP_ROOT}","ROOT"],["%{BKY_MATH_SINGLE_OP_ABSOLUTE}","ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]]},
{type:"input_value",name:"NUM",check:"Number"}],output:"Number",colour:"%{BKY_MATH_HUE}",helpUrl:"%{BKY_MATH_SINGLE_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_trig",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_TRIG_SIN}","SIN"],["%{BKY_MATH_TRIG_COS}","COS"],["%{BKY_MATH_TRIG_TAN}","TAN"],["%{BKY_MATH_TRIG_ASIN}","ASIN"],["%{BKY_MATH_TRIG_ACOS}","ACOS"],["%{BKY_MATH_TRIG_ATAN}","ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",colour:"%{BKY_MATH_HUE}",
helpUrl:"%{BKY_MATH_TRIG_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_constant",message0:"%1",args0:[{type:"field_dropdown",name:"CONSTANT",options:[["\u03c0","PI"],["e","E"],["\u03c6","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt(\u00bd)","SQRT1_2"],["\u221e","INFINITY"]]}],output:"Number",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_CONSTANT_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTANT_HELPURL}"},{type:"math_number_property",message0:"%1 %2",args0:[{type:"input_value",name:"NUMBER_TO_CHECK",check:"Number"},
{type:"field_dropdown",name:"PROPERTY",options:[["%{BKY_MATH_IS_EVEN}","EVEN"],["%{BKY_MATH_IS_ODD}","ODD"],["%{BKY_MATH_IS_PRIME}","PRIME"],["%{BKY_MATH_IS_WHOLE}","WHOLE"],["%{BKY_MATH_IS_POSITIVE}","POSITIVE"],["%{BKY_MATH_IS_NEGATIVE}","NEGATIVE"],["%{BKY_MATH_IS_DIVISIBLE_BY}","DIVISIBLE_BY"]]}],inputsInline:!0,output:"Boolean",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_IS_TOOLTIP}",mutator:"math_is_divisibleby_mutator"},{type:"math_change",message0:"%{BKY_MATH_CHANGE_TITLE}",args0:[{type:"field_variable",
name:"VAR",variable:"%{BKY_MATH_CHANGE_TITLE_ITEM}"},{type:"input_value",name:"DELTA",check:"Number"}],previousStatement:null,nextStatement:null,colour:"%{BKY_VARIABLES_HUE}",helpUrl:"%{BKY_MATH_CHANGE_HELPURL}",extensions:["math_change_tooltip"]},{type:"math_round",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ROUND_OPERATOR_ROUND}","ROUND"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}","ROUNDUP"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}","ROUNDDOWN"]]},{type:"input_value",
name:"NUM",check:"Number"}],output:"Number",colour:"%{BKY_MATH_HUE}",helpUrl:"%{BKY_MATH_ROUND_HELPURL}",tooltip:"%{BKY_MATH_ROUND_TOOLTIP}"},{type:"math_modulo",message0:"%{BKY_MATH_MODULO_TITLE}",args0:[{type:"input_value",name:"DIVIDEND",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],inputsInline:!0,output:"Number",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_MODULO_TOOLTIP}",helpUrl:"%{BKY_MATH_MODULO_HELPURL}"},{type:"math_constrain",message0:"%{BKY_MATH_CONSTRAIN_TITLE}",
args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_CONSTRAIN_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTRAIN_HELPURL}"},{type:"math_random_int",message0:"%{BKY_MATH_RANDOM_INT_TITLE}",args0:[{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,output:"Number",colour:"%{BKY_MATH_HUE}",
tooltip:"%{BKY_MATH_RANDOM_INT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_INT_HELPURL}"},{type:"math_random_float",message0:"%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}",output:"Number",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_FLOAT_HELPURL}"},{type:"math_atan2",message0:"%{BKY_MATH_ATAN2_TITLE}",args0:[{type:"input_value",name:"X",check:"Number"},{type:"input_value",name:"Y",check:"Number"}],inputsInline:!0,output:"Number",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_ATAN2_TOOLTIP}",
helpUrl:"%{BKY_MATH_ATAN2_HELPURL}"}]);
rd("math_op_tooltip",Ad("OP",{ADD:"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}",MINUS:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}",MULTIPLY:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}",DIVIDE:"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}",POWER:"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}",ROOT:"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}",ABS:"%{BKY_MATH_SINGLE_TOOLTIP_ABS}",NEG:"%{BKY_MATH_SINGLE_TOOLTIP_NEG}",LN:"%{BKY_MATH_SINGLE_TOOLTIP_LN}",LOG10:"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}",EXP:"%{BKY_MATH_SINGLE_TOOLTIP_EXP}",POW10:"%{BKY_MATH_SINGLE_TOOLTIP_POW10}",
SIN:"%{BKY_MATH_TRIG_TOOLTIP_SIN}",COS:"%{BKY_MATH_TRIG_TOOLTIP_COS}",TAN:"%{BKY_MATH_TRIG_TOOLTIP_TAN}",ASIN:"%{BKY_MATH_TRIG_TOOLTIP_ASIN}",ACOS:"%{BKY_MATH_TRIG_TOOLTIP_ACOS}",ATAN:"%{BKY_MATH_TRIG_TOOLTIP_ATAN}",SUM:"%{BKY_MATH_ONLIST_TOOLTIP_SUM}",MIN:"%{BKY_MATH_ONLIST_TOOLTIP_MIN}",MAX:"%{BKY_MATH_ONLIST_TOOLTIP_MAX}",AVERAGE:"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}",MEDIAN:"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}",MODE:"%{BKY_MATH_ONLIST_TOOLTIP_MODE}",STD_DEV:"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}",RANDOM:"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}"}));
ud("math_is_divisibleby_mutator",{wa:function(){var a=C("mutation"),b="DIVISIBLE_BY"==I(this,"PROPERTY");a.setAttribute("divisor_input",b);return a},Za:function(a){a="true"==a.getAttribute("divisor_input");this.Ac(a)},Ac:function(a){var b=H(this,"DIVISOR");a?b||this.Ea(1,"DIVISOR").xc("Number"):b&&this.eb("DIVISOR")}},function(){th(ad(this,"PROPERTY"),function(a){a="DIVISIBLE_BY"==a;this.C().Ac(a)})});rd("math_change_tooltip",Ed("%{BKY_MATH_CHANGE_TOOLTIP}"));
ud("math_modes_of_list_mutator",{Fr:function(a){"MODE"==a?this.u.xc("Array"):this.u.xc("Number")},wa:function(){var a=C("mutation");a.setAttribute("op",I(this,"OP"));return a},Za:function(a){this.Fr(a.getAttribute("op"))}},function(){th(ad(this,"OP"),function(a){this.Fr(a)}.bind(this))});function Xn(a,b,c){this.yp=!1;this.Jk=0;this.Gu=360;this.bl=15;Xn.j.constructor.call(this,a,b,c);this.Ik=this.Nj=this.Oj=this.Bk=this.$h=this.Qp=null}B(Xn,Ln);Xn.prototype.og=0;Xn.N=function(a){return new Xn(a.angle,void 0,a)};g=Xn.prototype;g.Bf=!0;g.$e=function(){Xn.j.$e.call(this);this.vr=E(zc,{},null);this.vr.appendChild(document.createTextNode("\u00b0"));this.Va.appendChild(this.vr)};g.pf=function(){Xn.j.pf.call(this);Yn(this)};
g.Ld=function(a){Xn.j.Ld.call(this,a,wb||qb||rb);this.vm();Xd.appendChild(this.Qp);a=this.m.style.rd;Wd.style.backgroundColor=this.m.style.Sd;Wd.style.borderColor=a;ge(this,this.wm.bind(this));Yn(this)};
g.vm=function(){var a=E(xc,{xmlns:"http://www.w3.org/2000/svg","xmlns:html":"http://www.w3.org/1999/xhtml","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",height:"100px",width:"100px"},null);a.style.touchAction="none";var b=E(hc,{cx:50,cy:50,r:49,"class":"blocklyAngleCircle"},a);this.$h=E(tc,{"class":"blocklyAngleGauge"},a);this.Bk=E(sc,{x1:50,y1:50,"class":"blocklyAngleLine"},a);for(var c=0;360>c;c+=15)E(sc,{x1:99,y1:50,x2:99-(0==c%45?10:5),y2:50,"class":"blocklyAngleMarks",transform:"rotate("+
c+",50,50)"},a);this.Oj=J(a,"click",this,this.yt);this.Nj=J(b,"click",this,this.Vq,!0,!0);this.Ik=J(b,"mousemove",this,this.Vq,!0,!0);this.Qp=a};g.wm=function(){this.Oj&&(K(this.Oj),this.Oj=null);this.Nj&&(K(this.Nj),this.Nj=null);this.Ik&&(K(this.Ik),this.Ik=null);this.Bk=this.$h=null};g.yt=function(){$d===this&&me();nh()};
g.Vq=function(a){var b=this.$h.ownerSVGElement.getBoundingClientRect(),c=a.clientX-b.left-50;a=a.clientY-b.top-50;b=Math.atan(-a/c);isNaN(b)||(b=180*b/Math.PI,0>c?b+=180:0<a&&(b+=360),b=this.yp?this.Jk+360-b:360-(this.Jk-b),Zn(this,b))};function Zn(a,b){a.bl&&(b=Math.round(b/a.bl)*a.bl);b=$n(a,b);b!=a.Xa&&(a.ke=!0,a.Tg&&(a.Rb.value=String(b)),dd(a,b))}
function Yn(a){if(a.$h){var b=Number(a.Qb())+a.Jk,c=Ud(b%360);b=["M ",50,",",50];var d=50,e=50;if(!isNaN(c)){var f=Number(a.yp),h=Ud(a.Jk),k=49*Math.cos(h),m=-49*Math.sin(h);f&&(c=2*h-c);d+=49*Math.cos(c);e-=49*Math.sin(c);c=Math.abs(Math.floor((c-h)/Math.PI)%2);f&&(c=1-c);b.push(" l ",k,",",m," A ",49,",",49," 0 ",c," ",f," ",d,",",e," z")}a.$h.setAttribute("d",b.join(""));a.Bk.setAttribute("x2",d);a.Bk.setAttribute("y2",e)}}
g.Ln=function(a){Xn.j.Ln.call(this,a);var b;37===a.keyCode?b=this.m.s?1:-1:39===a.keyCode?b=this.m.s?-1:1:40===a.keyCode?b=-1:38===a.keyCode&&(b=1);b&&(Zn(this,this.kb()+b*this.bl),a.preventDefault(),a.stopPropagation())};g.Re=function(a){a=Number(a);return isNaN(a)||!isFinite(a)?null:$n(this,a)};function $n(a,b){b%=360;0>b&&(b+=360);b>a.Gu&&(b-=360);return b}ii(".blocklyAngleCircle {,stroke: #444;,stroke-width: 1;,fill: #ddd;,fill-opacity: .8;,},.blocklyAngleMarks {,stroke: #444;,stroke-width: 1;,},.blocklyAngleGauge {,fill: #f88;,fill-opacity: .8;,pointer-events: none;,},.blocklyAngleLine {,stroke: #f00;,stroke-width: 2;,stroke-linecap: round;,pointer-events: none;,}".split(","));
u(Ja,"field_angle",Xn);Q.qv={};Q.math_number=function(a){a=Number(I(a,"NUM"));return[a,0<=a?Q.yj:Q.xh]};Q.math_arithmetic=function(a){var b={ADD:[" + ",Q.Af],MINUS:[" - ",Q.El],MULTIPLY:[" * ",Q.Dl],DIVIDE:[" / ",Q.vh],POWER:[null,Q.Ya]}[I(a,"OP")],c=b[0];b=b[1];var d=R(Q,a,"A",b)||"0";a=R(Q,a,"B",b)||"0";return c?[d+c+a,b]:["Math.pow("+d+", "+a+")",Q.pb]};
Q.math_single=function(a){var b=I(a,"OP");if("NEG"==b)return a=R(Q,a,"NUM",Q.xh)||"0","-"==a[0]&&(a=" "+a),["-"+a,Q.xh];a="SIN"==b||"COS"==b||"TAN"==b?R(Q,a,"NUM",Q.vh)||"0":R(Q,a,"NUM",Q.Ya)||"0";switch(b){case "ABS":var c="Math.abs("+a+")";break;case "ROOT":c="Math.sqrt("+a+")";break;case "LN":c="Math.log("+a+")";break;case "EXP":c="Math.exp("+a+")";break;case "POW10":c="Math.pow(10,"+a+")";break;case "ROUND":c="Math.round("+a+")";break;case "ROUNDUP":c="Math.ceil("+a+")";break;case "ROUNDDOWN":c=
"Math.floor("+a+")";break;case "SIN":c="Math.sin("+a+" / 180 * Math.PI)";break;case "COS":c="Math.cos("+a+" / 180 * Math.PI)";break;case "TAN":c="Math.tan("+a+" / 180 * Math.PI)"}if(c)return[c,Q.pb];switch(b){case "LOG10":c="Math.log("+a+") / Math.log(10)";break;case "ASIN":c="Math.asin("+a+") / Math.PI * 180";break;case "ACOS":c="Math.acos("+a+") / Math.PI * 180";break;case "ATAN":c="Math.atan("+a+") / Math.PI * 180";break;default:throw Error("Unknown math operator: "+b);}return[c,Q.vh]};
Q.math_constant=function(a){return{PI:["Math.PI",Q.Fe],E:["Math.E",Q.Fe],GOLDEN_RATIO:["(1 + Math.sqrt(5)) / 2",Q.vh],SQRT2:["Math.SQRT2",Q.Fe],SQRT1_2:["Math.SQRT1_2",Q.Fe],INFINITY:["Infinity",Q.yj]}[I(a,"CONSTANT")]};
Q.math_number_property=function(a){var b=R(Q,a,"NUMBER_TO_CHECK",Q.wh)||"0",c=I(a,"PROPERTY");if("PRIME"==c){var d=Yh("mathIsPrime",["function "+Q.zl+"(n) {","  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods","  if (n == 2 || n == 3) {","    return true;","  }","  // False if n is NaN, negative, is 1, or not whole.","  // And false if n is divisible by 2 or 3.","  if (isNaN(n) || n <= 1 || n % 1 != 0 || n % 2 == 0 || n % 3 == 0) {","    return false;","  }","  // Check all the numbers of form 6k +/- 1, up to sqrt(n).",
"  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {","    if (n % (x - 1) == 0 || n % (x + 1) == 0) {","      return false;","    }","  }","  return true;","}"])+"("+b+")";return[d,Q.pb]}switch(c){case "EVEN":d=b+" % 2 == 0";break;case "ODD":d=b+" % 2 == 1";break;case "WHOLE":d=b+" % 1 == 0";break;case "POSITIVE":d=b+" > 0";break;case "NEGATIVE":d=b+" < 0";break;case "DIVISIBLE_BY":a=R(Q,a,"DIVISOR",Q.wh)||"0",d=b+" % "+a+" == 0"}return[d,Q.fp]};
Q.math_change=function(a){var b=R(Q,a,"DELTA",Q.Af)||"0";a=Q.Ca.Fb(I(a,"VAR"),"VARIABLE");return a+" = (typeof "+a+" == 'number' ? "+a+" : 0) + "+b+";\n"};Q.math_round=Q.math_single;Q.math_trig=Q.math_single;Q.math_modulo=function(a){var b=R(Q,a,"DIVIDEND",Q.wh)||"0";a=R(Q,a,"DIVISOR",Q.wh)||"0";return[b+" % "+a,Q.wh]};Q.math_constrain=function(a){var b=R(Q,a,"VALUE",Q.Ya)||"0",c=R(Q,a,"LOW",Q.Ya)||"0";a=R(Q,a,"HIGH",Q.Ya)||"Infinity";return["Math.min(Math.max("+b+", "+c+"), "+a+")",Q.pb]};
Q.math_random_int=function(a){var b=R(Q,a,"FROM",Q.Ya)||"0";a=R(Q,a,"TO",Q.Ya)||"0";return[Yh("mathRandomInt",["function "+Q.zl+"(a, b) {","  if (a > b) {","    // Swap a and b to ensure a is smaller.","    var c = a;","    a = b;","    b = c;","  }","  return Math.floor(Math.random() * (b - a + 1) + a);","}"])+"("+b+", "+a+")",Q.pb]};Q.math_random_float=function(){return["Math.random()",Q.pb]};
Q.math_atan2=function(a){var b=R(Q,a,"X",Q.Ya)||"0";return["Math.atan2("+(R(Q,a,"Y",Q.Ya)||"0")+", "+b+") / Math.PI * 180",Q.vh]};function xd(a){xd.j.constructor.call(this,null);this.jr=a}B(xd,Qk);g=xd.prototype;g.g=null;g.qh=0;g.mj=0;
g.pm=function(a){E(wc,{"class":"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},a);E(tc,{"class":"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},a);
E(hc,{"class":"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},a)};g.Um=function(a){this.v.Tb()&&Qk.prototype.Um.call(this,a)};
g.dm=function(){this.$i=E(xc,{x:hg,y:hg},null);if(this.jr.length)for(var a=C("xml"),b=0,c;c=this.jr[b];b++){var d=C("block");d.setAttribute("type",c);a.appendChild(d)}else a=null;b=new Lf({disable:!1,parentWorkspace:this.v.h,media:this.v.h.options.zi,rtl:this.v.s,renderer:this.v.h.options.Hi,rendererOverrides:this.v.h.options.Ii});b.Wa=this.v.s?3:2;if(c=!!a)b.Dd=Gf(a);this.g=new nj(b);this.g.li=!0;cg(this.g,ac);a=c?zj(this.g,qc):null;b=this.g.Fa("blocklyMutatorBackground");a&&b.insertBefore(a,this.g.Da);
this.$i.appendChild(b);return this.$i};g.Ee=function(){xd.j.Ee.call(this);this.v.Ba||(this.v.Tb()?this.Sb&&Dc(this.Sb,"blocklyIconGroupReadonly"):(this.na(!1),this.Sb&&F(this.Sb,"blocklyIconGroupReadonly")))};
function ao(a){var b=2*hg,c=a.g.Da.getBBox(),d=c.width+c.x,e=c.height+3*b,f=a.g.qc();if(f){var h=f.g.Xb.Ue();e=Math.max(e,h.height+20);d+=f.ee()}a.v.s&&(d=-c.x);d+=3*b;if(Math.abs(a.qh-d)>b||Math.abs(a.mj-e)>b)a.qh=d,a.mj=e,a.Ma.Mi(d+b,e+b),a.$i.setAttribute("width",a.qh),a.$i.setAttribute("height",a.mj),Aj(a.g,a.qh,a.mj);a.v.s&&a.g.Da.setAttribute("transform","translate("+a.qh+",0)");a.g.resize()}g.Jt=function(){this.g&&xj(this.g)};
g.na=function(a){if(a!=this.isVisible())if(x(new (A("bubble_open"))(this.v,a,"mutator")),a){this.Ma=new eg(this.v.h,this.dm(),this.v.xa.Ga,this.Mf,null,null);ng(this.Ma,this.v.id);this.Ma.zn=this.Jt.bind(this);var b=this.g.options.Dd;a=this.g.qc();b&&(a.F(this.g),a.show(b));this.Id=this.v.Qe(this.g);b=Rb(this.Id,!1);for(var c=0,d;d=b[c];c++)d.P();this.Id.dl(!1);this.Id.hm=!1;a?(b=2*a.ta,a=this.Id.s?a.ee()+b:b):a=b=16;this.v.s&&(a=-a);this.Id.moveBy(a,b);if(this.v.po){var e=this,f=this.v;f.po(this.Id);
this.jl=function(){f.po(e.Id)};cg(this.v.h,this.jl)}ao(this);cg(this.g,this.Fu.bind(this));this.Ja()}else this.$i=null,this.g.o(),this.Id=this.g=null,this.Ma.o(),this.Ma=null,this.mj=this.qh=0,this.jl&&(Pb(this.v.h.bb,this.jl),this.jl=null)};
g.Fu=function(a){if(!(a.dn||"change"==a.type&&"disabled"==a.element)){if(!this.g.Ta()){a=this.g.$a(!1);for(var b=0,c;c=a[b];b++){var d=c.ga();20>d.y&&c.moveBy(0,20-d.y);if(c.s){var e=-20,f=this.g.qc();f&&(e-=f.ee());d.x>e&&c.moveBy(e-d.x,0)}else 20>d.x&&c.moveBy(20-d.x,0)}}if(this.Id.h==this.g){z(!0);c=this.v;a=(a=c.wa())&&Oc(a);b=c.I;c.I=!1;c.Ne(this.Id);c.I=b;c.ie();c.I&&c.P();b=(b=c.wa())&&Oc(b);if(a!=b){x(new (A("change"))(c,"mutation",null,a,b));var h=Tb;setTimeout(function(){z(h);c.Ia();z(!1)},
250)}this.g.Ta()||ao(this);z(!1)}}};g.o=function(){this.v.xb=null;Qk.prototype.o.call(this)};function bo(a,b,c){if(!a||!a.C().h)return!1;c=H(b,c).connection;var d=a.K();return d&&d!=b||c.J==a?!1:(c.isConnected()&&c.disconnect(),c.connect(a),!0)}function co(a){var b=null;if(a&&a.options){var c=a.options.Oa;a.jd?c&&c.options&&(b=c.options.Oa):c&&(b=c)}return b};vk([{type:"logic_boolean",message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["%{BKY_LOGIC_BOOLEAN_TRUE}","TRUE"],["%{BKY_LOGIC_BOOLEAN_FALSE}","FALSE"]]}],output:"Boolean",colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}",helpUrl:"%{BKY_LOGIC_BOOLEAN_HELPURL}"},{type:"controls_if",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],previousStatement:null,
nextStatement:null,colour:"%{BKY_LOGIC_HUE}",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",mutator:"controls_if_mutator",extensions:["controls_if_tooltip"]},{type:"logic_compare",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["=","EQ"],["\u2260","NEQ"],["\u200f<","LT"],["\u200f\u2264","LTE"],["\u200f>","GT"],["\u200f\u2265","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",colour:"%{BKY_LOGIC_HUE}",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",
extensions:["logic_compare","logic_op_tooltip"]},{type:"logic_operation",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["%{BKY_LOGIC_OPERATION_AND}","AND"],["%{BKY_LOGIC_OPERATION_OR}","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",colour:"%{BKY_LOGIC_HUE}",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}",extensions:["logic_op_tooltip"]},{type:"logic_negate",message0:"%{BKY_LOGIC_NEGATE_TITLE}",args0:[{type:"input_value",
name:"BOOL",check:"Boolean"}],output:"Boolean",colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_LOGIC_NEGATE_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NEGATE_HELPURL}"},{type:"logic_ternary",message0:"%{BKY_LOGIC_TERNARY_CONDITION} %1",args0:[{type:"input_value",name:"IF",check:"Boolean"}],message1:"%{BKY_LOGIC_TERNARY_IF_TRUE} %1",args1:[{type:"input_value",name:"THEN"}],message2:"%{BKY_LOGIC_TERNARY_IF_FALSE} %1",args2:[{type:"input_value",name:"ELSE"}],output:null,colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_LOGIC_TERNARY_TOOLTIP}",
helpUrl:"%{BKY_LOGIC_TERNARY_HELPURL}",extensions:["logic_ternary"]}]);
vk([{type:"controls_if_if",message0:"%{BKY_CONTROLS_IF_IF_TITLE_IF}",nextStatement:null,enableContextMenu:!1,colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_CONTROLS_IF_IF_TOOLTIP}"},{type:"controls_if_elseif",message0:"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}",previousStatement:null,nextStatement:null,enableContextMenu:!1,colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}"},{type:"controls_if_else",message0:"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}",previousStatement:null,enableContextMenu:!1,
colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}"}]);rd("logic_op_tooltip",Ad("OP",{EQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}",NEQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}",LT:"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",LTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}",GT:"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}",GTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}",AND:"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",OR:"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}"}));
var eo={cc:0,Kc:0,vf:!0,wa:function(){if(!this.cc&&!this.Kc)return null;var a=C("mutation");this.cc&&a.setAttribute("elseif",this.cc);this.Kc&&a.setAttribute("else",1);return a},Za:function(a){this.cc=parseInt(a.getAttribute("elseif"),10)||0;this.Kc=parseInt(a.getAttribute("else"),10)||0;this.Yt()},Qe:function(a){var b=a.$g("controls_if_if");b.ie();for(var c=b.D,d=1;d<=this.cc;d++){var e=a.$g("controls_if_elseif");e.ie();c.connect(e.H);c=e.D}this.Kc&&(a=a.$g("controls_if_else"),a.ie(),c.connect(a.H));
return b},Ne:function(a){a=a.D.K();this.Kc=this.cc=0;for(var b=[null],c=[null],d=null;a&&!a.Ub();){switch(a.type){case "controls_if_elseif":this.cc++;b.push(a.Au);c.push(a.md);break;case "controls_if_else":this.Kc++;d=a.md;break;default:throw TypeError("Unknown block type: "+a.type);}a=a.D&&a.D.K()}this.Ac();this.kr(b,c,d)},po:function(a){a=a.D.K();for(var b=1;a;){switch(a.type){case "controls_if_elseif":var c=H(this,"IF"+b),d=H(this,"DO"+b);a.Au=c&&c.connection.J;a.md=d&&d.connection.J;b++;break;
case "controls_if_else":d=H(this,"ELSE");a.md=d&&d.connection.J;break;default:throw TypeError("Unknown block type: "+a.type);}a=a.D&&a.D.K()}},Yt:function(){var a=[null],b=[null],c=null;H(this,"ELSE")&&(c=H(this,"ELSE").connection.J);for(var d=1;H(this,"IF"+d);){var e=H(this,"DO"+d);a.push(H(this,"IF"+d).connection.J);b.push(e.connection.J);d++}this.Ac();this.kr(a,b,c)},Ac:function(){H(this,"ELSE")&&this.eb("ELSE");for(var a=1;H(this,"IF"+a);)this.eb("IF"+a),this.eb("DO"+a),a++;for(a=1;a<=this.cc;a++)O(this.Ea(1,
"IF"+a).xc("Boolean"),v.CONTROLS_IF_MSG_ELSEIF),O(this.Ea(3,"DO"+a),v.CONTROLS_IF_MSG_THEN);this.Kc&&O(this.Ea(3,"ELSE"),v.CONTROLS_IF_MSG_ELSE)},kr:function(a,b,c){for(var d=1;d<=this.cc;d++)bo(a[d],this,"IF"+d),bo(b[d],this,"DO"+d);bo(c,this,"ELSE")}};ud("controls_if_mutator",eo,null,["controls_if_elseif","controls_if_else"]);
function fo(){this.hb(function(){if(this.cc||this.Kc){if(!this.cc&&this.Kc)return v.CONTROLS_IF_TOOLTIP_2;if(this.cc&&!this.Kc)return v.CONTROLS_IF_TOOLTIP_3;if(this.cc&&this.Kc)return v.CONTROLS_IF_TOOLTIP_4}else return v.CONTROLS_IF_TOOLTIP_1;return""}.bind(this))}rd("controls_if_tooltip",fo);
var go={onchange:function(a){this.Bi||(this.Bi=[null,null]);var b=Ph(this,"A"),c=Ph(this,"B");b&&c&&!Bf(b.u,c.u)&&(z(a.group),a=this.Bi[0],a!==b&&(kd(b),!a||a.Ic||a.X||H(this,"A").connection.connect(a.u)),b=this.Bi[1],b!==c&&(kd(c),!b||b.Ic||b.X||H(this,"B").connection.connect(b.u)),this.Ia(),z(!1));this.Bi[0]=Ph(this,"A");this.Bi[1]=Ph(this,"B")}};rd("logic_compare",function(){td(this,go)});
sd("logic_ternary",{ir:null,onchange:function(a){var b=Ph(this,"THEN"),c=Ph(this,"ELSE"),d=this.u.J;if((b||c)&&d)for(var e=0;2>e;e++){var f=1==e?b:c;f&&!Bf(f.u,d)&&(z(a.group),d===this.ir?(kd(this),d.C().Ia()):(kd(f),f.Ia()),z(!1))}this.ir=d}});vk([{type:"controls_repeat_ext",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"input_value",name:"TIMES",check:"Number"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,colour:"%{BKY_LOOPS_HUE}",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_repeat",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"field_number",name:"TIMES",value:10,min:0,precision:1}],
message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,colour:"%{BKY_LOOPS_HUE}",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_whileUntil",message0:"%1 %2",args0:[{type:"field_dropdown",name:"MODE",options:[["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}","WHILE"],["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}","UNTIL"]]},{type:"input_value",name:"BOOL",check:"Boolean"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",
args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,colour:"%{BKY_LOOPS_HUE}",helpUrl:"%{BKY_CONTROLS_WHILEUNTIL_HELPURL}",extensions:["controls_whileUntil_tooltip"]},{type:"controls_for",message0:"%{BKY_CONTROLS_FOR_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"input_value",name:"BY",check:"Number",align:"RIGHT"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",
args1:[{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:"%{BKY_LOOPS_HUE}",helpUrl:"%{BKY_CONTROLS_FOR_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_for_tooltip"]},{type:"controls_forEach",message0:"%{BKY_CONTROLS_FOREACH_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"LIST",check:"Array"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,
nextStatement:null,colour:"%{BKY_LOOPS_HUE}",helpUrl:"%{BKY_CONTROLS_FOREACH_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_forEach_tooltip"]},{type:"controls_flow_statements",message0:"%1",args0:[{type:"field_dropdown",name:"FLOW",options:[["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}","BREAK"],["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}","CONTINUE"]]}],previousStatement:null,colour:"%{BKY_LOOPS_HUE}",helpUrl:"%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}",extensions:["controls_flow_tooltip",
"controls_flow_in_loop_check"]}]);rd("controls_whileUntil_tooltip",Ad("MODE",{WHILE:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}",UNTIL:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}"}));rd("controls_flow_tooltip",Ad("FLOW",{BREAK:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}",CONTINUE:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}"}));
sd("contextMenu_newGetVariableBlock",{Vd:function(a){if(!this.Ba){var b=ad(this,"VAR").Mc(),c=b.name;if(!this.isCollapsed()&&null!=c){var d={enabled:!0};d.text=v.VARIABLES_SET_CREATE_GET.replace("%1",c);b=hk(b);c=C("block");c.setAttribute("type","variables_get");c.appendChild(b);d.la=ui.Jj(this,c);a.push(d)}}}});rd("controls_for_tooltip",Ed("%{BKY_CONTROLS_FOR_TOOLTIP}"));rd("controls_forEach_tooltip",Ed("%{BKY_CONTROLS_FOREACH_TOOLTIP}"));
var ho={vs:["controls_repeat","controls_repeat_ext","controls_forEach","controls_for","controls_whileUntil"],vf:!0,Yp:function(a){do{if(-1!=ho.vs.indexOf(a.type))return a;a=Hh(a)}while(a);return null},onchange:function(a){if(this.h.Ta&&!this.h.Ta()&&"move"==a.type){var b=ho.Yp(this);this.ih(b?null:v.CONTROLS_FLOW_STATEMENTS_WARNING);if(!this.Ba){var c=Tb;z(a.group);this.Yb(b);z(c)}}}};sd("controls_flow_in_loop_check",ho);function io(a,b,c){this.wp=null;io.j.constructor.call(this,a,b,c)}B(io,ph);io.prototype.og=!1;io.N=function(a){return new io(a.checked,void 0,a)};g=io.prototype;g.Bf=!0;g.wl="default";g.Fc=function(a){io.j.Fc.call(this,a);a.checkCharacter&&(this.wp=a.checkCharacter)};g.$e=function(){io.j.$e.call(this);F(this.Va,"blocklyCheckbox");this.Va.style.display=this.Xa?"block":"none"};g.pf=function(){this.Be&&(this.Be.nodeValue=this.kk());uh(this,this.G().bs)};g.kk=function(){return this.wp||"\u2713"};
g.Ld=function(){dd(this,!this.Xa)};g.Re=function(a){return!0===a||"TRUE"===a?"TRUE":!1===a||"FALSE"===a?"FALSE":null};g.Yd=function(a){this.Xa=jo(a);this.Va&&(this.Va.style.display=this.Xa?"block":"none")};g.kb=function(){return this.Xa?"TRUE":"FALSE"};g.Qb=function(){return String(jo(this.Xa))};function jo(a){return"string"==typeof a?"TRUE"==a:!!a}u(Ja,"field_checkbox",io);r.Wt={};
r.procedures_defnoreturn={F:function(){var a=Rj("",this);a=new Ln(a,Tj);Nn(a);O(O(O(P(this),v.PROCEDURES_DEFNORETURN_TITLE),a,"NAME"),"","PARAMS");this.ag(new xd(["procedures_mutatorarg"]));(this.h.options.Ih||this.h.options.Oa&&this.h.options.Oa.options.Ih)&&v.PROCEDURES_DEFNORETURN_COMMENT&&this.Jd(v.PROCEDURES_DEFNORETURN_COMMENT);this.gb(v.PROCEDURES_HUE);this.hb(v.PROCEDURES_DEFNORETURN_TOOLTIP);this.vb=v.PROCEDURES_DEFNORETURN_HELPURL;this.S=[];this.Ka=[];this.Kd(!0);this.md=null},Kd:function(a){this.mk!==a&&
(a?(O(this.Ea(3,"STACK"),v.PROCEDURES_DEFNORETURN_DO),H(this,"RETURN")&&Oh(this,"STACK","RETURN")):this.eb("STACK",!0),this.mk=a)},jj:function(){var a="";this.S.length&&(a=v.PROCEDURES_BEFORE_PARAMS+" "+this.S.join(", "));w++;try{Ih(this,a,"PARAMS")}finally{w--}},wa:function(a){var b=C("mutation");a&&b.setAttribute("name",I(this,"NAME"));for(var c=0;c<this.Ka.length;c++){var d=C("arg"),e=this.Ka[c];d.setAttribute("name",e.name);d.setAttribute("varid",e.T());a&&this.Un&&d.setAttribute("paramId",this.Un[c]);
b.appendChild(d)}this.mk||b.setAttribute("statements","false");return b},Za:function(a){this.S=[];this.Ka=[];for(var b=0,c;c=a.childNodes[b];b++)if("arg"==c.nodeName.toLowerCase()){var d=c.getAttribute("name");c=c.getAttribute("varid")||c.getAttribute("varId");this.S.push(d);c=nk(this.h,c,d,"");null!=c?this.Ka.push(c):console.log("Failed to create a variable with name "+d+", ignoring.")}this.jj();Xj(this);this.Kd("false"!==a.getAttribute("statements"))},Qe:function(a){var b=C("block");b.setAttribute("type",
"procedures_mutatorcontainer");var c=C("statement");c.setAttribute("name","STACK");b.appendChild(c);for(var d=0;d<this.S.length;d++){var e=C("block");e.setAttribute("type","procedures_mutatorarg");var f=C("field");f.setAttribute("name","NAME");f.appendChild(document.createTextNode(this.S[d]));e.appendChild(f);f=C("next");e.appendChild(f);c.appendChild(e);c=f}a=Rc(b,a);"procedures_defreturn"==this.type?Ih(a,this.mk,"STATEMENTS"):a.eb("STATEMENT_INPUT");Xj(this);return a},Ne:function(a){this.S=[];this.Un=
[];this.Ka=[];for(var b=Ph(a,"STACK");b&&!b.Ub();){var c=I(b,"NAME");this.S.push(c);this.Ka.push(this.h.Mc(c,""));this.Un.push(b.id);b=b.D&&b.D.K()}this.jj();Xj(this);a=I(a,"STATEMENTS");if(null!==a&&(a="TRUE"==a,this.mk!=a))if(a)this.Kd(!0),bo(this.md,this,"STACK"),this.md=null;else{a=H(this,"STACK").connection;if(this.md=a.J)a=a.K(),kd(a),a.Ia();this.Kd(!1)}},Te:function(){return[I(this,"NAME"),this.S,!1]},ce:function(){return this.S},ae:function(){return this.Ka},$k:function(a,b){var c=this.h.hd(a);
if(""==c.type){c=c.name;b=this.h.hd(b);for(var d=!1,e=0;e<this.Ka.length;e++)this.Ka[e].T()==a&&(this.S[e]=b.name,this.Ka[e]=b,d=!0);d&&(this.$j(c,b.name),Xj(this))}},rl:function(a){for(var b=a.name,c=!1,d=0;d<this.Ka.length;d++)if(this.Ka[d].T()==a.T()){var e=this.S[d];this.S[d]=b;c=!0}c&&(this.$j(e,b),Xj(this))},$j:function(a,b){this.jj();if(this.xb&&this.xb.isVisible())for(var c=Rf(this.xb.g),d=0,e;e=c[d];d++)"procedures_mutatorarg"==e.type&&Xf(a,I(e,"NAME"))&&Ih(e,b,"NAME")},Vd:function(a){if(!this.Ba){var b=
{enabled:!0},c=I(this,"NAME");b.text=v.PROCEDURES_CREATE_DO.replace("%1",c);var d=C("mutation");d.setAttribute("name",c);for(c=0;c<this.S.length;c++){var e=C("arg");e.setAttribute("name",this.S[c]);d.appendChild(e)}c=C("block");c.setAttribute("type",this.up);c.appendChild(d);b.la=ui.Jj(this,c);a.push(b);if(!this.isCollapsed())for(c=0;c<this.Ka.length;c++)b={enabled:!0},d=this.Ka[c],b.text=v.VARIABLES_SET_CREATE_GET.replace("%1",d.name),d=hk(d),e=C("block"),e.setAttribute("type","variables_get"),e.appendChild(d),
b.la=ui.Jj(this,e),a.push(b)}},up:"procedures_callnoreturn"};
r.procedures_defreturn={F:function(){var a=Rj("",this);a=new Ln(a,Tj);Nn(a);O(O(O(P(this),v.PROCEDURES_DEFRETURN_TITLE),a,"NAME"),"","PARAMS");O(Fh(this.Ea(1,"RETURN"),1),v.PROCEDURES_DEFRETURN_RETURN);this.ag(new xd(["procedures_mutatorarg"]));(this.h.options.Ih||this.h.options.Oa&&this.h.options.Oa.options.Ih)&&v.PROCEDURES_DEFRETURN_COMMENT&&this.Jd(v.PROCEDURES_DEFRETURN_COMMENT);this.gb(v.PROCEDURES_HUE);this.hb(v.PROCEDURES_DEFRETURN_TOOLTIP);this.vb=v.PROCEDURES_DEFRETURN_HELPURL;this.S=[];
this.Ka=[];this.Kd(!0);this.md=null},Kd:r.procedures_defnoreturn.Kd,jj:r.procedures_defnoreturn.jj,wa:r.procedures_defnoreturn.wa,Za:r.procedures_defnoreturn.Za,Qe:r.procedures_defnoreturn.Qe,Ne:r.procedures_defnoreturn.Ne,Te:function(){return[I(this,"NAME"),this.S,!0]},ce:r.procedures_defnoreturn.ce,ae:r.procedures_defnoreturn.ae,$k:r.procedures_defnoreturn.$k,rl:r.procedures_defnoreturn.rl,$j:r.procedures_defnoreturn.$j,Vd:r.procedures_defnoreturn.Vd,up:"procedures_callreturn"};
r.procedures_mutatorcontainer={F:function(){O(P(this),v.PROCEDURES_MUTATORCONTAINER_TITLE);this.Ea(3,"STACK");O(O(P(this,"STATEMENT_INPUT"),v.PROCEDURES_ALLOW_STATEMENTS),new io("TRUE"),"STATEMENTS");this.gb(v.PROCEDURES_HUE);this.hb(v.PROCEDURES_MUTATORCONTAINER_TOOLTIP);this.contextMenu=!1}};
r.procedures_mutatorarg={F:function(){var a=new Ln("x",this.hg);a.It=a.Ld;a.Ld=function(){this.Ph=[];this.It()};O(O(P(this),v.PROCEDURES_MUTATORARG_TITLE),a,"NAME");this.xe(!0);this.we(!0);this.gb(v.PROCEDURES_HUE);this.hb(v.PROCEDURES_MUTATORARG_TOOLTIP);this.contextMenu=!1;a.Kn=this.bt;a.Ph=[];a.Kn("x")},hg:function(a){var b=this.C(),c=co(b.h);a=a.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,"");if(!a)return null;for(var d=Rf(b.h.W||b.h),e=a.toLowerCase(),f=0;f<d.length;f++)if(d[f].id!=this.C().id){var h=
I(d[f],"NAME");if(h&&h.toLowerCase()==e)return null}if(b.Ba)return a;(b=c.Mc(a,""))&&b.name!=a&&c.nf(b.T(),a);b||(b=c.bd(a,""))&&this.Ph&&this.Ph.push(b);return a},bt:function(a){var b=co(this.C().h);if(b)for(var c=0;c<this.Ph.length;c++){var d=this.Ph[c];d.name!=a&&b.Xd(d.T())}}};
r.procedures_callnoreturn={F:function(){O(P(this,"TOPROW"),"","NAME");this.xe(!0);this.we(!0);this.gb(v.PROCEDURES_HUE);this.vb=v.PROCEDURES_CALLNORETURN_HELPURL;this.S=[];this.Ka=[];this.se={};this.Gd=null;this.bo=!0},tc:function(){return I(this,"NAME")},fh:function(a,b){Xf(a,this.tc())&&(Ih(this,b,"NAME"),this.hb((this.u?v.PROCEDURES_CALLRETURN_TOOLTIP:v.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",b)))},vo:function(a,b){var c=Yj(this.tc(),this.h),d=c&&c.xb&&c.xb.isVisible();d||(this.se={},this.Gd=
null);if(b)if(a.join("\n")==this.S.join("\n"))this.Gd=b;else{if(b.length!=a.length)throw RangeError("paramNames and paramIds must be the same length.");this.rf(!1);this.Gd||(this.se={},this.Gd=[]);c=this.I;this.I=!1;for(var e=0;e<this.S.length;e++){var f=H(this,"ARG"+e);f&&(f=f.connection.J,this.se[this.Gd[e]]=f,d&&f&&-1==b.indexOf(this.Gd[e])&&(f.disconnect(),f.C().Ia()))}this.S=[].concat(a);this.Ka=[];for(e=0;e<this.S.length;e++)a=nk(this.h,null,this.S[e],""),this.Ka.push(a);this.Ac();if(this.Gd=
b)for(e=0;e<this.S.length;e++)b=this.Gd[e],b in this.se&&(f=this.se[b],bo(f,this,"ARG"+e)||delete this.se[b]);(this.I=c)&&this.P()}},Ac:function(){for(var a=0;a<this.S.length;a++){var b=ad(this,"ARGNAME"+a);if(b){w++;try{dd(b,this.S[a])}finally{w--}}else b=new zh(this.S[a]),O(Fh(this.Ea(1,"ARG"+a),1),b,"ARGNAME"+a).F()}for(;H(this,"ARG"+a);)this.eb("ARG"+a),a++;if(a=H(this,"TOPROW"))this.S.length?ad(this,"WITH")||(O(a,v.PROCEDURES_CALL_BEFORE_PARAMS,"WITH"),a.F()):ad(this,"WITH")&&Ch(a,"WITH")},wa:function(){var a=
C("mutation");a.setAttribute("name",this.tc());for(var b=0;b<this.S.length;b++){var c=C("arg");c.setAttribute("name",this.S[b]);a.appendChild(c)}return a},Za:function(a){var b=a.getAttribute("name");this.fh(this.tc(),b);b=[];for(var c=[],d=0,e;e=a.childNodes[d];d++)"arg"==e.nodeName.toLowerCase()&&(b.push(e.getAttribute("name")),c.push(e.getAttribute("paramId")));this.vo(b,c)},ce:function(){return this.S},ae:function(){return this.Ka},onchange:function(a){if(this.h&&!this.h.jd&&a.yb)if("create"==
a.type&&-1!=a.Ye.indexOf(this.id)){var b=this.tc();b=Yj(b,this.h);!b||b.type==this.gm&&JSON.stringify(b.ce())==JSON.stringify(this.S)||(b=null);if(!b){z(a.group);a=C("xml");b=C("block");b.setAttribute("type",this.gm);var c=this.ga(),d=c.y+56;b.setAttribute("x",c.x+28*(this.s?-1:1));b.setAttribute("y",d);c=this.wa();b.appendChild(c);c=C("field");c.setAttribute("name","NAME");d=this.tc();d||(d=Rj("",this),this.fh("",d));c.appendChild(document.createTextNode(d));b.appendChild(c);a.appendChild(b);Qc(a,
this.h);z(!1)}}else"delete"==a.type?(b=this.tc(),b=Yj(b,this.h),b||(z(a.group),this.o(!0),z(!1))):"change"==a.type&&"disabled"==a.element&&(b=this.tc(),(b=Yj(b,this.h))&&b.id==a.ka&&((b=Tb)&&console.log("Saw an existing group while responding to a definition change"),z(a.group),a.newValue?(this.bo=this.isEnabled(),this.Yb(!1)):this.Yb(this.bo),z(b)))},Vd:function(a){if(this.h.mb()){var b={enabled:!0};b.text=v.PROCEDURES_HIGHLIGHT_DEF;var c=this.tc(),d=this.h;b.la=function(){var e=Yj(c,d);if(e){var f=
e.id;if(d.mb()){if(f=f?d.pc(f):null){var h=f.ga(),k=Ue(f),m=d.scale;f=(h.x+(d.s?-1:1)*k.width/2)*m;h=(h.y+k.height/2)*m;k=d.rc();d.scroll(-(f-k.Cb/2),-(h-k.Bb/2))}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.");e.select()}};a.push(b)}},gm:"procedures_defnoreturn"};
r.procedures_callreturn={F:function(){O(P(this,"TOPROW"),"","NAME");this.Oi(!0);this.gb(v.PROCEDURES_HUE);this.vb=v.PROCEDURES_CALLRETURN_HELPURL;this.S=[];this.Ka=[];this.se={};this.Gd=null;this.bo=!0},tc:r.procedures_callnoreturn.tc,fh:r.procedures_callnoreturn.fh,vo:r.procedures_callnoreturn.vo,Ac:r.procedures_callnoreturn.Ac,wa:r.procedures_callnoreturn.wa,Za:r.procedures_callnoreturn.Za,ce:r.procedures_callnoreturn.ce,ae:r.procedures_callnoreturn.ae,onchange:r.procedures_callnoreturn.onchange,
Vd:r.procedures_callnoreturn.Vd,gm:"procedures_defreturn"};
r.procedures_ifreturn={F:function(){O(this.Ea(1,"CONDITION").xc("Boolean"),v.CONTROLS_IF_MSG_IF);O(this.Ea(1,"VALUE"),v.PROCEDURES_DEFRETURN_RETURN);this.Vc(!0);this.xe(!0);this.we(!0);this.gb(v.PROCEDURES_HUE);this.hb(v.PROCEDURES_IFRETURN_TOOLTIP);this.vb=v.PROCEDURES_IFRETURN_HELPURL;this.Xe=!0},wa:function(){var a=C("mutation");a.setAttribute("value",Number(this.Xe));return a},Za:function(a){this.Xe=1==a.getAttribute("value");this.Xe||(this.eb("VALUE"),O(P(this,"VALUE"),v.PROCEDURES_DEFRETURN_RETURN))},
onchange:function(){if(this.h.Ta&&!this.h.Ta()){var a=!1,b=this;do{if(-1!=this.ls.indexOf(b.type)){a=!0;break}b=Hh(b)}while(b);a?("procedures_defnoreturn"==b.type&&this.Xe?(this.eb("VALUE"),O(P(this,"VALUE"),v.PROCEDURES_DEFRETURN_RETURN),this.Xe=!1):"procedures_defreturn"!=b.type||this.Xe||(this.eb("VALUE"),O(this.Ea(1,"VALUE"),v.PROCEDURES_DEFRETURN_RETURN),this.Xe=!0),this.ih(null),this.Ba||this.Yb(!0)):(this.ih(v.PROCEDURES_IFRETURN_WARNING),this.Ba||Jh(this)||this.Yb(!1))}},ls:["procedures_defnoreturn",
"procedures_defreturn"]};vk([{type:"variables_get",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,colour:"%{BKY_VARIABLES_HUE}",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableSetterGetter"]},{type:"variables_set",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,
colour:"%{BKY_VARIABLES_HUE}",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableSetterGetter"]}]);function ko(a){return function(){var b=a.h,c=ad(a,"VAR").Mc();kk(b,c)}}function lo(a){return function(){var b=a.h,c=ad(a,"VAR").Mc();b.Xd(c.T());wj(b)}}
sd("contextMenu_variableSetterGetter",{Vd:function(a){if(!this.Ba){if("variables_get"==this.type)var b="variables_set",c=v.VARIABLES_GET_CREATE_SET;else b="variables_get",c=v.VARIABLES_SET_CREATE_GET;var d={enabled:0<Zf(this.h)},e=ad(this,"VAR").Qb();d.text=c.replace("%1",e);c=C("field");c.setAttribute("name","VAR");c.appendChild(document.createTextNode(e));e=C("block");e.setAttribute("type",b);e.appendChild(c);d.la=ui.Jj(this,e);a.push(d)}else if("variables_get"==this.type||"variables_get_reporter"==
this.type)b={text:v.RENAME_VARIABLE,enabled:!0,la:ko(this)},e=ad(this,"VAR").Qb(),d={text:v.DELETE_VARIABLE.replace("%1",e),enabled:!0,la:lo(this)},a.unshift(b),a.unshift(d)}});Q.ov={};Q.controls_if=function(a){var b=0,c="";Q.$b&&(c+=Th(Q.$b,a));do{var d=R(Q,a,"IF"+b,Q.Ya)||"false";var e=Vh(a,"DO"+b);Q.rb&&(e=Uh(Th(Q.rb,a),Q.Jb)+e);c+=(0<b?" else ":"")+"if ("+d+") {\n"+e+"}";++b}while(H(a,"IF"+b));if(H(a,"ELSE")||Q.rb)e=Vh(a,"ELSE"),Q.rb&&(e=Uh(Th(Q.rb,a),Q.Jb)+e),c+=" else {\n"+e+"}";return c+"\n"};
Q.logic_compare=function(a){var b={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[I(a,"OP")],c="=="==b||"!="==b?Q.fp:Q.As,d=R(Q,a,"A",c)||"0";a=R(Q,a,"B",c)||"0";return[d+" "+b+" "+a,c]};Q.logic_operation=function(a){var b="AND"==I(a,"OP")?"&&":"||",c="&&"==b?Q.Bl:Q.Cl,d=R(Q,a,"A",c);a=R(Q,a,"B",c);if(d||a){var e="&&"==b?"true":"false";d||(d=e);a||(a=e)}else a=d="false";return[d+" "+b+" "+a,c]};Q.logic_negate=function(a){var b=Q.Aj;return["!"+(R(Q,a,"BOOL",b)||"true"),b]};
Q.logic_boolean=function(a){return["TRUE"==I(a,"BOOL")?"true":"false",Q.yj]};Q.logic_ternary=function(a){var b=R(Q,a,"IF",Q.zj)||"false",c=R(Q,a,"THEN",Q.zj)||"null";a=R(Q,a,"ELSE",Q.zj)||"null";return[b+" ? "+c+" : "+a,Q.zj]};Q.pv={};Q.controls_repeat_ext=function(a){var b=ad(a,"TIMES")?String(Number(I(a,"TIMES"))):R(Q,a,"TIMES",Q.yg)||"0",c=Vh(a,"DO");c=Wh(c,a);a="";var d=Zh(Q.Ca,"count","VARIABLE"),e=b;b.match(/^\w+$/)||ei(b)||(e=Zh(Q.Ca,"repeat_end","VARIABLE"),a+="var "+e+" = "+b+";\n");return a+("for (var "+d+" = 0; "+d+" < "+e+"; "+d+"++) {\n"+c+"}\n")};Q.controls_repeat=Q.controls_repeat_ext;
Q.controls_whileUntil=function(a){var b="UNTIL"==I(a,"MODE"),c=R(Q,a,"BOOL",b?Q.Aj:Q.Ya)||"false",d=Vh(a,"DO");d=Wh(d,a);b&&(c="!"+c);return"while ("+c+") {\n"+d+"}\n"};
Q.controls_for=function(a){var b=Q.Ca.Fb(I(a,"VAR"),"VARIABLE"),c=R(Q,a,"FROM",Q.yg)||"0",d=R(Q,a,"TO",Q.yg)||"0",e=R(Q,a,"BY",Q.yg)||"1",f=Vh(a,"DO");f=Wh(f,a);if(ei(c)&&ei(d)&&ei(e)){var h=Number(c)<=Number(d);a="for ("+b+" = "+c+"; "+b+(h?" <= ":" >= ")+d+"; "+b;b=Math.abs(Number(e));a=(1==b?a+(h?"++":"--"):a+((h?" += ":" -= ")+b))+(") {\n"+f+"}\n")}else a="",h=c,c.match(/^\w+$/)||ei(c)||(h=Zh(Q.Ca,b+"_start","VARIABLE"),a+="var "+h+" = "+c+";\n"),c=d,d.match(/^\w+$/)||ei(d)||(c=Zh(Q.Ca,b+"_end",
"VARIABLE"),a+="var "+c+" = "+d+";\n"),d=Zh(Q.Ca,b+"_inc","VARIABLE"),a+="var "+d+" = ",a=ei(e)?a+(Math.abs(e)+";\n"):a+("Math.abs("+e+");\n"),a=a+("if ("+h+" > "+c+") {\n")+(Q.Jb+d+" = -"+d+";\n"),a+="}\n",a+="for ("+b+" = "+h+"; "+d+" >= 0 ? "+b+" <= "+c+" : "+b+" >= "+c+"; "+b+" += "+d+") {\n"+f+"}\n";return a};
Q.controls_forEach=function(a){var b=Q.Ca.Fb(I(a,"VAR"),"VARIABLE"),c=R(Q,a,"LIST",Q.yg)||"[]",d=Vh(a,"DO");d=Wh(d,a);a="";var e=c;c.match(/^\w+$/)||(e=Zh(Q.Ca,b+"_list","VARIABLE"),a+="var "+e+" = "+c+";\n");c=Zh(Q.Ca,b+"_index","VARIABLE");d=Q.Jb+b+" = "+e+"["+c+"];\n"+d;return a+("for (var "+c+" in "+e+") {\n"+d+"}\n")};
Q.controls_flow_statements=function(a){var b="";Q.$b&&(b+=Th(Q.$b,a));Q.rb&&(b+=Th(Q.rb,a));if(Q.$b){var c=ho.Yp(a);c&&!c.vf&&(b+=Th(Q.$b,c))}switch(I(a,"FLOW")){case "BREAK":return b+"break;\n";case "CONTINUE":return b+"continue;\n"}throw Error("Unknown flow statement.");};Q.Wt={};Q.procedures_defreturn=function(a){var b=Q.Ca.Fb(I(a,"NAME"),"PROCEDURE"),c="";Q.$b&&(c+=Th(Q.$b,a));Q.rb&&(c+=Th(Q.rb,a));c&&(c=Uh(c,Q.Jb));var d="";Q.vj&&(d=Uh(Th(Q.vj,a),Q.Jb));var e=Vh(a,"STACK"),f=R(Q,a,"RETURN",Q.Ya)||"",h="";e&&f&&(h=c);f&&(f=Q.Jb+"return "+f+";\n");for(var k=[],m=a.ce(),n=0;n<m.length;n++)k[n]=Q.Ca.Fb(m[n],"VARIABLE");c="function "+b+"("+k.join(", ")+") {\n"+c+d+e+h+f+"}";c=Q.cl(a,c);Q.Jg["%"+b]=c;return null};Q.procedures_defnoreturn=Q.procedures_defreturn;
Q.procedures_callreturn=function(a){for(var b=Q.Ca.Fb(I(a,"NAME"),"PROCEDURE"),c=[],d=a.ce(),e=0;e<d.length;e++)c[e]=R(Q,a,"ARG"+e,Q.Ya)||"null";return[b+"("+c.join(", ")+")",Q.pb]};Q.procedures_callnoreturn=function(a){return Q.procedures_callreturn(a)[0]+";\n"};Q.procedures_ifreturn=function(a){var b="if ("+(R(Q,a,"CONDITION",Q.Ya)||"false")+") {\n";Q.rb&&(b+=Uh(Th(Q.rb,a),Q.Jb));a.Xe?(a=R(Q,a,"VALUE",Q.Ya)||"null",b+=Q.Jb+"return "+a+";\n"):b+=Q.Jb+"return;\n";return b+"}\n"};Q.Av={};Q.variables_get=function(a){return[Q.Ca.Fb(I(a,"VAR"),"VARIABLE"),Q.yj]};Q.variables_set=function(a){var b=R(Q,a,"VALUE",Q.yg)||"0";return Q.Ca.Fb(I(a,"VAR"),"VARIABLE")+" = "+b+";\n"};for(var mo in eo)r.controls_if[mo]=eo[mo];r.controls_if.F=function(){this.vb=v.CONTROLS_IF_HELPURL;this.gb(v.LOGIC_HUE);O(this.Ea(1,"IF0").xc("Boolean"),"if (");O(P(this),") {");this.Ea(3,"DO0");O(P(this,"TAIL"),"}");this.Vc(!0);this.xe(!0);this.we(!0);this.ag(new xd(["controls_if_elseif","controls_if_else"]));fo.apply(this)};
r.controls_if.Ac=function(){H(this,"ELSE")&&(this.eb("ELSEMSG"),this.eb("ELSE"));for(var a=1;H(this,"IF"+a);)this.eb("IF"+a),this.eb("TAIL"+a),this.eb("DO"+a),a++;for(a=1;a<=this.cc;a++)O(this.Ea(1,"IF"+a).xc("Boolean"),"} else if ("),O(P(this,"TAIL"+a),") {"),this.Ea(3,"DO"+a);this.Kc&&(O(P(this,"ELSEMSG"),"} else {"),this.Ea(3,"ELSE"));Oh(this,"TAIL",null)};
r.logic_compare.F=function(){Kh(this,{message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["==","EQ"],["!=","NEQ"],["\u200f<","LT"],["\u200f<=","LTE"],["\u200f>","GT"],["\u200f>=","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",colour:"%{BKY_LOGIC_HUE}",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",extensions:["logic_compare","logic_op_tooltip"]})};
r.logic_boolean.F=function(){Kh(this,{message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["true","TRUE"],["false","FALSE"]]}],output:"Boolean",colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}",helpUrl:"%{BKY_LOGIC_BOOLEAN_HELPURL}"})};
r.logic_operation.F=function(){Kh(this,{message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["&&","AND"],["||","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",colour:"%{BKY_LOGIC_HUE}",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}",extensions:["logic_op_tooltip"]})};
r.controls_whileUntil.F=function(){Kh(this,{message0:"while ( %1 ) { %2 %3 }",args0:[{type:"input_value",name:"BOOL",check:"Boolean"},{type:"input_dummy"},{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:"%{BKY_LOOPS_HUE}",tooltip:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}",helpUrl:"%{BKY_CONTROLS_WHILEUNTIL_HELPURL}"})};
r.math_arithmetic.F=function(){Kh(this,{message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["+","ADD"],["-","MINUS"],["*","MULTIPLY"],["/","DIVIDE"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",colour:"%{BKY_MATH_HUE}",helpUrl:"%{BKY_MATH_ARITHMETIC_HELPURL}",extensions:["math_op_tooltip"]})};
r.math_change.F=function(){Kh(this,{message0:"%1 += %2;",args0:[{type:"field_variable",name:"VAR",variable:"name"},{type:"input_value",name:"DELTA",check:"Number"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:"%{BKY_VARIABLES_HUE}",helpUrl:"%{BKY_MATH_CHANGE_HELPURL}",extensions:["math_change_tooltip"]})};Q.math_change=function(a){var b=R(Q,a,"DELTA",Q.Af)||"0";return Q.Ca.Fb(I(a,"VAR"),"VARIABLE")+" += "+b+";\n"};
r.math_random_float.F=function(){Kh(this,{message0:"Math.random  (  )",output:"Number",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_FLOAT_HELPURL}"})};r.variables_set.F=function(){O(O(O(this.Ea(1,"VALUE"),"var"),new Tn("name"),"VAR"),"=");O(P(this),";");this.Vc(!0);this.xe(!0);this.we(!0);this.gb(v.VARIABLES_HUE);this.hb(v.VARIABLES_SET_TOOLTIP);this.vb=v.VARIABLES_SET_HELPURL};
r.procedures_defnoreturn.F=function(){var a=new Ln("",Tj);O(O(O(O(O(P(this),"function"),a,"NAME"),"("),"","PARAMS"),") {");this.Kd(!0);O(P(this),"}");this.ag(new xd(["procedures_mutatorarg"]));v.PROCEDURES_DEFNORETURN_COMMENT&&this.Jd(v.PROCEDURES_DEFNORETURN_COMMENT);this.gb(v.PROCEDURES_HUE);this.hb(v.PROCEDURES_DEFNORETURN_TOOLTIP);this.vb=v.PROCEDURES_DEFNORETURN_HELPURL;this.S=[];this.Ka=[];this.Kd(!0);this.md=null};
r.procedures_defreturn.F=function(){var a=new Ln("",Tj);O(O(O(O(O(P(this),"function"),a,"NAME"),"("),"","PARAMS"),") {");O(Fh(this.Ea(1,"RETURN"),1),"return");O(P(this),"}");this.ag(new xd(["procedures_mutatorarg"]));v.PROCEDURES_DEFRETURN_COMMENT&&this.Jd(v.PROCEDURES_DEFRETURN_COMMENT);this.gb(v.PROCEDURES_HUE);this.hb(v.PROCEDURES_DEFRETURN_TOOLTIP);this.vb=v.PROCEDURES_DEFRETURN_HELPURL;this.S=[];this.Ka=[];this.Kd(!0);this.md=null};v.PROCEDURES_BEFORE_PARAMS="";
r.procedures_callnoreturn.F=function(){O(O(P(this),"","NAME"),"(");O(P(this,"TAIL"),");");this.Vc(!0);this.xe(!0);this.we(!0);this.gb(v.PROCEDURES_HUE);this.hb(v.PROCEDURES_CALLNORETURN_TOOLTIP);this.vb=v.PROCEDURES_CALLNORETURN_HELPURL;this.S=[];this.se={}};r.procedures_callnoreturn.Ac=function(){var a;for(a=0;a<this.S.length;a++)if(!H(this,"ARG"+a)){new zh(this.S[a]);var b=this.Ea(1,"ARG"+a);0<a&&O(b,",");b.F()}for(;H(this,"ARG"+a);)this.eb("ARG"+a),a++;Oh(this,"TAIL",null)};
r.procedures_callreturn.F=function(){O(O(P(this),"","NAME"),"(");O(P(this,"TAIL"),")");this.Vc(!0);this.Oi(!0);this.gb(v.PROCEDURES_HUE);this.hb(v.PROCEDURES_CALLRETURN_TOOLTIP);this.vb=v.PROCEDURES_CALLRETURN_HELPURL;this.S=[];this.se={}};r.procedures_callreturn.Ac=r.procedures_callnoreturn.Ac;delete r.procedures_ifreturn;Q.pond_scan=function(a){return["scan("+(R(Q,a,"DEGREE",Q.Ya)||0)+")",Q.pb]};Q.pond_cannon=function(a){var b=R(Q,a,"DEGREE",Q.ep)||0;a=R(Q,a,"RANGE",Q.ep)||0;return"cannon("+b+", "+a+");\n"};Q.pond_swim=function(a){return"swim("+(R(Q,a,"DEGREE",Q.Ya)||0)+");\n"};Q.pond_stop=function(){return"stop();\n"};Q.pond_health=function(){return["health()",Q.pb]};Q.pond_speed=function(){return["speed()",Q.pb]};Q.pond_getX=function(){return["getX()",Q.pb]};Q.pond_getY=function(){return["getY()",Q.pb]};
Q.pond_log=function(a){return"log("+(R(Q,a,"VALUE",Q.Ya)||"''")+");\n"};
r.pond_math_number={F:function(){Kh(this,{message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",helpUrl:"%{BKY_MATH_NUMBER_HELPURL}",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_NUMBER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]})},wa:function(){var a=document.createElement("mutation"),b=ad(this,"NUM").constructor===Xn;a.setAttribute("angle_field",b);return a},Za:function(a){a="true"===a.getAttribute("angle_field");this.Ko(a)},onchange:function(){if(this.h&&this.u.J&&
this.u.J.Ke){var a=ad(this,"NUM");this.u.J.Ke.includes("Angle")?a.constructor!==Xn&&this.Ko(!0):a.constructor!==Pn&&this.Ko(!1)}},Ko:function(a){w++;var b=this.A[0],c=ad(this,"NUM"),d=c.kb();a?(Ch(b,"NUM"),c=new Xn(""),O(b,c,"NUM"),dd(c,d)):(Ch(b,"NUM"),O(b,new Pn(d),"NUM"));this.I&&this.P();w--}};
r.pond_math_single={F:function(){Kh(this,{message0:"%1 (%2)",args0:[{type:"field_dropdown",name:"OP",options:[["Math.sqrt","ROOT"],["Math.abs","ABS"],["Math.sin_deg","SIN"],["Math.cos_deg","COS"],["Math.tan_deg","TAN"],["Math.asin_deg","ASIN"],["Math.acos_deg","ACOS"],["Math.atan_deg","ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],inputsInline:!0,output:"Number",colour:"%{BKY_MATH_HUE}",helpUrl:"%{BKY_MATH_SINGLE_HELPURL}",extensions:["math_op_tooltip"]})}};
Q.pond_math_single=function(a){var b=R(Q,a,"NUM",Q.Ya)||"0";return["Math."+{ROOT:"sqrt",ABS:"abs",SIN:"sin_deg",COS:"cos_deg",TAN:"tan_deg",ASIN:"asin_deg",ACOS:"acos_deg",ATAN:"atan_deg"}[I(a,"OP")]+"("+b+")",Q.pb]};Q.pond_math_number=Q.math_number;r.pond_loc_x=r.pond_getX;Q.pond_loc_x=Q.pond_getX;r.pond_loc_y=r.pond_getY;Q.pond_loc_y=Q.pond_getY;r.pond_controls_if=r.controls_if;Q.pond_controls_if=Q.controls_if;r.pond_loops_while=r.controls_whileUntil;Q.pond_loops_while=Q.controls_whileUntil;
r.pond_math_arithmetic=r.math_arithmetic;Q.pond_math_arithmetic=Q.math_arithmetic;r.pond_math_change=r.math_change;Q.pond_math_change=Q.math_change;function no(){return'\n<div class="farSide" style="padding: 1ex 3ex 0">\n  <button class="secondary addHideHandler">'+Xl(v.DIALOG_OK)+"</button>\n</div>\n"};function oo(){var a=W("Games.pondTutor",!0),b="";var c='\n&nbsp;\n<button id="linkButton" title="'+W("Games.linkTooltip",!0)+'">\n  <img src="common/1x1.gif" class="link icon21">\n</button>\n';var d='\n&nbsp;\n<button id="helpButton">'+W("Games.help",!0)+"</button>\n";b&&(b=" &nbsp; "+b);a='\n<span id="title">\n  <a href="'+(Jl?"index.html":"./")+"?lang="+Gl+'">'+W("Games.name",!0)+"</a> : "+a+"\n</span>\n";if(V){var e=" &nbsp ";for(var f=1;10>=f;f++){var h="?lang="+Gl+"&level="+f;e+=" ";e=f===V?
e+('<span class="level_number level_done" id="level'+f+'">'+f+"</span>"):10===f?e+('<a class="level_number" id="level'+f+'" href="'+h+'">'+f+"</a>"):e+('<a class="level_dot" id="level'+f+'" href="'+h+'"></a>')}}else e="";b='\n\n<table width="100%">\n  <tr>\n    <td>\n      <h1>\n        '+(a+"\n        "+e+'\n      </h1>\n    </td>\n    <td id="header_cta" class="farSide">\n      <select id="languageMenu"></select>\n      '+c+"\n      "+d+"\n      "+b+'\n    </td>\n  </tr>\n</table>\n\n\n\n<div id="visualization">\n  <canvas id="scratch" width=400 height=400 style="display: none"></canvas>\n  <canvas id="display" width=400 height=400></canvas>\n</div>\n\n<table id="avatarStatTable">\n  <tbody>\n    <tr id="avatarStatRow1"></tr>\n    <tr id="avatarStatRow2"></tr>\n  </tbody>\n</table>\n\n<table width=400>\n  <tr>\n    <td style="width: 190px; text-align: center; vertical-align: top;">\n      <button id="docsButton" title="')+
(W("Pond.docsTooltip",!0)+'">\n        '+W("Pond.documentation",!0)+'\n      </button>\n    </td>\n    <td>\n      <button id="runButton" class="primary" title="'+W("Games.runTooltip",!0)+'">\n        <img src="common/1x1.gif" class="run icon21"> '+W("Games.runProgram",!0)+'\n      </button>\n      <button id="resetButton" class="primary" style="display: none" title="'+W("Games.resetTooltip",!0)+'">\n        <img src="common/1x1.gif" class="stop icon21"> '+W("Games.resetProgram",!0)+'\n      </button>\n    </td>\n  </tr>\n</table>\n\n<div id="dialogDocs">\n  <img src="common/1x1.gif" class="close icon21" id="closeDocs">\n  <iframe id="frameDocs"></iframe>\n</div>\n\n\n');
c=5<=V?'\n  <block type="pond_scan">\n    <value name="DEGREE">\n      <shadow type="pond_math_number">\n        <mutation angle_field="true"></mutation>\n        <field name="NUM">0</field>\n      </shadow>\n    </value>\n  </block>\n':"";d=7<=V?'\n  <block type="pond_swim">\n    <value name="DEGREE">\n      <shadow type="pond_math_number">\n        <mutation angle_field="true"></mutation>\n        <field name="NUM">0</field>\n      </shadow>\n    </value>\n  </block>\n':"";a=9<=V?'<block type="pond_stop"></block>':
"";e=9<=V?'<block type="pond_getX"></block><block type="pond_getY"></block>':"";c='\n<category name="'+W("Games.pond",!0)+'">\n  <block type="pond_cannon">\n    <value name="DEGREE">\n      <shadow type="pond_math_number">\n        <mutation angle_field="true"></mutation>\n        <field name="NUM">0</field>\n      </shadow>\n    </value>\n    <value name="RANGE">\n      <shadow type="pond_math_number">\n        <mutation angle_field="false"></mutation>\n        <field name="NUM">70</field>\n      </shadow>\n    </value>\n  </block>\n  '+
c+"\n  "+d+"\n  "+a+"\n  "+e+"\n</category>\n";3<=V&&(d=9<=V?'<block type="controls_if"></block>':"",a=9<=V?'<block type="logic_compare"></block>':"",c+='\n<category name="'+W("Games.catLogic",!0)+'">\n  '+d+"\n  "+a+'\n  <block type="logic_boolean"></block>\n</category>\n<category name="'+W("Games.catLoops",!0)+'">\n  <block type="controls_whileUntil"></block>\n</category>\n');c+='\n<category name="'+W("Games.catMath",!0)+'">\n  <block type="pond_math_number">\n    <mutation angle_field="false"></mutation>\n  </block>\n</category>\n';
b=b+('<xml id="toolbox" xmlns="https://developers.google.com/blockly/xml">'+c+'</xml>\n<div id="')+(V%2?"blockly":"editor")+'"></div>\n\n\n<div id="playerTarget" style="display: none">\n</div>\n\n\n<div id="playerPendulum" style="display: none">\n/* Slowly moves east and west.  Does not fire. */\nvar west = false;\nwhile (true) {\n  if (west) {\n    if (getX() > 25) {\n      swim(180, 25);\n    } else {\n      west = false;\n      swim(0, 0);\n    }\n  } else {\n    if (getX() < 75) {\n      swim(0, 25);\n    } else {\n      west = true;\n      swim(0, 0);\n    }\n  }\n}\n</div>\n\n\n<div id="playerScared" style="display: none">\n/* Moves south-west when hit.  Does not fire. */\nvar d = damage();\nwhile (true) {\n  if (d != damage()) {\n    swim(45, 100);\n    var t = 0;\n    for (var t = 0; t < 100; t++) {}\n    d = damage();\n    stop();\n  }\n}\n</div>\n\n\n\n<div id="dialogShadow" class="dialogAnimate"></div>\n<div id="dialogBorder"></div>\n<div id="dialog"></div>\n\n\n<div id="dialogDone" class="dialogHiddenContent">\n  <div id="dialogLinesText" style="font-size: large; margin: 1em;"></div>\n  <pre id="containerCode"></pre>\n  <div id="dialogDoneText" style="font-size: large; margin: 1em;"></div>\n  <div id="dialogDoneButtons" class="farSide" style="padding: 1ex 3ex 0">\n    <button class="addHideHandler">'+
(Xl(v.DIALOG_CANCEL)+'</button>\n    <button id="doneOk" class="secondary">'+Xl(v.DIALOG_OK)+'</button>\n  </div>\n</div>\n\n\n<div id="dialogStorage" class="dialogHiddenContent">\n  <div id="containerStorage"></div>\n  ')+(no()+"\n</div>\n\n\n");c="";switch(V){case 1:c="\n"+W("Pond.helpText1",!0)+'\n<br><br>\n<svg height=41 width=250 class="geras-renderer classic-theme">\n  <g>\n    <path transform="translate(1,1)" fill="#7a4984" d="m 0,8 A 8,8 0 0,1 8,0 H 15 l 6,4 3,0 6,-4 H 40 H 222.36 v 36 H 29.5 l -6,4 -3,0 -6,-4 H 8 a 8,8 0 0,1 -8,-8 z M 125.01,5 h -36.02 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 7 h 36.02 z M 193.4,5 h -38.31 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 7 h 38.31 z"></path>\n    <path fill="#995ba5" d="m 0,8 A 8,8 0 0,1 8,0 H 15 l 6,4 3,0 6,-4 H 40 H 222.36 v 36 H 29.5 l -6,4 -3,0 -6,-4 H 8 a 8,8 0 0,1 -8,-8 z M 125.01,5 h -36.02 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 7 h 36.02 z M 193.4,5 h -38.31 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 7 h 38.31 z"></path>\n    <path class="blocklyPathLight" stroke="#b88cc0" d="m 0.5,7.5 A 7.5,7.5 0 0,1 8,0.5 H 15 l 6,4 3,0 6,-4 H 39.5 M 39.5,0.5 H 221.86 M 2.69,33.3 A 7.5,7.5 0 0,1 0.5,28 V 8 M 125.51,5.5 v 27 h -36.02 M 83.89,24.3 l 3.68,-2.1 M 193.9,5.5 v 27 h -38.31 M 149.99,24.3 l 3.68,-2.1"></path>\n    <g transform="translate(89.99,6)">\n      <path transform="translate(1,1)" fill="#bdc2db" d="m 0,0 H 34.02 v 25 H 0 V 20 c 0,-10 -8,8 -8,-7.5 s 8,2.5 8,-7.5 z"></path>\n      <path fill="#bdc2db" d="m 0,0 H 34.02 v 25 H 0 V 20 c 0,-10 -8,8 -8,-7.5 s 8,2.5 8,-7.5 z"></path>\n      <path class="blocklyPathLight" stroke="#8c95c0" style="display: none;" d="m 0.5,0.5 H 33.52 M 33.52,0.5 M 0.5,24.5 V 18.5 m -7.36,-0.5 q -1.52,-5.5 0,-11 m 7.36,1 V 0.5 H 1"></path>\n      <g class="blocklyEditableText" transform="translate(10,5)" style="cursor: text;">\n        <rect rx="4" ry="4" x="-5" y="0" height="16" width="24.02"></rect>\n        <text class="blocklyText" y="12.5">0\n        <tspan>\u00b0</tspan></text>\n      </g>\n    </g>\n    <g transform="translate(156.09,6)">\n      <path transform="translate(1,1)" fill="#bdc2db" d="m 0,0 H 36.31 v 25 H 0 V 20 c 0,-10 -8,8 -8,-7.5 s 8,2.5 8,-7.5 z"></path>\n      <path fill="#bdc2db" d="m 0,0 H 36.31 v 25 H 0 V 20 c 0,-10 -8,8 -8,-7.5 s 8,2.5 8,-7.5 z"></path>\n      <path class="blocklyPathLight" stroke="#8c95c0" style="display: none;" d="m 0.5,0.5 H 35.81 M 35.81,0.5 M 0.5,24.5 V 18.5 m -7.36,-0.5 q -1.52,-5.5 0,-11 m 7.36,1 V 0.5 H 1"></path>\n      <g class="blocklyEditableText" transform="translate(10,5)" style="cursor: text;">\n        <rect rx="4" ry="4" x="-5" y="0" height="16" width="26.31"></rect>\n        <text class="blocklyText" y="12.5">70</text>\n      </g>\n    </g>\n    <text class="blocklyText" y="12.5" transform="translate(10,10)">cannon</text>\n    <text class="blocklyText" y="12.5" transform="translate(68.11,10)">(</text>\n    <text class="blocklyText" y="12.5" transform="translate(135.01,10)">,</text>\n    <text class="blocklyText" y="12.5" transform="translate(203.4,10)">);</text>\n  </g>\n</svg>\n';
break;case 2:c="\n"+W("Pond.helpText1",!0)+"\n<pre>cannon(0, 70);</pre>\n";break;case 3:c="\n"+W("Pond.helpText2",!0)+'\n<br><br>\n<svg height=92 width=250 class="geras-renderer classic-theme">\n  <g>\n    <path transform="translate(1,1)" fill="#498449" d="m 0,8 A 8,8 0 0,1 8,0 H 15 l 6,4 3,0 6,-4 H 50 H 162.94 v 36 H 50 l -6,4 -3,0 -6,-4 h -7 a 8,8 0 0,0 -8,8 v 9 a 8,8 0 0,0 8,8 H 50 H 50 v 25 H 29.5 l -6,4 -3,0 -6,-4 H 8 a 8,8 0 0,1 -8,-8 z M 129.08,5 h -60.71 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 7 h 60.71 z"></path>\n    <path fill="#5ba55b" d="m 0,8 A 8,8 0 0,1 8,0 H 15 l 6,4 3,0 6,-4 H 50 H 162.94 v 36 H 50 l -6,4 -3,0 -6,-4 h -7 a 8,8 0 0,0 -8,8 v 9 a 8,8 0 0,0 8,8 H 50 H 50 v 25 H 29.5 l -6,4 -3,0 -6,-4 H 8 a 8,8 0 0,1 -8,-8 z M 129.08,5 h -60.71 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 7 h 60.71 z"></path>\n    <path class="blocklyPathLight" stroke="#8cc08c" d="m 0.5,7.5 A 7.5,7.5 0 0,1 8,0.5 H 15 l 6,4 3,0 6,-4 H 49.5 M 49.5,0.5 H 162.44 M 49.5,36.5 M 21.98,59.01 a 8.5,8.5 0 0,0 6.01,2.48 H 49.5 M 49.5,61.5 H 49.5 M 2.69,83.3 A 7.5,7.5 0 0,1 0.5,78 V 8 M 129.58,5.5 v 27 h -60.71 M 63.27,24.3 l 3.68,-2.1"></path>\n    <text class="blocklyText" y="12.5" transform="translate(10,10)">while&#160;(</text>\n    <text class="blocklyText" y="12.5" transform="translate(139.08,10)">)&#160;{</text>\n    <text class="blocklyText" y="12.5" transform="translate(10,66)">}</text>\n    <g transform="translate(69.37,6)">\n      <path transform="translate(1,1)" fill="#496684" d="m 0,0 H 58.71 v 25 H 0 V 20 c 0,-10 -8,8 -8,-7.5 s 8,2.5 8,-7.5 z"></path>\n      <path fill="#5b80a5" d="m 0,0 H 58.71 v 25 H 0 V 20 c 0,-10 -8,8 -8,-7.5 s 8,2.5 8,-7.5 z"></path>\n      <path class="blocklyPathLight" stroke="#8ca6c0" d="m 0.5,0.5 H 58.21 M 58.21,0.5 M 0.5,24.5 V 18.5 m -7.36,-0.5 q -1.52,-5.5 0,-11 m 7.36,1 V 0.5 H 1"></path>\n      <g class="blocklyEditableText" transform="translate(10,5)" style="cursor: default;">\n        <rect rx="4" ry="4" x="-5" y="0" height="16" width="48.71"></rect>\n        <text class="blocklyText" y="12.5" text-anchor="start" x="0">true\n        <tspan style="fill: rgb(91, 128, 165);"> \u25be</tspan></text>\n      </g>\n    </g>\n  </g>\n</svg>\n';
break;case 4:c="\n"+W("Pond.helpText2",!0)+"\n<pre>while (true) {\n&nbsp;&nbsp;...\n}</pre>\n";break;case 5:c="\n"+W("Pond.helpText3a",!0)+'\n<br><br>\n<svg height=37 width=250 class="geras-renderer classic-theme">\n  <g transform="translate(8,0)">\n    <path transform="translate(1,1)" fill="#7a4984" d="m 0,0 H 20 H 132.76 v 36 H 0 V 20 c 0,-10 -8,8 -8,-7.5 s 8,2.5 8,-7.5 z M 107.88,5 h -36.02 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 7 h 36.02 z"></path>\n    <path fill="#995ba5" d="m 0,0 H 20 H 132.76 v 36 H 0 V 20 c 0,-10 -8,8 -8,-7.5 s 8,2.5 8,-7.5 z M 107.88,5 h -36.02 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 7 h 36.02 z"></path>\n    <path class="blocklyPathLight" stroke="#b88cc0" d="m 0.5,0.5 H 19.5 M 19.5,0.5 H 132.26 M 0.5,35.5 V 18.5 m -7.36,-0.5 q -1.52,-5.5 0,-11 m 7.36,1 V 0.5 H 1 M 108.38,5.5 v 27 h -36.02 M 66.76,24.3 l 3.68,-2.1"></path>\n    <g transform="translate(72.86,6)">\n      <path transform="translate(1,1)" fill="#bdc2db" d="m 0,0 H 34.02 v 25 H 0 V 20 c 0,-10 -8,8 -8,-7.5 s 8,2.5 8,-7.5 z"></path>\n      <path fill="#bdc2db" d="m 0,0 H 34.02 v 25 H 0 V 20 c 0,-10 -8,8 -8,-7.5 s 8,2.5 8,-7.5 z"></path>\n      <path class="blocklyPathLight" stroke="#8c95c0" style="display: none;" d="m 0.5,0.5 H 33.52 M 33.52,0.5 M 0.5,24.5 V 18.5 m -7.36,-0.5 q -1.52,-5.5 0,-11 m 7.36,1 V 0.5 H 1"></path>\n      <g class="blocklyEditableText" transform="translate(10,5)" style="cursor: text;">\n        <rect rx="4" ry="4" x="-5" y="0" height="16" width="24.02"></rect>\n        <text class="blocklyText" y="12.5">0\n        <tspan>\u00b0</tspan></text>\n      </g>\n    </g>\n    <text class="blocklyText" y="12.5" transform="translate(10,10)">scan</text>\n    <text class="blocklyText" y="12.5" transform="translate(50.97,10)">(</text>\n    <text class="blocklyText" y="12.5" transform="translate(117.88,10)">)</text>\n  </g>\n</svg>\n<br><br>\n'+
W("Pond.helpText3b",!0)+"\n";break;case 6:c="\n"+W("Pond.helpText3a",!0)+"\n<pre>scan(0)</pre>\n"+W("Pond.helpText3b",!0)+"\n";break;case 7:c="\n"+W("Pond.helpText4",!0)+'\n<br><br>\n<svg height=41 width=250 class="geras-renderer classic-theme">\n  <g>\n    <path transform="translate(1,1)" fill="#7a4984" d="m 0,8 A 8,8 0 0,1 8,0 H 15 l 6,4 3,0 6,-4 H 40 H 139.25 v 36 H 29.5 l -6,4 -3,0 -6,-4 H 8 a 8,8 0 0,1 -8,-8 z M 110.3,5 h -36.02 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 7 h 36.02 z"></path>\n    <path fill="#995ba5" d="m 0,8 A 8,8 0 0,1 8,0 H 15 l 6,4 3,0 6,-4 H 40 H 139.25 v 36 H 29.5 l -6,4 -3,0 -6,-4 H 8 a 8,8 0 0,1 -8,-8 z M 110.3,5 h -36.02 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 7 h 36.02 z"></path>\n    <path class="blocklyPathLight" stroke="#b88cc0" d="m 0.5,7.5 A 7.5,7.5 0 0,1 8,0.5 H 15 l 6,4 3,0 6,-4 H 39.5 M 39.5,0.5 H 138.75 M 2.69,33.3 A 7.5,7.5 0 0,1 0.5,28 V 8 M 110.8,5.5 v 27 h -36.02 M 69.18,24.3 l 3.68,-2.1"></path>\n    <g transform="translate(75.28,6)">\n      <path transform="translate(1,1)" fill="#bdc2db" d="m 0,0 H 34.02 v 25 H 0 V 20 c 0,-10 -8,8 -8,-7.5 s 8,2.5 8,-7.5 z"></path>\n      <path fill="#bdc2db" d="m 0,0 H 34.02 v 25 H 0 V 20 c 0,-10 -8,8 -8,-7.5 s 8,2.5 8,-7.5 z"></path>\n      <path class="blocklyPathLight" stroke="#8c95c0" style="display: none;" d="m 0.5,0.5 H 33.52 M 33.52,0.5 M 0.5,24.5 V 18.5 m -7.36,-0.5 q -1.52,-5.5 0,-11 m 7.36,1 V 0.5 H 1"></path>\n      <g class="blocklyEditableText" transform="translate(10,5)" style="cursor: text;">\n        <rect rx="4" ry="4" x="-5" y="0" height="16" width="24.02"></rect>\n        <text class="blocklyText" y="12.5">0\n        <tspan>\u00b0</tspan></text>\n      </g>\n    </g>\n    <text class="blocklyText" y="12.5" transform="translate(10,10)">swim</text>\n    <text class="blocklyText" y="12.5" transform="translate(53.39,10)">(</text>\n    <text class="blocklyText" y="12.5" transform="translate(120.3,10)">);</text>\n  </g>\n</svg>\n';
break;case 8:c="\n"+W("Pond.helpText4",!0)+"\n<pre>swim(0);</pre>\n";break;case 9:c="\n"+W("Pond.helpText5",!0)+'\n<br><br>\n<svg height=37 width=250 class="geras-renderer classic-theme">\n  <g transform="translate(8,0)">\n    <path transform="translate(1,1)" fill="#496684" d="m 0,0 H 20 H 194.25 v 36 H 0 V 20 c 0,-10 -8,8 -8,-7.5 s 8,2.5 8,-7.5 z M 97.93,5 h -81.93 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 81.93 z M 184.25,5 h -38.31 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 7 h 38.31 z"></path>\n    <path fill="#5b80a5" d="m 0,0 H 20 H 194.25 v 36 H 0 V 20 c 0,-10 -8,8 -8,-7.5 s 8,2.5 8,-7.5 z M 97.93,5 h -81.93 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 81.93 z M 184.25,5 h -38.31 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 7 h 38.31 z"></path>\n    <path class="blocklyPathLight" stroke="#8ca6c0" d="m 0.5,0.5 H 19.5 M 19.5,0.5 H 193.75 M 0.5,35.5 V 18.5 m -7.36,-0.5 q -1.52,-5.5 0,-11 m 7.36,1 V 0.5 H 1 M 98.43,5.5 v 26 h -81.93 M 10.9,24.3 l 3.68,-2.1 M 184.75,5.5 v 27 h -38.31 M 140.83,24.3 l 3.68,-2.1"></path>\n    <g class="blocklyEditableText" transform="translate(107.93,10)" style="cursor: default;">\n      <rect rx="4" ry="4" x="-5" y="0" height="16" width="32.0"></rect>\n      <text class="blocklyText" y="12.5" text-anchor="start" x="0">&lt;\n      <tspan style="fill: rgb(91, 128, 165);"> \u25be</tspan></text>\n    </g>\n    <g transform="translate(146.93,6)">\n      <path transform="translate(1,1)" fill="#495284" d="m 0,0 H 36.31 v 25 H 0 V 20 c 0,-10 -8,8 -8,-7.5 s 8,2.5 8,-7.5 z"></path>\n      <path fill="#5b67a5" d="m 0,0 H 36.31 v 25 H 0 V 20 c 0,-10 -8,8 -8,-7.5 s 8,2.5 8,-7.5 z"></path>\n      <path class="blocklyPathLight" stroke="#8c95c0" d="m 0.5,0.5 H 35.81 M 35.81,0.5 M 0.5,24.5 V 18.5 m -7.36,-0.5 q -1.52,-5.5 0,-11 m 7.36,1 V 0.5 H 1"></path>\n      <g class="blocklyEditableText" transform="translate(10,5)" style="cursor: text;">\n        <rect rx="4" ry="4" x="-5" y="0" height="16" width="26.31"></rect>\n        <text class="blocklyText" y="12.5">50</text>\n      </g>\n    </g>\n    <g transform="translate(17,6)">\n      <path transform="translate(1,1)" fill="#7a4984" d="m 0,0 H 79.93 v 24 H 0 V 20 c 0,-10 -8,8 -8,-7.5 s 8,2.5 8,-7.5 z"></path>\n      <path fill="#995ba5" d="m 0,0 H 79.93 v 24 H 0 V 20 c 0,-10 -8,8 -8,-7.5 s 8,2.5 8,-7.5 z"></path>\n      <path class="blocklyPathLight" stroke="#b88cc0" d="m 0.5,0.5 H 79.43 M 79.43,0.5 M 0.5,23.5 V 18.5 m -7.36,-0.5 q -1.52,-5.5 0,-11 m 7.36,1 V 0.5 H 1"></path>\n      <text class="blocklyText" y="12.5" transform="translate(10,5)">getX</text>\n      <text class="blocklyText" y="12.5" transform="translate(50.16,5)">(</text>\n      <text class="blocklyText" y="12.5" transform="translate(65.05,5)">)</text>\n    </g>\n  </g>\n</svg>\n<br><br>\n<svg height=31 width=250 class="geras-renderer classic-theme">\n  <g>\n    <path transform="translate(1,1)" fill="#7a4984" d="m 0,8 A 8,8 0 0,1 8,0 H 15 l 6,4 3,0 6,-4 H 81.56 v 24 H 29.5 l -6,4 -3,0 -6,-4 H 8 a 8,8 0 0,1 -8,-8 z"></path>\n    <path fill="#995ba5" d="m 0,8 A 8,8 0 0,1 8,0 H 15 l 6,4 3,0 6,-4 H 81.56 v 24 H 29.5 l -6,4 -3,0 -6,-4 H 8 a 8,8 0 0,1 -8,-8 z"></path>\n    <path class="blocklyPathLight" stroke="#b88cc0" d="m 0.5,7.5 A 7.5,7.5 0 0,1 8,0.5 H 15 l 6,4 3,0 6,-4 H 81.06 M 81.06,0.5 M 2.69,21.3 A 7.5,7.5 0 0,1 0.5,16 V 8"></path>\n    <text class="blocklyText" y="12.5" transform="translate(10,5)">stop</text>\n    <text class="blocklyText" y="12.5" transform="translate(47.71,5)">(</text>\n    <text class="blocklyText" y="12.5" transform="translate(62.6,5)">);</text>\n  </g>\n</svg>\n';
break;case 10:c="\n"+W("Pond.helpText6",!0)+"\n<pre>getX() &lt; 50</pre>\n<pre>stop();</pre>\n"}c='\n\x3c!-- Help dialog for idiotic level 5+6 solution. --\x3e\n<div id="helpUseScan" class="dialogHiddenContent">\n  <div style="padding-bottom: 0.7ex">\n    '+W("Pond.helpUseScan",!0)+"\n  </div>\n  "+no()+'\n</div>\n<div id="help" class="dialogHiddenContent">\n  <div style="padding-bottom: 0.7ex">\n  '+c+"\n  </div>\n  "+no()+"\n</div>\n";return b+c+"\n"};var Ul="pond-tutor";function po(){xm=hm?gm.getValue():Qh();im=lm()}
function qo(){var a=W("Pond.playerName",!1),b=W("Pond.targetName",!1),c=W("Pond.pendulumName",!1),d=W("Pond.scaredName",!1);return[[{start:new q(50,30),ea:0,name:a,code:null},{start:new q(50,70),ea:99,name:b,code:"playerTarget"}],[{start:new q(70,50),ea:0,name:a,code:null},{start:new q(20,50),ea:99,name:b,code:"playerTarget"}],[{start:new q(20,20),ea:0,name:a,code:null},{start:new q(62.4264,62.4264),ea:0,name:b,code:"playerTarget"}],[{start:new q(50,80),ea:0,name:a,code:null},{start:new q(50,20),
ea:0,name:b,code:"playerTarget"}],[{start:new q(90,50),ea:0,name:a,code:null},{start:new q(50,50),ea:0,name:c,code:"playerPendulum"}],[{start:new q(10,50),ea:0,name:a,code:null},{start:new q(50,50),ea:0,name:c,code:"playerPendulum"}],[{start:new q(20,80),ea:0,name:a,code:null},{start:new q(80,20),ea:99,name:b,code:"playerTarget"}],[{start:new q(50,90),ea:0,name:a,code:null},{start:new q(50,10),ea:99,name:c,code:"playerPendulum"}],[{start:new q(5,50),ea:99,name:a,code:null},{start:new q(95,50),ea:0,
name:b,code:"playerTarget"}],[{start:new q(10,10),ea:50,name:a,code:null},{start:new q(40,40),ea:0,name:d,code:"playerScared"}]][V-1]}xn=function(a){clearTimeout(nn);0!==a&&1===a&&0===Y.zh[0].ul&&((5===V||6===V)&&2E5<Y.Go?(a=U("helpUseScan"),X.Ti(a,null,!1,!0,{width:"30%",left:"35%",top:"12em"},X.Eo),X.Do()):(window.localStorage&&(window.localStorage[Ul+V]=im),Bm()))};
(function(a){function b(){window.BlocklyGamesMsg?(window.BlocklyMsg&&(v=window.BlocklyMsg),a()):setTimeout(b,99)}window.addEventListener("load",b)})(function(){vk([{type:"pond_scan",message0:"%1(%2)",args0:["scan",{type:"input_value",name:"DEGREE",check:["Number","Angle"]}],inputsInline:!0,output:"Number",colour:290,tooltip:W("Pond.scanTooltip",!1)},{type:"pond_cannon",message0:"%1(%2, %3);",args0:["cannon",{type:"input_value",name:"DEGREE",check:["Number","Angle"]},{type:"input_value",name:"RANGE",
check:"Number"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:290,tooltip:W("Pond.cannonTooltip",!1)},{type:"pond_swim",message0:"%1(%2);",args0:["swim",{type:"input_value",name:"DEGREE",check:["Number","Angle"]}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:290,tooltip:W("Pond.swimTooltip",!1)},{type:"pond_stop",message0:"%1(%2);",args0:["stop",""],previousStatement:null,nextStatement:null,colour:290,tooltip:W("Pond.stopTooltip",!1)},{type:"pond_health",message0:"%1(%2)",
args0:["health",""],output:"Number",colour:290,tooltip:W("Pond.healthTooltip",!1)},{type:"pond_speed",message0:"%1(%2)",args0:["speed",""],output:"Number",colour:290,tooltip:W("Pond.speedTooltip",!1)},{type:"pond_getX",message0:"%1(%2)",args0:["getX",""],output:"Number",colour:290,tooltip:W("Pond.locXTooltip",!1)},{type:"pond_getY",message0:"%1(%2)",args0:["getY",""],output:"Number",colour:290,tooltip:W("Pond.locYTooltip",!1)},{type:"pond_log",message0:"%1(%2);",args0:["log",{type:"input_value",name:"VALUE"}],
inputsInline:!0,previousStatement:null,nextStatement:null,colour:290,tooltip:W("Pond.logTooltip",!1)}]);document.body.innerHTML=oo();yn();Vl("helpButton",Gn);2>location.hash.length&&!Sl(V)&&setTimeout(Gn,1E3);var a=U("blockly"),b=U("editor"),c=U("visualization");if(a){var d=function(){a.style.top=Math.max(10,c.offsetTop-window.pageYOffset)+"px";a.style.left=Il?"10px":"420px";a.style.width=window.innerWidth-440+"px"};window.addEventListener("scroll",function(){d(null);Jj(Rh)});d(null);nm();Xh("scan,cannon,drive,swim,stop,speed,damage,health,loc_x,getX,loc_y,getY,");
jm(7===V?'<xml><block type="pond_swim" x="70" y="70"><value name="DEGREE"><shadow type="pond_math_number"><mutation angle_field="true"></mutation><field name="NUM">0</field></shadow></value></block></xml>':'<xml><block type="pond_cannon" x="70" y="70"><value name="DEGREE"><shadow type="pond_math_number"><mutation angle_field="true"></mutation><field name="NUM">0</field></shadow></value><value name="RANGE"><shadow type="pond_math_number"><mutation angle_field="false"></mutation><field name="NUM">70</field></shadow></value></block></xml>')}if(b){hm=
!0;var e=U("containerCode");e.parentNode.removeChild(e);e=8===V?"swim(0);":"cannon(0, 70);";vm();jm(e+"\n");d=function(){b.style.top=Math.max(10,c.offsetTop-window.pageYOffset)+"px";b.style.left=Il?"10px":"420px";b.style.width=window.innerWidth-440+"px"};window.addEventListener("scroll",d);um()}Vl("runButton",po);window.addEventListener("resize",d);d(null);e=qo();e=l(e);for(var f=e.next();!f.done;f=e.next()){var h=f.value;f=new cn(h.name,h.start,h.ea);h.code?(h=U(h.code).textContent,f.Bp=h):Dn=f}Y.reset();
pn()});
